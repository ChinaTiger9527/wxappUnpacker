	var __wxAppData = __wxAppData || {}; 	var __wxRoute = __wxRoute || ""; 	var __wxRouteBegin = __wxRouteBegin || ""; 	var __wxAppCode__ = __wxAppCode__ || {};	var global = global || {};	var __WXML_GLOBAL__=__WXML_GLOBAL__ || {};	var __wxAppCurrentFile__=__wxAppCurrentFile__||""; 	var Component = Component || function(){};	var definePlugin = definePlugin || function(){};	var requirePlugin = requirePlugin || function(){};	var Behavior = Behavior || function(){};	var __vd_version_info__ = __vd_version_info__ || {};
	var __cloudSDK__=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"./node_modules/tslib/tslib.es6.js":function(e,t,r){r.r(t),r.d(t,"__extends",function(){return a}),r.d(t,"__assign",function(){return s}),r.d(t,"__rest",function(){return i}),r.d(t,"__decorate",function(){return o}),r.d(t,"__param",function(){return c}),r.d(t,"__metadata",function(){return u}),r.d(t,"__awaiter",function(){return l}),r.d(t,"__generator",function(){return d}),r.d(t,"__exportStar",function(){return f}),r.d(t,"__values",function(){return _}),r.d(t,"__read",function(){return p}),r.d(t,"__spread",function(){return m}),r.d(t,"__await",function(){return E}),r.d(t,"__asyncGenerator",function(){return b}),r.d(t,"__asyncDelegator",function(){return g}),r.d(t,"__asyncValues",function(){return v}),r.d(t,"__makeTemplateObject",function(){return h}),r.d(t,"__importStar",function(){return C}),r.d(t,"__importDefault",function(){return S});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function a(e,t){function r(){Object.defineProperty(this,"constructor",{value:e})}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r}function o(e,t,r,n){var a,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function o(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(i,o)}c((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}function f(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function _(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function p(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return i}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),s=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||o(e,t)})})}function o(e,t){try{!function(e){e.value instanceof E?Promise.resolve(e.value.v).then(c,u):l(s[0][2],e)}(a[e](t))}catch(e){l(s[0][3],e)}}function c(e){o("next",e)}function u(e){o("throw",e)}function l(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function g(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:E(e[n](t)),done:"return"===n}:a?a(t):t}:a}}function v(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=_(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}}function h(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},"./src/cloud/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/services/index.ts"),s=r("./src/utils/error.ts"),i=r("./src/utils/type.ts"),o=r("./src/network/tunnel.ts"),c=r("./src/config/error.config.ts"),u=r("./src/externals/public-lib/appserviceSdk.ts"),l=r("./src/config/app.config.ts");t.getCloudAPI=function(e){void 0===e&&(e={});var r=e.identifiers,n=e.sdk,a=new(t.getCloudClass())(r);return n&&u.setSDK(a,n),a.exportAPI},t.getCloudClass=function(){return function(){function e(e){this.inited=!1,this.services={},this.apiServiceMap={},this.identifiers=e,this.exportAPI={init:this.init.bind(this)},a.registerServices(this),this.meta={session_id:(+new Date).toString()},this.defaultConfig={},this.appConfig=n.__assign({},l.default),this.apiPermissions={}}return e.prototype.getMetaData=function(){return this.meta},e.prototype.getDefaultConfig=function(){return this.defaultConfig},e.prototype.getOverriddenConfig=function(e){var t=n.__assign({},this.defaultConfig);return Object.assign(t,e),t},e.prototype.getEnv=function(e,t){if(e.env)switch(i.getType(e.env)){case"string":return e.env;case"object":return e.env[t];default:return}},e.prototype.checkAPIPermission=function(e){return!this.apiPermissions.hasOwnProperty(e)||1===this.apiPermissions[e]},e.prototype.init=function(e){void 0===e&&(e={}),this.inited||(this.inited=!0,this.defaultConfig=e,this.sendInitRequest())},e.prototype.sendInitRequest=function(){var e=this,t=JSON.stringify({trace_user:!1!==this.defaultConfig.traceUser});o.tunnel(o.constructTunnelReq("tcbapi_init",t,{cloud:this})).then(function(t){var r=t.data;e.appConfig=n.__assign({},e.appConfig,r.config);for(var a=r.tcb_api_list||[],s=0,i=a.length;s<i;s++)e.apiPermissions[a[s].apiname]=a[s].status}).catch(function(e){console.error("cloud init error: ",e)})},e.prototype.registerService=function(e){this.services[e.name]=e;var t=e.getAPIs(this.identifiers);for(var r in t)this.apiServiceMap[r]=e.name,this.registerFunction(r,t[r])},e.prototype.registerFunction=function(e,t){var r=this;this.exportAPI[e]=function(){if(!r.inited)throw new s.CloudSDKError({errMsg:"Cloud API isn't enabled, please call wx.cloud.init first\n请先调用 wx.cloud.init() 完成初始化后再调用其他云 API。init 方法可传入一个对象用于设置默认配置，详见文档。"});if(!r.checkAPIPermission(e))throw new s.CloudSDKError({errCode:c.ERR_CODE.SDK_API_PERMISSION_DENIED,errMsg:c.ERR_CODE[c.ERR_CODE.SDK_API_PERMISSION_DENIED]});return t.apply(r,arguments)}},e}()}},"./src/config/app.config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={db_doc_size_limit:524288,upload_max_file_size:20971520,get_temp_file_url_max_requests:50,call_function_poll_max_retry:10,call_function_max_req_data_size:5242880}},"./src/config/error.config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_CODE={"-1":"",UNKNOWN_ERROR:-1,"-401001":"api permission denied",SDK_API_PERMISSION_DENIED:-401001,"-401002":"api parameter error",SDK_API_PARAMETER_ERROR:-401002,"-401003":"api parameter type error",SDK_API_PARAMETER_TYPE_ERROR:-401003,"-402001":"circular reference detected",SDK_DATABASE_CIRCULAR_REFERENCE:-402001,"-403001":"max upload file size exceeded",SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE:-403001,"-403002":"internal server error: empty upload url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL:-403002,"-403003":"internal server error: empty download url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL:-403003,"-404001":"empty call result",SDK_FUNCTIONS_EMPTY_CALL_RESULT:-404001,"-404002":"empty event id",SDK_FUNCTIONS_EMPTY_EVENT_ID:-404002,"-404003":"empty poll url",SDK_FUNCTIONS_EMPTY_POLL_URL:-404003,"-404004":"empty poll result json",SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON:-404004,"-404005":"exceed max poll retry",SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY:-404005,"-404006":"empty poll result base resp",SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP:-404006,"-404007":"error while waiting for the result",SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-404007,"-404008":"error while waiting for the result",SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR:-404008,"-404009":"error while waiting for the result",SDK_FUNCTIONS_POLL_ERROR:-404009,"-404010":"result expired",SDK_FUNCTIONS_POLL_RESULT_EXPIRED:-404010,"-404011":"cloud function execution error",SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR:-404011,"-601001":"system error",WX_SYSTEM_ERROR:-601001,"-601002":"system args error",WX_SYSTEM_ARGS_ERROR:-601002,"-601003":"system network error",WX_SYSTEM_NETWORK_ERROR:-601003,"-601004":"api permission denied",WX_API_PERMISSION_DENIED:-601004,"-501001":"resource system error",TCB_RESOURCE_SYSTEM_ERROR:-501001,"-501002":"resource server timeout",TCB_RESOURCE_SERVER_TIMEOUT:-501002,"-501003":"exceed request limit",TCB_EXCEED_REQUEST_LIMIT:-501003,"-501004":"exceed concurrent request limit",TCB_EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,"-501005":"invalid env",TCB_INVALID_ENV:-501005,"-501006":"invalid common parameters",TCB_INVALID_COMMON_PARAM:-501006,"-501007":"invalid parameters",TCB_INVALID_PARAM:-501007,"-501008":"invalid request source",TCB_INVALID_REQUEST_SOURCE:-501008,"-501009":"resource not initialized",TCB_RESOURCE_NOT_INITIALIZED:-501009,"-502001":"database request fail",TCB_DB_REQUEST_FAIL:-502001,"-502002":"database invalid command",TCB_DB_INVALID_COMMAND:-502002,"-502003":"database permission denied",TCB_DB_PERMISSION_DENIED:-502003,"-502004":"database exceed collection limit",TCB_DB_EXCEED_COLLECTION_LIMIT:-502004,"-502005":"database collection not exists",TCB_DB_COLLECTION_NOT_EXISTS:-502005,"-503001":"storage request fail",TCB_STORAGE_REQUEST_FAIL:-503001,"-503002":"storage permission denied",TCB_STORAGE_PERMISSION_DENIED:-503002,"-503003":"storage file not exists",TCB_STORAGE_FILE_NOT_EXISTS:-503003,"-503004":"storage invalid sign parameter",TCB_STORAGE_INVALID_SIGN_PARAM:-503004,"-504001":"functions request fail",TCB_FUNCTIONS_REQUEST_FAIL:-504001,"-504002":"functions execute fail",TCB_FUNCTIONS_EXEC_FAIL:-504002}},"./src/externals/public-lib/appserviceSdk.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new WeakMap;t.getSDK=function(e){if(!e)return wx;var t=r.get(e);return t&&t||wx},t.setSDK=function(e,t){r.set(e,t)}},"./src/externals/public-lib/reporter.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./src/utils/fail-safe.ts");try{Reporter.surroundThirdByTryCatch,n=Reporter}catch(e){n={surroundThirdByTryCatch:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return a.tryCatch(function(){try{return e.apply(e,r)}catch(e){throw console.error(e.toString()+"; "+t+"\n"+e.stack),e}},t)}}}}t.default=n},"./src/hook/invoke.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/type.ts"),a=r("./src/utils/fail-safe.ts");function s(e,t,r){t.success&&n.isFunction(t.success)&&a.wrapWithTryCatch(t.success,"at api "+e+" success callback function;")(r)}function i(e,t,r){t.fail&&n.isFunction(t.fail)&&a.wrapWithTryCatch(t.fail,"at api "+e+" fail callback function;")(r)}function o(e,t,r){t.complete&&n.isFunction(t.complete)&&a.wrapWithTryCatch(t.complete,"at api "+e+" complete callback function;")(r)}t.invokeSuccessCallback=s,t.invokeFailCallback=i,t.invokeCompleteCallback=o,t.invokeSuccessCompleteCallbacks=function(e,t,r){s(e,t,r),o(e,t,r)},t.invokeFailCompleteCallbacks=function(e,t,r){i(e,t,r),o(e,t,r)},t.hasAPICallback=function(e){return e&&(e.success||e.fail||e.complete)}},"./src/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r("./node_modules/tslib/tslib.es6.js").__exportStar(r("./src/cloud/index.ts"),t)},"./src/network/tunnel.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/error.ts"),s=r("./src/externals/public-lib/appserviceSdk.ts");function i(e,t){return void 0===t&&(t={}),new Promise(function(r,i){s.getSDK(e.cloud||t.cloud).operateWXData({apiName:e.apiName||"qbase_commapi",reqData:e.data,success:function(e){var s=n.__assign({},e,{data:e.rawData});if(e.rawData)try{var o=JSON.parse(e.rawData);if(o.baseresponse&&0!==o.baseresponse.errcode){var c=new a.CloudSDKError({errCode:o.baseresponse.errcode,errMsg:o.baseresponse.errmsg});return void i(c)}if(o.hasOwnProperty("status")&&0!==o.status){c=new a.CloudSDKError({errCode:o.status,errMsg:o.errmsg||""});return void i(c)}s=n.__assign({},e,{data:o})}catch(e){c=new a.CloudSDKError({errMsg:e&&e.toString()});return void i(c)}else if(t&&t.requireDataNotEmpty){c=new a.CloudSDKError({errCode:e.errCode,errMsg:"error empty internal server response, "+e.errMsg});return void i(c)}r(s)},fail:function(e){e&&e.errMsg&&/^operateWXData:fail /.test(e.errMsg)&&("operateWXData:fail invalid scope"===e.errMsg?e.errMsg="invalid scope 没有权限，请先开通云服务":e.errMsg=e.errMsg.replace(/^operateWXData:fail /,"")),i(e)},complete:e.complete})})}t.tunnel=i,t.constructTunnelReq=function(e,t,r){var n=r.cloud,a=n.getOverriddenConfig(r||{});return{apiName:"qbase_commapi",data:{qbase_api_name:e,qbase_req:t,qbase_options:{env:n.getEnv(a,r&&r.serviceName||"")},qbase_meta:n.getMetaData(),cli_req_id:+new Date+"_"+Math.random()},cloud:n}},t.default=i},"./src/services/database/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database.ts");t.getAPIs=function(e,t){return void 0===t&&(t={}),{database:n.default.bind(null,e,t)}}},"./src/services/database/api/database.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/command.ts"),a=r("./src/services/database/api/database/collection.ts"),s=r("./src/services/database/api/database/geo.ts"),i=r("./src/services/database/api/database/date.ts"),o=r("./src/services/database/api/database/regexp.ts"),c=r("./src/services/database/internal/grammar/engine.ts"),u=r("./src/utils/assert.ts");function l(e){return e.debug}t.default=function(e,t,r){return new(d(e,t))(r)};var d=function(e,t){return function(){function r(r){var a=this;this.cloud=e,this.identifiers=t,this.config=r||{},r&&r.env&&u.assertType(r.env,"string"),this.command=n.commands,this.Geo=s,this.serverDate=i.serverDate,this.RegExp=o.regExp,this.engine=c.getEngine(),Object.defineProperties(this,{engine:{enumerable:!1,configurable:!1}}),Object.defineProperties(this,{QuerySerializer:{enumerable:!1,configurable:!1,get:function(){return function(e){return l(e)?e.engine.QuerySerializer:void 0}(a)},set:function(){}},UpdateSerializer:{enumerable:!1,configurable:!1,get:function(){return function(e){return l(e)?e.engine.UpdateSerializer:void 0}(a)},set:function(){}},Decoder:{enumerable:!1,configurable:!1,get:function(){return function(e){return l(e)?e.engine.Decoder:void 0}(a)},set:function(){}}})}return r.prototype.collection=function(e){return new a.CollectionReference(e,this)},r}()}},"./src/services/database/api/database/collection.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/services/database/api/database/query.ts"),s=r("./src/services/database/api/database/document.ts"),i=r("./src/hook/invoke.ts"),o=r("./src/services/database/internal/backend-api/backend-api.ts"),c=r("./src/utils/msg.ts"),u=r("./src/utils/error.ts"),l=r("./src/utils/assert.ts"),d=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.collectionName=t,n.database=r,n}return n.__extends(t,e),t.prototype.doc=function(e){return new s.DocumentReference(this,e,this.database)},t.prototype.add=function(e){var t=this,r="collection.add",a=i.hasAPICallback(e),s=new Promise(function(a,s){return n.__awaiter(t,void 0,void 0,function(){var t,i;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),l.assertType(e,{data:"object"}),[4,o.addDocument(this.collectionName,e.data._id,this.database.engine.encodeInternalDataType(e.data),this.database.config,this.database.cloud)];case 1:return t=n.sent(),a({_id:t._id,errMsg:c.apiSuccessMsg(r)}),[3,3];case 2:return i=n.sent(),s(u.returnAsFinalCloudSDKError(i,r)),[3,3];case 3:return[2]}})})});if(!a)return s;s.then(function(t){i.invokeSuccessCompleteCallbacks(r,e,t)}).catch(function(t){i.invokeFailCompleteCallbacks(r,e,t)})},t}(a.Query);t.CollectionReference=d},"./src/services/database/api/database/command.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/commands/query.ts"),a=r("./src/services/database/api/database/commands/logic.ts"),s=r("./src/services/database/api/database/commands/update.ts"),i=r("./src/utils/type.ts");t.commands={eq:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.EQ,[e])},neq:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.NEQ,[e])},lt:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.LT,[e])},lte:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.LTE,[e])},gt:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.GT,[e])},gte:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.GTE,[e])},in:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.IN,e)},nin:function(e){return new n.QueryCommmand(n.QUERY_COMMANDS_LITERAL.NIN,e)},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new a.LogicCommmand(a.LOGIC_COMMANDS_LITERAL.AND,r)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new a.LogicCommmand(a.LOGIC_COMMANDS_LITERAL.OR,r)},set:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SET,[e])},remove:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.REMOVE,[])},inc:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.INC,[e])},mul:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MUL,[e])},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PUSH,r)},pop:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.POP,[])},shift:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.UNSHIFT,r)}},t.default=t.commands},"./src/services/database/api/database/commands/logic.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./src/services/database/api/database/helper/symbol.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/type.ts"),o=r("./src/services/database/api/database/commands/query.ts");t.AND="and",t.OR="or",t.NOT="not",t.NOR="nor",function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(n=t.LOGIC_COMMANDS_LITERAL||(t.LOGIC_COMMANDS_LITERAL={}));var c=function(){function e(e,t,r){this._internalType=a.SYMBOL_LOGIC_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t;this.fieldName=r||a.SYMBOL_UNSET_FIELD_NAME;if(this.fieldName!==a.SYMBOL_UNSET_FIELD_NAME){t=t.slice(),this.operands=t;for(var n=0,s=t.length;n<s;n++){var i=t[n];(u(i)||o.isQueryCommand(i))&&(t[n]=i._setFieldName(this.fieldName))}}}return e.prototype._setFieldName=function(t){var r=this.operands.map(function(r){return r instanceof e?r._setFieldName(t):r});return new e(this.operator,r,t)},e.prototype.and=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];s.assertRequiredParam(arguments[0],"expressions","and");var a=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return a.unshift(this),new e(n.AND,a,this.fieldName)},e.prototype.or=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];s.assertRequiredParam(arguments[0],"expressions","or");var a=i.isArray(arguments[0])?arguments[0]:Array.from(arguments);return a.unshift(this),new e(n.OR,a,this.fieldName)},e}();function u(e){return e&&e instanceof c&&e._internalType===a.SYMBOL_LOGIC_COMMAND}t.LogicCommmand=c,t.isLogicCommand=u,t.isKnownLogicCommand=function(e){return u&&e.operator.toUpperCase()in n},t.default=c},"./src/services/database/api/database/commands/query.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./node_modules/tslib/tslib.es6.js"),s=r("./src/services/database/api/database/commands/logic.ts"),i=r("./src/services/database/api/database/helper/symbol.ts"),o=r("./src/utils/assert.ts");t.EQ="eq",t.NEQ="neq",t.GT="gt",t.GTE="gte",t.LT="lt",t.LTE="lte",t.IN="in",t.NIN="nin",function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin"}(n=t.QUERY_COMMANDS_LITERAL||(t.QUERY_COMMANDS_LITERAL={}));var c=function(e){function t(t,r,n){var a=e.call(this,t,r,n)||this;return a.operator=t,a._internalType=i.SYMBOL_QUERY_COMMAND,a}return a.__extends(t,e),t.prototype._setFieldName=function(e){return new t(this.operator,this.operands,e)},t.prototype.eq=function(e){var r=new t(n.EQ,[e],this.fieldName);return this.and(r)},t.prototype.neq=function(e){var r=new t(n.NEQ,[e],this.fieldName);return this.and(r)},t.prototype.gt=function(e){var r=new t(n.GT,[e],this.fieldName);return this.and(r)},t.prototype.gte=function(e){var r=new t(n.GTE,[e],this.fieldName);return this.and(r)},t.prototype.lt=function(e){var r=new t(n.LT,[e],this.fieldName);return this.and(r)},t.prototype.lte=function(e){var r=new t(n.LTE,[e],this.fieldName);return this.and(r)},t.prototype.in=function(e){o.assertType(e,"array");var r=new t(n.IN,e,this.fieldName);return this.and(r)},t.prototype.nin=function(e){o.assertType(e,"array");var r=new t(n.NIN,e,this.fieldName);return this.and(r)},t}(s.LogicCommmand);function u(e){return e&&e instanceof c&&e._internalType===i.SYMBOL_QUERY_COMMAND}t.QueryCommmand=c,t.isQueryCommand=u,t.isKnownQueryCommand=function(e){return u(e)&&e.operator.toUpperCase()in n},t.isComparisonCommand=function(e){return u(e)},t.default=c},"./src/services/database/api/database/commands/update.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./src/services/database/api/database/helper/symbol.ts");t.SET="set",t.REMOVE="remove",t.INC="inc",t.MUL="mul",t.PUSH="push",t.POP="pop",t.SHIFT="shift",t.UNSHIFT="unshift",function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift"}(n=t.UPDATE_COMMANDS_LITERAL||(t.UPDATE_COMMANDS_LITERAL={}));var s=function(){function e(e,t,r){this._internalType=a.SYMBOL_UPDATE_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||a.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();function i(e){return e&&e instanceof s&&e._internalType===a.SYMBOL_UPDATE_COMMAND}t.UpdateCommand=s,t.isUpdateCommand=i,t.isKnownUpdateCommand=function(e){return i(e)&&e.operator.toUpperCase()in n},t.default=s},"./src/services/database/api/database/date.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r("./node_modules/tslib/tslib.es6.js").__exportStar(r("./src/services/database/api/database/date/serverDate.ts"),t)},"./src/services/database/api/database/date/serverDate.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/helper/symbol.ts"),a=r("./src/utils/assert.ts");t.serverDate=function(e){return new s(e)};var s=function(){function e(e){void 0===e&&(e={offset:0}),a.assertType(e,"object","serverDate.options"),this.options=e}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return n.SYMBOL_SERVER_DATE},enumerable:!0,configurable:!0}),e}();t.ServerDate=s},"./src/services/database/api/database/document.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/hook/invoke.ts"),s=r("./src/services/database/internal/backend-api/backend-api.ts"),i=r("./src/utils/msg.ts"),o=r("./src/utils/error.ts"),c=r("./src/services/database/internal/grammar/default/extractor.ts"),u=r("./src/utils/assert.ts"),l=function(){function e(e,t,r){this.collection=e,this.database=r,this._id=t,Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field={}}return e.prototype.field=function(e){return u.assertRequiredParam(e,"object","field"),u.assertType(e,"object","field"),this._field=e,this},e.prototype.get=function(e){var t=this,r=a.hasAPICallback(e),u=new Promise(function(e,r){return n.__awaiter(t,void 0,void 0,function(){var t,a,u;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this._id,[4,s.queryDocument(this.database,this.collection.collectionName,this.database.engine.QuerySerializer.encode({_id:t}),{projection:c.getProjectionDefinition(this._field)},this.database.config,this.database.cloud)];case 1:if(!(a=n.sent()).list||!a.list.length)throw new Error("cannot find document with _id "+t+", please make sure that the document exists and you have the corresponding access permission");return e({data:a.list[0],errMsg:i.apiSuccessMsg("document.get")}),[3,3];case 2:return u=n.sent(),r(o.returnAsFinalCloudSDKError(u,"document.get")),[3,3];case 3:return[2]}})})});if(!r)return u;u.then(function(t){a.invokeSuccessCompleteCallbacks("document.get",e,t)}).catch(function(t){a.invokeFailCompleteCallbacks("document.get",e,t)})},e.prototype.set=function(e){var t=this,r=a.hasAPICallback(e),c=new Promise(function(r,a){return n.__awaiter(t,void 0,void 0,function(){var t,c,l;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),u.assertType(e,{data:"object"}),u.assertObjectNotEmpty({name:"options.data",target:e.data}),t=this._id,[4,s.setDocument(this.collection.collectionName,t,e.data,{},this.database.config,this.database.cloud)];case 1:return c=n.sent(),r({_id:c._id,errMsg:i.apiSuccessMsg("document.set"),stats:{updated:c.updated,created:c.created}}),[3,3];case 2:return l=n.sent(),a(o.returnAsFinalCloudSDKError(l,"document.set")),[3,3];case 3:return[2]}})})});if(!r)return c;c.then(function(t){a.invokeSuccessCompleteCallbacks("document.set",e,t)}).catch(function(t){a.invokeFailCompleteCallbacks("document.set",e,t)})},e.prototype.update=function(e){var t=this,r=a.hasAPICallback(e),c=new Promise(function(r,a){return n.__awaiter(t,void 0,void 0,function(){var t,c,l;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),u.assertType(e,{data:"object"}),u.assertObjectNotEmpty({name:"options.data",target:e.data}),t=this._id,[4,s.updateDocument(this.collection.collectionName,this.database.engine.QuerySerializer.encode({_id:t}),this.database.engine.UpdateSerializer.encode(e.data),{multi:!1,merge:!1},this.database.config,this.database.cloud)];case 1:return c=n.sent(),r({stats:{updated:c.updated},errMsg:i.apiSuccessMsg("document.update")}),[3,3];case 2:return l=n.sent(),a(o.returnAsFinalCloudSDKError(l,"document.update")),[3,3];case 3:return[2]}})})});if(!r)return c;c.then(function(t){a.invokeSuccessCompleteCallbacks("document.update",e,t)}).catch(function(t){a.invokeFailCompleteCallbacks("document.update",e,t)})},e.prototype.remove=function(e){var t=this,r=a.hasAPICallback(e),c=new Promise(function(e,r){return n.__awaiter(t,void 0,void 0,function(){var t,a,c;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this._id,[4,s.removeDocument(this.collection.collectionName,this.database.engine.QuerySerializer.encode({_id:t}),{},this.database.config,this.database.cloud)];case 1:if(0===(a=n.sent()).removed)throw new Error("cannot remove document with _id "+t+", please make sure that the document exists and you have the corresponding Write permission");return e({stats:{removed:a.removed||0},errMsg:i.apiSuccessMsg("document.remove")}),[3,3];case 2:return c=n.sent(),r(o.returnAsFinalCloudSDKError(c,"document.remove")),[3,3];case 3:return[2]}})})});if(!r)return c;c.then(function(t){a.invokeSuccessCompleteCallbacks("document.remove",e,t)}).catch(function(t){a.invokeFailCompleteCallbacks("document.remove",e,t)})},e}();t.DocumentReference=l},"./src/services/database/api/database/geo.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r("./node_modules/tslib/tslib.es6.js").__exportStar(r("./src/services/database/api/database/geo/point.ts"),t)},"./src/services/database/api/database/geo/point.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/helper/symbol.ts"),a=r("./src/utils/assert.ts"),s=r("./src/utils/error.ts");t.Point=function(e,t){return new i(e,t)};var i=function(){function e(e,t){this._internalType=n.SYMBOL_GEO_POINT,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}});var r=e,i=t;Object.defineProperties(this,{longitude:{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){if(a.assertType(e,"number","longitude"),e>180||e<-180)throw new s.CloudSDKError({errMsg:"longitude should be a number ranges from -180 to 180"})}},latitude:{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){if(a.assertType(e,"number","latitude"),e>90||e<-90)throw new s.CloudSDKError({errMsg:"latitude should be a number ranges from -90 to 90"})}}}),this.longitude=r,this.latitude=i}return e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.GeoPoint=i},"./src/services/database/api/database/helper/symbol.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/symbol.ts");n.__exportStar(r("./src/utils/symbol.ts"),t),t.SYMBOL_UNSET_FIELD_NAME=a.default.for("UNSET_FIELD_NAME"),t.SYMBOL_UPDATE_COMMAND=a.default.for("UPDATE_COMMAND"),t.SYMBOL_QUERY_COMMAND=a.default.for("QUERY_COMMAND"),t.SYMBOL_LOGIC_COMMAND=a.default.for("LOGIC_COMMAND"),t.SYMBOL_GEO_POINT=a.default.for("GEO_POINT"),t.SYMBOL_SERVER_DATE=a.default.for("SERVER_DATE"),t.SYMBOL_REGEXP=a.default.for("REGEXP")},"./src/services/database/api/database/query.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/msg.ts"),s=r("./src/services/database/internal/grammar/default/extractor.ts"),i=r("./src/utils/assert.ts"),o=r("./src/services/database/internal/backend-api/backend-api.ts"),c=r("./src/hook/invoke.ts"),u=r("./src/utils/error.ts"),l=r("./src/services/database/api/database/command.ts");!function(e){e.ASC="asc",e.DESC="desc"}(t.ORDER_DIRECTION||(t.ORDER_DIRECTION={}));var d=function(){function e(e,t,r){this.collectionName=e,this.database=t,this._query=new f(r),Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field=r&&r.field||{}}return e.prototype.field=function(t){return i.assertRequiredParam(t,"object","field"),new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{field:t}))},e.prototype.where=function(t){return i.assertRequiredParam(t,"condition","where"),this._query.where?new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{where:l.commands.and(this._query.where,t)})):new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{where:t}))},e.prototype.orderBy=function(t,r){return i.assertRequiredParam(t,"fieldPath","orderBy"),i.assertRequiredParam(r,"order","orderBy"),new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{order:n.__spread(this._query.order||[],[{fieldPath:t,order:r}])}))},e.prototype.limit=function(t){return i.assertRequiredParam(t,"max","limit"),new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{limit:t}))},e.prototype.skip=function(t){return i.assertRequiredParam(t,"offset","skip"),new e(this.collectionName,this.database,n.__assign({},this._query.getProperties(),{offset:t}))},e.prototype.get=function(e){var t=this,r="collection.get",i=c.hasAPICallback(e),l=new Promise(function(e,i){return n.__awaiter(t,void 0,void 0,function(){var t,c;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.queryDocument(this.database,this.collectionName,this.database.engine.QuerySerializer.encode(this._query.where||{}),s.extractQueryOptions(this),this.database.config,this.database.cloud)];case 1:return t=n.sent(),e({data:t.list,errMsg:a.apiSuccessMsg(r)}),[3,3];case 2:return c=n.sent(),i(u.returnAsFinalCloudSDKError(c,r)),[3,3];case 3:return[2]}})})});if(!i)return l;l.then(function(t){c.invokeSuccessCompleteCallbacks(r,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(r,e,t)})},e.prototype.count=function(e){var t=this,r="collection.count",s=c.hasAPICallback(e),i=new Promise(function(e,s){return n.__awaiter(t,void 0,void 0,function(){var t,i;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.countDocument(this.collectionName,this.database.engine.QuerySerializer.encode(this._query.where||{}),this.database.config,this.database.cloud)];case 1:return t=n.sent(),e({total:t.total,errMsg:a.apiSuccessMsg(r)}),[3,3];case 2:return i=n.sent(),s(u.returnAsFinalCloudSDKError(i,r)),[3,3];case 3:return[2]}})})});if(!s)return i;i.then(function(t){c.invokeSuccessCompleteCallbacks(r,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(r,e,t)})},e}();t.Query=d;var f=function(){function e(e){this.where=e&&e.where,this.offset=e&&e.offset,this.limit=e&&e.limit,this.order=e&&e.order}return e.prototype.getProperties=function(){return{where:this.where,offset:this.offset,limit:this.limit,order:this.order}},e}();t.InternalQuery=f},"./src/services/database/api/database/regexp.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/helper/symbol.ts"),a=r("./src/utils/assert.ts");t.regExp=function(e){return new s(e)};var s=function(){function e(e){a.assertType(e,{regexp:"string"},"RegExp options"),e.options&&a.assertType(e.options,"string"),this.regexp=e.regexp,this.options=e.options||""}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return n.SYMBOL_REGEXP},enumerable:!0,configurable:!0}),e}();t.RegExp=s},"./src/services/database/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/api.ts"),a="database";t.registerService=function(e){e.registerService(function(e){return{name:a,getAPIs:n.getAPIs.bind(null,e)}}(e))}},"./src/services/database/internal/backend-api/backend-api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts");!function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(t.ORDER_DIRECTION||(t.ORDER_DIRECTION={})),t.addDocument=function(e,t,r,i,o){return n.__awaiter(this,void 0,void 0,function(){var c,u,l;return n.__generator(this,function(d){switch(d.label){case 0:return c=JSON.stringify(r),s.assertStringLength({input:c,max:o.appConfig.db_doc_size_limit,name:"record",maxWording:(o.appConfig.db_doc_size_limit/1024).toFixed(0)+" KB"}),u={collection_name:e,_id:t,data:c},l=JSON.stringify(u),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_adddocument",l,n.__assign({},i,{serviceName:"database",cloud:o})),{requireDataNotEmpty:!0})];case 1:return[2,{_id:d.sent().data._id}]}})})},t.removeDocument=function(e,t,r,s,i){var o=(void 0===r?{}:r).multi,c=void 0===o||o;return n.__awaiter(this,void 0,void 0,function(){var r;return n.__generator(this,function(o){switch(o.label){case 0:return r=JSON.stringify({collection_name:e,query:JSON.stringify(t),multi:c}),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_deletedocument",r,n.__assign({},s,{serviceName:"database",cloud:i})),{requireDataNotEmpty:!0})];case 1:return[2,{removed:o.sent().data.deleted}]}})})},t.queryDocument=function(e,t,r,s,i,o){return void 0===s&&(s={}),n.__awaiter(this,void 0,void 0,function(){var c,u,l,d,f;return n.__generator(this,function(_){switch(_.label){case 0:return c={collection_name:t,query:JSON.stringify(r)},s.offset&&(c.offset=s.offset),s.limit&&(c.limit=s.limit),s.order&&(c.order=s.order),s.projection&&(c.projection=JSON.stringify(s.projection)),u=JSON.stringify(c),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_querydocument",u,n.__assign({},i,{serviceName:"database",cloud:o})),{requireDataNotEmpty:!0})];case 1:return l=_.sent(),d=l.data,f=d.data_list?JSON.parse(d.data_list):[],[2,{list:f=e.engine.Decoder.decode(f),offset:d.offset,limit:d.limit,total:d.total}]}})})},t.updateDocument=function(e,t,r,i,o,c){return void 0===i&&(i={}),n.__awaiter(this,void 0,void 0,function(){var u,l,d;return n.__generator(this,function(f){switch(f.label){case 0:return u=JSON.stringify(r),s.assertStringLength({input:u,max:c.appConfig.db_doc_size_limit,name:"update expression",maxWording:(c.appConfig.db_doc_size_limit/1024).toFixed(0)+" KB"}),(l={collection_name:e,query:JSON.stringify(t),data:u}).multi=!1!==i.multi,l.merge=!1!==i.merge,i.upsert&&(l.upsert=i.upsert),d=JSON.stringify(l),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_updatedocument",d,n.__assign({},o,{serviceName:"database",cloud:c})),{requireDataNotEmpty:!0})];case 1:return[2,{updated:f.sent().data.updated}]}})})},t.setDocument=function(e,t,r,i,o,c){return void 0===i&&(i={}),n.__awaiter(this,void 0,void 0,function(){var i,u,l,d,f;return n.__generator(this,function(_){switch(_.label){case 0:return i=JSON.stringify(r),s.assertStringLength({input:i,max:c.appConfig.db_doc_size_limit,name:"record",maxWording:(c.appConfig.db_doc_size_limit/1024).toFixed(0)+" KB"}),u={collection_name:e,_id:t,data:i},l=JSON.stringify(u),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_setdocument",l,n.__assign({},o,{serviceName:"database",cloud:c})),{requireDataNotEmpty:!0})];case 1:return d=_.sent(),[2,{_id:(f=d.data)._id||t,updated:f._id?0:1,created:f._id?1:0}]}})})},t.countDocument=function(e,t,r,s){return n.__awaiter(this,void 0,void 0,function(){var i,o;return n.__generator(this,function(c){switch(c.label){case 0:return i={collection_name:e,query:JSON.stringify(t)},o=JSON.stringify(i),[4,a.tunnel(a.constructTunnelReq("tcbapi_db_countdocument",o,n.__assign({},r,{serviceName:"database",cloud:s})),{requireDataNotEmpty:!0})];case 1:return[2,{total:c.sent().data.total}]}})})}},"./src/services/database/internal/grammar/default/extractor.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/query.ts"),a=r("./src/services/database/internal/backend-api/backend-api.ts"),s=r("./src/services/database/internal/grammar/default/serializer/common.ts");function i(e){var t=s.flattenObject(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:delete t[r];return t}t.extractQueryOptions=function(e){return{limit:e._query.limit,offset:e._query.offset,order:(e._query.order||[]).map(function(e){return{field:e.fieldPath,direction:e.order===n.ORDER_DIRECTION.DESC?a.ORDER_DIRECTION.DESC:a.ORDER_DIRECTION.ASC}}),projection:i(e._field)}},t.getProjectionDefinition=i},"./src/services/database/internal/grammar/default/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js");n.__exportStar(r("./src/services/database/internal/grammar/default/extractor.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/operator-map.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer.ts"),t)},"./src/services/database/internal/grammar/default/operator-map.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/commands/query.ts"),a=r("./src/services/database/api/database/commands/logic.ts"),s=r("./src/services/database/api/database/commands/update.ts");for(var i in t.OperatorMap={},n.QUERY_COMMANDS_LITERAL)t.OperatorMap[i]="$"+i.toLowerCase();for(var i in a.LOGIC_COMMANDS_LITERAL)t.OperatorMap[i]="$"+i.toLowerCase();for(var i in s.UPDATE_COMMANDS_LITERAL)t.OperatorMap[i]="$"+i.toLowerCase();t.OperatorMap[n.QUERY_COMMANDS_LITERAL.NEQ]="$ne",t.OperatorMap[s.UPDATE_COMMANDS_LITERAL.REMOVE]="$unset",t.OperatorMap[s.UPDATE_COMMANDS_LITERAL.SHIFT]="$pop",t.OperatorMap[s.UPDATE_COMMANDS_LITERAL.UNSHIFT]="$push",t.operatorToString=function(e){return t.OperatorMap[e]||"$"+e.toLowerCase()}},"./src/services/database/internal/grammar/default/serializer.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js");n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/query.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/update.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/decoder.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/common.ts"),t)},"./src/services/database/internal/grammar/default/serializer/common.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/error.ts"),s=r("./src/config/error.config.ts"),i=r("./src/utils/type.ts"),o=r("./src/services/database/internal/grammar/default/serializer/datatype.ts");function c(e,t,r,o){var u=n.__assign({},e);for(var l in e)if(!/^\$/.test(l)){var d=e[l];if(d&&i.isObject(d)&&!t(d)){if(o.indexOf(d)>-1)throw new a.CloudSDKError({errCode:s.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});var f=c(d,t,n.__spread(r,[l]),n.__spread(o,[d]));u[l]=f;var _=!1;for(var p in f)/^\$/.test(p)?_=!0:(u[l+"."+p]=f[p],delete u[l][p]);_||delete u[l]}}return u}function u(e){return i.isInternalObject(e)||i.isDate(e)||i.isRegExp(e)}t.flattenQueryObject=function(e){return c(e,u,[],[e])},t.flattenObject=function(e){return c(e,function(e){return!1},[],[e])},t.mergeConditionAfterEncode=function(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?i.isArray(e[n])?e[n].push(t[n]):i.isObject(e[n])?i.isObject(t[n])?Object.assign(e[n],t[n]):(console.warn("unmergable condition, query is object but condition is "+i.getType(t)+", can only overwrite",t,r),e[n]=t[n]):(console.warn("to-merge query is of type "+i.getType(e)+", can only overwrite",e,t,r),e[n]=t[n]):e[n]=t[n]},t.isConversionRequired=u,t.encodeInternalDataType=function(e){return o.serialize(e)},t.decodeInternalDataType=function(e){return o.deserialize(e)}},"./src/services/database/internal/grammar/default/serializer/datatype.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/services/database/api/database/helper/symbol.ts"),s=r("./src/utils/type.ts"),i=r("./src/services/database/api/database/geo.ts"),o=r("./src/services/database/api/database/date.ts"),c=r("./src/utils/error.ts"),u=r("./src/config/error.config.ts");t.serialize=function(e){return function e(t,r){if(!s.isInternalObject(t)){if(s.isDate(t))return{$date:+t};if(s.isRegExp(t))return{$regex:t.source,$options:t.flags};if(s.isArray(t))return t.map(function(t){if(r.indexOf(t)>-1)throw new c.CloudSDKError({errCode:u.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});return e(t,n.__spread(r,[t]))});if(s.isObject(t)){var i=n.__assign({},t);for(var o in i){if(r.indexOf(i[o])>-1)throw new c.CloudSDKError({errCode:u.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});i[o]=e(i[o],n.__spread(r,[i[o]]))}return i}return t}switch(t._internalType){case a.SYMBOL_GEO_POINT:return t.toJSON();case a.SYMBOL_SERVER_DATE:return{$date:t.options};case a.SYMBOL_REGEXP:return{$regex:t.regexp,$options:t.options};default:return t.toJSON?t.toJSON():t}}(e,[e])},t.deserialize=function(e){var t=n.__assign({},e);for(var r in t)switch(r){case"$date":switch(s.getType(t[r])){case"number":return new Date(t[r]);case"object":return o.serverDate(t[r])}break;case"type":switch(t.type){case"Point":if(s.isArray(t.coordinates)&&s.isNumber(t.coordinates[0])&&s.isNumber(t.coordinates[1]))return new i.Point(t.coordinates[0],t.coordinates[1])}}return e}},"./src/services/database/internal/grammar/default/serializer/decoder.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/type.ts"),s=r("./src/services/database/internal/grammar/default/serializer/common.ts"),i=function(){function e(){}return e.decode=function(t){return(new e).decodeData(t)},e.prototype.decodeData=function(e){var t=this;switch(a.getType(e)){case"object":return this.decodeObject(e);case"array":return e.map(function(e){if(a.isObject(e)){var r=s.decodeInternalDataType(e);return r!==e?r:t.decodeObject(e)}return e});default:return e}},e.prototype.decodeObject=function(e){var t=n.__assign({},e);for(var r in t){var i=t[r];switch(a.getType(i)){case"object":var o=s.decodeInternalDataType(i);t[r]=o!==i?o:this.decodeObject(t[r]);break;case"array":(o=this.decodeData(i))!==i&&(t[r]=o);break;default:continue}}return t},e}();t.Decoder=i},"./src/services/database/internal/grammar/default/serializer/query.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/commands/query.ts"),a=r("./src/services/database/api/database/commands/logic.ts"),s=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/utils/type.ts"),o=r("./src/utils/error.ts"),c=r("./src/services/database/internal/grammar/default/operator-map.ts"),u=r("./src/services/database/internal/grammar/default/serializer/common.ts"),l=function(){function e(){}return e.encode=function(e){return(new d).encodeQuery(e)},e}();t.QuerySerializer=l;var d=function(){function e(){}return e.prototype.encodeQuery=function(e){return u.isConversionRequired(e)?a.isLogicCommand(e)?this.encodeLogicCommand(e):n.isQueryCommand(e)?this.encodeQueryCommand(e):this.encodeQueryObject(e):i.isObject(e)?this.encodeQueryObject(e):e},e.prototype.encodeLogicCommand=function(e){var t,r,n;switch(e.operator){case a.LOGIC_COMMANDS_LITERAL.AND:case a.LOGIC_COMMANDS_LITERAL.OR:var s=c.operatorToString(e.operator),i=e.operands.map(this.encodeQuery.bind(this));return(t={})[s]=i,t;default:s=c.operatorToString(e.operator);if(1===e.operands.length){var o=this.encodeQuery(e.operands[0]);return(r={})[s]=o,r}i=e.operands.map(this.encodeQuery.bind(this));return(n={})[s]=i,n}},e.prototype.encodeQueryCommand=function(e){return n.isComparisonCommand(e),this.encodeComparisonCommand(e)},e.prototype.encodeComparisonCommand=function(e){var t,r,a,i,l,d;if(e.fieldName===s.SYMBOL_UNSET_FIELD_NAME)throw new o.CloudSDKError({errMsg:"Cannot encode a comparison command with unset field name"});var f=c.operatorToString(e.operator);switch(e.operator){case n.QUERY_COMMANDS_LITERAL.EQ:case n.QUERY_COMMANDS_LITERAL.NEQ:case n.QUERY_COMMANDS_LITERAL.LT:case n.QUERY_COMMANDS_LITERAL.LTE:case n.QUERY_COMMANDS_LITERAL.GT:case n.QUERY_COMMANDS_LITERAL.GTE:return(t={})[e.fieldName]=((r={})[f]=u.encodeInternalDataType(e.operands[0]),r),t;case n.QUERY_COMMANDS_LITERAL.IN:case n.QUERY_COMMANDS_LITERAL.NIN:return(a={})[e.fieldName]=((i={})[f]=u.encodeInternalDataType(e.operands),i),a;default:return(l={})[e.fieldName]=((d={})[f]=u.encodeInternalDataType(e.operands[0]),d),l}},e.prototype.encodeQueryObject=function(e){var t=u.flattenQueryObject(e);for(var r in t){var s=t[r];if(a.isLogicCommand(s)){t[r]=s._setFieldName(r);var i=this.encodeLogicCommand(t[r]);this.mergeConditionAfterEncode(t,i,r)}else if(n.isComparisonCommand(s)){t[r]=s._setFieldName(r);i=this.encodeComparisonCommand(t[r]);this.mergeConditionAfterEncode(t,i,r)}else u.isConversionRequired(s)&&(t[r]=u.encodeInternalDataType(s))}return t},e.prototype.mergeConditionAfterEncode=function(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?i.isArray(e[n])?e[n].push(t[n]):i.isObject(e[n])?i.isObject(t[n])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is "+i.getType(t)+", can only overwrite",t,r),e[n]=t[n]):(console.warn("to-merge query is of type "+i.getType(e)+", can only overwrite",e,t,r),e[n]=t[n]):e[n]=t[n]},e}()},"./src/services/database/internal/grammar/default/serializer/update.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/database/api/database/commands/update.ts"),a=r("./src/services/database/api/database/helper/symbol.ts"),s=r("./src/utils/type.ts"),i=r("./src/utils/error.ts"),o=r("./src/services/database/internal/grammar/default/operator-map.ts"),c=r("./src/services/database/internal/grammar/default/serializer/common.ts"),u=function(){function e(){}return e.encode=function(t){return(new e).encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return n.isUpdateCommand(e)?this.encodeUpdateCommand(e):"object"===s.getType(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===a.SYMBOL_UNSET_FIELD_NAME)throw new i.CloudSDKError({errMsg:"Cannot encode a comparison command with unset field name"});switch(e.operator){case n.UPDATE_COMMANDS_LITERAL.SET:case n.UPDATE_COMMANDS_LITERAL.REMOVE:case n.UPDATE_COMMANDS_LITERAL.INC:case n.UPDATE_COMMANDS_LITERAL.MUL:return this.encodeFieldUpdateCommand(e);case n.UPDATE_COMMANDS_LITERAL.PUSH:case n.UPDATE_COMMANDS_LITERAL.POP:case n.UPDATE_COMMANDS_LITERAL.SHIFT:case n.UPDATE_COMMANDS_LITERAL.UNSHIFT:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,r,a,s,i=o.operatorToString(e.operator);switch(e.operator){case n.UPDATE_COMMANDS_LITERAL.REMOVE:return(t={})[i]=((r={})[e.fieldName]="",r),t;case n.UPDATE_COMMANDS_LITERAL.SET:case n.UPDATE_COMMANDS_LITERAL.INC:case n.UPDATE_COMMANDS_LITERAL.MUL:default:return(a={})[i]=((s={})[e.fieldName]=e.operands[0],s),a}},e.prototype.encodeArrayUpdateCommand=function(e){var t,r,a,s,i,u,l,d,f,_,p=o.operatorToString(e.operator);switch(e.operator){case n.UPDATE_COMMANDS_LITERAL.PUSH:var m={$each:e.operands.map(c.encodeInternalDataType)};return(t={})[p]=((r={})[e.fieldName]=m,r),t;case n.UPDATE_COMMANDS_LITERAL.UNSHIFT:m={$each:e.operands.map(c.encodeInternalDataType),$position:0};return(a={})[p]=((s={})[e.fieldName]=m,s),a;case n.UPDATE_COMMANDS_LITERAL.POP:return(i={})[p]=((u={})[e.fieldName]=1,u),i;case n.UPDATE_COMMANDS_LITERAL.SHIFT:return(l={})[p]=((d={})[e.fieldName]=-1,d),l;default:return(f={})[p]=((_={})[e.fieldName]=c.encodeInternalDataType(e.operands),_),f}},e.prototype.encodeUpdateObject=function(e){var t=c.flattenQueryObject(e);for(var r in t)if(!/^\$/.test(r)){var a=t[r];if(n.isUpdateCommand(a)){t[r]=a._setFieldName(r);var s=this.encodeUpdateCommand(t[r]);c.mergeConditionAfterEncode(t,s,r)}else{t[r]=a=c.encodeInternalDataType(a);var i=new n.UpdateCommand(n.UPDATE_COMMANDS_LITERAL.SET,[a],r);s=this.encodeUpdateCommand(i);c.mergeConditionAfterEncode(t,s,r)}}return t},e}();t.UpdateSerializer=u},"./src/services/database/internal/grammar/engine.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("./src/services/database/internal/grammar/default/index.ts");!function(e){e[e.DEFAULT=0]="DEFAULT"}(n=t.ENGINES||(t.ENGINES={})),t.getEngine=function(e){return void 0===e&&(e=n.DEFAULT),a}},"./src/services/functions/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/functions/api/callFunction.ts");t.getAPIs=function(e,t){return void 0===t&&(t={}),{callFunction:n.default(e)}}},"./src/services/functions/api/callFunction.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/error.ts"),o=r("./src/utils/fail-safe.ts"),c=r("./src/utils/serializer.ts"),u=r("./src/hook/invoke.ts"),l=r("./src/utils/msg.ts"),d=r("./src/utils/fn/clone.ts"),f=r("./src/config/error.config.ts"),_=r("./src/services/functions/index.ts"),p=r("./src/externals/public-lib/appserviceSdk.ts");t.API_NAME="cloud.callFunction",t.default=function(e){return function(e){return s.assertType(e,"object"),(e=d.shallowClone(e)).data||(e.data={}),u.hasAPICallback(e)?function(e){o.wrapParamCallbacksWithTryCatch({apiName:t.API_NAME,param:e}),r(e).then(function(r){u.invokeSuccessCompleteCallbacks(t.API_NAME,e,r)}).catch(function(r){u.invokeFailCompleteCallbacks(t.API_NAME,e,r)})}(e):r(e)};function r(r){return n.__awaiter(this,void 0,void 0,function(){var o;return n.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),function(e){s.assertType(e,{name:"string"}),e.data&&s.assertType(e.data,"object"),e.config&&e.config.env&&s.assertType(e.config.env,"string")}(r),[4,function(r){return n.__awaiter(this,void 0,void 0,function(){function o(r){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(a){return[2,new Promise(function(a,s){!function r(a,s,o,u){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(n){return p.getSDK(e).request({url:a,success:function(e){try{if(200!==e.statusCode)return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR,errMsg:"polling status code "+e.statusCode},t.API_NAME));var n=e.data;if(!n)return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON]},t.API_NAME));if(n.base_resp&&0===n.base_resp.ret){if(0!==n.status){if(1===n.status){if(0!==n.service_errcode){var l=i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:"requestID "+n.func_req_id+", cloud function service error code "+(n.service_errcode||"unknown")+", error message "+(n.service_errmsg||"unknown")},t.API_NAME);return l.requestID=n.func_req_id,u(l)}var d=n.content;try{d=c.deserialize(d)}catch(e){try{d=JSON.parse(d)}catch(e){}}return o({result:d,requestID:n.func_req_id})}return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:"timeout for result fetching"},t.API_NAME))}if(!(s>=0))return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY]},t.API_NAME));r(a,s-1,o,u)}else{if(!n.base_resp)return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP]},t.API_NAME));if(0!==n.base_resp.ret)return u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:"polling base_resp.ret "+n.base_resp.ret},t.API_NAME))}}catch(e){u(i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_POLL_ERROR,errMsg:"polling catch error: "+e},t.API_NAME))}},fail:function(e){u(i.returnAsFinalCloudSDKError(e,t.API_NAME))}}),[2]})})}(r,e.appConfig.call_function_poll_max_retry||50,a,s)})]})})}var u,d,m,E,b,g,v,h;return n.__generator(this,function(p){switch(p.label){case 0:return u=c.serialize(r.data),s.assertStringLength({input:u,max:e.appConfig.call_function_max_req_data_size,name:"callFunction data",maxWording:e.appConfig.call_function_max_req_data_size/1024+" KB"}),d={function_name:r.name,data:u},m=c.serialize(d),[4,a.tunnel(a.constructTunnelReq("tcbapi_slowcallfunction",m,n.__assign({},r.config,{serviceName:_.FUNCTIONS_SERVICE_NAME,cloud:e})))];case 1:if(E=p.sent(),!(b=E.data))throw i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EMPTY_CALL_RESULT,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EMPTY_CALL_RESULT]},t.API_NAME);if(b.event_id,!b.poll_url)throw i.returnAsFinalCloudSDKError({errCode:f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_URL,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_URL]},t.API_NAME);return b.poll_url.indexOf("?")>-1?b.poll_url+="&devtools_ignore=true&skip_domain_check=true":b.poll_url+="?devtools_ignore=true&skip_domain_check=true",[4,o(b.poll_url)];case 2:return g=p.sent(),v=g.result,h=g.requestID,[2,{errMsg:l.apiSuccessMsg(t.API_NAME),result:v,requestID:h}]}})})}(r)];case 1:return[2,u.sent()];case 2:return[4,function(r){return n.__awaiter(this,void 0,void 0,function(){var s,i,o,u,d;return n.__generator(this,function(f){switch(f.label){case 0:return s={function_name:r.name,data:c.serialize(r.data)},i=c.serialize(s),[4,a.tunnel(a.constructTunnelReq("tcbapi_callfunction",i,n.__assign({},r.config,{serviceName:_.FUNCTIONS_SERVICE_NAME,cloud:e})))];case 1:if(o=f.sent(),u=o.data,d=u&&u.data)try{d=JSON.parse(d)}catch(e){}return[2,{errMsg:l.apiSuccessMsg(t.API_NAME),result:d}]}})})}(r)];case 3:return[2,u.sent()];case 4:return[3,6];case 5:throw o=u.sent(),i.returnAsFinalCloudSDKError(o,t.API_NAME);case 6:return[2]}})})}}},"./src/services/functions/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/functions/api/api.ts");t.FUNCTIONS_SERVICE_NAME="functions",t.registerService=function(e){e.registerService(function(e){return{name:t.FUNCTIONS_SERVICE_NAME,getAPIs:n.getAPIs.bind(null,e)}}(e))}},"./src/services/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/functions/index.ts"),a=r("./src/services/storage/index.ts"),s=r("./src/services/database/index.ts");t.registerServices=function(e){n.registerService(e),a.registerService(e),s.registerService(e)}},"./src/services/storage/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/storage/api/uploadFile.ts"),a=r("./src/services/storage/api/downloadFile.ts"),s=r("./src/services/storage/api/getTempFileURL.ts"),i=r("./src/services/storage/api/deleteFile.ts");t.getAPIs=function(e){return{uploadFile:n.default(e),downloadFile:a.default(e),getTempFileURL:s.default(e),deleteFile:i.default(e)}}},"./src/services/storage/api/deleteFile.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/error.ts"),o=r("./src/utils/serializer.ts"),c=r("./src/hook/invoke.ts"),u=r("./src/utils/msg.ts"),l=r("./src/utils/fn/clone.ts"),d=r("./src/config/error.config.ts"),f=r("./src/services/storage/index.ts"),_="cloud.deleteFile";t.default=function(e){return function(e){return e=l.shallowClone(e),c.hasAPICallback(e)?function(e){t(e).then(function(t){c.invokeSuccessCompleteCallbacks(_,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(_,e,t)})}(e):t(e)};function t(t){return n.__awaiter(this,void 0,void 0,function(){var r;return n.__generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),function(t){for(var r in s.assertType(t,{fileList:"array"}),t.config&&t.config.env&&s.assertType(t.config.env,"string"),t.fileList)s.assertType(t.fileList[r],"string","parameter.fileList["+r+"]");if(e.appConfig.get_temp_file_url_max_requests&&t.fileList.length>e.appConfig.get_temp_file_url_max_requests)throw new i.CloudSDKError({errCode:d.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter.fileList exceed max length "+e.appConfig.get_temp_file_url_max_requests})}(t),t.fileList.length?[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s,i,c;return n.__generator(this,function(l){switch(l.label){case 0:return r={fileid_list:t.fileList},s=o.serialize(r),[4,a.tunnel(a.constructTunnelReq("tcbapi_deletefile",s,n.__assign({},t.config,{serviceName:f.STORAGE_SERVICE_NAME,cloud:e})))];case 1:return i=l.sent(),c=i.data,[2,{errMsg:u.apiSuccessMsg(_),fileList:c.delete_list.map(function(e){return{fileID:e.fileid,status:e.status,errMsg:e.errmsg}})}]}})})}(t)]:[2,{errMsg:u.apiSuccessMsg(_),fileList:[]}];case 1:return[2,c.sent()];case 2:throw r=c.sent(),i.returnAsFinalCloudSDKError(r,_);case 3:return[2]}})})}}},"./src/services/storage/api/downloadFile.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/type.ts"),o=r("./src/utils/fn/clone.ts"),c=r("./src/utils/error.ts"),u=r("./src/hook/invoke.ts"),l=r("./src/externals/public-lib/appserviceSdk.ts"),d=r("./src/config/error.config.ts"),f=r("./src/services/storage/index.ts"),_="cloud.downloadFile";t.default=function(e){return function(e){return e=o.shallowClone(e),u.hasAPICallback(e)?function(e){var r={aborted:!1},a=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r);return t(n.__assign({},e,{context:r,downloadTaskAgent:a})).then(function(t){u.invokeSuccessCompleteCallbacks(_,e,t)}).catch(function(t){u.invokeFailCompleteCallbacks(_,e,t)}),a}(e):t(e)};function t(t){return n.__awaiter(this,void 0,void 0,function(){var r=this;return n.__generator(this,function(o){return[2,new Promise(function(o,u){return n.__awaiter(r,void 0,void 0,function(){var r,p;return n.__generator(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),function(e){s.assertType(e,{fileID:"string"}),e.config&&e.config.env&&s.assertType(e.config.env,"string")}(t),t.context&&(t.context.abort=function(){u(c.returnAsFinalCloudSDKError({errMsg:"abort"},_))},t.context.aborted)?[2,u(c.returnAsFinalCloudSDKError({errMsg:"abort"},_))]:[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s;return n.__generator(this,function(o){switch(o.label){case 0:return r=l.getSDK(e),[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s,i;return n.__generator(this,function(o){switch(o.label){case 0:return r=JSON.stringify({fileid:t.fileID}),[4,a.tunnel(a.constructTunnelReq("tcbapi_downloadfile",r,n.__assign({},t.config,{serviceName:f.STORAGE_SERVICE_NAME,cloud:e})))];case 1:if(s=o.sent(),!(i=s.data).download_url)throw new c.CloudSDKError({errCode:d.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL,errMsg:d.ERR_CODE[d.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL]});return i.download_url.indexOf("?")>-1?i.download_url+="&skip_domain_check=true":i.download_url+="?skip_domain_check=true",[2,i.download_url]}})})}(t)];case 1:return s=o.sent(),[2,new Promise(function(e,n){if(t.context&&t.context.aborted)return n(c.returnAsFinalCloudSDKError({errMsg:"abort"},_));var a=r.downloadFile({url:s,success:function(t){e(t)},fail:function(e){n(e)}});a.onProgressUpdate(function(){t.downloadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&i.isFunction(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r.downloadFile,arguments)}),t.context&&(t.context.abort=a.abort.bind(a))})]}})})}(t)];case 1:return r=m.sent(),o(r),[3,3];case 2:return p=m.sent(),u(c.returnAsFinalCloudSDKError(p,_)),[3,3];case 3:return[2]}})})})]})})}}},"./src/services/storage/api/getTempFileURL.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/error.ts"),o=r("./src/utils/serializer.ts"),c=r("./src/hook/invoke.ts"),u=r("./src/utils/msg.ts"),l=r("./src/utils/fn/clone.ts"),d=r("./src/utils/type.ts"),f=r("./src/config/error.config.ts"),_=r("./src/services/storage/index.ts"),p="cloud.getTempFileURL";t.default=function(e){return function(e){return e=l.shallowClone(e),c.hasAPICallback(e)?function(e){t(e).then(function(t){c.invokeSuccessCompleteCallbacks(p,e,t)}).catch(function(t){c.invokeFailCompleteCallbacks(p,e,t)})}(e):t(e)};function t(t){return n.__awaiter(this,void 0,void 0,function(){var r;return n.__generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),function(t){if(s.assertType(t,{fileList:"array"}),t.config&&t.config.env&&s.assertType(t.config.env,"string"),e.appConfig.get_temp_file_url_max_requests&&t.fileList.length>e.appConfig.get_temp_file_url_max_requests)throw new i.CloudSDKError({errCode:f.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter.fileList exceed max length "+e.appConfig.get_temp_file_url_max_requests})}(t),t.fileList.length?[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s,i,c;return n.__generator(this,function(l){switch(l.label){case 0:return r={file_list:t.fileList.map(function(e){return d.isString(e)?{fileid:e}:{fileid:e.fileID,max_age:e.maxAge}})},s=o.serialize(r),[4,a.tunnel(a.constructTunnelReq("tcbapi_gettempfileurl",s,n.__assign({},t.config,{serviceName:_.STORAGE_SERVICE_NAME,cloud:e})))];case 1:return i=l.sent(),c=i.data,[2,{errMsg:u.apiSuccessMsg(p),fileList:c.download_list.map(function(e){return{fileID:e.fileid,tempFileURL:e.download_url,maxAge:e.max_age,status:e.status,errMsg:e.errmsg}})}]}})})}(t)]:[2,{errMsg:u.apiSuccessMsg(p),fileList:[]}];case 1:return[2,c.sent()];case 2:throw r=c.sent(),i.returnAsFinalCloudSDKError(r,p);case 3:return[2]}})})}}},"./src/services/storage/api/uploadFile.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/network/tunnel.ts"),s=r("./src/utils/assert.ts"),i=r("./src/utils/error.ts"),o=r("./src/utils/type.ts"),c=r("./src/utils/fn/clone.ts"),u=r("./src/hook/invoke.ts"),l=r("./src/utils/msg.ts"),d=r("./src/externals/public-lib/appserviceSdk.ts"),f=r("./src/services/storage/index.ts"),_=r("./src/config/error.config.ts"),p="cloud.uploadFile";t.default=function(e){return function(e){return e=c.shallowClone(e),u.hasAPICallback(e)?function(e){var r={aborted:!1},a=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r);return t(n.__assign({},e,{context:r,uploadTaskAgent:a})).then(function(t){u.invokeSuccessCompleteCallbacks(p,e,t)}).catch(function(t){u.invokeFailCompleteCallbacks(p,e,t)}),a}(e):t(e)};function t(t){var r=this;return new Promise(function(c,u){return n.__awaiter(r,void 0,void 0,function(){var r,m;return n.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),function(e){s.assertType(e,{cloudPath:"string",filePath:"string"}),e.config&&e.config.env&&s.assertType(e.config.env,"string")}(t),function(t){n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(r){return[2,new Promise(function(r,n){wx.getFileInfo?wx.getFileInfo({filePath:t,success:function(t){t.size>e.appConfig.upload_max_file_size?n(new i.CloudSDKError({errCode:_.ERR_CODE.SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE,errMsg:"exceed max upload file size: "+e.appConfig.upload_max_file_size/1024/1024+" MB"})):r()},fail:function(){r()}}):r()})]})})}(t.filePath),t.context&&(t.context.abort=function(){u(i.returnAsFinalCloudSDKError({errMsg:"abort"},p))},t.context.aborted)?[2,u(i.returnAsFinalCloudSDKError({errMsg:"abort"},p))]:[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s;return n.__generator(this,function(c){switch(c.label){case 0:return r=d.getSDK(e),[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,s,o;return n.__generator(this,function(c){switch(c.label){case 0:return r=JSON.stringify({path:t.cloudPath}),[4,a.tunnel(a.constructTunnelReq("tcbapi_uploadfile",r,n.__assign({},t.config,{serviceName:f.STORAGE_SERVICE_NAME,cloud:e})))];case 1:if(s=c.sent(),!(o=s.data).upload_url)throw new i.CloudSDKError({errCode:_.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL,errMsg:_.ERR_CODE[_.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL]});return o.upload_url.indexOf("?")>-1?o.upload_url+="&skip_domain_check=true":o.upload_url+="?skip_domain_check=true",[2,o.upload_url]}})})}(t)];case 1:return s=c.sent(),[2,new Promise(function(e,n){if(t.context&&t.context.aborted)return n(i.returnAsFinalCloudSDKError({errMsg:"abort"},p));var a=r.uploadFile({url:s,filePath:t.filePath,header:t.header,name:"file",success:function(t){try{var r=JSON.parse(t.data);if(r.data&&(r=r.data),r.fileid)e({errMsg:l.apiSuccessMsg(p),fileID:r.fileid,statusCode:t.statusCode});else{var a=new i.CloudSDKError({errMsg:"empty fileid; "+r.message+";"});n(a)}}catch(a){var s=new i.CloudSDKError({errMsg:"Error parsing response data "+t.data+";"});n(s)}},fail:function(e){n(e)}});a.onProgressUpdate(function(){t.uploadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&o.isFunction(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r.uploadFile,arguments)}),t.context&&(t.context.abort=a.abort.bind(a))})]}})})}(t)];case 1:return r=E.sent(),c(r),[3,3];case 2:return m=E.sent(),u(i.returnAsFinalCloudSDKError(m,p)),[3,3];case 3:return[2]}})})})}}},"./src/services/storage/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/services/storage/api/api.ts");t.STORAGE_SERVICE_NAME="storage",t.registerService=function(e){e.registerService(function(e){return{name:t.STORAGE_SERVICE_NAME,getAPIs:n.getAPIs.bind(null,e)}}(e))}},"./src/utils/assert.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/type.ts"),a=r("./src/utils/error.ts"),s=r("./src/config/error.config.ts");function i(e,t,r){void 0===r&&(r="parameter");var a=function e(t,r,a){var s=n.getType(t),i=n.getType(r);if("string"===i)return s!==r?a+" should be "+r+" instead of "+s+";":"";if(s!==i)return a+" should be "+i+" instead of "+s+"; ";var o="";switch(s){case"object":for(var c in r)o+=e(t[c],r[c],a+"."+c);break;case"array":for(var u=0;u<r.length;u++)o+=e(t[u],r[u],a+"["+u+"]")}return o}(e,t,r);return{passed:!a,reason:a}}t.validType=i,t.assertType=function(e,t,r,n){void 0===r&&(r="parameter"),void 0===n&&(n=a.CloudSDKError);var o=i(e,t,r);if(!o.passed)throw new n({errCode:s.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:o.reason})},t.assertRequiredParam=function(e,t,r,n){if(void 0===n&&(n=a.CloudSDKError),void 0===e||null===e)throw new n({errCode:s.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter "+t+" of function "+r+" must be provided"})},t.assertStringLength=function(e){var t=e.name,r=e.input,n=e.max,i=e.maxWording,o=void 0===i?"":i,c=e.ErrorClass,u=void 0===c?a.CloudSDKError:c;if(r.length>n)throw new u({errCode:s.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:t+" size must be less than "+(o||n)})},t.assertObjectNotEmpty=function(e){var t=e.target,r=e.name,n=e.ErrorClass,i=void 0===n?a.CloudSDKError:n;if(0===Object.keys(t).length)throw new i({errCode:s.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:r+" must not be empty"})}},"./src/utils/error.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/type.ts"),s=r("./src/utils/msg.ts"),i=r("./src/config/error.config.ts"),o=function(e){function t(t){var r=e.call(this,t.errMsg)||this;return r.errCode=-1,Object.defineProperties(r,{message:{get:function(){return"errCode: "+this.errCode+" "+(i.ERR_CODE[this.errCode]||"")+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e}}}),r.errCode=t.errCode||-1,r.errMsg=t.errMsg,r}return n.__extends(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return"errCode: "+this.errCode+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e},enumerable:!0,configurable:!0}),t}(Error);function c(e){return e&&e instanceof Error&&a.isString(e.errMsg)}function u(e,t){if(void 0===t&&(t=""),e){if(c(e))return t&&(e.errMsg+="; "+t),e;var r=e?e.errCode:void 0,n=(e&&e.errMsg||e.toString()||"unknown error")+"; "+t;return new o({errCode:r,errMsg:n})}return new o({errMsg:t})}t.CloudSDKError=o,t.isSDKError=c,t.returnAsCloudSDKError=u,t.returnAsFinalCloudSDKError=function(e,t){if(e&&c(e))return e;var r=u(e,"at "+t+" api; ");return r.errMsg=s.apiFailMsg(t,r.errMsg),r}},"./src/utils/fail-safe.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/error.ts"),a=r("./src/utils/type.ts"),s=r("./src/externals/public-lib/reporter.ts");function i(e,t){void 0===t&&(t="");try{return e()}catch(e){if(n.isSDKError(e))return e.errMsg+=t,e;var r=(e?e.toString():"")+t;return new n.CloudSDKError({errMsg:r})}}t.tryCatch=i,t.wrapWithTryCatch=function(e,t){return void 0===t&&(t=""),function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return i(function(){return e.apply(e,r)},t)}},t.wrapParamCallbacksWithTryCatch=function(e){var t=e.param;t&&(t.success&&a.isFunction(t.success)&&(t.success=s.default.surroundThirdByTryCatch(t.success,"at api "+e.apiName+" success callback function")),t.fail&&a.isFunction(t.fail)&&(t.fail=s.default.surroundThirdByTryCatch(t.fail,"at api "+e.apiName+" fail callback function")),t.complete&&a.isFunction(t.complete)&&(t.complete=s.default.surroundThirdByTryCatch(t.complete,"at api "+e.apiName+" complete callback function")))}},"./src/utils/fn/clone.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/type.ts");t.shallowClone=function(e,t){if(void 0===t&&(t=!1),t)return function(e){switch(a.getType(e)){case"object":return n.__assign({},e);case"array":return e.slice();case"number":return e instanceof Number?new Number(e):e;case"string":return e instanceof String?new String(e):e;case"boolean":return e instanceof Boolean?new Boolean(e):e;case"date":return new e.constructor(+e);case"map":return new Map(e);case"set":return new Set(e);default:return e}}(e);if(a.isPlainObject(e))return n.__assign({},e);switch(a.getType(e)){case"object":return e;case"array":return e.slice();default:return e}}},"./src/utils/msg.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.apiSuccessMsg=function(e){return e+":ok"},t.apiCancelMsg=function(e,t){return e+":cancel "+t},t.apiFailMsg=function(e,t){return e+":fail "+t}},"./src/utils/serializer.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=r("./src/utils/error.ts"),s=r("./src/config/error.config.ts"),i=r("./src/utils/type.ts");function o(e,t){if(void 0===t&&(t="data"),null!==e&&void 0!==e){if(!0===e||!1===e)return e;switch(i.getType(e)){case"number":if(isFinite(e))return e;break;case"string":return e;case"array":return e.map(function(e,r){return o(e,t+"["+r+"]")});case"object":var r={};for(var c in e)e.hasOwnProperty(c)&&(r[c]=o(e[c],t+"."+c));return r;case"arraybuffer":var u=new Uint8Array(e);return{type:"Buffer",data:n.__spread(u)}}if("function"==typeof e)return e;!function(e){throw new a.CloudSDKError({errCode:s.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:e+" is not JSON-serializable"})}(t)}}function c(e){switch(i.getType(e)){case"object":return function e(t){var r=t;var n=u(r);if(r!==n)return n;for(var a in r){var s=r[a],o=i.getType(s);switch(o){case"object":var l=u(s);r[a]=l!==s?l:e(r[a]);break;case"array":var l=c(s);l!==s&&(r[a]=l);break;default:continue}}return r}(e);case"array":return e.map(c);default:return e}}function u(e){for(var t in e)switch(t){case"type":switch(e.type){case"Buffer":if(i.isArray(e.data)&&i.isNumber(e.data[0]))try{return new Uint8Array(e.data).buffer}catch(t){return e}}}return e}t.serialize=function(e){var t=o(e);return JSON.stringify(t)},t.toJSONSerializable=o,t.deserialize=function(e){return c(JSON.parse(e))}},"./src/utils/symbol.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/tslib/tslib.es6.js"),a=[],s={},i=function(e){function t(t,r){if(r!==s)throw new TypeError("InternalSymbol cannot be constructed with new operator");return e.call(this,t)||this}return n.__extends(t,e),t.for=function(e){for(var r=0,n=a.length;r<n;r++)if(a[r].target===e)return a[r].instance;var i=new t(e,s);return a.push({target:e,instance:i}),i},t}(function(){return function(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}}());t.InternalSymbol=i,t.default=i},"./src/utils/type.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/symbol.ts");t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},t.isObject=function(e){return"object"===t.getType(e)},t.isString=function(e){return"string"===t.getType(e)},t.isNumber=function(e){return"number"===t.getType(e)},t.isPromise=function(e){return"promise"===t.getType(e)},t.isFunction=function(e){return"function"==typeof e},t.isArray=function(e){return Array.isArray(e)},t.isDate=function(e){return"date"===t.getType(e)},t.isRegExp=function(e){return"regexp"===t.getType(e)},t.isInternalObject=function(e){return e&&e._internalType instanceof n.InternalSymbol},t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}}});
;try {
  wx.cloud = __cloudSDK__.getCloudAPI()
} catch(err) {
  console.warn('cloud sdk injection failed with error', err)
}
	var __wxAppConsole__ = console;definePlugin("plugin://wxa75efa648b60994b", function(define, require, module, exports, global, wx, App, Page, Component, Behavior, getApp, getCurrentPages, console) {            var __vd_version_info__=__vd_version_info__||{};            if (typeof console === 'undefined') {console=__wxAppConsole__; };			
			/*v0.5vv_20190703_syb_scopedata*/global.__wcc_version__='v0.5vv_20190703_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx_wxa75efa648b60994b=function(path,global){
if(typeof global === 'undefined') global={};if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
function _(a,b){if(typeof(b)!='undefined')a.children.push(b);}
function _v(k){if(typeof(k)!='undefined')return {tag:'virtual','wxKey':k,children:[]};return {tag:'virtual',children:[]};}
function _n(tag){$gwxc++;if($gwxc>=16000){throw 'Dom limit exceeded, please check if there\'s any mistake you\'ve made.'};return {tag:'wx-'+tag,attr:{},children:[],n:[],raw:{},generics:{}}}
function _p(a,b){b&&a.properities.push(b);}
function _s(scope,env,key){return typeof(scope[key])!='undefined'?scope[key]:env[key]}
function _wp(m){console.warn("WXMLRT_$gwx_wxa75efa648b60994b:"+m)}
function _wl(tname,prefix){_wp(prefix+':-1:-1:-1: Template `' + tname + '` is being called recursively, will be stop.')}
$gwn=console.warn;
$gwl=console.log;
function $gwh()
{
function x()
{
}
x.prototype = 
{
hn: function( obj, all )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && ( all || obj.__wxspec__ !== 'm' || this.hn(obj.__value__) === 'h' ) ? "h" : "n";
}
return "n";
},
nh: function( obj, special )
{
return { __value__: obj, __wxspec__: special ? special : true }
},
rv: function( obj )
{
return this.hn(obj,true)==='n'?obj:this.rv(obj.__value__);
},
hm: function( obj )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && (obj.__wxspec__ === 'm' || this.hm(obj.__value__) );
}
return false;
}
}
return new x;
}
wh=$gwh();
function $gstack(s){
var tmp=s.split('\n '+' '+' '+' ');
for(var i=0;i<tmp.length;++i){
if(0==i) continue;
if(")"===tmp[i][tmp[i].length-1])
tmp[i]=tmp[i].replace(/\s\(.*\)$/,"");
else
tmp[i]="at anonymous function";
}
return tmp.join('\n '+' '+' '+' ');
}
function $gwrt( should_pass_type_info )
{
function ArithmeticEv( ops, e, s, g, o )
{
var _f = false;
var rop = ops[0][1];
var _a,_b,_c,_d, _aa, _bb;
switch( rop )
{
case '?:':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : rev( ops[3], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '&&':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : wh.rv( _a );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '||':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? wh.rv(_a) : rev( ops[2], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '+':
case '*':
case '/':
case '%':
case '|':
case '^':
case '&':
case '===':
case '==':
case '!=':
case '!==':
case '>=':
case '<=':
case '>':
case '<':
case '<<':
case '>>':
_a = rev( ops[1], e, s, g, o, _f );
_b = rev( ops[2], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
switch( rop )
{
case '+':
_d = wh.rv( _a ) + wh.rv( _b );
break;
case '*':
_d = wh.rv( _a ) * wh.rv( _b );
break;
case '/':
_d = wh.rv( _a ) / wh.rv( _b );
break;
case '%':
_d = wh.rv( _a ) % wh.rv( _b );
break;
case '|':
_d = wh.rv( _a ) | wh.rv( _b );
break;
case '^':
_d = wh.rv( _a ) ^ wh.rv( _b );
break;
case '&':
_d = wh.rv( _a ) & wh.rv( _b );
break;
case '===':
_d = wh.rv( _a ) === wh.rv( _b );
break;
case '==':
_d = wh.rv( _a ) == wh.rv( _b );
break;
case '!=':
_d = wh.rv( _a ) != wh.rv( _b );
break;
case '!==':
_d = wh.rv( _a ) !== wh.rv( _b );
break;
case '>=':
_d = wh.rv( _a ) >= wh.rv( _b );
break;
case '<=':
_d = wh.rv( _a ) <= wh.rv( _b );
break;
case '>':
_d = wh.rv( _a ) > wh.rv( _b );
break;
case '<':
_d = wh.rv( _a ) < wh.rv( _b );
break;
case '<<':
_d = wh.rv( _a ) << wh.rv( _b );
break;
case '>>':
_d = wh.rv( _a ) >> wh.rv( _b );
break;
default:
break;
}
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '-':
_a = ops.length === 3 ? rev( ops[1], e, s, g, o, _f ) : 0;
_b = ops.length === 3 ? rev( ops[2], e, s, g, o, _f ) : rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
_d = _c ? wh.rv( _a ) - wh.rv( _b ) : _a - _b;
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '!':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = !wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
case '~':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = ~wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
default:
$gwn('unrecognized op' + rop );
}
}
function rev( ops, e, s, g, o, newap )
{
var op = ops[0];
var _f = false;
if ( typeof newap !== "undefined" ) o.ap = newap;
if( typeof(op)==='object' )
{
var vop=op[0];
var _a, _aa, _b, _bb, _c, _d, _s, _e, _ta, _tb, _td;
switch(vop)
{
case 2:
return ArithmeticEv(ops,e,s,g,o);
break;
case 4: 
return rev( ops[1], e, s, g, o, _f );
break;
case 5: 
switch( ops.length )
{
case 2: 
_a = rev( ops[1],e,s,g,o,_f );
return should_pass_type_info?[_a]:[wh.rv(_a)];
return [_a];
break;
case 1: 
return [];
break;
default:
_a = rev( ops[1],e,s,g,o,_f );
_b = rev( ops[2],e,s,g,o,_f );
_a.push( 
should_pass_type_info ?
_b :
wh.rv( _b )
);
return _a;
break;
}
break;
case 6:
_a = rev(ops[1],e,s,g,o);
var ap = o.ap;
_ta = wh.hn(_a)==='h';
_aa = _ta ? wh.rv(_a) : _a;
o.is_affected |= _ta;
if( should_pass_type_info )
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return _ta ? wh.nh(undefined, 'e') : undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return (_ta || _tb) ? wh.nh(undefined, 'e') : undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return (_ta || _tb) ? (_td ? _d : wh.nh(_d, 'e')) : _d;
}
else
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return _td ? wh.rv(_d) : _d;
}
case 7: 
switch(ops[1][0])
{
case 11:
o.is_affected |= wh.hn(g)==='h';
return g;
case 3:
_s = wh.rv( s );
_e = wh.rv( e );
_b = ops[1][1];
if (g && g.f && g.f.hasOwnProperty(_b) )
{
_a = g.f;
o.ap = true;
}
else
{
_a = _s && _s.hasOwnProperty(_b) ? 
s : (_e && _e.hasOwnProperty(_b) ? e : undefined );
}
if( should_pass_type_info )
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
_d = _ta && !_td ? wh.nh(_d,'e') : _d;
return _d;
}
}
else
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
return wh.rv(_d);
}
}
return undefined;
}
break;
case 8: 
_a = {};
_a[ops[1]] = rev(ops[2],e,s,g,o,_f);
return _a;
break;
case 9: 
_a = rev(ops[1],e,s,g,o,_f);
_b = rev(ops[2],e,s,g,o,_f);
function merge( _a, _b, _ow )
{
var ka, _bbk;
_ta = wh.hn(_a)==='h';
_tb = wh.hn(_b)==='h';
_aa = wh.rv(_a);
_bb = wh.rv(_b);
for(var k in _bb)
{
if ( _ow || !_aa.hasOwnProperty(k) )
{
_aa[k] = should_pass_type_info ? (_tb ? wh.nh(_bb[k],'e') : _bb[k]) : wh.rv(_bb[k]);
}
}
return _a;
}
var _c = _a
var _ow = true
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
_a = _b
_b = _c
_ow = false
}
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
var _r = {}
return merge( merge( _r, _a, _ow ), _b, _ow );
}
else
return merge( _a, _b, _ow );
break;
case 10:
_a = rev(ops[1],e,s,g,o,_f);
_a = should_pass_type_info ? _a : wh.rv( _a );
return _a ;
break;
case 12:
var _r;
_a = rev(ops[1],e,s,g,o);
if ( !o.ap )
{
return should_pass_type_info && wh.hn(_a)==='h' ? wh.nh( _r, 'f' ) : _r;
}
var ap = o.ap;
_b = rev(ops[2],e,s,g,o,_f);
o.ap = ap;
_ta = wh.hn(_a)==='h';
_tb = _ca(_b);
_aa = wh.rv(_a);	
_bb = wh.rv(_b); snap_bb=$gdc(_bb,"nv_");
try{
_r = typeof _aa === "function" ? $gdc(_aa.apply(null, snap_bb)) : undefined;
} catch (e){
e.message = e.message.replace(/nv_/g,"");
e.stack = e.stack.substring(0,e.stack.indexOf("\n", e.stack.lastIndexOf("at nv_")));
e.stack = e.stack.replace(/\snv_/g," "); 
e.stack = $gstack(e.stack);	
if(g.debugInfo)
{
e.stack += "\n "+" "+" "+" at "+g.debugInfo[0]+":"+g.debugInfo[1]+":"+g.debugInfo[2];
console.error(e);
}
_r = undefined;
}
return should_pass_type_info && (_tb || _ta) ? wh.nh( _r, 'f' ) : _r;
}
}
else
{
if( op === 3 || op === 1) return ops[1];
else if( op === 11 ) 
{
var _a='';
for( var i = 1 ; i < ops.length ; i++ )
{
var xp = wh.rv(rev(ops[i],e,s,g,o,_f));
_a += typeof(xp) === 'undefined' ? '' : xp;
}
return _a;
}
}
}
function wrapper( ops, e, s, g, o, newap )
{
if( ops[0] == '11182016' )
{
g.debugInfo = ops[2];
return rev( ops[1], e, s, g, o, newap );
}
else
{
g.debugInfo = null;
return rev( ops, e, s, g, o, newap );
}
}
return wrapper;
}
gra=$gwrt(true); 
grb=$gwrt(false); 
function TestTest( expr, ops, e,s,g, expect_a, expect_b, expect_affected )
{
{
var o = {is_affected:false};
var a = gra( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_a )
|| o.is_affected != expect_affected )
{
console.warn( "A. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_a ) + ", " + expect_affected + " is expected" );
}
}
{
var o = {is_affected:false};
var a = grb( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_b )
|| o.is_affected != expect_affected )
{
console.warn( "B. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_b ) + ", " + expect_affected + " is expected" );
}
}
}

function wfor( to_iter, func, env, _s, global, father, itemname, indexname, keyname )
{
var _n = wh.hn( to_iter ) === 'n'; 
var scope = wh.rv( _s ); 
var has_old_item = scope.hasOwnProperty(itemname);
var has_old_index = scope.hasOwnProperty(indexname);
var old_item = scope[itemname];
var old_index = scope[indexname];
var full = Object.prototype.toString.call(wh.rv(to_iter));
var type = full[8]; 
if( type === 'N' && full[10] === 'l' ) type = 'X'; 
var _y;
if( _n )
{
if( type === 'A' ) 
{
var r_iter_item;
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
r_iter_item = wh.rv(to_iter[i]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i = 0;
var r_iter_item;
for( var k in to_iter )
{
scope[itemname] = to_iter[k];
scope[indexname] = _n ? k : wh.nh(k, 'h');
r_iter_item = wh.rv(to_iter[k]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env,scope,_y,global );
i++;
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env,scope,_y,global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < to_iter ; i++ )
{
scope[itemname] = i;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
else
{
var r_to_iter = wh.rv(to_iter);
var r_iter_item, iter_item;
if( type === 'A' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = r_to_iter[i];
iter_item = wh.hn(iter_item)==='n' ? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item
scope[indexname] = _n ? i : wh.nh(i, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i=0;
for( var k in r_to_iter )
{
iter_item = r_to_iter[k];
iter_item = wh.hn(iter_item)==='n'? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item;
scope[indexname] = _n ? k : wh.nh(k, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y=_v(key);
_(father,_y);
func( env, scope, _y, global );
i++
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = wh.nh(r_to_iter[i],'h');
scope[itemname] = iter_item;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < r_to_iter ; i++ )
{
iter_item = wh.nh(i,'h');
scope[itemname] = iter_item;
scope[indexname]= _n ? i : wh.nh(i,'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
if(has_old_item)
{
scope[itemname]=old_item;
}
else
{
delete scope[itemname];
}
if(has_old_index)
{
scope[indexname]=old_index;
}
else
{
delete scope[indexname];
}
}

function _ca(o)
{ 
if ( wh.hn(o) == 'h' ) return true;
if ( typeof o !== "object" ) return false;
for(var i in o){ 
if ( o.hasOwnProperty(i) ){
if (_ca(o[i])) return true;
}
}
return false;
}
function _da( node, attrname, opindex, raw, o )
{
var isaffected = false;
var value = $gdc( raw, "", 2 );
if ( o.ap && value && value.constructor===Function ) 
{
attrname = "$wxs:" + attrname; 
node.attr["$gdc"] = $gdc;
}
if ( o.is_affected || _ca(raw) ) 
{
node.n.push( attrname );
node.raw[attrname] = raw;
}
node.attr[attrname] = value;
}
function _r( node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _rz( z, node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _o( opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _oz( z, opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _1( opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _1z( z, opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _2( opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1( opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}
function _2z( z, opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1z( z, opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}


function _m(tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_r(tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}
function _mz(z,tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_rz(z, tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}

var nf_init=function(){
if(typeof __WXML_GLOBAL__==="undefined"||undefined===__WXML_GLOBAL__.wxs_nf_init){
nf_init_Object();nf_init_Function();nf_init_Array();nf_init_String();nf_init_Boolean();nf_init_Number();nf_init_Math();nf_init_Date();nf_init_RegExp();
}
if(typeof __WXML_GLOBAL__!=="undefined") __WXML_GLOBAL__.wxs_nf_init=true;
};
var nf_init_Object=function(){
Object.defineProperty(Object.prototype,"nv_constructor",{writable:true,value:"Object"})
Object.defineProperty(Object.prototype,"nv_toString",{writable:true,value:function(){return "[object Object]"}})
}
var nf_init_Function=function(){
Object.defineProperty(Function.prototype,"nv_constructor",{writable:true,value:"Function"})
Object.defineProperty(Function.prototype,"nv_length",{get:function(){return this.length;},set:function(){}});
Object.defineProperty(Function.prototype,"nv_toString",{writable:true,value:function(){return "[function Function]"}})
}
var nf_init_Array=function(){
Object.defineProperty(Array.prototype,"nv_toString",{writable:true,value:function(){return this.nv_join();}})
Object.defineProperty(Array.prototype,"nv_join",{writable:true,value:function(s){
s=undefined==s?',':s;
var r="";
for(var i=0;i<this.length;++i){
if(0!=i) r+=s;
if(null==this[i]||undefined==this[i]) r+='';	
else if(typeof this[i]=='function') r+=this[i].nv_toString();
else if(typeof this[i]=='object'&&this[i].nv_constructor==="Array") r+=this[i].nv_join();
else r+=this[i].toString();
}
return r;
}})
Object.defineProperty(Array.prototype,"nv_constructor",{writable:true,value:"Array"})
Object.defineProperty(Array.prototype,"nv_concat",{writable:true,value:Array.prototype.concat})
Object.defineProperty(Array.prototype,"nv_pop",{writable:true,value:Array.prototype.pop})
Object.defineProperty(Array.prototype,"nv_push",{writable:true,value:Array.prototype.push})
Object.defineProperty(Array.prototype,"nv_reverse",{writable:true,value:Array.prototype.reverse})
Object.defineProperty(Array.prototype,"nv_shift",{writable:true,value:Array.prototype.shift})
Object.defineProperty(Array.prototype,"nv_slice",{writable:true,value:Array.prototype.slice})
Object.defineProperty(Array.prototype,"nv_sort",{writable:true,value:Array.prototype.sort})
Object.defineProperty(Array.prototype,"nv_splice",{writable:true,value:Array.prototype.splice})
Object.defineProperty(Array.prototype,"nv_unshift",{writable:true,value:Array.prototype.unshift})
Object.defineProperty(Array.prototype,"nv_indexOf",{writable:true,value:Array.prototype.indexOf})
Object.defineProperty(Array.prototype,"nv_lastIndexOf",{writable:true,value:Array.prototype.lastIndexOf})
Object.defineProperty(Array.prototype,"nv_every",{writable:true,value:Array.prototype.every})
Object.defineProperty(Array.prototype,"nv_some",{writable:true,value:Array.prototype.some})
Object.defineProperty(Array.prototype,"nv_forEach",{writable:true,value:Array.prototype.forEach})
Object.defineProperty(Array.prototype,"nv_map",{writable:true,value:Array.prototype.map})
Object.defineProperty(Array.prototype,"nv_filter",{writable:true,value:Array.prototype.filter})
Object.defineProperty(Array.prototype,"nv_reduce",{writable:true,value:Array.prototype.reduce})
Object.defineProperty(Array.prototype,"nv_reduceRight",{writable:true,value:Array.prototype.reduceRight})
Object.defineProperty(Array.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_String=function(){
Object.defineProperty(String.prototype,"nv_constructor",{writable:true,value:"String"})
Object.defineProperty(String.prototype,"nv_toString",{writable:true,value:String.prototype.toString})
Object.defineProperty(String.prototype,"nv_valueOf",{writable:true,value:String.prototype.valueOf})
Object.defineProperty(String.prototype,"nv_charAt",{writable:true,value:String.prototype.charAt})
Object.defineProperty(String.prototype,"nv_charCodeAt",{writable:true,value:String.prototype.charCodeAt})
Object.defineProperty(String.prototype,"nv_concat",{writable:true,value:String.prototype.concat})
Object.defineProperty(String.prototype,"nv_indexOf",{writable:true,value:String.prototype.indexOf})
Object.defineProperty(String.prototype,"nv_lastIndexOf",{writable:true,value:String.prototype.lastIndexOf})
Object.defineProperty(String.prototype,"nv_localeCompare",{writable:true,value:String.prototype.localeCompare})
Object.defineProperty(String.prototype,"nv_match",{writable:true,value:String.prototype.match})
Object.defineProperty(String.prototype,"nv_replace",{writable:true,value:String.prototype.replace})
Object.defineProperty(String.prototype,"nv_search",{writable:true,value:String.prototype.search})
Object.defineProperty(String.prototype,"nv_slice",{writable:true,value:String.prototype.slice})
Object.defineProperty(String.prototype,"nv_split",{writable:true,value:String.prototype.split})
Object.defineProperty(String.prototype,"nv_substring",{writable:true,value:String.prototype.substring})
Object.defineProperty(String.prototype,"nv_toLowerCase",{writable:true,value:String.prototype.toLowerCase})
Object.defineProperty(String.prototype,"nv_toLocaleLowerCase",{writable:true,value:String.prototype.toLocaleLowerCase})
Object.defineProperty(String.prototype,"nv_toUpperCase",{writable:true,value:String.prototype.toUpperCase})
Object.defineProperty(String.prototype,"nv_toLocaleUpperCase",{writable:true,value:String.prototype.toLocaleUpperCase})
Object.defineProperty(String.prototype,"nv_trim",{writable:true,value:String.prototype.trim})
Object.defineProperty(String.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_Boolean=function(){
Object.defineProperty(Boolean.prototype,"nv_constructor",{writable:true,value:"Boolean"})
Object.defineProperty(Boolean.prototype,"nv_toString",{writable:true,value:Boolean.prototype.toString})
Object.defineProperty(Boolean.prototype,"nv_valueOf",{writable:true,value:Boolean.prototype.valueOf})
}
var nf_init_Number=function(){
Object.defineProperty(Number,"nv_MAX_VALUE",{writable:false,value:Number.MAX_VALUE})
Object.defineProperty(Number,"nv_MIN_VALUE",{writable:false,value:Number.MIN_VALUE})
Object.defineProperty(Number,"nv_NEGATIVE_INFINITY",{writable:false,value:Number.NEGATIVE_INFINITY})
Object.defineProperty(Number,"nv_POSITIVE_INFINITY",{writable:false,value:Number.POSITIVE_INFINITY})
Object.defineProperty(Number.prototype,"nv_constructor",{writable:true,value:"Number"})
Object.defineProperty(Number.prototype,"nv_toString",{writable:true,value:Number.prototype.toString})
Object.defineProperty(Number.prototype,"nv_toLocaleString",{writable:true,value:Number.prototype.toLocaleString})
Object.defineProperty(Number.prototype,"nv_valueOf",{writable:true,value:Number.prototype.valueOf})
Object.defineProperty(Number.prototype,"nv_toFixed",{writable:true,value:Number.prototype.toFixed})
Object.defineProperty(Number.prototype,"nv_toExponential",{writable:true,value:Number.prototype.toExponential})
Object.defineProperty(Number.prototype,"nv_toPrecision",{writable:true,value:Number.prototype.toPrecision})
}
var nf_init_Math=function(){
Object.defineProperty(Math,"nv_E",{writable:false,value:Math.E})
Object.defineProperty(Math,"nv_LN10",{writable:false,value:Math.LN10})
Object.defineProperty(Math,"nv_LN2",{writable:false,value:Math.LN2})
Object.defineProperty(Math,"nv_LOG2E",{writable:false,value:Math.LOG2E})
Object.defineProperty(Math,"nv_LOG10E",{writable:false,value:Math.LOG10E})
Object.defineProperty(Math,"nv_PI",{writable:false,value:Math.PI})
Object.defineProperty(Math,"nv_SQRT1_2",{writable:false,value:Math.SQRT1_2})
Object.defineProperty(Math,"nv_SQRT2",{writable:false,value:Math.SQRT2})
Object.defineProperty(Math,"nv_abs",{writable:false,value:Math.abs})
Object.defineProperty(Math,"nv_acos",{writable:false,value:Math.acos})
Object.defineProperty(Math,"nv_asin",{writable:false,value:Math.asin})
Object.defineProperty(Math,"nv_atan",{writable:false,value:Math.atan})
Object.defineProperty(Math,"nv_atan2",{writable:false,value:Math.atan2})
Object.defineProperty(Math,"nv_ceil",{writable:false,value:Math.ceil})
Object.defineProperty(Math,"nv_cos",{writable:false,value:Math.cos})
Object.defineProperty(Math,"nv_exp",{writable:false,value:Math.exp})
Object.defineProperty(Math,"nv_floor",{writable:false,value:Math.floor})
Object.defineProperty(Math,"nv_log",{writable:false,value:Math.log})
Object.defineProperty(Math,"nv_max",{writable:false,value:Math.max})
Object.defineProperty(Math,"nv_min",{writable:false,value:Math.min})
Object.defineProperty(Math,"nv_pow",{writable:false,value:Math.pow})
Object.defineProperty(Math,"nv_random",{writable:false,value:Math.random})
Object.defineProperty(Math,"nv_round",{writable:false,value:Math.round})
Object.defineProperty(Math,"nv_sin",{writable:false,value:Math.sin})
Object.defineProperty(Math,"nv_sqrt",{writable:false,value:Math.sqrt})
Object.defineProperty(Math,"nv_tan",{writable:false,value:Math.tan})
}
var nf_init_Date=function(){
Object.defineProperty(Date.prototype,"nv_constructor",{writable:true,value:"Date"})
Object.defineProperty(Date,"nv_parse",{writable:true,value:Date.parse})
Object.defineProperty(Date,"nv_UTC",{writable:true,value:Date.UTC})
Object.defineProperty(Date,"nv_now",{writable:true,value:Date.now})
Object.defineProperty(Date.prototype,"nv_toString",{writable:true,value:Date.prototype.toString})
Object.defineProperty(Date.prototype,"nv_toDateString",{writable:true,value:Date.prototype.toDateString})
Object.defineProperty(Date.prototype,"nv_toTimeString",{writable:true,value:Date.prototype.toTimeString})
Object.defineProperty(Date.prototype,"nv_toLocaleString",{writable:true,value:Date.prototype.toLocaleString})
Object.defineProperty(Date.prototype,"nv_toLocaleDateString",{writable:true,value:Date.prototype.toLocaleDateString})
Object.defineProperty(Date.prototype,"nv_toLocaleTimeString",{writable:true,value:Date.prototype.toLocaleTimeString})
Object.defineProperty(Date.prototype,"nv_valueOf",{writable:true,value:Date.prototype.valueOf})
Object.defineProperty(Date.prototype,"nv_getTime",{writable:true,value:Date.prototype.getTime})
Object.defineProperty(Date.prototype,"nv_getFullYear",{writable:true,value:Date.prototype.getFullYear})
Object.defineProperty(Date.prototype,"nv_getUTCFullYear",{writable:true,value:Date.prototype.getUTCFullYear})
Object.defineProperty(Date.prototype,"nv_getMonth",{writable:true,value:Date.prototype.getMonth})
Object.defineProperty(Date.prototype,"nv_getUTCMonth",{writable:true,value:Date.prototype.getUTCMonth})
Object.defineProperty(Date.prototype,"nv_getDate",{writable:true,value:Date.prototype.getDate})
Object.defineProperty(Date.prototype,"nv_getUTCDate",{writable:true,value:Date.prototype.getUTCDate})
Object.defineProperty(Date.prototype,"nv_getDay",{writable:true,value:Date.prototype.getDay})
Object.defineProperty(Date.prototype,"nv_getUTCDay",{writable:true,value:Date.prototype.getUTCDay})
Object.defineProperty(Date.prototype,"nv_getHours",{writable:true,value:Date.prototype.getHours})
Object.defineProperty(Date.prototype,"nv_getUTCHours",{writable:true,value:Date.prototype.getUTCHours})
Object.defineProperty(Date.prototype,"nv_getMinutes",{writable:true,value:Date.prototype.getMinutes})
Object.defineProperty(Date.prototype,"nv_getUTCMinutes",{writable:true,value:Date.prototype.getUTCMinutes})
Object.defineProperty(Date.prototype,"nv_getSeconds",{writable:true,value:Date.prototype.getSeconds})
Object.defineProperty(Date.prototype,"nv_getUTCSeconds",{writable:true,value:Date.prototype.getUTCSeconds})
Object.defineProperty(Date.prototype,"nv_getMilliseconds",{writable:true,value:Date.prototype.getMilliseconds})
Object.defineProperty(Date.prototype,"nv_getUTCMilliseconds",{writable:true,value:Date.prototype.getUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_getTimezoneOffset",{writable:true,value:Date.prototype.getTimezoneOffset})
Object.defineProperty(Date.prototype,"nv_setTime",{writable:true,value:Date.prototype.setTime})
Object.defineProperty(Date.prototype,"nv_setMilliseconds",{writable:true,value:Date.prototype.setMilliseconds})
Object.defineProperty(Date.prototype,"nv_setUTCMilliseconds",{writable:true,value:Date.prototype.setUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_setSeconds",{writable:true,value:Date.prototype.setSeconds})
Object.defineProperty(Date.prototype,"nv_setUTCSeconds",{writable:true,value:Date.prototype.setUTCSeconds})
Object.defineProperty(Date.prototype,"nv_setMinutes",{writable:true,value:Date.prototype.setMinutes})
Object.defineProperty(Date.prototype,"nv_setUTCMinutes",{writable:true,value:Date.prototype.setUTCMinutes})
Object.defineProperty(Date.prototype,"nv_setHours",{writable:true,value:Date.prototype.setHours})
Object.defineProperty(Date.prototype,"nv_setUTCHours",{writable:true,value:Date.prototype.setUTCHours})
Object.defineProperty(Date.prototype,"nv_setDate",{writable:true,value:Date.prototype.setDate})
Object.defineProperty(Date.prototype,"nv_setUTCDate",{writable:true,value:Date.prototype.setUTCDate})
Object.defineProperty(Date.prototype,"nv_setMonth",{writable:true,value:Date.prototype.setMonth})
Object.defineProperty(Date.prototype,"nv_setUTCMonth",{writable:true,value:Date.prototype.setUTCMonth})
Object.defineProperty(Date.prototype,"nv_setFullYear",{writable:true,value:Date.prototype.setFullYear})
Object.defineProperty(Date.prototype,"nv_setUTCFullYear",{writable:true,value:Date.prototype.setUTCFullYear})
Object.defineProperty(Date.prototype,"nv_toUTCString",{writable:true,value:Date.prototype.toUTCString})
Object.defineProperty(Date.prototype,"nv_toISOString",{writable:true,value:Date.prototype.toISOString})
Object.defineProperty(Date.prototype,"nv_toJSON",{writable:true,value:Date.prototype.toJSON})
}
var nf_init_RegExp=function(){
Object.defineProperty(RegExp.prototype,"nv_constructor",{writable:true,value:"RegExp"})
Object.defineProperty(RegExp.prototype,"nv_exec",{writable:true,value:RegExp.prototype.exec})
Object.defineProperty(RegExp.prototype,"nv_test",{writable:true,value:RegExp.prototype.test})
Object.defineProperty(RegExp.prototype,"nv_toString",{writable:true,value:RegExp.prototype.toString})
Object.defineProperty(RegExp.prototype,"nv_source",{get:function(){return this.source;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_global",{get:function(){return this.global;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_ignoreCase",{get:function(){return this.ignoreCase;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_multiline",{get:function(){return this.multiline;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_lastIndex",{get:function(){return this.lastIndex;},set:function(v){this.lastIndex=v;}});
}
nf_init();
var nv_getDate=function(){var args=Array.prototype.slice.call(arguments);args.unshift(Date);return new(Function.prototype.bind.apply(Date, args));}
var nv_getRegExp=function(){var args=Array.prototype.slice.call(arguments);args.unshift(RegExp);return new(Function.prototype.bind.apply(RegExp, args));}
var nv_console={}
nv_console.nv_log=function(){var res="WXSRT:";for(var i=0;i<arguments.length;++i)res+=arguments[i]+" ";console.log(res);}
var nv_parseInt = parseInt, nv_parseFloat = parseFloat, nv_isNaN = isNaN, nv_isFinite = isFinite, nv_decodeURI = decodeURI, nv_decodeURIComponent = decodeURIComponent, nv_encodeURI = encodeURI, nv_encodeURIComponent = encodeURIComponent;
function $gdc(o,p,r) {
o=wh.rv(o);
if(o===null||o===undefined) return o;
if(o.constructor===String||o.constructor===Boolean||o.constructor===Number) return o;
if(o.constructor===Object){
var copy={};
for(var k in o)
if(o.hasOwnProperty(k))
if(undefined===p) copy[k.substring(3)]=$gdc(o[k],p,r);
else copy[p+k]=$gdc(o[k],p,r);
return copy;
}
if(o.constructor===Array){
var copy=[];
for(var i=0;i<o.length;i++) copy.push($gdc(o[i],p,r));
return copy;
}
if(o.constructor===Date){
var copy=new Date();
copy.setTime(o.getTime());
return copy;
}
if(o.constructor===RegExp){
var f="";
if(o.global) f+="g";
if(o.ignoreCase) f+="i";
if(o.multiline) f+="m";
return (new RegExp(o.source,f));
}
if(r&&o.constructor===Function){
if ( r == 1 ) return $gdc(o(),undefined, 2);
if ( r == 2 ) return o;
}
return null;
}
var nv_JSON={}
nv_JSON.nv_stringify=function(o){
JSON.stringify(o);
return JSON.stringify($gdc(o));
}
nv_JSON.nv_parse=function(o){
if(o===undefined) return undefined;
var t=JSON.parse(o);
return $gdc(t,'nv_');
}

function _af(p, a, r, c){
p.extraAttr = {"t_action": a, "t_rawid": r };
if ( typeof(c) != 'undefined' ) p.extraAttr.t_cid = c;
}

function _ai(i,p,e,me,r,c){var x=_grp(p,e,me);if(x)i.push(x);else{i.push('');_wp(me+':import:'+r+':'+c+': Path `'+p+'` not found from `'+me+'`.')}}
function _grp(p,e,me){if(p[0]!='/'){var mepart=me.split('/');mepart.pop();var ppart=p.split('/');for(var i=0;i<ppart.length;i++){if( ppart[i]=='..')mepart.pop();else if(!ppart[i]||ppart[i]=='.')continue;else mepart.push(ppart[i]);}p=mepart.join('/');}if(me[0]=='.'&&p[0]=='/')p='.'+p;if(e[p])return p;if(e[p+'.wxml'])return p+'.wxml';}
function _gd(p,c,e,d){if(!c)return;if(d[p][c])return d[p][c];for(var x=e[p].i.length-1;x>=0;x--){if(e[p].i[x]&&d[e[p].i[x]][c])return d[e[p].i[x]][c]};for(var x=e[p].ti.length-1;x>=0;x--){var q=_grp(e[p].ti[x],e,p);if(q&&d[q][c])return d[q][c]}var ii=_gapi(e,p);for(var x=0;x<ii.length;x++){if(ii[x]&&d[ii[x]][c])return d[ii[x]][c]}for(var k=e[p].j.length-1;k>=0;k--)if(e[p].j[k]){for(var q=e[e[p].j[k]].ti.length-1;q>=0;q--){var pp=_grp(e[e[p].j[k]].ti[q],e,p);if(pp&&d[pp][c]){return d[pp][c]}}}}
function _gapi(e,p){if(!p)return [];if($gaic[p]){return $gaic[p]};var ret=[],q=[],h=0,t=0,put={},visited={};q.push(p);visited[p]=true;t++;while(h<t){var a=q[h++];for(var i=0;i<e[a].ic.length;i++){var nd=e[a].ic[i];var np=_grp(nd,e,a);if(np&&!visited[np]){visited[np]=true;q.push(np);t++;}}for(var i=0;a!=p&&i<e[a].ti.length;i++){var ni=e[a].ti[i];var nm=_grp(ni,e,a);if(nm&&!put[nm]){put[nm]=true;ret.push(nm);}}}$gaic[p]=ret;return ret;}
var $ixc={};function _ic(p,ent,me,e,s,r,gg){var x=_grp(p,ent,me);ent[me].j.push(x);if(x){if($ixc[x]){_wp('-1:include:-1:-1: `'+p+'` is being included in a loop, will be stop.');return;}$ixc[x]=true;try{ent[x].f(e,s,r,gg)}catch(e){}$ixc[x]=false;}else{_wp(me+':include:-1:-1: Included path `'+p+'` not found from `'+me+'`.')}}
function _w(tn,f,line,c){_wp(f+':template:'+line+':'+c+': Template `'+tn+'` not found.');}function _ev(dom){var changed=false;delete dom.properities;delete dom.n;if(dom.children){do{changed=false;var newch = [];for(var i=0;i<dom.children.length;i++){var ch=dom.children[i];if( ch.tag=='virtual'){changed=true;for(var j=0;ch.children&&j<ch.children.length;j++){newch.push(ch.children[j]);}}else { newch.push(ch); } } dom.children = newch; }while(changed);for(var i=0;i<dom.children.length;i++){_ev(dom.children[i]);}} return dom; }
function _tsd( root )
{
if( root.tag == "wx-wx-scope" ) 
{
root.tag = "virtual";
root.wxCkey = "11";
root['wxScopeData'] = root.attr['wx:scope-data'];
delete root.n;
delete root.raw;
delete root.generics;
delete root.attr;
}
for( var i = 0 ; root.children && i < root.children.length ; i++ )
{
_tsd( root.children[i] );
}
return root;
}

var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_wxa75efa648b60994b || [];
function gz$gwx_wxa75efa648b60994b_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_1)return __WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_1
__WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'autoplay']])
Z([3,'__onTvpEnded'])
Z([3,'__onTvpError'])
Z([3,'__onTvpFullScreenChange'])
Z([3,'__onTvpPause'])
Z([3,'__onTvpPlay'])
Z([3,'__onTvpTimeupdate'])
Z([3,'__onTvpWaiting'])
Z([3,'player_video'])
Z([[2,'!'],[[7],[3,'tvpIsAd']]])
Z([[7],[3,'danmuBtn']])
Z([[7],[3,'danmuList']])
Z([[7],[3,'enableDanmu']])
Z([[2,'||'],[[7],[3,'isHiddenVideo']],[[2,'=='],[[7],[3,'tvpState']],[1,'error']]])
Z([[7],[3,'playerid']])
Z([[7],[3,'poster']])
Z([[7],[3,'showCenterPlayBtn']])
Z([[7],[3,'tvpUrl']])
Z([[7],[3,'title']])
})(__WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_1);return __WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_1
}
function gz$gwx_wxa75efa648b60994b_2(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_2)return __WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_2
__WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_2=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'mod_player '],[[2,'?:'],[[7],[3,'isHiddenWithVoice']],[1,'hidden_with_voice'],[1,'']]])
Z([[7],[3,'isHiddenContainer']])
Z([a,[3,'width: '],[[7],[3,'width']],[3,'; height: '],[[7],[3,'height']]])
Z([[7],[3,'adUnitId']])
Z([[7],[3,'autoPauseIfNavigate']])
Z([[7],[3,'autoPauseIfOpenNative']])
Z([[7],[3,'autoplay']])
Z([3,'_onTvpControlstoggle'])
Z([3,'__onTvpEnded'])
Z([3,'__onTvpError'])
Z([3,'__onTvpFullScreenChange'])
Z([3,'_onTvpLoadedmetadata'])
Z([3,'__onTvpPause'])
Z([3,'__onTvpPlay'])
Z([3,'__onTvpProgress'])
Z([3,'__onTvpTimeupdate'])
Z([3,'__onTvpWaiting'])
Z([3,'player_video'])
Z([[2,'!'],[[2,'==='],[[7],[3,'controls']],[1,false]]])
Z([[7],[3,'danmuBtn']])
Z([[7],[3,'danmuList']])
Z([[2,'?:'],[[2,'==='],[[7],[3,'direction']],[[2,'-'],[1,1]]],[1,90],[[7],[3,'direction']]])
Z([[7],[3,'enableDanmu']])
Z([[7],[3,'enablePlayGesture']])
Z([[2,'?:'],[[7],[3,'tvpIsAd']],[1,false],[[7],[3,'enableProgressGesture']]])
Z([[2,'||'],[[7],[3,'isHiddenVideo']],[[2,'=='],[[7],[3,'tvpState']],[1,'error']]])
Z([[7],[3,'playerid']])
Z([[2,'?:'],[[7],[3,'tvpIsAd']],[1,0],[[7],[3,'initialTime']]])
Z([[7],[3,'loop']])
Z([[7],[3,'muted']])
Z([[7],[3,'objectFit']])
Z([[7],[3,'playBtnPosition']])
Z([[2,'?:'],[[7],[3,'usePoster']],[[2,'||'],[[7],[3,'poster']],[[2,'?:'],[[7],[3,'formattedVid']],[[2,'+'],[[2,'+'],[1,'http://shp.qpic.cn/qqvideo/0/'],[[7],[3,'formattedVid']]],[1,'/0']],[1,'']]],[1,'']])
Z([[2,'||'],[[7],[3,'posterForCrawler']],[[2,'?:'],[[7],[3,'formattedVid']],[[2,'+'],[[2,'+'],[1,'http://shp.qpic.cn/qqvideo/0/'],[[7],[3,'formattedVid']]],[1,'/0']],[1,'']]])
Z([[7],[3,'showCastingButton']])
Z([[7],[3,'showCenterPlayBtn']])
Z([[7],[3,'showFullscreenBtn']])
Z([[7],[3,'showMuteBtn']])
Z([[7],[3,'showPlayBtn']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'tvpIsAd']]],[[7],[3,'showProgress']]])
Z([[7],[3,'tvpUrl']])
Z([[7],[3,'title']])
Z([[2,'||'],[[7],[3,'pageGesture']],[[7],[3,'vslideGesture']]])
Z([[7],[3,'vslideGestureInFullscreen']])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'isQB']]],[[7],[3,'tvpIsAd']]],[[2,'>'],[[7],[3,'progressSkipTime']],[[2,'-'],[1,1]]]])
Z([a,[3,'mod_skipad '],[[2,'?:'],[[2,'&&'],[[7],[3,'showCastingButton']],[[7],[3,'isSupportCasting']]],[1,'mod_skipad_with_casting'],[1,'']]])
Z([[2,'!'],[[2,'<='],[[7],[3,'progressSkipTime']],[[2,'+'],[[7],[3,'progressTime']],[[7],[3,'progressBaseTime']]]]])
Z(z[46])
Z([[2,'<='],[[7],[3,'progressSkipTime']],[[2,'+'],[[7],[3,'progressTime']],[[7],[3,'progressBaseTime']]]])
Z([[2,'!'],[[7],[3,'isSupportControlsToggle']]])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'tvpIsAd']]],[[7],[3,'fullscreen']]],[[2,'!'],[[7],[3,'isHideFullscreenBtn']]]])
Z([[2,'!'],[[2,'!'],[[7],[3,'formats_selected']]]])
Z(z[50])
Z(z[51])
Z([[2,'&&'],[[7],[3,'fullscreen']],[[2,'||'],[[7],[3,'showHDSelector']],[[7],[3,'showBrightSelector']]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'fullscreen']],[[7],[3,'showHDSelector']]],[[7],[3,'formats']]],[[6],[[7],[3,'formats']],[3,'length']]])
Z([[2,'&&'],[[7],[3,'fullscreen']],[[7],[3,'showBrightSelector']]])
Z([[7],[3,'isUsePlayerErrorTips']])
})(__WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_2);return __WXML_GLOBAL__.ops_cached.$gwx_wxa75efa648b60994b_2
}
__WXML_GLOBAL__.ops_set.$gwx_wxa75efa648b60994b=z;
__WXML_GLOBAL__.ops_init.$gwx_wxa75efa648b60994b=true;
var nv_require=function(){var nnm={};var nom={};return function(n){return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
var x=['./component/live/live.wxml','./component/video/video.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_wxa75efa648b60994b_1()
var oB=_mz(z,'video',['autoplay',0,'bindended',1,'binderror',1,'bindfullscreenchange',2,'bindpause',3,'bindplay',4,'bindtimeupdate',5,'bindwaiting',6,'class',7,'controls',8,'danmuBtn',9,'danmuList',10,'enableDanmu',11,'hidden',12,'id',13,'poster',14,'showCenterPlayBtn',15,'src',16,'title',17],[],e,s,gg)
var xC=_n('slot')
_(oB,xC)
_(r,oB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
d_[x[1]]={}
var m1=function(e,s,r,gg){
var z=gz$gwx_wxa75efa648b60994b_2()
var fE=_mz(z,'view',['class',0,'hidden',1,'style',1],[],e,s,gg)
var hG=_mz(z,'video',['adUnitId',3,'autoPauseIfNavigate',1,'autoPauseIfOpenNative',2,'autoplay',3,'bindcontrolstoggle',4,'bindended',5,'binderror',6,'bindfullscreenchange',7,'bindloadedmetadata',8,'bindpause',9,'bindplay',10,'bindprogress',11,'bindtimeupdate',12,'bindwaiting',13,'class',14,'controls',15,'danmuBtn',16,'danmuList',17,'direction',18,'enableDanmu',19,'enablePlayGesture',20,'enableProgressGesture',21,'hidden',22,'id',23,'initialTime',24,'loop',25,'muted',26,'objectFit',27,'playBtnPosition',28,'poster',29,'posterForCrawler',30,'showCastingButton',31,'showCenterPlayBtn',32,'showFullscreenBtn',33,'showMuteBtn',34,'showPlayBtn',35,'showProgress',36,'src',37,'title',38,'vslideGesture',39,'vslideGestureInFullscreen',40],[],e,s,gg)
var oH=_v()
_(hG,oH)
if(_oz(z,44,e,s,gg)){oH.wxVkey=1
var tM=_n('view')
_rz(z,tM,'class',45,e,s,gg)
var eN=_v()
_(tM,eN)
if(_oz(z,46,e,s,gg)){eN.wxVkey=1
}
var bO=_v()
_(tM,bO)
if(_oz(z,47,e,s,gg)){bO.wxVkey=1
}
var oP=_v()
_(tM,oP)
if(_oz(z,48,e,s,gg)){oP.wxVkey=1
}
eN.wxXCkey=1
bO.wxXCkey=1
oP.wxXCkey=1
_(oH,tM)
}
var cI=_v()
_(hG,cI)
if(_oz(z,49,e,s,gg)){cI.wxVkey=1
var xQ=_v()
_(cI,xQ)
if(_oz(z,50,e,s,gg)){xQ.wxVkey=1
var oR=_v()
_(xQ,oR)
if(_oz(z,51,e,s,gg)){oR.wxVkey=1
}
oR.wxXCkey=1
}
xQ.wxXCkey=1
}
else{cI.wxVkey=2
var fS=_v()
_(cI,fS)
if(_oz(z,52,e,s,gg)){fS.wxVkey=1
var cT=_v()
_(fS,cT)
if(_oz(z,53,e,s,gg)){cT.wxVkey=1
}
cT.wxXCkey=1
}
fS.wxXCkey=1
}
var oJ=_v()
_(hG,oJ)
if(_oz(z,54,e,s,gg)){oJ.wxVkey=1
}
var lK=_v()
_(hG,lK)
if(_oz(z,55,e,s,gg)){lK.wxVkey=1
}
var aL=_v()
_(hG,aL)
if(_oz(z,56,e,s,gg)){aL.wxVkey=1
}
var hU=_n('slot')
_(hG,hU)
oH.wxXCkey=1
cI.wxXCkey=1
oJ.wxXCkey=1
lK.wxXCkey=1
aL.wxXCkey=1
_(fE,hG)
var cF=_v()
_(fE,cF)
if(_oz(z,57,e,s,gg)){cF.wxVkey=1
}
cF.wxXCkey=1
_(r,fE)
return r
}
e_[x[1]]={f:m1,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
return root;
}
}
}

				global.__wxAppCode__['plugin-private://wxa75efa648b60994b/component/live/live.json'] = {"component":true};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wxa75efa648b60994b/component/live/live.wxml'] = [$gwx_wxa75efa648b60994b, './component/live/live.wxml' ];else global.__wxAppCode__['plugin-private://wxa75efa648b60994b/component/live/live.wxml'] = $gwx_wxa75efa648b60994b( './component/live/live.wxml' );
		global.__wxAppCode__['plugin-private://wxa75efa648b60994b/component/video/video.json'] = {"component":true};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wxa75efa648b60994b/component/video/video.wxml'] = [$gwx_wxa75efa648b60994b, './component/video/video.wxml' ];else global.__wxAppCode__['plugin-private://wxa75efa648b60994b/component/video/video.wxml'] = $gwx_wxa75efa648b60994b( './component/video/video.wxml' );
		global.__wxAppCode__['plugin-private://wxa75efa648b60994b/plugin.json'] = {"publicComponents":{"video":"component/video/video","live":"component/live/live"},"main":"component/txv-context.js"};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wxa75efa648b60994b/plugin.wxml'] = [$gwx_wxa75efa648b60994b, './plugin.wxml' ];else global.__wxAppCode__['plugin-private://wxa75efa648b60994b/plugin.wxml'] = $gwx_wxa75efa648b60994b( './plugin.wxml' );
	
				define("component/live/data.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("../../src/util/base64text");module.exports={tvpUrl:e,tvpIsAd:!1,tvpState:"",tvpVideoError:"",title:"",liveEndInfo:"",liveStatus:"",liveStartTime:"",getDataError:"",errCode:"",isBefore:!1,isAfter:!1,isHiddenContainer:!1,isHiddenVideo:!1,isHiddenWithVoice:!1}; 
 			}); 
		define("component/live/properties.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports={pid:{type:String,value:"",observer:"onVideoChange"},sid:{type:String,value:"",observer:"onVideoChange"},playerid:{type:String,value:""},autoplay:{type:Boolean,value:!1},width:{type:String,value:""},height:{type:String,value:""},isHiddenStop:{type:Boolean,value:!1},isNeedMutex:{type:Boolean,value:!0},enableDanmu:{type:Boolean,value:!1},danmuBtn:{type:Boolean,value:!1},danmuList:{type:Array,value:[]},poster:{type:String,value:""},showCenterPlayBtn:{type:Boolean,value:!1},beforeText:{type:String,value:"直播未开始"},afterText:{type:String,value:"直播已结束"},isStopPoll:{type:Boolean,value:!1},extraParam:{type:Object,value:{}},title:{type:String,value:""}}; 
 			}); 
		define("component/txv-context.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("../src/module/log"),t=require("../src/module/reporter/index"),r=require("../src/lib/request"),n={},o="",s=Object.create({report:{on:function(e){"report"==e&&(t.off("report"),t.on.apply(t,arguments))},release:t.release,saveState:t.saveState,restoreState:t.restoreState,checkState:t.checkState},setRequest:function(e){r.busRequest=e}});module.exports=Object.assign(s,{getTxvContext:function(e){if(!n[e])throw new Error("找不到playerid为"+e+"的txv-video组件");return n[e]},existTxvContext:function(e){return!!n[e]},txvAttached:function(e,t){n[e]=t},txvDetached:function(e){delete n[e]},getAllContext:function(){return n},getLastPlayId:function(){return o},setLastPlayId:function(e){o=e},setTvpPlayState:function(e,t){this.getTxvContext(e).isPlaying=t},openLog:function(){e.isOpenLog=!0},closeLog:function(){e.isOpenLog=!1}}); 
 			}); 
		define("component/video/data.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var r=require("../../src/util/index");module.exports={progressBaseTime:0,progressSkipTime:0,progressTime:0,progressDuration:0,tvpUrl:"",tvpIsAd:!1,tvpState:"",tvpVideoError:"",reportUrl:"",isHiddenContainer:!1,isHiddenVideo:!1,fullscreen:!1,showHDSelector:!1,showBrightSelector:!1,showRateSelector:!1,showControlBtn:!1,isSupportControlsToggle:r.isHigherVersion("2.9.5"),isSupportCasting:r.isHigherVersion("2.10.2"),isControlsShow:!0,bright:function(){for(var r=[],e=1;e<=8;e++)r.push({val:.125*e});return r}(),currentBright:0,isPlaying:!1,isIpx:!1}; 
 			}); 
		define("component/video/properties.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports={vid:{type:String,value:"",observer:"onVideoChange"},playerid:{type:String,value:"",observer:"onPlayeridChange"},adCloseText:{type:String,value:"关闭广告"},adJumpText:{type:String,value:"后可关闭"},autoplay:{type:Boolean,value:!1},objectFit:{type:String,value:"contain"},poster:{type:String,value:""},showProgress:{type:Boolean,value:!0},controls:{type:Boolean,value:!0},initialTime:{type:Number,value:0},showFullscreenBtn:{type:Boolean,value:!0},showPlayBtn:{type:Boolean,value:!0},showCenterPlayBtn:{type:Boolean,value:!0},enableProgressGesture:{type:Boolean,value:!0},vslideGesture:{type:Boolean,value:!1},pageGesture:{type:Boolean,value:!1},muted:{type:Boolean,value:!1},loop:{type:Boolean,value:!1},direction:{type:Number,value:-1},width:{type:String,value:""},height:{type:String,value:""},usePoster:{type:Boolean,value:!0},isHiddenStop:{type:Boolean,value:!1},isNeedMutex:{type:Boolean,value:!0},enableDanmu:{type:Boolean,value:!1},danmuBtn:{type:Boolean,value:!1},danmuList:{type:Array,value:[]},videoInfo:{type:Object,value:{}},defn:{type:String,value:""},extraParam:{type:Object,value:{}},title:{type:String,value:""},vslideGestureInFullscreen:{type:Boolean,value:!0},autoPauseIfNavigate:{type:Boolean,value:!0},autoPauseIfOpenNative:{type:Boolean,value:!0},enablePlayGesture:{type:Boolean,value:!1},showMuteBtn:{type:Boolean,value:!1},playBtnPosition:{type:String,value:"bottom"},isHideQB:{type:Boolean,value:!0},isHideFullscreenBtn:{type:Boolean,value:!1},isUsePlayerErrorTips:{type:Boolean,value:!0},showCastingButton:{type:Boolean,value:!1},posterForCrawler:{type:String,value:""},adUnitId:{type:String,value:""}}; 
 			}); 
		define("conf.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports={version:"1.3.7"}; 
 			}); 
		define("index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("./src/video");module.exports=e; 
 			}); 
		define("lib-inject.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e="./src/lib/es6-promise",r="./src/lib/request";try{var s=require("../tvp.js");e=s.Promise||e,r=s.request||r}catch(e){}module.exports={Promise:require(e),request:require(r).get,post:require(r).post}; 
 			}); 
		define("private-setting.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var t={};module.exports={set:function(e,r){return t[e]=r,this},get:function(e){return t[e]}}; 
 			}); 
		define("src/classes/Content.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=require("../lib/message"),r=1;module.exports=function(){function o(e){var i=this;t(this,o),this.mockUpdate=0,this._urlIndex=0,Object.defineProperties(this,{_iretcode:{value:e.iretcode},_url:{value:e.url instanceof Array?e.url:[e.url]},_id:{value:r++},_duration:{value:e.duration},_filesize:{value:e.filesize},_charged:{value:e.charged},_preview:{value:e.preview},isad:{value:e.isad}}),(new n).assign(this);var u=null,a=null;this.on("play",function(){u=setTimeout(function(){i.emit("timeout",1e4)},1e4),a=setTimeout(function(){i.emit("timeout",2e4)},2e4)},!0),this.on("start",function(){clearTimeout(u),clearTimeout(a)},!0)}return i(o,[{key:"url",get:function(){return this._url[this._urlIndex]}},{key:"id",get:function(){return this._id}},{key:"duration",get:function(){return this._duration}},{key:"filesize",get:function(){return this._filesize}},{key:"preview",get:function(){return this._preview}},{key:"charged",get:function(){return this._charged}},{key:"iretcode",get:function(){return this._iretcode}}]),i(o,[{key:"onContentEnd",value:function(){this.emit("end")}},{key:"onContentPlay",value:function(){this.emittedPlay=!0,this.emit("play")}},{key:"onContentPause",value:function(){this.emit("pause")}},{key:"onContentTimeupdate",value:function(t){this.emittedPlay&&(t&&t.target&&(t=t.detail.currentTime),!this.emittedStart&&((void 0===t?"undefined":e(t))===e(void 0)?this.mockUpdate++>5:t>0)&&(this.emit("start",t||this.mockUpdate),this.emittedStart=!0),this.emit.apply(this,["timeupdate",t]))}},{key:"onContentError",value:function(){if(this._url.length>this._urlIndex+1)return this._urlIndex++,void this.emit("change",this.url);this.emit.apply(this,["error"].concat([].slice.call(arguments,0)))}},{key:"onContentSkip",value:function(){this.isad&&this.emit("skip")}},{key:"onContentWaiting",value:function(){this.emit("waiting")}}]),o}(); 
 			}); 
		define("src/classes/Controller.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t){var e={};return(t instanceof Array?t:[].slice.call(arguments,0)).forEach(function(t){var n=t.initialize;Object.defineProperty(e,t.name,{get:function(){return n},set:function(e){var r=n;n=e,t.onChange&&t.onChange(e,r)}})}),e}var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=require("../lib/message"),i=require("../../lib-inject").Promise;module.exports=function(){function o(){for(var n=this,a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];t(this,o),this.started=i.defer(),(new r).assign(this);var u=this.model=new e([{name:"state",onChange:function(t,e){n.emit("statechange",t,e)},initialize:"loading"},{name:"currentContent",initialize:null}]);Object.defineProperties(this,{currentContent:{get:function(){return u.currentContent}},state:{get:function(){return u.state}}}),this.flow=this.createFlow.apply(this,s),this.flow.catch(function(t){n.emit("error",t)}),["End","Play","Pause","Timeupdate","Error","Skip","Waiting"].forEach(function(t){n["onContent"+t]=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];n.emit.apply(n,["content"+t.toLowerCase()].concat(r))},n["on"+t]=function(){console.warn("不建议再使用video.on"+t+"，请使用onContent"+t),this["onContent"+t].apply(this,arguments)}})}return n(o,[{key:"createFlow",value:function(){}},{key:"start",value:function(){return console.log("process start"),this.started.resolve(),this}},{key:"stop",value:function(){return this.started.reject(),this.flow&&this.flow.stop&&this.flow.stop(),this.off(),this}}]),o}(); 
 			}); 
		define("src/classes/State.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(){}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=require("../lib/message"),s=require("../../lib-inject").Promise;module.exports=function(){function a(n,s){e(this,a),this.destroyed=!1;var i=Object.keys(n);i.forEach(function(e){!(n[e].to instanceof Array)&&(n[e].to=[]),!("function"==typeof n[e].beforeLeave)&&(n[e].beforeLeave=t),!("function"==typeof n[e].beforeEnter)&&(n[e].beforeEnter=t),!("function"==typeof n[e].afterLeave)&&(n[e].afterLeave=t),!("function"==typeof n[e].afterEnter)&&(n[e].afterEnter=t)}),this.message=new r,this.states=n,this._state=i[0],this._laststate="",Object.defineProperties(this,{state:{get:function(){return this._state}},lastState:{get:function(){return this._laststate}}})}return n(a,null,[{key:"create",value:function(e,t){return new a(e,t)}}]),n(a,[{key:"setState",value:function(e,t){var n=(t=t||{}).force||!1,r=t.silent||!1,s=this.states;if(n||~s[this._state].to.indexOf(e)){var a=this._state;if(r)this._laststate=this._state,this._state=e;else{var i=!1;if(n||(i=!1===s[a].beforeLeave(e),i=!1===s[e].beforeEnter(a)||!0===i),i)return;this._laststate=this._state,this._state=e,this.message.emit("change",e,a),s[a].afterLeave(e),s[e].afterEnter(a)}return 0==s[e].to.length&&(this.message.emit("end",e),this.message.off()),this}}},{key:"getStatePromise",value:function(e){var t=this;if("function"!=typeof e){var n=e;e=function(e){return e==n}}return new s(function(n,r){var s=t.message.on("change",function(t){e(t)&&(s(),n())});t.message.on("end",function(e){s(),r(new Error("state ended:"+e))},!0)})}},{key:"onChange",value:function(e){return this.message.on("change",e),this}}]),a}(); 
 			}); 
		define("src/controller-live/flow-getinfo/err-code.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e={4444:"网络错误",3333:"播放出错"};module.exports={PLAY_ERROR:1,errCode:e,genCode:function(e,r){return"63"+(1==r?104:200)+"."+e},genError:function(r){var n=new Error(r.msg||e[r.em]),o=1==r.scene;return n.code=o?"P.0":"G."+r.em,n.em=r.em,n.fullecode=this.genCode(r.em,o?0:1),n}}; 
 			}); 
		define("src/controller-live/flow-getinfo/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("../../util/platform-config").APP_PLATFORM,r=require("../../../lib-inject").request,t=require("../../lib/algorithm/qvsec"),i=require("../../module/network"),n=require("../../lib/algorithm/fillTimeStamp"),o=require("../../../lib-inject").Promise,u=require("../../module/log")("live-info"),c=require("./err-code"),f=require("../../module/guid");module.exports=function(l,d,m,q){function a(r){return"https://info.zb.video.qq.com/?host=qq.com&cmd=2&qq=0&guid="+f+"&appVer=7&stream=2&ip=&system=1&sdtfrom="+e[m]+"&livepid="+d+"&cnlid="+l+"&_rnd="+v+"&"+h+"&newnettype="+r.networkCode+(q?"&defn="+q+"&fntick="+r.fntick:"")}function s(){return w=a({fntick:Date.now(),networkCode:p}),b=Date.now(),r(w,{needlogin:!0})}var v=n(),g=t["v4138"==m?"$xxzb":"$xxzbf"](e[m],l,1,1,v),h="";g&&(h="encver="+("v4138"==m?"201":"301")+"&_qv_rmtv2="+g);var p=0,w=void 0,b=void 0;return new o(function(e){i(function(r){p=r,e()})}).then(s).catch(function(e){return u("first request error",e),s()}).catch(function(){throw c.genError({em:4444})}).then(function(e){return u("getinfo result:",e),e.loadTime=Date.now()-b,e})}; 
 			}); 
		define("src/controller-live/flow-getinfo/live-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("../../../lib-inject").request;module.exports=function(d){return e("https://accessv6.video.qq.com.video.qq.com/tinyapp/live_detail?vappid=49109510&vsecret=c1202d7f3ba41f86cdd2d3d1082605b4ed764c21e29520f3&pid="+d)}; 
 			}); 
		define("src/controller-live/flow-getinfo/live-poll.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("../../../lib-inject").request;module.exports=function(t){return e("https://zbaccess.video.qq.com/fcgi/live_poll?vappid=31678259&vsecret=1e029a67beb2d7e7e7bb8321fb161a46fe76c7837beb2cee",{data:t})}; 
 			}); 
		define("src/controller-live/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},i=require("./flow-getinfo/index"),a=require("../classes/Controller"),u=require("../classes/Content"),c=require("./reporter"),f=require("../lib/message"),l=require("../lib/es6-promise"),s=require("../module/gen-guid"),p=require("./flow-getinfo/err-code"),d=require("../util/platform-config").APP_PLATFORM,m=function(m){function v(){return e(this,v),t(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return n(v,a),o(v,[{key:"createFlow",value:function(e,t){var n=this,o=e.sid,r=e.from,a=e.pid,m=(e.defn,t.getReportParam);var v=null,y=!1,h=void 0,w=s(),g=new c;g.setInitData({seq:0,firstreport:1,playno:w,platform:d[r],sid:o,pid:a,getReportParam:m});var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Date.now();return i(o,a,r,e.defn||"").then(function(e){v&&v.off(),v=new u({url:e.data.playurl,iretcode:e.data.iretcode}),n.emit("contentchange",{currentContent:v,getinforaw:e}),t.isSwitchDefn&&h&&h.emit("videoend",{switch:o}),h&&h.off(),h=new f;var r={url:v.url,iretcode:v.iretcode};t.isSwitchDefn&&(r.switch=o),g.initPlay(h,r,e.data),g.report({firstload:Date.now()-c,geturltime:e.loadTime,cmd:205})}).then(function(){return new l(function(e,t){!y&&v.on("start",function(){h.emit("videoplaying",v),y=!0},!0),v.on("start",function(e){h.emit("videostart",e)}),v.on("play",function(){h.emit("videoplay",v)}),v.on("pause",function(){h.emit("videopause",v)}),v.on("timeupdate",function(e){h.emit("videotimeupdate",e)}),v.on("error",function(e){var n=p.genError({msg:e?e.detail&&e.detail.errMsg||e.message:"",em:3333,scene:p.PLAY_ERROR});t(n)},!0),v.on("end",function(){e(),h.emit("videoend")},!0),v.on("timeout",function(e){h.emit("videotimeout",e)}),v.on("waiting",function(){h.emit("videowaiting")})})}).catch(function(e){g.error(e),n.emit("error",e)})},O=b();return["End","Play","Pause","Timeupdate","Error","Skip","Waiting"].forEach(function(e){n.on("content"+e.toLowerCase(),function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];v&&v["onContent"+e].apply(v,o)})}),this.switchDefn=function(e){b({defn:e},{isSwitchDefn:!0})},O}},{key:"stop",value:function(){r(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"stop",this).call(this),this.playflow&&this.playflow.stop()}}]),v}();module.exports=function(e,t){return new m(e,t)}; 
 			}); 
		define("src/controller-live/reporter-play.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function e(e,r){var t=e.sid||r.sid||0,i={lookback:f,guid:o,fplayerver:s,BossId:l,Pwd:a,prog:+t,livepid:+(e.pid||0),viewid:t.slice(0,-2),_dc:Math.random(),devtype:v,playertype:m},n=void 0;return g.forEach(function(o){n=r[o]||e[o],i[o]="number"==typeof n?n:n||""}),i}var r=require("../module/reporter/report-queue"),o=require("../module/guid"),t=require("../module/system-info")(),i=require("../module/network"),n=require("../module/log")("txv-live-reporter-play"),c=require("../module/account"),u=require("../../conf"),p=c.getAccountInfoSync(),s=p&&p.plugin&&p.plugin.version||u.version,d=t.system.match(/ios/i),l=7433,a=1230624807,f=0,m=0,y={"6g":6,"5g":5,"4g":4,"3g":3,"2g":2,wifi:1,"有线":100,0:0},v=0;switch(t.platform){case"devtools":v=d?3:2;break;case"android":v=2;break;case"ios":v=3;break;case"ipad":v=4}var g=["playno","hc_qq","sdtfrom","firstload","blocktime","block","prd","errcode","dsip","durl","firstreport","sUrl","sRef","seq","cmd","fullecode","live_type","geturltime","playtime","ispay","isuserpay","switch","freetype","https","cdn","vip_type","hc_pvid","login_type","open_id"];module.exports=function(o,t){t(function(t,c){!t&&c||(c={}),n("before",o);var u=e(o,c);(c.networkCode?function(e){e&&e(y[c.networkCode])}:i)(function(e){Object.assign(u,{nettype:e}),n("report obj",u),r.push({reportUrl:"https://btrace.qq.com/kvcollect?"+Object.keys(u).map(function(e){return e in u?e+"="+encodeURIComponent(u[e]):""}).filter(function(e){return e}).join("&")})},y)})}; 
 			}); 
		define("src/controller-live/reporter.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){if(!t)return{};var a=t.durl=t.url||t.durl||"",r=n.queryParse(a),o=a.match(/\/\/([^/]+?)\//),l=/^https:/.test(a),u="0.0.0.0";o&&o[1]&&(u=(o[1]||"").split(":")[0]);var m={dsip:u,sdtfrom:r.sdtfrom,cdn:s[r.cdn]||0,https:l?1:0,live_type:e(i),playtime:i.playtime,ispay:i.ispay,isuserpay:i.isuserpay,errcode:i.iretcode};return Object.assign(m,t)}function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="";return i+=1==t.stream?"0":"1",i+=1==t.vcode?"10":"01",i+=1==t.live360?"1":"0",i+=2==t.acode?"1":"0",parseInt(i,2)}var a=function(){function t(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(i,e,a){return e&&t(i.prototype,e),a&&t(i,a),i}}(),r=require("./reporter-play"),n=require("../lib/url"),o=require("../module/log")("txv-live-reporter"),s={zijian:1,lanxun:2,wangsu:3,dilian:4,akama:5,tongxin:6},l=function(){function e(){t(this,e),this.baseParam=null,this.initParam=null,this.getReportParam=null,this.firstreport=0,this.lastStartTime=0,this.waitingCount=0,this.waitingTotalDuration=0,this.lastTimeUpdate=0,this.waitingStartTimeStamp=0}return a(e,[{key:"initBaseData",value:function(t){o("initBaseData~~~~~~~~~"),this.lastStartTime=t||0,this.waitingCount=0,this.waitingTotalDuration=0,this.waitingStartTimeStamp=0,this.lastTimeUpdate=0}},{key:"initPlay",value:function(t,e,a){var r=this;r.baseParam=i(e,a),t.on("videoplaying",function(t){o("videoplaying~~~~")}),t.on("videostart",function(t){o("START~~~~~~~~~~~",t),r.initBaseData(t)}),t.on("videoplay",function(t){o("playing~~~~~~~~~~~",r.waitingStartTimeStamp),r.waitingStartTimeStamp&&(r.waitingTotalDuration+=Date.now()-r.waitingStartTimeStamp,r.waitingStartTimeStamp=0)}),t.on("videopause",function(){}),t.on("videotimeupdate",function(t){r.lastTimeUpdate=t,t-r.lastStartTime>=60&&(o("timeupdate~~~~~~~~~",r.lastStartTime,t),r.report({cmd:263,prd:Math.floor(6e4),block:r.waitingCount,blocktime:r.waitingTotalDuration}),r.initBaseData(t))}),t.on("videotimeout",function(t){}),t.on("videoend",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o("ended~~~~~~",r.lastTimeUpdate-r.lastStartTime),r.report(Object.assign({cmd:263,prd:Math.floor(1e3*(r.lastTimeUpdate-r.lastStartTime)),block:r.waitingCount,blocktime:r.waitingTotalDuration},t)),r.initBaseData()}),t.on("videowaiting",function(){r.waitingStartTimeStamp||(r.waitingStartTimeStamp=Date.now()),o("WAITING~~~~~~~~~~~",r.waitingStartTimeStamp),++r.waitingCount})}},{key:"report",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this;t.firstreport=i.firstreport,i.firstreport&&(i.firstreport=0),r(Object.assign({},i.initParam,i.baseParam,t),i.getReportParam),i.initParam.seq++}},{key:"error",value:function(t){this.report({cmd:150,errcode:t.em,fullecode:t.fullecode})}},{key:"setfirstreport",value:function(t){this.firstreport=t}},{key:"setAsyncFn",value:function(t){this.getReportParam=t}},{key:"setInitData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setfirstreport(t.firstreport),this.setAsyncFn(t.getReportParam),delete t.firstreport,delete t.getReportParam,this.initParam=t,this.initParam.seq=t.seq||0}}]),e}();module.exports=l; 
 			}); 
		define("src/controller-video/flow-getinfo/data/ad.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function r(r){a(r,{header:{Cookie:"appuser="+K+"; Lturn="+y}}).then(function(r){l("上报成功"),l(r)},function(e){l("上报失败"),l(e),r=r+"&appuesr="+K,q.emit("report",{reportUrl:r}),l("用message抛出上报事件")})}function e(){y=n.get("Lturn"),l("Lturn:"+y),y?l("Lturn+1:"+(y+=1)):(y=Math.floor(1e3*Math.random()),l("create Lturn:"+y)),y>999&&(y=0),n.set("Lturn",y,72e5)}function t(r){var e=[];return r.item.forEach(function(r,t){e.push(r)}),e}function i(r){l("开始检查trueview贴片状态");for(var e=r.length,t=[],i=0,p=0;p<e;p++)r[p].trueviewTurn=!1,1==r[p].order_id||"FT"==r[p].type?t[p]=0:(o(r[p])&&(r[p].trueviewTurn=!0),t[p]=1,i+=1);D=1==i,l("trueviewCheckArr内容是："+t+",trueviewCount值是："+i)}function o(r){if(l("开始检查trueview开关"),r.params&&void 0!=r.params&&""!=r.params){var e=r.params;if(-1!=e.indexOf("richdata=")){var t=e.substr(e.indexOf("richdata=")+9);-1!=t.indexOf("&")&&(t=t.substr(0,t.indexOf("&"))),t=decodeURIComponent(t.replace(/\+/g," ")),l("转换出来的richdata参数是："+t);try{var i=JSON.parse(t);if(l("转换成json后的对象是："+i),i.plugins&&void 0!=i.plugins&&i.plugins.trueview&&void 0!=i.plugins.trueview&&"Y"==i.plugins.trueview)return l("trueview开关是打开的Y！"),!0}catch(r){l("richdata解析出错！")}}}return!1}function p(r){L=0;for(var e=0;e<r.length;e++)1!=r[e].order_id&&(L+=r[e].duration/1e3);l("广告总时长为："+L)}var a=require("../../../../lib-inject").request,d=require("../../../lib/message"),n=require("../../../module/cache"),l=require("../../../module/log")("ad"),u=require("./adReport"),s=require("./md5"),h=require("../../../../private-setting"),c="",v=0,m="",U=0,f=-1,g=1,D=void 0,w=-1,L=0,T="",O="",S=void 0,y=void 0,K=void 0,R=void 0,q=new d;(module.exports=function(o){l(o),o.vid&&(c=o.vid),o.live&&(v=o.live),o.chid&&(U=o.chid),o.coverid&&(m=o.coverid),o.pu&&(f=o.pu),o.openid&&(O=o.openid),K=String(s(O).substr(0,16)).toUpperCase(),e();var d={};return S=(new Date).getTime(),a("https://livew.l.qq.com/livemsg?ty=web&ad_type=WL&pf=H5&lt=wx&pt=0&live="+v+"&pu="+f+"&rfid="+T+"&openid="+O+"&v=TencentPlayerV3.2.19.358&plugin=1.0.0&speed=0&adaptor=2&musictxt=&chid="+U+"&st=0&resp_type=json&_t=1478361546359&rfid=&vid="+c+"&vptag=&url=&refer=&pid=&mbid=&oid=&guid=&"+(1===h.get("adstyle")?"style=1":"")+"&coverid="+m,{needlogin:!0,header:{Cookie:"appuser="+K+"; Lturn="+y}}).then(function(r){R=r,r.data.adLoc&&r.data.adLoc.tpid&&(g=r.data.adLoc.tpid),d={t:"0",url:"",vid:c,coverid:m,pf:"H5",vptag:"",pid:"",chid:U,tpid:g};var e=(new Date).getTime()-S;l("livew请求完成，进行dp3上报,时间为:"+e),u.reportDp3(2,"WL",e,1,100,0,O,d),S=(new Date).getTime();var o=t(r.data.adList);return l("最终adList:"+o),i(o),p(o),o},function(r){l("livew error，再试一次");var e=(new Date).getTime()-S;return l("livew请求失败，进行dp3上报,时间为:"+e),u.reportDp3(2,"WL",e,1,202,0,O,d),S=(new Date).getTime(),a("https://livew.l.qq.com/livemsg?ty=web&ad_type=WL&pf=H5&lt=wx&pt=0&live="+v+"&pu="+f+"&rfid="+T+"&v=TencentPlayerV3.2.19.358&plugin=1.0.0&speed=0&adaptor=2&musictxt=&chid="+U+"&openid="+O+"&st=0&resp_type=json&_t=1478361546359&rfid=&vid="+c+"&vptag=&url=&refer=&pid=&mbid=&oid=&guid=&coverid="+m,{needlogin:!0,header:{Cookie:"appuser="+K+"; Lturn="+y}}).then(function(r){R=r,r.data.adLoc&&r.data.adLoc.tpid&&(g=r.data.adLoc.tpid),d={t:"0",url:"",vid:c,coverid:m,pf:"H5",vptag:"",pid:"",chid:U,tpid:g};var e=(new Date).getTime()-S;l("livew重试请求完成，进行dp3上报,时间为:"+e),u.reportDp3(2,"WL",e,1,100,0,O,d),S=(new Date).getTime();var o=t(r.data.adList);return l("最终adList:"+o),i(o),p(o),o},function(r){var e=(new Date).getTime()-S;return l("livew error，订单获取失败，返回空数组，进行dp3上报,时间为:"+e),u.reportDp3(2,"WL",e,1,202,0,O,d),S=(new Date).getTime(),[]})}).then(function(e){return e=e.map(function(e,t){return function(){var t=[];if(e.reportUrlOther.reportitem)for(o=0;o<e.reportUrlOther.reportitem.length;o++)t[o]={url:e.reportUrlOther.reportitem[o].url,time:e.reportUrlOther.reportitem[o].reporttime,isReported:!1};var i=[];if(e.reportUrlSDK.reportitem)for(var o=0;o<e.reportUrlSDK.reportitem.length;o++)i[o]={url:e.reportUrlSDK.reportitem[o].url,time:e.reportUrlSDK.reportitem[o].reporttime,isReported:!1};return l("当前广告的trueview开关是否打开："+e.trueviewTurn),l("当前广告是否符合trueview条件："+D),D?(l("allAdDuration:"+L),w=L<=5?0:5):w=-1,l("skipable:"+w),{oid:e.order_id,url:e.image[0].url,reportUrl:{url:e.reportUrl,time:e.ReportTime,isReported:!1},reportUrlOther:t,reportUrlSDK:i,skipable:w,duration:e.duration/1e3,allDuration:L,onSkip:function(){l("当前广告被跳过了，上报智慧点10237"),u.reportWisdomPoint(10237,e.order_id,e.order_id,"");var r=(new Date).getTime()-S;l("当前广告被跳过，进行dp3上报,时间为:"+r),u.reportDp3(4,"WL",r,1,"",0,O,d),S=(new Date).getTime()},onTimeupdate:function(r){},onEnd:function(){var r=(new Date).getTime()-S;l("当前广告播放结束，进行dp3上报,时间为:"+r),u.reportDp3(5,"WL",r,1,"",0,O,d),S=(new Date).getTime(),R.data.adLoc&&R.data.adLoc.rfid&&(T=R.data.adLoc.rfid,l("rfid赋值成功："+T))},onStart:function(){l("当前广告开始播放"+e),l("当前广告的oid是："+this.oid);var t=(new Date).getTime()-S;if(l("素材加载完成，开始播放，进行dp3上报,时间为:"+t),u.reportDp3(3,"WL",t,1,"",0,O,d),S=(new Date).getTime(),this.reportUrl.url=u.updateUrlParam(this.reportUrl.url,d),this.reportUrl.time>=0&&!this.reportUrl.isReported){this.reportUrl.isReported=!0;try{r(this.reportUrl.url)}catch(r){}}for(i=0;i<this.reportUrlOther.length;i++)if(this.reportUrlOther[i].url=u.updateUrlParam(this.reportUrlOther[i].url,d),this.reportUrlOther[i].time>=0&&!this.reportUrlOther[i].isReported){this.reportUrlOther[i].isReported=!0;try{u.pingUrl(this.reportUrlOther[i].url)}catch(r){}}for(var i=0;i<this.reportUrlSDK.length;i++)if(this.reportUrlSDK[i].url=u.updateUrlParam(this.reportUrlSDK[i].url,d),this.reportUrlSDK[i].time>=0&&!this.reportUrlSDK[i].isReported){this.reportUrlSDK[i].isReported=!0;try{u.pingUrl(this.reportUrlSDK[i].url)}catch(r){}}},onError:function(){var r=(new Date).getTime()-S;l("当前广告播放出错，进行dp3上报,时间为:"+r),u.reportDp3(4,"WL",r,1,"",0,O,d),S=(new Date).getTime()},onReportEmpty:function(){l("我是空单上报，当前广告的上报地址是："+this.reportUrl.url),this.reportUrl.url=u.updateUrlParam(this.reportUrl.url,d);try{r(this.reportUrl.url)}catch(r){}for(e=0;e<this.reportUrlOther.length;e++)if(this.reportUrlOther[e].url=u.updateUrlParam(this.reportUrlOther[e].url,d),this.reportUrlOther[e].time>=0&&!this.reportUrlOther[e].isReported){this.reportUrlOther[e].isReported=!0;try{u.pingUrl(this.reportUrlOther[e].url)}catch(r){}}for(var e=0;e<this.reportUrlSDK.length;e++)if(this.reportUrlSDK[e].url=u.updateUrlParam(this.reportUrlSDK[e].url,d),this.reportUrlSDK[e].time>=0&&!this.reportUrlSDK[e].isReported){this.reportUrlSDK[e].isReported=!0;try{u.pingUrl(this.reportUrlSDK[e].url)}catch(r){}}}}}}),{adList:e}}).catch(function(r){return{}})}).reporter=u.reporter; 
 			}); 
		define("src/controller-video/flow-getinfo/data/adReport.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function r(r){var t=r.indexOf("?"),e=new Object,i=r;if(t>=0)for(var o=(i=i.substr(t+1)).split("&"),n=void 0,a=0;a<o.length;a++)(n=o[a].split("=")).length>1?e[n[0]]=n[1]:e[n[0]]="null";return e}var t=require("../../../lib/message"),e=(require("../../../module/cache"),require("../../../module/log")("ad-report")),i=new t;(module.exports={updateUrlParam:function(t,e){try{var i=r(t),o=t,n=!0;if(-1!=t.indexOf("?")){o=t.substring(0,t.indexOf("?"));var a=void 0;for(a in e)i[a]=e[a];for(a in i)n?(n=!1,o+="?"+a+"="+i[a]):o+="&"+a+"="+i[a]}}catch(r){o=""}return o},reportDp3:function(r,t,i,o,n,a,d,p){e("开始dp3上报");var s="https://dp3.qq.com/stdlog/?bid=weixin&step="+r+"&merged="+o+"&errorcode="+n+"&trycount="+a+"&openid="+d;s=this.updateUrlParam(s,p);try{this.pingUrl(s)}catch(r){e("dp3上报失败")}},reportWisdomPoint:function(r,t,i,o){e("开始智慧点上报");var n="https://t.l.qq.com?t=s&actid="+r;n+="&oid="+t+"&mid="+i+"&locid="+o;try{this.pingUrl(n)}catch(r){}},pingUrl:function(r,t,o,n){e("ping上报地址："+r);var a=(new Date).getTime();r=this.updateUrlParam(r,{reportTime:a}),i.emit("report",{reportUrl:r}),e("用message抛出上报事件")}}).reporter=i; 
 			}); 
		define("src/controller-video/flow-getinfo/data/getinfo-status.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e={};e[10001]=e[50]=e[68]=e[71]=e[73]=e[74]=e[76]=e[77]=e[445]=e[444]="啊哦，没能找到你要的节目信息~",e[51]=e[52]=e[64]=e[61]=e[62]=e[63]=e[65]=e[66]=e[81]=e[82]=e[84]=e[86]="啊哦，本来在这儿的视频不见了~",e[69]="小程序暂不支持该视频播放，请使用腾讯视频手机版观看~",e[94]="经检测您当前登录的账号存在安全问题，为保障您的账号安全，已暂停了您的会员权益。",e[80]=e[83]="啊哦，版权原因，该视频暂时无法播放~",module.exports=e; 
 			}); 
		define("src/controller-video/flow-getinfo/data/getinfo.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function e(e,m,d,s,v){if(v&&v.vl&&v.fl)return l.resolve(v);a=m,d=d||"auto";var y=i(),h=o["v4138"==m?"$xx":"$xxf"](p[m],e,a,1,y),g="";h&&(g="encver="+("v4138"==m?2:300)+"&_qv_rmtv2="+h),u("getinfo waiting");var b=0,q="";return l.resolve().then(function(){return s.onBeforeGetinfo(e)}).then(function(e){q="object"===(void 0===e?"undefined":t(e))?e:{},(q=Object.keys(q).map(function(e,t){return-1!=["auth_from","auth_ext","defnpayver","spvideo","spaudio"].indexOf(e)?e+"="+q[e]:""}).filter(function(e){return e}).join("&"))&&(q="&"+q),console.log("getinfo beforeGetinfoParam",q)}).then(function(){return new l(function(e,t){f(function(t){b=t,e()})})}).then(function(){u("request start");var t="https://h5vv6.video.qq.com/getinfo?"+g+"&defn="+d+"&platform="+p[m]+"&otype=json&sdtfrom="+m+"&_rnd="+y+"&appVer=7&"+(c?"dtype=3&":"")+"vid="+e+"&newnettype="+b+q;return r(t,{needlogin:!0,needLoginCase:!0})}).catch(function(t){return r("https://bkvv.video.qq.com/getinfo?"+g+"&defn="+d+"&platform="+p[m]+"&otype=json&sdtfrom="+m+"&_rnd="+y+"&appVer=7&"+(c?"dtype=3&":"")+"vid="+e+"&newnettype="+b+q,{needlogin:!0,needLoginCase:!0})}).catch(function(){var e=new Error(n[444]);throw e.em=444,e.code="G.444",e=s.onAfterGetInfo&&s.onAfterGetInfo(e)||e}).then(function(e){return e=e.data,u("getinfo result:",e),e})}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=require("./getinfo-status"),r=require("../../../../lib-inject").request,o=require("../../../lib/algorithm/qvsec"),i=require("../../../lib/algorithm/fillTimeStamp"),f=require("../../../module/network"),u=require("../../../module/log")("getInfo"),l=require("../../../../lib-inject").Promise,c="devtools"!=wx.getSystemInfoSync().platform,a=void 0,p=require("../../../util/platform-config").APP_PLATFORM;module.exports=function(){var t=arguments[3]||{};return e.apply(this,arguments).then(function(e){if(e.em){var r=new Error(n[e.em]||e.msg);throw r.em=e.em,r.code="G."+e.em,r=t.onAfterGetInfo&&t.onAfterGetInfo(r)||r}return e}).then(function(e){var n=e.vl.vi[0],r={duration:+n.td,dltype:e.dltype,fmid:e.fl.fi.filter(function(e){return+e.sl})[0].id,filesize:e.fl.fi.filter(function(e){return+e.sl})[0].fs,preview:e.preview,charge:n.ch,raw:e};return n.ch<1&&(r.preview=e.preview,r.charged=n.ch),3==e.dltype?(r.url=n.ul.ui.map(function(e){return e.hls.pt?e.url+e.hls.pt+"&platform="+p[a]+"&sdtfrom="+a:""}),r.url=r.url.filter(function(e){return e})):r.url=n.ul.ui.map(function(e){return e.url+n.fn+"?vkey="+n.fvkey+"&br="+n.br+"&fmt=auto&level="+n.level+"&platform="+p[a]+"&sdtfrom="+a}),r=t.onAfterGetInfo&&t.onAfterGetInfo(null,r)||r})}; 
 			}); 
		define("src/controller-video/flow-getinfo/data/md5.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};!function(t){function o(n,t){var o=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(o>>16)<<16|65535&o}function r(n,t){return n<<t|n>>>32-t}function e(n,t,e,u,i,f){return o(r(o(o(t,n),o(u,f)),i),e)}function u(n,t,o,r,u,i,f){return e(t&o|~t&r,n,t,u,i,f)}function i(n,t,o,r,u,i,f){return e(t&r|o&~r,n,t,u,i,f)}function f(n,t,o,r,u,i,f){return e(t^o^r,n,t,u,i,f)}function c(n,t,o,r,u,i,f){return e(o^(t|~r),n,t,u,i,f)}function d(n,t){n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;var r=void 0,e=void 0,d=void 0,v=void 0,l=void 0,a=1732584193,h=-271733879,m=-1732584194,y=271733878;for(r=0;r<n.length;r+=16)e=a,d=h,v=m,l=y,h=c(h=c(h=c(h=c(h=f(h=f(h=f(h=f(h=i(h=i(h=i(h=i(h=u(h=u(h=u(h=u(h,m=u(m,y=u(y,a=u(a,h,m,y,n[r],7,-680876936),h,m,n[r+1],12,-389564586),a,h,n[r+2],17,606105819),y,a,n[r+3],22,-1044525330),m=u(m,y=u(y,a=u(a,h,m,y,n[r+4],7,-176418897),h,m,n[r+5],12,1200080426),a,h,n[r+6],17,-1473231341),y,a,n[r+7],22,-45705983),m=u(m,y=u(y,a=u(a,h,m,y,n[r+8],7,1770035416),h,m,n[r+9],12,-1958414417),a,h,n[r+10],17,-42063),y,a,n[r+11],22,-1990404162),m=u(m,y=u(y,a=u(a,h,m,y,n[r+12],7,1804603682),h,m,n[r+13],12,-40341101),a,h,n[r+14],17,-1502002290),y,a,n[r+15],22,1236535329),m=i(m,y=i(y,a=i(a,h,m,y,n[r+1],5,-165796510),h,m,n[r+6],9,-1069501632),a,h,n[r+11],14,643717713),y,a,n[r],20,-373897302),m=i(m,y=i(y,a=i(a,h,m,y,n[r+5],5,-701558691),h,m,n[r+10],9,38016083),a,h,n[r+15],14,-660478335),y,a,n[r+4],20,-405537848),m=i(m,y=i(y,a=i(a,h,m,y,n[r+9],5,568446438),h,m,n[r+14],9,-1019803690),a,h,n[r+3],14,-187363961),y,a,n[r+8],20,1163531501),m=i(m,y=i(y,a=i(a,h,m,y,n[r+13],5,-1444681467),h,m,n[r+2],9,-51403784),a,h,n[r+7],14,1735328473),y,a,n[r+12],20,-1926607734),m=f(m,y=f(y,a=f(a,h,m,y,n[r+5],4,-378558),h,m,n[r+8],11,-2022574463),a,h,n[r+11],16,1839030562),y,a,n[r+14],23,-35309556),m=f(m,y=f(y,a=f(a,h,m,y,n[r+1],4,-1530992060),h,m,n[r+4],11,1272893353),a,h,n[r+7],16,-155497632),y,a,n[r+10],23,-1094730640),m=f(m,y=f(y,a=f(a,h,m,y,n[r+13],4,681279174),h,m,n[r],11,-358537222),a,h,n[r+3],16,-722521979),y,a,n[r+6],23,76029189),m=f(m,y=f(y,a=f(a,h,m,y,n[r+9],4,-640364487),h,m,n[r+12],11,-421815835),a,h,n[r+15],16,530742520),y,a,n[r+2],23,-995338651),m=c(m,y=c(y,a=c(a,h,m,y,n[r],6,-198630844),h,m,n[r+7],10,1126891415),a,h,n[r+14],15,-1416354905),y,a,n[r+5],21,-57434055),m=c(m,y=c(y,a=c(a,h,m,y,n[r+12],6,1700485571),h,m,n[r+3],10,-1894986606),a,h,n[r+10],15,-1051523),y,a,n[r+1],21,-2054922799),m=c(m,y=c(y,a=c(a,h,m,y,n[r+8],6,1873313359),h,m,n[r+15],10,-30611744),a,h,n[r+6],15,-1560198380),y,a,n[r+13],21,1309151649),m=c(m,y=c(y,a=c(a,h,m,y,n[r+4],6,-145523070),h,m,n[r+11],10,-1120210379),a,h,n[r+2],15,718787259),y,a,n[r+9],21,-343485551),a=o(a,e),h=o(h,d),m=o(m,v),y=o(y,l);return[a,h,m,y]}function v(n){var t=void 0,o="",r=32*n.length;for(t=0;t<r;t+=8)o+=String.fromCharCode(n[t>>5]>>>t%32&255);return o}function l(n){var t=void 0,o=[];for(o[(n.length>>2)-1]=void 0,t=0;t<o.length;t+=1)o[t]=0;var r=8*n.length;for(t=0;t<r;t+=8)o[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return o}function a(n){return v(d(l(n),8*n.length))}function h(n,t){var o=void 0,r=l(n),e=[],u=[],i=void 0;for(e[15]=u[15]=void 0,r.length>16&&(r=d(r,8*n.length)),o=0;o<16;o+=1)e[o]=909522486^r[o],u[o]=1549556828^r[o];return i=d(e.concat(l(t)),512+8*t.length),v(d(u.concat(i),640))}function m(n){var t="",o=void 0,r=void 0;for(r=0;r<n.length;r+=1)o=n.charCodeAt(r),t+="0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o);return t}function y(n){return unescape(encodeURIComponent(n))}function p(n){return a(y(n))}function g(n){return m(p(n))}function b(n,t){return h(y(n),y(t))}function s(n,t){return m(b(n,t))}function S(n,t,o){return t?o?b(t,n):s(t,n):o?p(n):g(n)}"function"==typeof define&&define.amd?define(function(){return S}):"object"===("undefined"==typeof module?"undefined":n(module))&&module.exports?module.exports=S:t.md5=S}(void 0); 
 			}); 
		define("src/controller-video/flow-getinfo/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function e(e){e=e||"";var n=u.test(e);if(n)return n;var r="";return e.replace(f,function(e,n){r=n}),/qq\.com/.test(r)}var n=function(e){return e&&e.__esModule?e:{default:e}}(require("../../dataset/ad-text")),r=require("../../../lib-inject").Promise,t=require("./data/ad"),i=require("./data/getinfo"),o=require("../../module/account"),u=/\/\/[^/]*?qq\.com/,f=/\/\/[^/]+?\/([^/]+?)\//;module.exports=function(u,f){var d=(u=u||{}).vid,a=u.cid,c=u.from,l=u.openid,v=u.defn,s=u.videoInfo||{},q=u.chid;(f=f||{}).onBeforeGetinfo="function"==typeof f.onBeforeGetinfo?f.onBeforeGetinfo:function(){};[d,c,v].join("/");var m=o.isInner(),p=o.canUse(),h=p&&m;if(s.hasOwnProperty("url")&&(h||!p&&e(s.url))){var x=s.vecDefn;return x&&x.length&&(s.fmid=x.filter(function(e){return e.selected})[0].id),r.resolve({videoinfo:s,ad:{}})}if((h||!p)&&s.vl&&s.fl)return i(d,c,v,f,s).then(function(e){return{videoinfo:e,ad:{}}});var B=1===u.scene&&(h||!p&&u.qwer);return r.all([B?r.resolve({}):t({coverid:a,vid:d,live:0,chid:q||41,pu:1,openid:l||""}),i(d,c,v,f),(0,n.default)()]).then(function(e){return{ad:e[0],videoinfo:e[1],adText:e[2]}})}; 
 			}); 
		define("src/controller-video/flow-play/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var n=require("../../../lib-inject").Promise,e=require("../../lib/message"),t=require("../../classes/Content"),i=require("../../module/log")("flow-getinfo");module.exports=function(o,r,u){var a={time:0,duration:0,skipable:!1},c={},f={},d=[],s=n.defer(),l=s.promise,p=new e,m=null,v=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={currentContent:n=n||m,preloadContents:d.filter(function(e){return!f[e.id]&&e!=n}),extra:e,getinforaw:g.raw};n&&n.isad&&(t.progress=a),m=n,u(t)},h=o.ad,g=o.videoinfo,w=!1;(h.adList||[]).forEach(function(e){var o=e(),r=new t({url:o.url,duration:o.duration,isad:!0}),u=new n(function(n){w||(r.on("end",function(){n(),o.onEnd()},!0),r.on("error",function(){n(),o.onError()},!0),r.on("timeout",function(){n(),o.onError()},!0),r.on("skip",function(){w=!0,n(),o.onSkip()},!0),r.on("start",function(){p.emit("adplaying",r),o.onStart()},!0),r.on("timeupdate",function(n){o.onTimeupdate(n)},!0),p.on("_terminate",function(){n()}))}).then(function(n){return f[r.id]=!0,n});c[r.id]=r,d.push(r),a.duration+=o.duration,a.skipable=o.skipable,l=l.then(function(){return i("playflow: ad."+o.url),"1"==o.oid?(i("这是一个空单，往下走"),void o.onReportEmpty()):(v(r),u.then(function(n){a.time+=r.duration}))})});var y=new t({url:g.url,duration:g.duration,filesize:g.filesize,isad:!1,preview:g.preview,charged:g.charged});c[y.id]=y,d.unshift(y);var E=new n(function(n,e){function t(t){!i&&t.on("start",function(){p.emit("videoplaying",t),i=!0},!0),t.on("start",function(){p.emit("videostart",t)}),t.on("play",function(){p.emit("videoplay",t)}),t.on("pause",function(){p.emit("videopause",t)}),t.on("timeupdate",function(n){p.emit("videotimeupdate",n,g.duration)}),t.on("error",function(n){var t=new Error(n?n.detail&&n.detail.errMsg||n.message:"播放出错");t.code="P.0",e(t)},!0),t.on("end",n,!0),t.on("timeout",function(n){p.emit("videotimeout",n)})}var i=!1;t(y),p.on("_terminate",function(){n()}),p.on("_changevideocontent",function(n){y.off(),f[y.id]=!0,d.every(function(e,t){return e!=y||(d.splice(t,1,n),!1)}),t(n),m==y?v(n):v(null,{isPlayingAd:!0}),c[n.id]=n,y=n})}).then(function(n){return f[y.id]=!0,n});l=l.then(function(){return y.off("change"),y.on("change",function(){v(y)}),p.on("_changevideocontent",function(n){y.off("change"),n.on("change",function(){v(n)})}),v(y),E}).then(function(){p.emit("end")}).catch(function(n){throw p.emit("error",n),n}),v(null);var k={currentContent:m,progress:l,stop:function(){return p.emit("_terminate"),p.emit("terminate"),Object.keys(c).forEach(function(n){c[n].off()}),p.off(),this},start:function(){return s.resolve(),l},on:function(){return p.on.apply(p,arguments)},switchVideo:function(n){var e=n.videoinfo;g=e;var i=new t({url:e.url,duration:e.duration,filesize:e.filesize,isad:!1,preview:e.preview,charged:e.charged});p.emit("_changevideocontent",i)}};return["End","Play","Pause","Timeupdate","Error","Skip"].forEach(function(n){r.on("content"+n.toLowerCase(),function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];var r=e&&c[e]?c[e]:m;r&&r["onContent"+n].apply(r,i)})}),k}; 
 			}); 
		define("src/controller-video/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},i=function(e){return e&&e.__esModule?e:{default:e}}(require("../lib/message")),u=require("../../lib-inject").Promise,a=require("./flow-getinfo/index"),f=require("./flow-play/index"),c=require("./reporter"),l=require("../module/reporter/index"),p=require("../classes/Controller"),s=require("../module/log")("controller-video-index");require("./flow-getinfo/data/ad").reporter.on("report",function(e){s("url",e),l.any(e)});var d=function(l){function s(){return e(this,s),t(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return r(s,p),n(s,[{key:"createFlow",value:function(e,t){var r=this;e=e||{},t=t||{};var n=e,o=n.vid,l=n.from,p=n.cid,s=(n.defn,n.qwer,n.scene,n.videoInfo,t.getReportParam),d=new u(function(e){s?s(function(t,r){e(r&&r.hc_openid||"")}):e("")}),y=c({cid:p,vid:o},{getReportParam:s}),h=this.model,v=d.then(function(r){return e.openid=r,a(e,t)}).then(function(e){h.state="ready",i.default.emit("adText",e.adText);var t=r.playflow=f(e,r,function(e){h.currentContent=e.currentContent,r.emit("contentchange",e)});return y.setPlayFlow(t),y.setVideoInfo(e.videoinfo),t.on("videotimeupdate",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.emit.apply(r,["videotimeupdate"].concat(t))}),t.on("videostart",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.emit.apply(r,["videostart"].concat(t))}),r.started.promise}).then(function(){return h.state="playing",r.playflow.start()}).then(function(e){h.state="ended"}).catch(function(e){throw h.state="error",r.playflow&&r.playflow.stop(),y.error(e),e});return this.switchDefn=function(e){var n=r.currDefn;return d.then(function(r){return a({vid:o,from:l,cid:p,openid:r,defn:e||n},t)}).then(function(e){y.setVideoInfo(e&&e.videoinfo),r.playflow.switchVideo(e)})},v}},{key:"stop",value:function(){this.model.state="ended",o(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"stop",this).call(this),this.playflow&&this.playflow.stop()}}]),s}();module.exports=function(e,t){return new d(e,t)}; 
 			}); 
		define("src/controller-video/report-play.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=require("./../module/reporter/report-queue"),t=require("../../conf"),n=wx.getSystemInfoSync();module.exports=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments[2],p=arguments[3];c(function(c,a){c&&(a={}),delete(a=a||{}).val1,delete a.val2,delete a.val3,"object"===e(a[r])&&(["val1","val2","val3"].forEach(function(e){a[e]=a[r][e]}),delete a[r]),(a.isReportNetwork?wx.getNetworkType:function(e){e&&e.success({})})({success:function(e){var c={BossId:4327,Pwd:944465292,app_version:t.version,platform:n.platform,client_model:n.model,wx_version:n.version,network:e&&e.networkType?e.networkType:"",step:r,page_url:a.pageName||"",page_query:a.pageQuery||"",page_ref:a.refName||""};["hc_vuserid","hc_openid","hc_appid","ptag","iformat","duration","defn","tpay","adid","playtime","page_url","page_query","page_ref","cid","vid","isvip","val1","val2","val3","appname","nick","rmd","scene","additional","videourl"].forEach(function(e){e in i&&(c[e]=i[e]),e in a&&(c[e]=a[e]),void 0==c[e]&&(c[e]="")}),p&&"function"==typeof p?p(null,{reportUrl:"https://btrace.qq.com/kvcollect?"+Object.keys(c).map(function(e){return e in c?e+"="+encodeURIComponent(c[e]):""}).filter(function(e){return e}).join("&")}):o.push({reportUrl:"https://btrace.qq.com/kvcollect?"+Object.keys(c).map(function(e){return e in c?e+"="+encodeURIComponent(c[e]):""}).filter(function(e){return e}).join("&")})}})})}; 
 			}); 
		define("src/controller-video/reporter.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function e(e){return{1:1,2:1,10001:4,10002:3,10003:2,10201:4,10202:3,10203:2,100001:2,320089:2,320091:3,320092:4,320093:5}[e]}var n=require("./report-play"),o=require("../module/reporter/index"),t=require("../util/index").Oncer,r=[5,30];module.exports=function(i,a){function u(e){return(e instanceof Array?e:[e||""]).join("+")}function l(){return{iformat:d&&d.dltype?d.dltype:0,duration:d&&d.duration?Math.floor(d.duration):"",defn:d&&d.fmid?e(d.fmid):"",videourl:u(d&&d.url),playtime:m+(s?Date.now()-s:0),vid:c||"",cid:v||""}}var c=i.vid,v=i.cid,f=a.getReportParam||function(e){return e({})},d=null,p=0,s=void 0,m=0,w=!1,y=!1,D=t(function(e){var o=l();o.val1=0,o.val2=0,o.val3=e,o.videourl=e,n(7,o,f)}),h=t(function(e){var o=l();o.val1=p?Date.now()-p:0,o.val2=w?0:1,o.val3=e,o.videourl=e,n(6,o,f)}),g=t(function(e,o){var t=l();t.val1=p?Date.now()-p:0,t.val2={error:3,complete:1,incomplete:y?2:0}[e],void 0==t.val2&&(t.val2=2),t.val3=o,n(5,t,f)}),C=null,q=t(function(e,t){o.reportCache.del("step30");var r=l();r.val1=e,r.val2=t,n(30,r,f)}),x=function(e,t){if(1e4==e){C=setTimeout(function(){q(e)},11e3);var r=l();r.val1=e,r.val2=t,n(30,r,f,function(e,n){o.reportCache.set("step30",n)})}else clearTimeout(C),q(e)};return n(3,l(),f),o.on("_save",function(){var e=l();e.val1=p?Date.now()-p:0,e.val2=y?2:0,n(5,e,f,function(e,n){o.reportCache.set("step5",n)})}),o.on("_restore",function(){r.forEach(function(e){o.reportCache.del("step"+e)})}),{setPlayFlow:t(function(e){e.on("adplaying",function(e){w=!0,D(e.url)}),e.on("videoplay",function(e){!p&&(p=Date.now()),s=Date.now()}),e.on("videoplaying",function(e){y=!0,h(e.url),x(p?Date.now()-p:0,0)}),e.on("videopause",function(){m+=Date.now()-s,s=0}),e.on("videotimeout",function(e){x(e,1)}),e.on("terminate",function(){g("incomplete")}),e.on("end",function(){g("complete")}),e.on("error",function(e){g("error","1 "+(e.code||"")+" "+e.message)})}),setVideoInfo:t(function(e){d=e}),error:function(e){g("error","2 "+(e.code||"")+" "+e.message)}}}; 
 			}); 
		define("src/dataset/ad-text.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../lib-inject"),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../lib/es6-promise")),a="";exports.default=function(){return a?t.default.resolve(a):(0,e.request)("https://wuji.video.qq.com/fcgi-bin/wuji?appid=1001781&appkey=fe7eb78d8f694f8b9de1c4be3a0802c6").then(function(e){var t=e&&e.data&&e.data.data&&e.data.data[0],r="";return t&&(r={adCloseText:t.adCloseText||"",adJumpText:t.adJumpText||""},a=r),r}).catch(function(e){return""})}; 
 			}); 
		define("src/lib/algorithm/fillTimeStamp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports=function(r){r=r||10;var t=""+parseInt(+new Date);if(t.length===r)return t;if(t.length>r)return t.substring(0,r);for(var e=r-t.length;e>0;)t="0"+t,e--;return t}; 
 			}); 
		define("src/lib/algorithm/qvsec.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var r={};r.ha=function(r){function t(r,t){return((r>>1)+(t>>1)<<1)+(1&r)+(1&t)}for(var e=[],n=0;n<64;)e[n]=0|4294967296*Math.abs(Math.sin(++n));return function(r){for(var n=void 0,o=void 0,a=void 0,u=void 0,c=[],i=decodeURIComponent(encodeURI(r)),h=i.length,d=[n=1732584193,o=-271733879,~n,~o],f=0;f<=h;)c[f>>2]|=(i.charCodeAt(f)||128)<<f++%4*8;for(c[r=16*(h+8>>6)+14]=8*h,f=0;f<r;f+=16){for(h=d,u=0;u<64;)h=[a=h[3],t(n=h[1],(a=t(t(h[0],[n&(o=h[2])|~n&a,a&n|~a&o,n^o^a,o^(n|~a)][h=u>>4]),t(e[u],c[[u,5*u+1,3*u+5,7*u][h]%16+f])))<<(h=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*h+u++%4])|a>>>32-h),n,o];for(u=4;u;)d[--u]=t(d[u],h[u])}for(r="";u<32;)r+=(d[u>>3]>>4*(1^7&u++)&15).toString(16);return r}}(),r.stringToHex=function(r){for(var t="",e=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),n=0;n<r.length;n++)t+=e[r.charCodeAt(n)>>4]+e[15&r.charCodeAt(n)];return t},r.hexToString=function(r){for(var t="",e="0x"==r.substr(0,2)?2:0;e<r.length;e+=2)t+=String.fromCharCode(parseInt(r.substr(e,2),16));return t},r._Seed="#$#@#*ad",r.tempcalc=function(r,t){for(var e="",n=0;n<r.length;n++)e+=String.fromCharCode(r.charCodeAt(n)^t.charCodeAt(n%4));return e},r.u1=function(r,t){for(var e="",n=t;n<r.length;n+=2)e+=r.charAt(n);return e},r._urlStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r.urlenc=function(t,e,n){for(var o="",a=void 0,u=void 0,c=void 0,i=void 0,h=void 0,d=void 0,f=void 0,v=0;v<t.length;)a=t.charCodeAt(v++),u=t.charCodeAt(v++),c=t.charCodeAt(v++),15==v&&(o+="A",o+=e,o+=n),i=a>>2,h=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,f=63&c,isNaN(u)?d=f=64:isNaN(c)&&(f=64),o=o+r._urlStr.charAt(i)+r._urlStr.charAt(h)+r._urlStr.charAt(d)+r._urlStr.charAt(f);return o},r.$xx=function(t,e,n,o,a){var a=a||parseInt(+new Date/1e3);return r.ha(t+e+a+r._Seed+n+"heherand")},r.$xxzb=function(t,e,n,o,a){var a=a||parseInt(+new Date/1e3);return r.ha(e+"tmp123"+t+"#$$&c2*KA"+a)},r.$xxf=function(t,e,n,o,a){var a=a||parseInt(+new Date/1e3);return r.ha(t+"ques"+a+"*&%$(SD!L}"+e+n)},r.$xxzbf=function(t,e,n,o,a){var a=a||parseInt(+new Date/1e3);return r.ha(e+a+"*#016"+t+"zput")},module.exports=r; 
 			}); 
		define("src/lib/es6-promise.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e,n){"object"===("undefined"==typeof exports?"undefined":t(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.ES6Promise=n()}(void 0,function(){function e(e){return"function"==typeof e||"object"===(void 0===e?"undefined":t(e))&&null!==e}function n(t){return"function"==typeof t}function r(){return void 0!==D?function(){D(i)}:o()}function o(){var t=setTimeout;return function(){return t(i,1)}}function i(){for(var t=0;t<F;t+=2)(0,G[t])(G[t+1]),G[t]=void 0,G[t+1]=void 0;F=0}function s(t,e){var n=arguments,r=this,o=new this.constructor(c);void 0===o[I]&&x(o);var i=r._state;return i?function(){var t=n[i-1];L(function(){return j(i,o,t,r._result)})}():w(r,o,t,e),o}function u(e){var n=this;if(e&&"object"===(void 0===e?"undefined":t(e))&&e.constructor===n)return e;var r=new n(c);return _(r,e),r}function c(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function a(){return new TypeError("A promises callback cannot return that same promise.")}function l(t){try{return t.then}catch(t){return V.error=t,V}}function h(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function p(t,e,n){L(function(t){var r=!1,o=h(n,e,function(n){r||(r=!0,e!==n?_(t,n):m(t,n))},function(e){r||(r=!0,b(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,b(t,o))},t)}function d(t,e){e._state===Q?m(t,e._result):e._state===R?b(t,e._result):w(e,void 0,function(e){return _(t,e)},function(e){return b(t,e)})}function v(t,e,r){e.constructor===t.constructor&&r===s&&e.constructor.resolve===u?d(t,e):r===V?b(t,V.error):void 0===r?m(t,e):n(r)?p(t,e,r):m(t,e)}function _(t,n){t===n?b(t,f()):e(n)?v(t,n,l(n)):m(t,n)}function y(t){t._onerror&&t._onerror(t._result),g(t)}function m(t,e){t._state===J&&(t._result=e,t._state=Q,0!==t._subscribers.length&&L(g,t))}function b(t,e){t._state===J&&(t._state=R,t._result=e,L(y,t))}function w(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+Q]=n,o[i+R]=r,0===i&&t._state&&L(g,t)}function g(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?j(n,r,o,i):o(i);t._subscribers.length=0}}function A(){this.error=null}function S(t,e){try{return t(e)}catch(t){return X.error=t,X}}function j(t,e,r,o){var i=n(r),s=void 0,u=void 0,c=void 0,f=void 0;if(i){if((s=S(r,o))===X?(f=!0,u=s.error,s=null):c=!0,e===s)return void b(e,a())}else s=o,c=!0;e._state!==J||(i&&c?_(e,s):f?b(e,u):t===Q?m(e,s):t===R&&b(e,s))}function E(t,e){try{e(function(e){_(t,e)},function(e){b(t,e)})}catch(e){b(t,e)}}function T(){return Z++}function x(t){t[I]=Z++,t._state=void 0,t._result=void 0,t._subscribers=[]}function M(t,e){this._instanceConstructor=t,this.promise=new t(c),this.promise[I]||x(this.promise),q(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?m(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&m(this.promise,this._result))):b(this.promise,P())}function P(){return new Error("Array Methods must be provided an Array")}function C(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function k(t){this[I]=T(),this._result=this._state=void 0,this._subscribers=[],c!==t&&("function"!=typeof t&&C(),this instanceof k?E(this,t):O())}var Y=void 0,q=Y=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},F=0,D=void 0,K=void 0,L=function(t,e){G[F]=t,G[F+1]=e,2===(F+=2)&&(K?K(i):H())},N="undefined"!=typeof window?window:void 0,U=N||{},W=U.MutationObserver||U.WebKitMutationObserver,z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),B="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,G=new Array(1e3),H=void 0;H=z?function(){return process.nextTick(i)}:W?function(){var t=0,e=new W(i),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():B?function(){var t=new MessageChannel;return t.port1.onmessage=i,function(){return t.port2.postMessage(0)}}():void 0===N&&"function"==typeof require?function(){try{var t=require("vertx");return D=t.runOnLoop||t.runOnContext,r()}catch(t){return o()}}():o();var I=Math.random().toString(36).substring(16),J=void 0,Q=1,R=2,V=new A,X=new A,Z=0;return M.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===J&&n<t;n++)this._eachEntry(e[n],n)},M.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===u){var o=l(t);if(o===s&&t._state!==J)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===k){var i=new n(c);v(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},M.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===J&&(this._remaining--,t===R?b(r,n):this._result[e]=n),0===this._remaining&&m(r,this._result)},M.prototype._willSettleAt=function(t,e){var n=this;w(t,void 0,function(t){return n._settledAt(Q,e,t)},function(t){return n._settledAt(R,e,t)})},k.all=function(t){return new M(this,t).promise},k.race=function(t){var e=this;return new e(q(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},k.resolve=u,k.reject=function(t){var e=new this(c);return b(e,t),e},k._setScheduler=function(t){K=t},k._setAsap=function(t){L=t},k._asap=L,k.prototype={constructor:k,then:s,catch:function(t){return this.then(null,t)}},k.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=k},k.Promise=k,k.defer=function(){var t={};return t.promise=new k(function(e,n){t.resolve=e,t.reject=n}),t},k}); 
 			}); 
		define("src/lib/message.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function t(){this._evtObjs={},this._outdatedMsgs={}}function e(){}t.prototype.on=function(t,e,s){this._evtObjs[t]||(this._evtObjs[t]=[]),this._evtObjs[t].push({handler:e,once:s});var n=this;return function(){n.off(t,e)}},t.prototype.wait=function(t,s){return this._outdatedMsgs[t]?(s.apply(null,this._outdatedMsgs[t]),e):this.on(t,s,!0)},t.prototype.off=function(t,e){var s=this;return(t?[t]:Object.keys(this._evtObjs)).forEach(function(t){if(e){var n=[];(s._evtObjs[t]||[]).forEach(function(t){t.handler!==e&&n.push(t)}),s._evtObjs[t]=n}else s._evtObjs[t]=[]}),this},t.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1);this._outdatedMsgs[t]=e,(this._evtObjs[t]||[]).forEach(function(t){if(!t.once||!t.called){t.called=!0;try{t.handler&&t.handler.apply(null,e)}catch(t){console.error(t.stack||t.message||t)}}})},t.prototype.emitAsync=function(){var t=arguments,e=this;setTimeout(function(){e.emit.apply(e,t)},0)},t.prototype.assign=function(t){var e=this;["on","off","wait","emit","emitAsync"].forEach(function(s){var n=e[s];t[s]=function(){return n.apply(e,arguments)}})},(new t).assign(t),module.exports=t; 
 			}); 
		define("src/lib/parse-body.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports=function(t){if("string"!=typeof t)return t;t&&(t=t.trim()),t&&/^(data|QZOutputJson)=/.test(t)&&(t=t.replace(/^(data|QZOutputJson)=/,"").replace(/;?$/,""));try{return JSON.parse(t)}catch(t){throw new Error("parse jsonp body failed")}}; 
 			}); 
		define("src/lib/request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("./parse-body"),n=require("./es6-promise"),t=require("../module/log")("lib-request"),u=module.exports={request:function(n){return n.success=function(n){return n=n||function(){},function(u){if(t("wx.request success"),u&&200==u.statusCode)try{u.data=e(u.data)}catch(e){}n(u)}}(n.success),t("wx.request",n.url),wx.request(n)},get:function(e,t){return t=t||{},new n(function(n,s){(u.busRequest||u.request)({url:e,data:t.data||{},header:t.header||{},method:"GET",success:function(e){n(e)},fail:function(e){s(e)},needLoginCase:t.needLoginCase,needlogin:t.needlogin})})},post:function(e,t){return t=t||{},new n(function(n,s){(u.busRequest||u.request)({url:e,data:t.data||{},header:t.header||{},method:"POST",success:function(e){n(e)},fail:function(e){s(e)},needLoginCase:t.needLoginCase,needlogin:t.needlogin})})}}; 
 			}); 
		define("src/lib/url.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e={queryParse:function(e,n){if(!e)return{};n=n||"&";var r=e.replace(/^\?/,""),t={},i=r?r.split(n):null;return i&&i.length>0&&i.forEach(function(e){var n=(e=e.split("=")).splice(0,1),r=e.join("=");t[n]=decodeURIComponent(r)}),t},queryJoin:function(n){var r=[].slice.call(arguments);r[0]={};var t=e.queryStringify(Object.extend.apply(Object,r));if(!t)return n;var i=void 0;return i=/[\?&]$/.test(n)?"":~n.indexOf("?")?"&":"?",n+i+t},queryStringify:function(e,n){return e?Object.keys(e).map(function(n){return n+"="+encodeURIComponent(e[n])}).join(n||"&"):""}};module.exports=e; 
 			}); 
		define("src/module/account.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var n=require("../util/appids"),e=require("./system-info")(),r={canUse:function(){return!!wx.getAccountInfoSync},isInner:function(){if(r.canUse()){var c=wx.getAccountInfoSync();return!!e.isQB||!!n[c.miniProgram.appId]}return!1},getAccountInfoSync:function(){if(r.canUse())return wx.getAccountInfoSync()},canUseInner:function(){return r.canUse()&&r.isInner()}};module.exports=r; 
 			}); 
		define("src/module/cache.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports={set:function(e,t,a){wx.setStorageSync("_cache_"+e,{expr:a||0,date:+new Date,data:t})},get:function(e){e="_cache_"+e;var t=wx.getStorageSync(e);return t?t.expr&&t.expr?new Date-(t.date+t.expr)<0?t.data:(wx.removeStorageSync(e),null):t.data:null},del:function(e){e="_cache_"+e,wx.removeStorageSync(e)}}; 
 			}); 
		define("src/module/curr-page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var r=void 0;module.exports={getCurrUrl:function(e){if(!(r=e.getCurrentPages||r))return"/pages/default";var t=r();return t[t.length-1].route},getCurrPageQuery:function(e){if(!(r=e.getCurrentPages||r))return"/pages/default";var t=r();return(e=t[t.length-1].options)||{}},getCurrUrlWithQuery:function(){var r=this.getCurrPageQuery(),e=this.getCurrUrl()+"?";for(var t in r)e+=t+"="+r[t]+"&";return e=e.substring(0,e.length-1)}}; 
 			}); 
		define("src/module/gen-guid.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports=function(){return Math.random().toString(16).substring(2)}; 
 			}); 
		define("src/module/guid.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("./cache"),r=require("./gen-guid"),t=e.get("tvp_guid");t||(t=r(),e.set("tvp_guid",t)),module.exports=t; 
 			}); 
		define("src/module/log.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function o(a){var t=[Math.floor(50*Math.random()+200),Math.floor(50*Math.random()+150),Math.floor(50*Math.random()+100)].sort(function(){return Math.random()-.5});return t="rgb("+t[0]+", "+t[1]+", "+t[2]+")",n?function(){if(o.isOpenLog){var n=["%c【%s】%c "+a+" %c %s ","background: #ddd",new Date,"background: "+t,"background: #333;color: white"];console.log.apply(console,n.concat([].slice.call(arguments,0)))}}:function(){if(o.isOpenLog){var n=["【%s】 "+a+" %s ",new Date];console.log.apply(console,n.concat([].slice.call(arguments,0)))}}}var n="devtools"==wx.getSystemInfoSync().platform;o.isOpenLog=!1,module.exports=o; 
 			}); 
		define("src/module/network.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e={"4g":4,"3g":3,"2g":2,wifi:1};module.exports=function(t,o){wx.getNetworkType({complete:function(r){var i=(o||e)[r&&r.networkType]||0;t&&t(i)}})}; 
 			}); 
		define("src/module/reporter/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=new(require("../../lib/message")),r=require("./report-queue"),t=require("../log")("module-reporter");r.onReport=function(e){s.emit("report",e)};var o=require("./report-cache"),s={};s.any=function(e){r.push(e)},s.saveState=function(){t("reporter.js","saveState"),s.emit("_save")},s.restoreState=function(){t("reporter.js","restoreState"),s.emit("_restore")},s.checkState=function(){t("reporter.js","checkState"),o.getAll().forEach(r.push),o.del()},s.reportCache=o,e.assign(s),module.exports=s; 
 			}); 
		define("src/module/reporter/report-cache.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var t=require("../cache"),e=t.get("tvp_report")||{};exports.get=function(t){return e[t]},exports.set=function(r,n){e[r]=n,t.set("tvp_report",e)},exports.del=function(r){r?delete e[r]:e={},t.set("tvp_report",e)},exports.getAll=function(){return Object.keys(e).map(function(t){return e[t]})}; 
 			}); 
		define("src/module/reporter/report-queue.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("../../../lib-inject").request;module.exports=function(t){function n(t){~t.reportUrl.indexOf("btrace.qq.com")?e(t.reportUrl).then(function(){o.release()}).catch(function(){o.onReport&&o.onReport(t)}):o.onReport&&o.onReport(t),c=setTimeout(function(){o.release()},r)}var r=3e3,o=void 0,u=!1,i=[],c=null;return o={release:function(e){u&&e&&e!=u||(u=!1,clearTimeout(c),i.length&&n(i.shift()))},push:function(e){u?i.push(e):(u=e,n(e))}}}(); 
 			}); 
		define("src/module/system-info.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var t=void 0;module.exports=function(){return t=t||wx.getSystemInfoSync()}; 
 			}); 
		define("src/module/visiable.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("./log")("visiable"),t=void 0;module.exports=function(o){if(!o.dom){var i=wx.createSelectorQuery().in(o);o.dom=i.select("#"+o.data.playerid)}o.dom.boundingClientRect(function(i){t=t||wx.getSystemInfoSync();var r=!0;(i.top>=t.windowHeight||i.bottom<=0)&&(e(i),r=!1),r||o.isEnterFullscreen||o._controller.pause()}).exec()}; 
 			}); 
		define("src/util/appids.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports={wxa75efa648b60994b:!0,wxac48d234d44e23e3:!0,wxcb0c43c76ee475e9:!0}; 
 			}); 
		define("src/util/base64text.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAtxtZGF0AAACvAYF//+43EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDEzNSByMjM0NSBmMGMxYzUzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxMyAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTYgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9YWJyIG1idHJlZT0xIGJpdHJhdGU9NTAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAAQZYiEABr//vfUt8yy8ER/gQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAEAAAAAoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAEAAKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAn/4QAZZ2QACazZX+TAWyAAAAMAIAAAAwKB4kSywAEABWjr7LIsAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAtQAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU1LjEyLjEwMg=="; 
 			}); 
		define("src/util/defn-config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function e(e,r,d){return r in e?Object.defineProperty(e,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[r]=d,e}var r;module.exports=(r={"流畅":"msd","标清":"sd","高清":"mp4"},e(r,"高清","hd"),e(r,"超清","shd"),e(r,"蓝光","fhd"),e(r,"4K","uhd"),e(r,"杜比","dolby"),r); 
 			}); 
		define("src/util/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";function e(e,t){e=e.split("."),t=t.split(".");for(var r=Math.max(e.length,t.length);e.length<r;)e.push("0");for(;t.length<r;)t.push("0");for(var n=0;n<r;n++){var s=parseInt(e[n]),o=parseInt(t[n]);if(s>o)return 1;if(s<o)return-1}return 0}var t=wx.getSystemInfoSync();module.exports={sysInfo:t,compareVersion:e,formatDate:function(e,t){if(!e)return"";"string"==typeof e&&(e=new Date(e.replace(/-/g,"/"))),t=t||"yyyy-MM-dd";var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t},Oncer:function(e){var t=!1,r=function(){t||(t=!0,e.done=t,e.apply(this,arguments))};return r.done=t,r},isHigherVersion:function(r){return-1!=e(t.SDKVersion,r)}}; 
 			}); 
		define("src/util/platform-config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";module.exports={APP_NAME:{v4170:"zhihuiwang",v4163:"xiaosongliu",v4162:"dongqiji",v4161:"egame.qq.com",v4169:"plugin",v4160:"sport.qq.com",v4159:"oddjohn",v4158:"sherrygu",v4157:"sophiachang",v4153:"yidiandian",v4152:"pvp.wx.com",v4151:"pipixia",v4150:"wechat_class",v4149:"x5.qq.com",v4148:"auto.qq.com",v4146:"wuxia.qq.com",v4145:"dnf.qq.com",v4144:"pvp.qq.com",v4143:"ke.qq.com",v4142:"qnreading",v4141:"om",v4140:"wx_reader",v4139:"news",v4138:"video"},APP_PLATFORM:{v4170:"4340801",v4163:"4090801",v4162:"4120801",v4161:"3960801",v4169:"4210801",v4160:"40801",v4159:"3810801",v4158:"3710801",v4157:"3690801",v4153:"3500801",v4152:"3470801",v4151:"3450801",v4150:"3310801",v4149:"3280801",v4148:"3170801",v4146:"3140801",v4145:"3110801",v4144:"3100801",v4143:"260801",v4142:"570801",v4141:"3040801",v4140:"60801",v4139:"20801",v4138:"10801"}}; 
 			}); 
		define("src/video.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var e=require("./module/reporter/index"),t=require("./controller-video/index"),o=require("./controller-live/index"),n=require("./util/platform-config").APP_NAME,r=module.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.from,f=void 0===r.autoplay||r.autoplay,d=r.defn||"",c=r.chid||void 0,p="function"==typeof r.getReportParam?r.getReportParam:"function"==typeof r.getLoginData?function(e){r.getLoginData(function(t,o){o.hc_openid=o.openid,delete o.openid,e(t,o)})}:function(e){return e()},u=e.vid;"string"==typeof e&&(u=e);var l=e.cid||"",v=e.sid,s=e.pid,g=r.scene,m=r.qwer,h=void 0;return h=u?t({vid:u,cid:l,from:a,chid:c,defn:d,scene:g,qwer:m,videoInfo:i},{onBeforeGetinfo:r.onBeforeGetinfo,onAfterGetInfo:r.onAfterGetInfo,getReportParam:function(e){p(function(t,o){o&&(o.appname=n[a]),e(t,o)})}}):o({sid:v,pid:s,from:a,defn:d},{getReportParam:function(e){p(function(t,o){o&&(o.appname=n[a]),e(t,o)})}}),f&&h.start(),h};r.on=function(t){"report"==t&&(e.off("report"),e.on.apply(e,arguments))},r.release=e.release,r.saveState=e.saveState,r.restoreState=e.restoreState,r.checkState=e.checkState; 
 			}); 
		global.__wxAppCurrentFile__ = 'plugin-private://wxa75efa648b60994b/component/live/live.js';global.__wxRouteBegin = true; 	define("component/live/live.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var t=require("../../index"),e=require("../txv-context"),i=require("../../src/module/log")("txv-live-component"),r=(require("../../src/controller-live/flow-getinfo/live-detail"),require("../../src/controller-live/flow-getinfo/live-poll")),a=(require("../../src/util/index"),require("../../src/util/base64text")),n=require("./properties"),o=require("./data");Component({properties:n,data:o,attached:function(){i("attached",this.data);var t=this;wx.onNetworkStatusChange(function(i){function r(){t.currPlayTime=t.data.progressTime,t.networkChange&&t.networkChange()}t.data.tvpIsAd||(t.data.playerid!=e.getLastPlayId()?t.delayNetworkChangeReq=r:r())})},detached:function(){i("detached",this.data),e.txvDetached(this.data.playerid),clearTimeout(this.livePollTimer),this.networkChange=null,this.livePollTimer=!1},methods:{registerInterface:function(){var t=this,i=this.data.playerid;if(!i)throw new Error("需要为txv-live组件指定一个playerid，可以采用sid+pid组合形成playerid");if(!this._controller){this.videoContext=wx.createVideoContext(i,this);var r=this._controller={};["play","pause","seek","playbackRate","requestFullScreen","exitFullScreen","sendDanmu"].forEach(function(e){r[e]=function(){for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];t.videoContext[e].apply(t.videoContext,r)}}),e.txvAttached(i,r),this.mountMore(r)}},mountMore:function(t){var e=this,i={hideVideo:function(){e.setData({isHiddenVideo:!0})},showVideo:function(){e.setData({isHiddenVideo:!1})},hideVideoWithVoice:function(){e.setData({isHiddenWithVoice:!0})},showVideoWithVoice:function(){e.setData({isHiddenWithVoice:!1},function(){})},showContainer:function(){e.setData({isHiddenContainer:!1})},hideContainer:function(){e.setData({isHiddenContainer:!0})}};Object.assign(t,i)},getVideoInfo:function(){if(this.data.sid&&this.data.pid)return t({sid:this.data.sid,pid:this.data.pid},Object.assign({from:"v4169"},this.data.extraParam))},onVideoChange:function(t,e,r){var a=this.data.sid,n=this.data.pid;this.formerPid==n&&this.formerSid==a||(this.formerPid=n,this.formerSid=a,a&&n&&(this.registerInterface(),i("onVideoChange",a,n),clearTimeout(this.livePollTimer),this.livePollTimer=null,this.createPlayer()))},triggerLivePoll:function(t,e){var n=this;if(!this.isPolling)return this.isPolling=!0,r({pollDataKey:t,pollContext:e||""}).then(function(e){n.isPolling=!1,i("@@@@@@@@@@@@@@@",e),e=e&&e.data&&e.data.data,!1!==n.livePollTimer&&(n.livePollTimer=setTimeout(function(){n.triggerLivePoll(t,e.pollContext)},1e3*(e.pollTimeOut||5)));var r={onlineNumber:e.onlineNumber,likeNum:e.likeNum,popularity:e.popularity,playCount:e.playCount,attentNumber:e.attentNumber};2!=e.liveStatus?(clearTimeout(n.livePollTimer),n.livePollTimer=!1,n.triggerEvent("livestatus",{status:3,msg:"直播已结束",data:r}),n.setData({getDataError:"",isAfter:!0,isBefore:!1,tvpUrl:a,autoplay:!1})):n.triggerEvent("livestatus",{status:2,msg:"直播中",data:r})}).catch(function(i){n.isPolling=!1,!1!==n.livePollTimer&&(n.livePollTimer=setTimeout(function(){n.triggerLivePoll(t,e)},2e4))})},createPlayer:function(){var t=this;this.video=this.getVideoInfo(),this.video&&(this.networkChange=this.video.switchDefn,this.video.on("contentchange",function(e){if(t.triggerEvent("contentchange",e),e.currentContent){i("tvpUrl",e,e.currentContent);var r=e.currentContent.url,a=e.currentContent.iretcode,n={isBefore:!1,isAfter:!1,getDataError:!1,errCode:""};0===a&&r?(n.tvpUrl=r,t.triggerEvent("livestatus",{status:2,msg:"直播中"}),!t.data.isStopPoll&&t.triggerLivePoll("pid="+t.data.pid)):7==a?(n.isBefore=!0,t.triggerEvent("livestatus",{status:1,msg:"直播未开始"})):8==a?(n.isAfter=!0,t.triggerEvent("livestatus",{status:3,msg:"直播已结束"})):(n.getDataError=!0,n.errCode=a||8888,t.triggerEvent("livestatus",{status:a,msg:"未知错误"})),t.setData(n)}}),this.video.on("error",function(e){t.triggerEvent("contenterror",e)}))},__onTvpPlay:function(t){var i=this.data.playerid,r=e.getLastPlayId();if(e.setTvpPlayState(i,!0),r!=i){if(r){var a=e.getTxvContext(r);this.data.isNeedMutex&&a&&a.pause(),e.setTvpPlayState(r,!1)}e.setLastPlayId(i)}if(this.delayNetworkChangeReq)return this.delayNetworkChangeReq(),void(this.delayNetworkChangeReq=null);try{this.video&&this.video.onContentPlay()}finally{this.triggerEvent("play",t.detail)}},__onTvpPause:function(t){e.setTvpPlayState(this.data.playerid,!1);try{this.video&&this.video.onContentPause()}finally{this.triggerEvent("pause",t.detail)}},__onTvpEnded:function(t){e.setTvpPlayState(this.data.playerid,!1);try{this.video&&this.video.onContentEnd()}finally{this.triggerEvent("ended",t.detail)}},__onTvpTimeupdate:function(t){e.setTvpPlayState(this.data.playerid,!0),this.triggerEvent("timeupdate",t.detail),this.video&&this.video.onContentTimeupdate(null,t)},__onTvpFullScreenChange:function(t){this.isEnterFullscreen=!!t.detail.fullScreen,this.triggerEvent("fullscreenchange",t.detail)},__onTvpError:function(t){if(this.data.tvpUrl!==a){console.log("__onTvpError",this.data.tvpUrl,t),e.setTvpPlayState(this.data.playerid,!1);try{this.video&&this.video.onContentError(null,t)}finally{this.triggerEvent("error",t.detail)}}},__onTvpWaiting:function(t){this.video&&this.video.onContentWaiting()}}}); 
 			}); 	require("component/live/live.js");
 		global.__wxAppCurrentFile__ = 'plugin-private://wxa75efa648b60994b/component/video/video.js';global.__wxRouteBegin = true; 	define("component/video/video.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			

"use strict";var t=function(t){return t&&t.__esModule?t:{default:t}}(require("../../src/lib/message")),e=require("../../index"),i=require("../txv-context"),n=require("../../src/module/log")("txv-video-component"),a=require("../../src/util/defn-config"),r=require("../../src/module/system-info")(),o=require("./properties"),s=require("./data"),d=wx.getStorageSync("tvp_openid");d||(d=["_",Math.random().toString(16).slice(2),Math.random().toString(16).slice(2),Math.random().toString(16).slice(2)].join("").slice(0,28),wx.setStorageSync("tvp_openid",d)),Component({properties:o,data:s,attached:function(){var t=this;n("attached",this.data);var a=this;wx.onNetworkStatusChange(function(t){function e(){a.currPlayTime=a.data.progressTime,a.isNetworkChange=!0,a.networkChange&&a.networkChange()}a.data.tvpIsAd||(console.log("network change"),a.data.playerid!=i.getLastPlayId()?a.delayNetworkChangeReq=e:e())}),e.on("report",function(e){t.setData({reportUrl:e.reportUrl.replace("https","http")})}),this.initBright(),this.isIpx()},ready:function(){this.register()},moved:function(){},detached:function(){n("detached",this.data),i.txvDetached(this.data.playerid),this._controller=null,this.networkChange=null},methods:{register:function(){this.data.isHiddenStop&&this.registerIntersectionObserver()},registerIntersectionObserver:function(){var t=this;this.createIntersectionObserver().relativeToViewport().observe("#"+this.data.playerid,function(e){var i=e.boundingClientRect;t.isEnterFullscreen||t.data.isHiddenWithVoice||!i||(i.bottom<=0||i.top>=r.windowHeight)&&t.videoContext.pause()})},registerInterface:function(){var t=this;if(!this.data.playerid)throw new Error('需要为txv-video组件指定一个playerid，如果是采用的playerid="{{playerid}}"，请加上wx:if="{{playerid}}"');if(!this._controller){this.videoContext=wx.createVideoContext(this.data.playerid,this);var e=this._controller={videoContext:this.videoContext};["play","pause","seek","playbackRate","requestFullScreen","exitFullScreen","sendDanmu"].forEach(function(i){e[i]=function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];t.videoContext[i].apply(t.videoContext,n)}}),this.mountMore(e),i.txvAttached(this.data.playerid,e),n("!!!!!!!",i)}},mountMore:function(t){var e=this,i=this,n={hideVideo:function(){i.setData({isHiddenVideo:!0})},showVideo:function(){i.setData({isHiddenVideo:!1})},hideVideoWithVoice:function(){i.setData({isHiddenWithVoice:!0})},showVideoWithVoice:function(){i.setData({isHiddenWithVoice:!1},function(){})},showContainer:function(){i.setData({isHiddenContainer:!1})},hideContainer:function(){i.setData({isHiddenContainer:!0})},controller:this.video||null,replay:function(t,i,n){i=i||e.data,n=n||e.data.videoInfo,e.start(t,i,n),setTimeout(function(){e.videoContext.play()})}};Object.assign(t,n)},skipAd:function(){this.video.onContentSkip(0)},onPlayeridChange:function(t,e){e&&i.txvDetached(e),t&&this._controller&&i.txvAttached(t,this._controller)},onVideoChange:function(t,e){this.start(t,this.data,this.data.videoInfo)},getVideoInfo:function(t,i,r){if(t)return n("denf",a[i.defn]),e(t,Object.assign({from:"v4169",defn:a[i.defn]||"",getReportParam:function(t){t(null,{hc_openid:d,hc_vuserid:d})}},i.extraParam),r)},start:function(e,a,o){var s=this;if(e){this.registerInterface();var d={tvpState:"",formattedVid:e=e.replace(/^\s+|\s+$/,"")};this.setData(d),a=a||{},o=o||{},n("onVideoChange",e),console.log("onVideoCHnage"),t.default.on("adText",function(t){t&&s.setData({adJumpText:t.adJumpText||s.data.adJumpText,adCloseText:t.adCloseText||s.data.adCloseText})},!0);var h=this.video=this.getVideoInfo(e,a,o);if(h){try{var l=i.getTxvContext(this.data.playerid);l&&(l.controller=h)}catch(t){}this.networkChange=h.switchDefn,h.on("error",function(t){s.triggerEvent("contenterror",t),s.setData({tvpVideoError:t.message+"("+(t.code||"L")+")"})}),h.on("statechange",function(t,e){if(n("onstatechange",t,e),s.triggerEvent("statechange",{newstate:t,oldstate:e}),t!=s.data.tvpState){switch(n("playerstatechange "+s.data.tvpState+" => "+t),s.data.tvpState){case"stop":break;case"error":return}s.setData({tvpState:t})}});var c=!0;h.on("contentchange",function(t){n("contentchange",t);var i=s.isSwitchDefn?1:s.isNetworkChange?2:0;if(t=t||{},t.origin=i,s.triggerEvent("contentchange",t),t.currentContent){var a={};t.extra.isPlayingAd||(a.progressTime=0,t.progress?(a.progressDuration=t.progress.duration,a.progressBaseTime=t.progress.time,a.progressSkipTime=t.progress.skipable):(a.progressDuration=0,a.progressBaseTime=0,a.progressSkipTime=0)),a.isQB=r.isQB&&s.data.isHideQB||!1,a.tvpUrl=t.currentContent.url;var d=a.tvpIsAd=!!t.currentContent.isad;if(!d&&a.tvpUrl===s.data.tvpUrl){var l=/\?/.test(a.tvpUrl)?"&":"?";a.tvpUrl+=l+"_r="+Math.random()}if(n("tvpUrl",a.tvpUrl),console.log("tvpUrl",a.tvpUrl),-1==s.data.direction){var u=t.getinforaw&&t.getinforaw.vl&&t.getinforaw.vl.vi;u&&u.length?u.some(function(t){t.vid===e&&t.vh&&t.vw&&(a.direction=t.vh<t.vw?90:0)}):o&&o.vh&&o.vw&&(a.direction=o.vh<o.vw?90:0)}if(!d){var v=t.getinforaw&&t.getinforaw.fl&&t.getinforaw.fl.fi,g="",f="";(v=v||o&&o.vecDefn)&&v.length&&(v.forEach(function(t){t.cname.replace(/([^;]+?);\(([^)]+?)\)/,function(e,i,n){t.cname=i+" "+n,t.cname_short=i}),t.selected=t.selected||!1,g||!t.selected&&!t.sl||(g=t.cname_short||"",f=t.name,t.selected=!0)}),v.reverse(),h.currDefn=f,a.formats=v,a.formats_selected=g)}s.setData(a,function(){c||setTimeout(function(){s.videoContext.play()},200),c=!1}),s.isSwitchDefn&&(s.currPlayTime&&t.currentContent.wait("start",function(){n("seek"),s.videoContext.seek(s.currPlayTime)}),s.isSwitchDefn=!1)}else n("first content change",t)}),h.on("videostart",function(t){s.triggerEvent("videostart",t)})}}},__onTvpPlay:function(t){this.setData({isPlaying:!0}),this.isNetworkChange&&(this.videoContext.seek(this.currPlayTime),this.isNetworkChange=!1);var e=this.data.playerid;i.setTvpPlayState(e,!0);var n=i.getLastPlayId();if(n!=e){if(n&&i.existTxvContext(n)){var a=i.getTxvContext(n);this.data.isNeedMutex&&a&&a.pause(),i.setTvpPlayState(n,!1)}i.setLastPlayId(e)}if(this.delayNetworkChangeReq)return this.delayNetworkChangeReq(),void(this.delayNetworkChangeReq=null);try{this.video&&this.video.onContentPlay()}finally{this.triggerEvent("play",t.detail)}},__onTvpPause:function(t){this.setData({isPlaying:!1}),i.setTvpPlayState(this.data.playerid,!1);try{this.video&&this.video.onContentPause()}finally{this.triggerEvent("pause",t.detail)}},__onTvpEnded:function(t){i.setTvpPlayState(this.data.playerid,!1);try{this.video&&this.video.onContentEnd()}finally{t.detail=t.detail||{},t.detail.isAd=!!this.data.tvpIsAd,this.triggerEvent("ended",t.detail)}},__onTvpTimeupdate:function(t){i.setTvpPlayState(this.data.playerid,!0),this.triggerEvent("timeupdate",t.detail);try{this.setData({progressTime:Math.floor(t.detail.currentTime)}),this.video&&this.video.onContentTimeupdate(null,t)}catch(t){}},__onTvpError:function(t){i.setTvpPlayState(this.data.playerid,!1);try{this.video&&this.video.onContentError(null,t)}finally{this.triggerEvent("error",t.detail)}},__onTvpFullScreenChange:function(t){this.isEnterFullscreen=!!t.detail.fullScreen,this.triggerEvent("fullscreenchange",t.detail),this.setData({fullscreen:this.isEnterFullscreen,showControlBtn:!this.data.fullscreen&&this.isEnterFullscreen}),this.showControlBtn()},__onTvpWaiting:function(t){this.triggerEvent("waiting",t&&t.detail||{})},__onTvpProgress:function(t){this.triggerEvent("progress",t&&t.detail||{})},_onTvpLoadedmetadata:function(t){this.triggerEvent("loadedmetadata",t&&t.detail||{})},_onTvpControlstoggle:function(t){var e=t.detail.show;e!=this.data.isControlsShow&&this.setData({isControlsShow:!!e}),this.triggerEvent("controlstoggle",t&&t.detail||{})},tapRetry:function(t){},isIpx:function(){var t=this;wx.getSystemInfo({success:function(e){"iPhone X"==e.model.substring(0,e.model.indexOf("X"))+"X"&&t.setData({isIpx:!0})}})},initBright:function(){var t=this;wx.getScreenBrightness({success:function(e){var i=e.value;t.setData({currentBright:i})}})},__onTvpCloseBright:function(){this.setData({showBrightSelector:!1,showControlBtn:!0}),this.showControlBtn()},__onTvpShowBright:function(){this.setData({showBrightSelector:!0,showControlBtn:!0})},setBright:function(t){var e=t.currentTarget.dataset.type,i=this.data.currentBright;0==e?(i-=.125)<0&&(i=0):(i+=.125)>1&&(i=1),wx.setScreenBrightness({value:i,success:function(){n("设置亮度成功",new Date)},fail:function(){n("设置亮度失败",new Date)}}),this.setData({currentBright:i})},__onTvpCloseHD:function(){this.setData({showHDSelector:!1,showControlBtn:!0}),this.showControlBtn()},__onTvpShowHD:function(){this.setData({showHDSelector:!0,showControlBtn:!0})},selectHD:function(t){if("end"!=this.data.tvpState){var e=t.currentTarget.dataset;e.fname&&!e.selected&&(this.isSwitchDefn=!0,this.currPlayTime=this.data.progressTime,this.video&&this.video.switchDefn&&this.video.switchDefn(e.fname))}},showControlBtn:function(t){var e=this;clearTimeout(this._playerHDSelectorBtnTimer),this._playerHDSelectorBtnTimer=setTimeout(function(){e.setData({showControlBtn:!1})},t||3e3)}}}); 
 			}); 	require("component/video/video.js");
 	
				global.publishDomainComponents({
			"plugin://wxa75efa648b60994b/video":"plugin-private://wxa75efa648b60994b/component/video/video","plugin://wxa75efa648b60994b/live":"plugin-private://wxa75efa648b60994b/component/live/live"
	})
				module.exports = function() {
		return require('component/txv-context.js')
	}
			});
	requirePlugin("plugin://wxa75efa648b60994b");
	var __wxAppConsole__ = console;definePlugin("plugin://wx104a1a20c3f81ec2", function(define, require, module, exports, global, wx, App, Page, Component, Behavior, getApp, getCurrentPages, console) {            var __vd_version_info__=__vd_version_info__||{};            if (typeof console === 'undefined') {console=__wxAppConsole__; };			
			/*v0.5vv_20190703_syb_scopedata*/global.__wcc_version__='v0.5vv_20190703_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx_wx104a1a20c3f81ec2=function(path,global){
if(typeof global === 'undefined') global={};if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
function _(a,b){if(typeof(b)!='undefined')a.children.push(b);}
function _v(k){if(typeof(k)!='undefined')return {tag:'virtual','wxKey':k,children:[]};return {tag:'virtual',children:[]};}
function _n(tag){$gwxc++;if($gwxc>=16000){throw 'Dom limit exceeded, please check if there\'s any mistake you\'ve made.'};return {tag:'wx-'+tag,attr:{},children:[],n:[],raw:{},generics:{}}}
function _p(a,b){b&&a.properities.push(b);}
function _s(scope,env,key){return typeof(scope[key])!='undefined'?scope[key]:env[key]}
function _wp(m){console.warn("WXMLRT_$gwx_wx104a1a20c3f81ec2:"+m)}
function _wl(tname,prefix){_wp(prefix+':-1:-1:-1: Template `' + tname + '` is being called recursively, will be stop.')}
$gwn=console.warn;
$gwl=console.log;
function $gwh()
{
function x()
{
}
x.prototype = 
{
hn: function( obj, all )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && ( all || obj.__wxspec__ !== 'm' || this.hn(obj.__value__) === 'h' ) ? "h" : "n";
}
return "n";
},
nh: function( obj, special )
{
return { __value__: obj, __wxspec__: special ? special : true }
},
rv: function( obj )
{
return this.hn(obj,true)==='n'?obj:this.rv(obj.__value__);
},
hm: function( obj )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && (obj.__wxspec__ === 'm' || this.hm(obj.__value__) );
}
return false;
}
}
return new x;
}
wh=$gwh();
function $gstack(s){
var tmp=s.split('\n '+' '+' '+' ');
for(var i=0;i<tmp.length;++i){
if(0==i) continue;
if(")"===tmp[i][tmp[i].length-1])
tmp[i]=tmp[i].replace(/\s\(.*\)$/,"");
else
tmp[i]="at anonymous function";
}
return tmp.join('\n '+' '+' '+' ');
}
function $gwrt( should_pass_type_info )
{
function ArithmeticEv( ops, e, s, g, o )
{
var _f = false;
var rop = ops[0][1];
var _a,_b,_c,_d, _aa, _bb;
switch( rop )
{
case '?:':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : rev( ops[3], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '&&':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : wh.rv( _a );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '||':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? wh.rv(_a) : rev( ops[2], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '+':
case '*':
case '/':
case '%':
case '|':
case '^':
case '&':
case '===':
case '==':
case '!=':
case '!==':
case '>=':
case '<=':
case '>':
case '<':
case '<<':
case '>>':
_a = rev( ops[1], e, s, g, o, _f );
_b = rev( ops[2], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
switch( rop )
{
case '+':
_d = wh.rv( _a ) + wh.rv( _b );
break;
case '*':
_d = wh.rv( _a ) * wh.rv( _b );
break;
case '/':
_d = wh.rv( _a ) / wh.rv( _b );
break;
case '%':
_d = wh.rv( _a ) % wh.rv( _b );
break;
case '|':
_d = wh.rv( _a ) | wh.rv( _b );
break;
case '^':
_d = wh.rv( _a ) ^ wh.rv( _b );
break;
case '&':
_d = wh.rv( _a ) & wh.rv( _b );
break;
case '===':
_d = wh.rv( _a ) === wh.rv( _b );
break;
case '==':
_d = wh.rv( _a ) == wh.rv( _b );
break;
case '!=':
_d = wh.rv( _a ) != wh.rv( _b );
break;
case '!==':
_d = wh.rv( _a ) !== wh.rv( _b );
break;
case '>=':
_d = wh.rv( _a ) >= wh.rv( _b );
break;
case '<=':
_d = wh.rv( _a ) <= wh.rv( _b );
break;
case '>':
_d = wh.rv( _a ) > wh.rv( _b );
break;
case '<':
_d = wh.rv( _a ) < wh.rv( _b );
break;
case '<<':
_d = wh.rv( _a ) << wh.rv( _b );
break;
case '>>':
_d = wh.rv( _a ) >> wh.rv( _b );
break;
default:
break;
}
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '-':
_a = ops.length === 3 ? rev( ops[1], e, s, g, o, _f ) : 0;
_b = ops.length === 3 ? rev( ops[2], e, s, g, o, _f ) : rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
_d = _c ? wh.rv( _a ) - wh.rv( _b ) : _a - _b;
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '!':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = !wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
case '~':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = ~wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
default:
$gwn('unrecognized op' + rop );
}
}
function rev( ops, e, s, g, o, newap )
{
var op = ops[0];
var _f = false;
if ( typeof newap !== "undefined" ) o.ap = newap;
if( typeof(op)==='object' )
{
var vop=op[0];
var _a, _aa, _b, _bb, _c, _d, _s, _e, _ta, _tb, _td;
switch(vop)
{
case 2:
return ArithmeticEv(ops,e,s,g,o);
break;
case 4: 
return rev( ops[1], e, s, g, o, _f );
break;
case 5: 
switch( ops.length )
{
case 2: 
_a = rev( ops[1],e,s,g,o,_f );
return should_pass_type_info?[_a]:[wh.rv(_a)];
return [_a];
break;
case 1: 
return [];
break;
default:
_a = rev( ops[1],e,s,g,o,_f );
_b = rev( ops[2],e,s,g,o,_f );
_a.push( 
should_pass_type_info ?
_b :
wh.rv( _b )
);
return _a;
break;
}
break;
case 6:
_a = rev(ops[1],e,s,g,o);
var ap = o.ap;
_ta = wh.hn(_a)==='h';
_aa = _ta ? wh.rv(_a) : _a;
o.is_affected |= _ta;
if( should_pass_type_info )
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return _ta ? wh.nh(undefined, 'e') : undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return (_ta || _tb) ? wh.nh(undefined, 'e') : undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return (_ta || _tb) ? (_td ? _d : wh.nh(_d, 'e')) : _d;
}
else
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return _td ? wh.rv(_d) : _d;
}
case 7: 
switch(ops[1][0])
{
case 11:
o.is_affected |= wh.hn(g)==='h';
return g;
case 3:
_s = wh.rv( s );
_e = wh.rv( e );
_b = ops[1][1];
if (g && g.f && g.f.hasOwnProperty(_b) )
{
_a = g.f;
o.ap = true;
}
else
{
_a = _s && _s.hasOwnProperty(_b) ? 
s : (_e && _e.hasOwnProperty(_b) ? e : undefined );
}
if( should_pass_type_info )
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
_d = _ta && !_td ? wh.nh(_d,'e') : _d;
return _d;
}
}
else
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
return wh.rv(_d);
}
}
return undefined;
}
break;
case 8: 
_a = {};
_a[ops[1]] = rev(ops[2],e,s,g,o,_f);
return _a;
break;
case 9: 
_a = rev(ops[1],e,s,g,o,_f);
_b = rev(ops[2],e,s,g,o,_f);
function merge( _a, _b, _ow )
{
var ka, _bbk;
_ta = wh.hn(_a)==='h';
_tb = wh.hn(_b)==='h';
_aa = wh.rv(_a);
_bb = wh.rv(_b);
for(var k in _bb)
{
if ( _ow || !_aa.hasOwnProperty(k) )
{
_aa[k] = should_pass_type_info ? (_tb ? wh.nh(_bb[k],'e') : _bb[k]) : wh.rv(_bb[k]);
}
}
return _a;
}
var _c = _a
var _ow = true
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
_a = _b
_b = _c
_ow = false
}
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
var _r = {}
return merge( merge( _r, _a, _ow ), _b, _ow );
}
else
return merge( _a, _b, _ow );
break;
case 10:
_a = rev(ops[1],e,s,g,o,_f);
_a = should_pass_type_info ? _a : wh.rv( _a );
return _a ;
break;
case 12:
var _r;
_a = rev(ops[1],e,s,g,o);
if ( !o.ap )
{
return should_pass_type_info && wh.hn(_a)==='h' ? wh.nh( _r, 'f' ) : _r;
}
var ap = o.ap;
_b = rev(ops[2],e,s,g,o,_f);
o.ap = ap;
_ta = wh.hn(_a)==='h';
_tb = _ca(_b);
_aa = wh.rv(_a);	
_bb = wh.rv(_b); snap_bb=$gdc(_bb,"nv_");
try{
_r = typeof _aa === "function" ? $gdc(_aa.apply(null, snap_bb)) : undefined;
} catch (e){
e.message = e.message.replace(/nv_/g,"");
e.stack = e.stack.substring(0,e.stack.indexOf("\n", e.stack.lastIndexOf("at nv_")));
e.stack = e.stack.replace(/\snv_/g," "); 
e.stack = $gstack(e.stack);	
if(g.debugInfo)
{
e.stack += "\n "+" "+" "+" at "+g.debugInfo[0]+":"+g.debugInfo[1]+":"+g.debugInfo[2];
console.error(e);
}
_r = undefined;
}
return should_pass_type_info && (_tb || _ta) ? wh.nh( _r, 'f' ) : _r;
}
}
else
{
if( op === 3 || op === 1) return ops[1];
else if( op === 11 ) 
{
var _a='';
for( var i = 1 ; i < ops.length ; i++ )
{
var xp = wh.rv(rev(ops[i],e,s,g,o,_f));
_a += typeof(xp) === 'undefined' ? '' : xp;
}
return _a;
}
}
}
function wrapper( ops, e, s, g, o, newap )
{
if( ops[0] == '11182016' )
{
g.debugInfo = ops[2];
return rev( ops[1], e, s, g, o, newap );
}
else
{
g.debugInfo = null;
return rev( ops, e, s, g, o, newap );
}
}
return wrapper;
}
gra=$gwrt(true); 
grb=$gwrt(false); 
function TestTest( expr, ops, e,s,g, expect_a, expect_b, expect_affected )
{
{
var o = {is_affected:false};
var a = gra( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_a )
|| o.is_affected != expect_affected )
{
console.warn( "A. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_a ) + ", " + expect_affected + " is expected" );
}
}
{
var o = {is_affected:false};
var a = grb( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_b )
|| o.is_affected != expect_affected )
{
console.warn( "B. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_b ) + ", " + expect_affected + " is expected" );
}
}
}

function wfor( to_iter, func, env, _s, global, father, itemname, indexname, keyname )
{
var _n = wh.hn( to_iter ) === 'n'; 
var scope = wh.rv( _s ); 
var has_old_item = scope.hasOwnProperty(itemname);
var has_old_index = scope.hasOwnProperty(indexname);
var old_item = scope[itemname];
var old_index = scope[indexname];
var full = Object.prototype.toString.call(wh.rv(to_iter));
var type = full[8]; 
if( type === 'N' && full[10] === 'l' ) type = 'X'; 
var _y;
if( _n )
{
if( type === 'A' ) 
{
var r_iter_item;
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
r_iter_item = wh.rv(to_iter[i]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i = 0;
var r_iter_item;
for( var k in to_iter )
{
scope[itemname] = to_iter[k];
scope[indexname] = _n ? k : wh.nh(k, 'h');
r_iter_item = wh.rv(to_iter[k]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env,scope,_y,global );
i++;
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env,scope,_y,global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < to_iter ; i++ )
{
scope[itemname] = i;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
else
{
var r_to_iter = wh.rv(to_iter);
var r_iter_item, iter_item;
if( type === 'A' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = r_to_iter[i];
iter_item = wh.hn(iter_item)==='n' ? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item
scope[indexname] = _n ? i : wh.nh(i, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i=0;
for( var k in r_to_iter )
{
iter_item = r_to_iter[k];
iter_item = wh.hn(iter_item)==='n'? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item;
scope[indexname] = _n ? k : wh.nh(k, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y=_v(key);
_(father,_y);
func( env, scope, _y, global );
i++
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = wh.nh(r_to_iter[i],'h');
scope[itemname] = iter_item;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < r_to_iter ; i++ )
{
iter_item = wh.nh(i,'h');
scope[itemname] = iter_item;
scope[indexname]= _n ? i : wh.nh(i,'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
if(has_old_item)
{
scope[itemname]=old_item;
}
else
{
delete scope[itemname];
}
if(has_old_index)
{
scope[indexname]=old_index;
}
else
{
delete scope[indexname];
}
}

function _ca(o)
{ 
if ( wh.hn(o) == 'h' ) return true;
if ( typeof o !== "object" ) return false;
for(var i in o){ 
if ( o.hasOwnProperty(i) ){
if (_ca(o[i])) return true;
}
}
return false;
}
function _da( node, attrname, opindex, raw, o )
{
var isaffected = false;
var value = $gdc( raw, "", 2 );
if ( o.ap && value && value.constructor===Function ) 
{
attrname = "$wxs:" + attrname; 
node.attr["$gdc"] = $gdc;
}
if ( o.is_affected || _ca(raw) ) 
{
node.n.push( attrname );
node.raw[attrname] = raw;
}
node.attr[attrname] = value;
}
function _r( node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _rz( z, node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _o( opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _oz( z, opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _1( opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _1z( z, opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _2( opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1( opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}
function _2z( z, opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1z( z, opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}


function _m(tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_r(tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}
function _mz(z,tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_rz(z, tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}

var nf_init=function(){
if(typeof __WXML_GLOBAL__==="undefined"||undefined===__WXML_GLOBAL__.wxs_nf_init){
nf_init_Object();nf_init_Function();nf_init_Array();nf_init_String();nf_init_Boolean();nf_init_Number();nf_init_Math();nf_init_Date();nf_init_RegExp();
}
if(typeof __WXML_GLOBAL__!=="undefined") __WXML_GLOBAL__.wxs_nf_init=true;
};
var nf_init_Object=function(){
Object.defineProperty(Object.prototype,"nv_constructor",{writable:true,value:"Object"})
Object.defineProperty(Object.prototype,"nv_toString",{writable:true,value:function(){return "[object Object]"}})
}
var nf_init_Function=function(){
Object.defineProperty(Function.prototype,"nv_constructor",{writable:true,value:"Function"})
Object.defineProperty(Function.prototype,"nv_length",{get:function(){return this.length;},set:function(){}});
Object.defineProperty(Function.prototype,"nv_toString",{writable:true,value:function(){return "[function Function]"}})
}
var nf_init_Array=function(){
Object.defineProperty(Array.prototype,"nv_toString",{writable:true,value:function(){return this.nv_join();}})
Object.defineProperty(Array.prototype,"nv_join",{writable:true,value:function(s){
s=undefined==s?',':s;
var r="";
for(var i=0;i<this.length;++i){
if(0!=i) r+=s;
if(null==this[i]||undefined==this[i]) r+='';	
else if(typeof this[i]=='function') r+=this[i].nv_toString();
else if(typeof this[i]=='object'&&this[i].nv_constructor==="Array") r+=this[i].nv_join();
else r+=this[i].toString();
}
return r;
}})
Object.defineProperty(Array.prototype,"nv_constructor",{writable:true,value:"Array"})
Object.defineProperty(Array.prototype,"nv_concat",{writable:true,value:Array.prototype.concat})
Object.defineProperty(Array.prototype,"nv_pop",{writable:true,value:Array.prototype.pop})
Object.defineProperty(Array.prototype,"nv_push",{writable:true,value:Array.prototype.push})
Object.defineProperty(Array.prototype,"nv_reverse",{writable:true,value:Array.prototype.reverse})
Object.defineProperty(Array.prototype,"nv_shift",{writable:true,value:Array.prototype.shift})
Object.defineProperty(Array.prototype,"nv_slice",{writable:true,value:Array.prototype.slice})
Object.defineProperty(Array.prototype,"nv_sort",{writable:true,value:Array.prototype.sort})
Object.defineProperty(Array.prototype,"nv_splice",{writable:true,value:Array.prototype.splice})
Object.defineProperty(Array.prototype,"nv_unshift",{writable:true,value:Array.prototype.unshift})
Object.defineProperty(Array.prototype,"nv_indexOf",{writable:true,value:Array.prototype.indexOf})
Object.defineProperty(Array.prototype,"nv_lastIndexOf",{writable:true,value:Array.prototype.lastIndexOf})
Object.defineProperty(Array.prototype,"nv_every",{writable:true,value:Array.prototype.every})
Object.defineProperty(Array.prototype,"nv_some",{writable:true,value:Array.prototype.some})
Object.defineProperty(Array.prototype,"nv_forEach",{writable:true,value:Array.prototype.forEach})
Object.defineProperty(Array.prototype,"nv_map",{writable:true,value:Array.prototype.map})
Object.defineProperty(Array.prototype,"nv_filter",{writable:true,value:Array.prototype.filter})
Object.defineProperty(Array.prototype,"nv_reduce",{writable:true,value:Array.prototype.reduce})
Object.defineProperty(Array.prototype,"nv_reduceRight",{writable:true,value:Array.prototype.reduceRight})
Object.defineProperty(Array.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_String=function(){
Object.defineProperty(String.prototype,"nv_constructor",{writable:true,value:"String"})
Object.defineProperty(String.prototype,"nv_toString",{writable:true,value:String.prototype.toString})
Object.defineProperty(String.prototype,"nv_valueOf",{writable:true,value:String.prototype.valueOf})
Object.defineProperty(String.prototype,"nv_charAt",{writable:true,value:String.prototype.charAt})
Object.defineProperty(String.prototype,"nv_charCodeAt",{writable:true,value:String.prototype.charCodeAt})
Object.defineProperty(String.prototype,"nv_concat",{writable:true,value:String.prototype.concat})
Object.defineProperty(String.prototype,"nv_indexOf",{writable:true,value:String.prototype.indexOf})
Object.defineProperty(String.prototype,"nv_lastIndexOf",{writable:true,value:String.prototype.lastIndexOf})
Object.defineProperty(String.prototype,"nv_localeCompare",{writable:true,value:String.prototype.localeCompare})
Object.defineProperty(String.prototype,"nv_match",{writable:true,value:String.prototype.match})
Object.defineProperty(String.prototype,"nv_replace",{writable:true,value:String.prototype.replace})
Object.defineProperty(String.prototype,"nv_search",{writable:true,value:String.prototype.search})
Object.defineProperty(String.prototype,"nv_slice",{writable:true,value:String.prototype.slice})
Object.defineProperty(String.prototype,"nv_split",{writable:true,value:String.prototype.split})
Object.defineProperty(String.prototype,"nv_substring",{writable:true,value:String.prototype.substring})
Object.defineProperty(String.prototype,"nv_toLowerCase",{writable:true,value:String.prototype.toLowerCase})
Object.defineProperty(String.prototype,"nv_toLocaleLowerCase",{writable:true,value:String.prototype.toLocaleLowerCase})
Object.defineProperty(String.prototype,"nv_toUpperCase",{writable:true,value:String.prototype.toUpperCase})
Object.defineProperty(String.prototype,"nv_toLocaleUpperCase",{writable:true,value:String.prototype.toLocaleUpperCase})
Object.defineProperty(String.prototype,"nv_trim",{writable:true,value:String.prototype.trim})
Object.defineProperty(String.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_Boolean=function(){
Object.defineProperty(Boolean.prototype,"nv_constructor",{writable:true,value:"Boolean"})
Object.defineProperty(Boolean.prototype,"nv_toString",{writable:true,value:Boolean.prototype.toString})
Object.defineProperty(Boolean.prototype,"nv_valueOf",{writable:true,value:Boolean.prototype.valueOf})
}
var nf_init_Number=function(){
Object.defineProperty(Number,"nv_MAX_VALUE",{writable:false,value:Number.MAX_VALUE})
Object.defineProperty(Number,"nv_MIN_VALUE",{writable:false,value:Number.MIN_VALUE})
Object.defineProperty(Number,"nv_NEGATIVE_INFINITY",{writable:false,value:Number.NEGATIVE_INFINITY})
Object.defineProperty(Number,"nv_POSITIVE_INFINITY",{writable:false,value:Number.POSITIVE_INFINITY})
Object.defineProperty(Number.prototype,"nv_constructor",{writable:true,value:"Number"})
Object.defineProperty(Number.prototype,"nv_toString",{writable:true,value:Number.prototype.toString})
Object.defineProperty(Number.prototype,"nv_toLocaleString",{writable:true,value:Number.prototype.toLocaleString})
Object.defineProperty(Number.prototype,"nv_valueOf",{writable:true,value:Number.prototype.valueOf})
Object.defineProperty(Number.prototype,"nv_toFixed",{writable:true,value:Number.prototype.toFixed})
Object.defineProperty(Number.prototype,"nv_toExponential",{writable:true,value:Number.prototype.toExponential})
Object.defineProperty(Number.prototype,"nv_toPrecision",{writable:true,value:Number.prototype.toPrecision})
}
var nf_init_Math=function(){
Object.defineProperty(Math,"nv_E",{writable:false,value:Math.E})
Object.defineProperty(Math,"nv_LN10",{writable:false,value:Math.LN10})
Object.defineProperty(Math,"nv_LN2",{writable:false,value:Math.LN2})
Object.defineProperty(Math,"nv_LOG2E",{writable:false,value:Math.LOG2E})
Object.defineProperty(Math,"nv_LOG10E",{writable:false,value:Math.LOG10E})
Object.defineProperty(Math,"nv_PI",{writable:false,value:Math.PI})
Object.defineProperty(Math,"nv_SQRT1_2",{writable:false,value:Math.SQRT1_2})
Object.defineProperty(Math,"nv_SQRT2",{writable:false,value:Math.SQRT2})
Object.defineProperty(Math,"nv_abs",{writable:false,value:Math.abs})
Object.defineProperty(Math,"nv_acos",{writable:false,value:Math.acos})
Object.defineProperty(Math,"nv_asin",{writable:false,value:Math.asin})
Object.defineProperty(Math,"nv_atan",{writable:false,value:Math.atan})
Object.defineProperty(Math,"nv_atan2",{writable:false,value:Math.atan2})
Object.defineProperty(Math,"nv_ceil",{writable:false,value:Math.ceil})
Object.defineProperty(Math,"nv_cos",{writable:false,value:Math.cos})
Object.defineProperty(Math,"nv_exp",{writable:false,value:Math.exp})
Object.defineProperty(Math,"nv_floor",{writable:false,value:Math.floor})
Object.defineProperty(Math,"nv_log",{writable:false,value:Math.log})
Object.defineProperty(Math,"nv_max",{writable:false,value:Math.max})
Object.defineProperty(Math,"nv_min",{writable:false,value:Math.min})
Object.defineProperty(Math,"nv_pow",{writable:false,value:Math.pow})
Object.defineProperty(Math,"nv_random",{writable:false,value:Math.random})
Object.defineProperty(Math,"nv_round",{writable:false,value:Math.round})
Object.defineProperty(Math,"nv_sin",{writable:false,value:Math.sin})
Object.defineProperty(Math,"nv_sqrt",{writable:false,value:Math.sqrt})
Object.defineProperty(Math,"nv_tan",{writable:false,value:Math.tan})
}
var nf_init_Date=function(){
Object.defineProperty(Date.prototype,"nv_constructor",{writable:true,value:"Date"})
Object.defineProperty(Date,"nv_parse",{writable:true,value:Date.parse})
Object.defineProperty(Date,"nv_UTC",{writable:true,value:Date.UTC})
Object.defineProperty(Date,"nv_now",{writable:true,value:Date.now})
Object.defineProperty(Date.prototype,"nv_toString",{writable:true,value:Date.prototype.toString})
Object.defineProperty(Date.prototype,"nv_toDateString",{writable:true,value:Date.prototype.toDateString})
Object.defineProperty(Date.prototype,"nv_toTimeString",{writable:true,value:Date.prototype.toTimeString})
Object.defineProperty(Date.prototype,"nv_toLocaleString",{writable:true,value:Date.prototype.toLocaleString})
Object.defineProperty(Date.prototype,"nv_toLocaleDateString",{writable:true,value:Date.prototype.toLocaleDateString})
Object.defineProperty(Date.prototype,"nv_toLocaleTimeString",{writable:true,value:Date.prototype.toLocaleTimeString})
Object.defineProperty(Date.prototype,"nv_valueOf",{writable:true,value:Date.prototype.valueOf})
Object.defineProperty(Date.prototype,"nv_getTime",{writable:true,value:Date.prototype.getTime})
Object.defineProperty(Date.prototype,"nv_getFullYear",{writable:true,value:Date.prototype.getFullYear})
Object.defineProperty(Date.prototype,"nv_getUTCFullYear",{writable:true,value:Date.prototype.getUTCFullYear})
Object.defineProperty(Date.prototype,"nv_getMonth",{writable:true,value:Date.prototype.getMonth})
Object.defineProperty(Date.prototype,"nv_getUTCMonth",{writable:true,value:Date.prototype.getUTCMonth})
Object.defineProperty(Date.prototype,"nv_getDate",{writable:true,value:Date.prototype.getDate})
Object.defineProperty(Date.prototype,"nv_getUTCDate",{writable:true,value:Date.prototype.getUTCDate})
Object.defineProperty(Date.prototype,"nv_getDay",{writable:true,value:Date.prototype.getDay})
Object.defineProperty(Date.prototype,"nv_getUTCDay",{writable:true,value:Date.prototype.getUTCDay})
Object.defineProperty(Date.prototype,"nv_getHours",{writable:true,value:Date.prototype.getHours})
Object.defineProperty(Date.prototype,"nv_getUTCHours",{writable:true,value:Date.prototype.getUTCHours})
Object.defineProperty(Date.prototype,"nv_getMinutes",{writable:true,value:Date.prototype.getMinutes})
Object.defineProperty(Date.prototype,"nv_getUTCMinutes",{writable:true,value:Date.prototype.getUTCMinutes})
Object.defineProperty(Date.prototype,"nv_getSeconds",{writable:true,value:Date.prototype.getSeconds})
Object.defineProperty(Date.prototype,"nv_getUTCSeconds",{writable:true,value:Date.prototype.getUTCSeconds})
Object.defineProperty(Date.prototype,"nv_getMilliseconds",{writable:true,value:Date.prototype.getMilliseconds})
Object.defineProperty(Date.prototype,"nv_getUTCMilliseconds",{writable:true,value:Date.prototype.getUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_getTimezoneOffset",{writable:true,value:Date.prototype.getTimezoneOffset})
Object.defineProperty(Date.prototype,"nv_setTime",{writable:true,value:Date.prototype.setTime})
Object.defineProperty(Date.prototype,"nv_setMilliseconds",{writable:true,value:Date.prototype.setMilliseconds})
Object.defineProperty(Date.prototype,"nv_setUTCMilliseconds",{writable:true,value:Date.prototype.setUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_setSeconds",{writable:true,value:Date.prototype.setSeconds})
Object.defineProperty(Date.prototype,"nv_setUTCSeconds",{writable:true,value:Date.prototype.setUTCSeconds})
Object.defineProperty(Date.prototype,"nv_setMinutes",{writable:true,value:Date.prototype.setMinutes})
Object.defineProperty(Date.prototype,"nv_setUTCMinutes",{writable:true,value:Date.prototype.setUTCMinutes})
Object.defineProperty(Date.prototype,"nv_setHours",{writable:true,value:Date.prototype.setHours})
Object.defineProperty(Date.prototype,"nv_setUTCHours",{writable:true,value:Date.prototype.setUTCHours})
Object.defineProperty(Date.prototype,"nv_setDate",{writable:true,value:Date.prototype.setDate})
Object.defineProperty(Date.prototype,"nv_setUTCDate",{writable:true,value:Date.prototype.setUTCDate})
Object.defineProperty(Date.prototype,"nv_setMonth",{writable:true,value:Date.prototype.setMonth})
Object.defineProperty(Date.prototype,"nv_setUTCMonth",{writable:true,value:Date.prototype.setUTCMonth})
Object.defineProperty(Date.prototype,"nv_setFullYear",{writable:true,value:Date.prototype.setFullYear})
Object.defineProperty(Date.prototype,"nv_setUTCFullYear",{writable:true,value:Date.prototype.setUTCFullYear})
Object.defineProperty(Date.prototype,"nv_toUTCString",{writable:true,value:Date.prototype.toUTCString})
Object.defineProperty(Date.prototype,"nv_toISOString",{writable:true,value:Date.prototype.toISOString})
Object.defineProperty(Date.prototype,"nv_toJSON",{writable:true,value:Date.prototype.toJSON})
}
var nf_init_RegExp=function(){
Object.defineProperty(RegExp.prototype,"nv_constructor",{writable:true,value:"RegExp"})
Object.defineProperty(RegExp.prototype,"nv_exec",{writable:true,value:RegExp.prototype.exec})
Object.defineProperty(RegExp.prototype,"nv_test",{writable:true,value:RegExp.prototype.test})
Object.defineProperty(RegExp.prototype,"nv_toString",{writable:true,value:RegExp.prototype.toString})
Object.defineProperty(RegExp.prototype,"nv_source",{get:function(){return this.source;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_global",{get:function(){return this.global;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_ignoreCase",{get:function(){return this.ignoreCase;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_multiline",{get:function(){return this.multiline;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_lastIndex",{get:function(){return this.lastIndex;},set:function(v){this.lastIndex=v;}});
}
nf_init();
var nv_getDate=function(){var args=Array.prototype.slice.call(arguments);args.unshift(Date);return new(Function.prototype.bind.apply(Date, args));}
var nv_getRegExp=function(){var args=Array.prototype.slice.call(arguments);args.unshift(RegExp);return new(Function.prototype.bind.apply(RegExp, args));}
var nv_console={}
nv_console.nv_log=function(){var res="WXSRT:";for(var i=0;i<arguments.length;++i)res+=arguments[i]+" ";console.log(res);}
var nv_parseInt = parseInt, nv_parseFloat = parseFloat, nv_isNaN = isNaN, nv_isFinite = isFinite, nv_decodeURI = decodeURI, nv_decodeURIComponent = decodeURIComponent, nv_encodeURI = encodeURI, nv_encodeURIComponent = encodeURIComponent;
function $gdc(o,p,r) {
o=wh.rv(o);
if(o===null||o===undefined) return o;
if(o.constructor===String||o.constructor===Boolean||o.constructor===Number) return o;
if(o.constructor===Object){
var copy={};
for(var k in o)
if(o.hasOwnProperty(k))
if(undefined===p) copy[k.substring(3)]=$gdc(o[k],p,r);
else copy[p+k]=$gdc(o[k],p,r);
return copy;
}
if(o.constructor===Array){
var copy=[];
for(var i=0;i<o.length;i++) copy.push($gdc(o[i],p,r));
return copy;
}
if(o.constructor===Date){
var copy=new Date();
copy.setTime(o.getTime());
return copy;
}
if(o.constructor===RegExp){
var f="";
if(o.global) f+="g";
if(o.ignoreCase) f+="i";
if(o.multiline) f+="m";
return (new RegExp(o.source,f));
}
if(r&&o.constructor===Function){
if ( r == 1 ) return $gdc(o(),undefined, 2);
if ( r == 2 ) return o;
}
return null;
}
var nv_JSON={}
nv_JSON.nv_stringify=function(o){
JSON.stringify(o);
return JSON.stringify($gdc(o));
}
nv_JSON.nv_parse=function(o){
if(o===undefined) return undefined;
var t=JSON.parse(o);
return $gdc(t,'nv_');
}

function _af(p, a, r, c){
p.extraAttr = {"t_action": a, "t_rawid": r };
if ( typeof(c) != 'undefined' ) p.extraAttr.t_cid = c;
}

function _ai(i,p,e,me,r,c){var x=_grp(p,e,me);if(x)i.push(x);else{i.push('');_wp(me+':import:'+r+':'+c+': Path `'+p+'` not found from `'+me+'`.')}}
function _grp(p,e,me){if(p[0]!='/'){var mepart=me.split('/');mepart.pop();var ppart=p.split('/');for(var i=0;i<ppart.length;i++){if( ppart[i]=='..')mepart.pop();else if(!ppart[i]||ppart[i]=='.')continue;else mepart.push(ppart[i]);}p=mepart.join('/');}if(me[0]=='.'&&p[0]=='/')p='.'+p;if(e[p])return p;if(e[p+'.wxml'])return p+'.wxml';}
function _gd(p,c,e,d){if(!c)return;if(d[p][c])return d[p][c];for(var x=e[p].i.length-1;x>=0;x--){if(e[p].i[x]&&d[e[p].i[x]][c])return d[e[p].i[x]][c]};for(var x=e[p].ti.length-1;x>=0;x--){var q=_grp(e[p].ti[x],e,p);if(q&&d[q][c])return d[q][c]}var ii=_gapi(e,p);for(var x=0;x<ii.length;x++){if(ii[x]&&d[ii[x]][c])return d[ii[x]][c]}for(var k=e[p].j.length-1;k>=0;k--)if(e[p].j[k]){for(var q=e[e[p].j[k]].ti.length-1;q>=0;q--){var pp=_grp(e[e[p].j[k]].ti[q],e,p);if(pp&&d[pp][c]){return d[pp][c]}}}}
function _gapi(e,p){if(!p)return [];if($gaic[p]){return $gaic[p]};var ret=[],q=[],h=0,t=0,put={},visited={};q.push(p);visited[p]=true;t++;while(h<t){var a=q[h++];for(var i=0;i<e[a].ic.length;i++){var nd=e[a].ic[i];var np=_grp(nd,e,a);if(np&&!visited[np]){visited[np]=true;q.push(np);t++;}}for(var i=0;a!=p&&i<e[a].ti.length;i++){var ni=e[a].ti[i];var nm=_grp(ni,e,a);if(nm&&!put[nm]){put[nm]=true;ret.push(nm);}}}$gaic[p]=ret;return ret;}
var $ixc={};function _ic(p,ent,me,e,s,r,gg){var x=_grp(p,ent,me);ent[me].j.push(x);if(x){if($ixc[x]){_wp('-1:include:-1:-1: `'+p+'` is being included in a loop, will be stop.');return;}$ixc[x]=true;try{ent[x].f(e,s,r,gg)}catch(e){}$ixc[x]=false;}else{_wp(me+':include:-1:-1: Included path `'+p+'` not found from `'+me+'`.')}}
function _w(tn,f,line,c){_wp(f+':template:'+line+':'+c+': Template `'+tn+'` not found.');}function _ev(dom){var changed=false;delete dom.properities;delete dom.n;if(dom.children){do{changed=false;var newch = [];for(var i=0;i<dom.children.length;i++){var ch=dom.children[i];if( ch.tag=='virtual'){changed=true;for(var j=0;ch.children&&j<ch.children.length;j++){newch.push(ch.children[j]);}}else { newch.push(ch); } } dom.children = newch; }while(changed);for(var i=0;i<dom.children.length;i++){_ev(dom.children[i]);}} return dom; }
function _tsd( root )
{
if( root.tag == "wx-wx-scope" ) 
{
root.tag = "virtual";
root.wxCkey = "11";
root['wxScopeData'] = root.attr['wx:scope-data'];
delete root.n;
delete root.raw;
delete root.generics;
delete root.attr;
}
for( var i = 0 ; root.children && i < root.children.length ; i++ )
{
_tsd( root.children[i] );
}
return root;
}

var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_wx104a1a20c3f81ec2 || [];
function gz$gwx_wx104a1a20c3f81ec2_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_wx104a1a20c3f81ec2_1)return __WXML_GLOBAL__.ops_cached.$gwx_wx104a1a20c3f81ec2_1
__WXML_GLOBAL__.ops_cached.$gwx_wx104a1a20c3f81ec2_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isReady']])
})(__WXML_GLOBAL__.ops_cached.$gwx_wx104a1a20c3f81ec2_1);return __WXML_GLOBAL__.ops_cached.$gwx_wx104a1a20c3f81ec2_1
}
__WXML_GLOBAL__.ops_set.$gwx_wx104a1a20c3f81ec2=z;
__WXML_GLOBAL__.ops_init.$gwx_wx104a1a20c3f81ec2=true;
var nv_require=function(){var nnm={};var nom={};return function(n){return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
var x=['./components/cell/cell.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_wx104a1a20c3f81ec2_1()
var oB=_v()
_(r,oB)
if(_oz(z,0,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
return root;
}
}
}

				global.__wxAppCode__['plugin-private://wx104a1a20c3f81ec2/components/cell/cell.json'] = {"component":true};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wx104a1a20c3f81ec2/components/cell/cell.wxml'] = [$gwx_wx104a1a20c3f81ec2, './components/cell/cell.wxml' ];else global.__wxAppCode__['plugin-private://wx104a1a20c3f81ec2/components/cell/cell.wxml'] = $gwx_wx104a1a20c3f81ec2( './components/cell/cell.wxml' );
		global.__wxAppCode__['plugin-private://wx104a1a20c3f81ec2/plugin.json'] = {"publicComponents":{"cell":"components/cell/cell"},"main":"index.js"};
		if (__vd_version_info__.delayedGwx) global.__wxAppCode__['plugin-private://wx104a1a20c3f81ec2/plugin.wxml'] = [$gwx_wx104a1a20c3f81ec2, './plugin.wxml' ];else global.__wxAppCode__['plugin-private://wx104a1a20c3f81ec2/plugin.wxml'] = $gwx_wx104a1a20c3f81ec2( './plugin.wxml' );
	
				define("api/data.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var t="init data";module.exports={getData:function(){return t},setData:function(a){t=a}}; 
 			}); 
		define("config/app.config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";module.exports={request:{api_prefix:"https://work.weixin.qq.com/wework_admin/",max_try:3,app_type:4},setAppType:function(e){this.request.app_type=e},debug:!1}; 
 			}); 
		define("index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var a=require("./api/data.js");module.exports={getData:a.getData,setData:a.setData}; 
 			}); 
		define("lib/conn/conn.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=exports.conn={},n=!0,r=function(){return"["+t(new Date,"%Y-%M-%d %h:%m:%s",!0)+"]"},t=function(e,n,r){var t=e.getFullYear(),o=e.getMonth()+1,c=e.getDate(),l=e.getHours(),a=e.getMinutes(),s=e.getSeconds();return r&&(o=o<10?"0"+o:o,c=c<10?"0"+c:c,l=l<10?"0"+l:l,a=a<10?"0"+a:a,s=s<10?"0"+s:s),n=n||"%Y-%M-%d %h:%m:%s",n=n.replace(/%Y/g,t).replace(/%M/g,o).replace(/%d/g,c).replace(/%h/g,l).replace(/%m/g,a).replace(/%s/g,s)};["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(t){e[t]=function(){var e="";n&&((e=arguments).length>0&&(e[0]=r()+JSON.stringify(e[0])),console[t].apply(console,e))}},Function.prototype.bind),e.enableConsole=function(e){n=!!e},exports.default={conn:e}; 
 			}); 
		define("lib/request/request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../config/app.config"),t=require("../storage/storage"),o=!1,n=[],r=e.request.max_try||3,s=e.request.app_type,i=function(){return new Promise(function(e,t){wx.login({success:e,fail:t})})},c=function(e){var t=f();return Object.assign(e||{},{vid:t.vid,skey:t.skey,type:t.type})},a=function(e,t){var o;return 200===e.statusCode||(o=/^5\d+/g.test(e.statusCode)?"系统繁忙，请稍后重试":"请确保网络通畅，并重试",t&&t.silent||wx.showModal({showCancel:!1,title:"网络异常",content:o,confirmText:"确定"}),!1)},u=function(e){return new Promise(function(t,o){f().skey||!0===e.ignore?t():o(new Error("empty session"))})},d=function(e){t.setStorage("session",e,!1)},f=function(){return t.getStorage("session",!1)||{}},l=function(o){var n=t.getStorage("freego",!1)||{};return new Promise(function(t,o){i().then(function(r){console.info("codeInfo %o",r),wx.request({url:e.request.api_prefix+"xcx/login",method:"POST",dataType:"json",data:{type:s,code:r.code},header:{cookie:n.cookie||"","Content-Type":"application/x-www-form-urlencoded"},success:function(e){var n=e.data.data;console.log("login response: %o",n),a(e)&&n&&"skey"in n?(d({gid:n.gid,skey:n.skey,vid:n.vid,type:s,corpname:n.corp_name}),t(e)):o(e)},fail:o})}).catch(function(e){wx.showModal({content:"登录失败",showCancel:!1})})})};exports.request=function(s){var i=t.getStorage("freego",!1)||{},d=function(t,u){s.success=function(e){console.log("request sucess callback:%o",e),a(e,s)?e.data&&e.data.result&&-3===e.data.result.errCode?(s.tryTimes=s.tryTimes||0,s.tryTimes++,s.tryTimes<r?o?n.push(s):(o=!0,n=[],l().then(function(){o=!1,s.data=c(s.data),wx.request(s),n.forEach(function(e,t){e.data=c(e.data),wx.request(e)})}).catch(function(){o=!1})):t({data:{retcode:-102,retmsg:"login abort"}})):t(e):u(e)},s.fail=function(e){u(e)},s.url=/^http/g.test(s.url)?s.url:e.request.api_prefix+s.url,s.data=c(s.data),s.method=s.method||"GET",s.header=Object.assign(s.header||{},{cookie:i.cookie||"","Content-Type":"GET"===s.method?"application/json":"application/x-www-form-urlencoded"}),console.log("request options:%o",s),wx.request(s)};return new Promise(function(e,t){u(s).then(function(){d(e,t)}).catch(function(){l().then(function(){d(e,t)}).catch(function(e){console.log("login error %o",e),wx.showModal({content:"登录失败",showCancel:!1})})})})},exports.doLogin=l,exports.checkLogin=u; 
 			}); 
		define("lib/storage/storage.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";function e(){try{a=wx.getStorageSync(r)||{}}catch(e){a={}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.flushCacheData=exports.clearStorage=exports.removeStorage=exports.getStorage=exports.setStorage=exports.initNsStorageByKey=exports.initNameSpace=void 0;var t=function(e){return e&&e.__esModule?e:{default:e}}(require("../conn/conn")),r="WEWORK_STORAGE_CACHE",o="",a={},n={},l=exports.initNameSpace=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default_ns",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e();var l=o,i=a[l]||{};o="default_ns",a[t]?n=a[t]:(n=a[t]={},u());try{wx.setStorageSync("WEWORK_NS_KEY",o)}catch(e){}r&&r(l,i)},i=exports.initNsStorageByKey=function(e){var t=e.split("."),r=void 0;if(!n&&t.length>0)return"";r=n;for(var o=0;o<t.length-1;o++)void 0===r[t[o]]&&(r[t[o]]={}),r=r[t[o]];return r},s=exports.setStorage=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r){var l=i(e),s=e.split(".");l[s[s.length-1]]=t,n&&u(o)}else a[e]=t,u(!0)},g=exports.getStorage=function(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var t=i(e),r=e.split(".");return t[r[r.length-1]]}return a[e]},c=exports.removeStorage=function(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var t=i(e),r=e.split(".");delete t[r[r.length-1]],u()}else delete n[e],u()},S=exports.clearStorage=function(e){var r=void 0;try{e?(delete i(e)[(r=e.split("."))[r.length-1]],u()):(wx.clearStorageSync(),l(o))}catch(e){t.default.log(e)}},u=exports.flushCacheData=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{e?wx.setStorageSync(r,a):(wx.setStorage({key:r,data:a}),console.log("storage %o",a))}catch(e){S()}};try{o=wx.getStorageSync("WEWORK_NS_KEY")||""}catch(e){o=""}l(o||"default_ns"),exports.default={initNameSpace:l,setStorage:s,getStorage:g,clearStorage:S,removeStorage:c,flushCacheData:u}; 
 			}); 
		global.__wxAppCurrentFile__ = 'plugin-private://wx104a1a20c3f81ec2/components/cell/cell.js';global.__wxRouteBegin = true; 	define("components/cell/cell.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			"use strict";			
"use strict";var t=require("../../lib/request/request"),e=require("../../lib/storage/storage"),n=["联系我","立即联系","咨询服务","在线咨询","联系客服"],o=["咨询服务","在线咨询","联系客服"],a=["有什么问题可以联系我咨询","联系服务人员咨询","获取服务人员联系方式","联系客服咨询更多问题"],i={avatorStyle:function(t){return(-1==["rect","circle"].indexOf(t)?"circle":t).toUpperCase()},isMask:function(t){return-1==[0,1].indexOf(t)?0:t},contactText:function(t){var e=o.length;return o[t>=0&&t<e?t:0]},buttonText:function(t){var e=n.length;return n[t>=0&&t<e?t:0]},serviceText:function(t){var e=a.length;return a[t>=0&&t<e?t:0]},buttonStyle:function(t){return(-1==["light","primary"].indexOf(t)?"primary":t).toUpperCase()},buttonSize:function(t){return(-1==["small"].indexOf(t)?"small":t).toUpperCase()},paddingStyle:function(t){return t=isNaN(t)?0:parseInt(t),0==(t=Math.max(0,t))?0:t+"px"},bubbleColor:function(t){return/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)?"#"+t:"#4790EE"},iconStyle:function(t){return(-1==["light","primary","avator"].indexOf(t)?"avator":t).toUpperCase()},blockStyle:function(t){return(-1==["bubble","button"].indexOf(t)?"bubble":t).toUpperCase()},styleType:function(t){return 1==t||2==t||3==t?t:1},pluginType:function(t){return 0==t||2==t?0:1==t?1:0}},r={ROW:{avatorStyle:i.avatorStyle,isMask:i.isMask,contactText:i.contactText,buttonText:i.buttonText,buttonStyle:i.buttonStyle,buttonSize:i.buttonSize,paddingStyle:i.paddingStyle},BLOCK:{BUBBLE:{bubbleColor:i.bubbleColor},BUTTON:{buttonStyle:i.buttonStyle,buttonText:i.buttonText,buttonSize:i.buttonSize}},MESSAGE:{iconStyle:i.iconStyle,contactText:i.contactText,serviceText:i.serviceText}},u={ROW:{iconStyle:i.iconStyle,contactText:i.contactText,paddingStyle:i.paddingStyle},BLOCK:{BUBBLE:{bubbleColor:i.bubbleColor},BUTTON:{buttonStyle:i.buttonStyle,buttonText:i.buttonText,buttonSize:i.buttonSize}}},s={};Component({data:{isReady:!1,isNeedAuth:!1,args:{withCredentials:!0,lang:"zh_CN"},render:{},hackClass:""},properties:{reqType:{type:Number,value:0,observer:function(t,e,n){this.queryPluginConfig()}},vcode:{type:String,value:"",observer:function(t,e,n){this.queryPluginConfig()}},plugid:{type:String,value:"",observer:function(t,e,n){this.queryPluginConfig()}},avatorStyle:{type:String},isMask:{type:Number},contactText:{type:Number},buttonText:{type:Number},buttonStyle:{type:String},buttonSize:{type:Number},paddingStyle:{type:Number},styleType:{type:Number},plugType:{type:Number},blockStyle:{type:String},bubbleColor:{type:String},iconStyle:{type:String}},attached:function(){var t=this;e.initNameSpace(),e.setStorage("freego",{cookie:""},!1),wx.login?wx.login({success:function(e){console.log("success %o",e),t.setData({isNeedAuth:!1})},fail:function(e){t.setData({isNeedAuth:!0})}}):(t.notifyToHostApp({errcode:-3010}),t.setData({isNeedAuth:!0})),this.queryPluginConfig()},methods:{loginSuccess:function(t){this.sendMsgToWx(t.detail),this.report("sample_authorize_yes")},loginFail:function(t){this.notifyToHostApp({errcode:-3004}),this.report("sample_authorize_no")},onBindTap:function(){this.notifyToHostApp({state:1})},statFunctionalPage:function(){this.report(0==s.type?"plug_single_miniapp_use":"plug_multi_miniapp_use",79505335)},makeAuthReq:function(t){var e=this;wx.login({success:function(t){wx.getUserInfo({withCredentials:!0,success:function(n){e.sendMsgToWx({code:t.code,encryptedData:n.encryptedData,iv:n.iv})},fail:function(){e.notifyToHostApp({errcode:-3004})}})},fail:function(){e.notifyToHostApp({errcode:-3004})}}),this.report(0==s.type?"plug_single_miniapp_use":"plug_multi_miniapp_use",79505335)},getRenderConfigByType:function(t,e){var n=0==t?r:u,o="",a=n.ROW;2==e?a=n.BLOCK:3==e&&0==t&&(a=n.MESSAGE),2==e&&(a=a[o=i.blockStyle(this.data.blockStyle)]);var s={};for(var p in a)a.hasOwnProperty(p)&&(s[p]=a[p](this.data[p]));return s.plugType=0==t?"SINGLE":"MULTI",s.styleType=1==e?"ROW":2==e?"BLOCK":"MESSAGE",s.blockStyle=o,s},queryPluginConfig:function(){var e=this;""==e.data.vcode&&""==e.data.plugid||t.request({ignore:!0,method:"POST",url:"contactplugin/queryconfig",data:{req_type:e.data.reqType,vcode:e.data.vcode,plugid:e.data.plugid}}).then(function(t){t.data&&t.data.data?(s=t.data.data,e.computeRenderData()):e.notifyToHostApp({errcode:-3002})})},computeRenderData:function(){var t=this,e=t.data.plugType?t.data.plugType:i.pluginType(s.type),n=t.data.styleType?t.data.styleType:i.styleType(s.style),o=t.getRenderConfigByType(e,n);o.avatorUrl=s.headurl||"../../assets/people_icon_big.png",o.nickName=s.name||"",console.log("%o",o),t.setData({render:o,isReady:!0})},sendMsgToWx:function(e){var n=this;this.triggerEvent("startmessage",{}),t.request({ignore:!0,method:"POST",url:"contactplugin/sendMsgToWx",data:{req_type:n.data.reqType,vcode:n.data.vcode,plugid:n.data.plugid,code:e.code,iv:e.iv,encryptedData:e.encryptedData}}).then(function(t){t.data&&t.data.data?1==t.data.data.type?n.notifyToHostApp({errcode:-3006,name:t.data.data.name,headurl:t.data.data.headurl}):2==t.data.data.type?n.notifyToHostApp({errcode:-3007}):n.notifyToHostApp({errcode:0,name:t.data.data.name,headurl:t.data.data.headurl}):t.data&&t.data.result&&"-20116"==t.data.result.errCode?n.notifyToHostApp({errcode:-3008}):n.notifyToHostApp({errcode:-3005})})},notifyToHostApp:function(t){this.triggerEvent("completemessage",t)},report:function(t,e){var n="https://work.weixin.qq.com/wework_admin/report?r="+Math.random()+"&q=";n+=encodeURIComponent('st:sgkvuin_report={"kv":'+(e||79505334)+',"key":"'+t+'","id":'+ +new Date+"}"),wx.request({url:n})}}}); 
 			}); 	require("components/cell/cell.js");
 	
				global.publishDomainComponents({
			"plugin://wx104a1a20c3f81ec2/cell":"plugin-private://wx104a1a20c3f81ec2/components/cell/cell"
	})
				module.exports = function() {
		return require('index.js')
	}
			});
	requirePlugin("plugin://wx104a1a20c3f81ec2");
/*v0.5vv_20200413_syb_scopedata*/global.__wcc_version__='v0.5vv_20200413_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx=function(path,global){
if(typeof global === 'undefined') global={};if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
function _(a,b){if(typeof(b)!='undefined')a.children.push(b);}
function _v(k){if(typeof(k)!='undefined')return {tag:'virtual','wxKey':k,children:[]};return {tag:'virtual',children:[]};}
function _n(tag){$gwxc++;if($gwxc>=16000){throw 'Dom limit exceeded, please check if there\'s any mistake you\'ve made.'};return {tag:'wx-'+tag,attr:{},children:[],n:[],raw:{},generics:{}}}
function _p(a,b){b&&a.properities.push(b);}
function _s(scope,env,key){return typeof(scope[key])!='undefined'?scope[key]:env[key]}
function _wp(m){console.warn("WXMLRT_$gwx:"+m)}
function _wl(tname,prefix){_wp(prefix+':-1:-1:-1: Template `' + tname + '` is being called recursively, will be stop.')}
$gwn=console.warn;
$gwl=console.log;
function $gwh()
{
function x()
{
}
x.prototype = 
{
hn: function( obj, all )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && ( all || obj.__wxspec__ !== 'm' || this.hn(obj.__value__) === 'h' ) ? "h" : "n";
}
return "n";
},
nh: function( obj, special )
{
return { __value__: obj, __wxspec__: special ? special : true }
},
rv: function( obj )
{
return this.hn(obj,true)==='n'?obj:this.rv(obj.__value__);
},
hm: function( obj )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && (obj.__wxspec__ === 'm' || this.hm(obj.__value__) );
}
return false;
}
}
return new x;
}
wh=$gwh();
function $gstack(s){
var tmp=s.split('\n '+' '+' '+' ');
for(var i=0;i<tmp.length;++i){
if(0==i) continue;
if(")"===tmp[i][tmp[i].length-1])
tmp[i]=tmp[i].replace(/\s\(.*\)$/,"");
else
tmp[i]="at anonymous function";
}
return tmp.join('\n '+' '+' '+' ');
}
function $gwrt( should_pass_type_info )
{
function ArithmeticEv( ops, e, s, g, o )
{
var _f = false;
var rop = ops[0][1];
var _a,_b,_c,_d, _aa, _bb;
switch( rop )
{
case '?:':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : rev( ops[3], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '&&':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : wh.rv( _a );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '||':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? wh.rv(_a) : rev( ops[2], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '+':
case '*':
case '/':
case '%':
case '|':
case '^':
case '&':
case '===':
case '==':
case '!=':
case '!==':
case '>=':
case '<=':
case '>':
case '<':
case '<<':
case '>>':
_a = rev( ops[1], e, s, g, o, _f );
_b = rev( ops[2], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
switch( rop )
{
case '+':
_d = wh.rv( _a ) + wh.rv( _b );
break;
case '*':
_d = wh.rv( _a ) * wh.rv( _b );
break;
case '/':
_d = wh.rv( _a ) / wh.rv( _b );
break;
case '%':
_d = wh.rv( _a ) % wh.rv( _b );
break;
case '|':
_d = wh.rv( _a ) | wh.rv( _b );
break;
case '^':
_d = wh.rv( _a ) ^ wh.rv( _b );
break;
case '&':
_d = wh.rv( _a ) & wh.rv( _b );
break;
case '===':
_d = wh.rv( _a ) === wh.rv( _b );
break;
case '==':
_d = wh.rv( _a ) == wh.rv( _b );
break;
case '!=':
_d = wh.rv( _a ) != wh.rv( _b );
break;
case '!==':
_d = wh.rv( _a ) !== wh.rv( _b );
break;
case '>=':
_d = wh.rv( _a ) >= wh.rv( _b );
break;
case '<=':
_d = wh.rv( _a ) <= wh.rv( _b );
break;
case '>':
_d = wh.rv( _a ) > wh.rv( _b );
break;
case '<':
_d = wh.rv( _a ) < wh.rv( _b );
break;
case '<<':
_d = wh.rv( _a ) << wh.rv( _b );
break;
case '>>':
_d = wh.rv( _a ) >> wh.rv( _b );
break;
default:
break;
}
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '-':
_a = ops.length === 3 ? rev( ops[1], e, s, g, o, _f ) : 0;
_b = ops.length === 3 ? rev( ops[2], e, s, g, o, _f ) : rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
_d = _c ? wh.rv( _a ) - wh.rv( _b ) : _a - _b;
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '!':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = !wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
case '~':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = ~wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
default:
$gwn('unrecognized op' + rop );
}
}
function rev( ops, e, s, g, o, newap )
{
var op = ops[0];
var _f = false;
if ( typeof newap !== "undefined" ) o.ap = newap;
if( typeof(op)==='object' )
{
var vop=op[0];
var _a, _aa, _b, _bb, _c, _d, _s, _e, _ta, _tb, _td;
switch(vop)
{
case 2:
return ArithmeticEv(ops,e,s,g,o);
break;
case 4: 
return rev( ops[1], e, s, g, o, _f );
break;
case 5: 
switch( ops.length )
{
case 2: 
_a = rev( ops[1],e,s,g,o,_f );
return should_pass_type_info?[_a]:[wh.rv(_a)];
return [_a];
break;
case 1: 
return [];
break;
default:
_a = rev( ops[1],e,s,g,o,_f );
_b = rev( ops[2],e,s,g,o,_f );
_a.push( 
should_pass_type_info ?
_b :
wh.rv( _b )
);
return _a;
break;
}
break;
case 6:
_a = rev(ops[1],e,s,g,o);
var ap = o.ap;
_ta = wh.hn(_a)==='h';
_aa = _ta ? wh.rv(_a) : _a;
o.is_affected |= _ta;
if( should_pass_type_info )
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return _ta ? wh.nh(undefined, 'e') : undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return (_ta || _tb) ? wh.nh(undefined, 'e') : undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return (_ta || _tb) ? (_td ? _d : wh.nh(_d, 'e')) : _d;
}
else
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return _td ? wh.rv(_d) : _d;
}
case 7: 
switch(ops[1][0])
{
case 11:
o.is_affected |= wh.hn(g)==='h';
return g;
case 3:
_s = wh.rv( s );
_e = wh.rv( e );
_b = ops[1][1];
if (g && g.f && g.f.hasOwnProperty(_b) )
{
_a = g.f;
o.ap = true;
}
else
{
_a = _s && _s.hasOwnProperty(_b) ? 
s : (_e && _e.hasOwnProperty(_b) ? e : undefined );
}
if( should_pass_type_info )
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
_d = _ta && !_td ? wh.nh(_d,'e') : _d;
return _d;
}
}
else
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
return wh.rv(_d);
}
}
return undefined;
}
break;
case 8: 
_a = {};
_a[ops[1]] = rev(ops[2],e,s,g,o,_f);
return _a;
break;
case 9: 
_a = rev(ops[1],e,s,g,o,_f);
_b = rev(ops[2],e,s,g,o,_f);
function merge( _a, _b, _ow )
{
var ka, _bbk;
_ta = wh.hn(_a)==='h';
_tb = wh.hn(_b)==='h';
_aa = wh.rv(_a);
_bb = wh.rv(_b);
for(var k in _bb)
{
if ( _ow || !_aa.hasOwnProperty(k) )
{
_aa[k] = should_pass_type_info ? (_tb ? wh.nh(_bb[k],'e') : _bb[k]) : wh.rv(_bb[k]);
}
}
return _a;
}
var _c = _a
var _ow = true
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
_a = _b
_b = _c
_ow = false
}
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
var _r = {}
return merge( merge( _r, _a, _ow ), _b, _ow );
}
else
return merge( _a, _b, _ow );
break;
case 10:
_a = rev(ops[1],e,s,g,o,_f);
_a = should_pass_type_info ? _a : wh.rv( _a );
return _a ;
break;
case 12:
var _r;
_a = rev(ops[1],e,s,g,o);
if ( !o.ap )
{
return should_pass_type_info && wh.hn(_a)==='h' ? wh.nh( _r, 'f' ) : _r;
}
var ap = o.ap;
_b = rev(ops[2],e,s,g,o,_f);
o.ap = ap;
_ta = wh.hn(_a)==='h';
_tb = _ca(_b);
_aa = wh.rv(_a);	
_bb = wh.rv(_b); snap_bb=$gdc(_bb,"nv_");
try{
_r = typeof _aa === "function" ? $gdc(_aa.apply(null, snap_bb)) : undefined;
} catch (e){
e.message = e.message.replace(/nv_/g,"");
e.stack = e.stack.substring(0,e.stack.indexOf("\n", e.stack.lastIndexOf("at nv_")));
e.stack = e.stack.replace(/\snv_/g," "); 
e.stack = $gstack(e.stack);	
if(g.debugInfo)
{
e.stack += "\n "+" "+" "+" at "+g.debugInfo[0]+":"+g.debugInfo[1]+":"+g.debugInfo[2];
console.error(e);
}
_r = undefined;
}
return should_pass_type_info && (_tb || _ta) ? wh.nh( _r, 'f' ) : _r;
}
}
else
{
if( op === 3 || op === 1) return ops[1];
else if( op === 11 ) 
{
var _a='';
for( var i = 1 ; i < ops.length ; i++ )
{
var xp = wh.rv(rev(ops[i],e,s,g,o,_f));
_a += typeof(xp) === 'undefined' ? '' : xp;
}
return _a;
}
}
}
function wrapper( ops, e, s, g, o, newap )
{
if( ops[0] == '11182016' )
{
g.debugInfo = ops[2];
return rev( ops[1], e, s, g, o, newap );
}
else
{
g.debugInfo = null;
return rev( ops, e, s, g, o, newap );
}
}
return wrapper;
}
gra=$gwrt(true); 
grb=$gwrt(false); 
function TestTest( expr, ops, e,s,g, expect_a, expect_b, expect_affected )
{
{
var o = {is_affected:false};
var a = gra( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_a )
|| o.is_affected != expect_affected )
{
console.warn( "A. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_a ) + ", " + expect_affected + " is expected" );
}
}
{
var o = {is_affected:false};
var a = grb( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_b )
|| o.is_affected != expect_affected )
{
console.warn( "B. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_b ) + ", " + expect_affected + " is expected" );
}
}
}

function wfor( to_iter, func, env, _s, global, father, itemname, indexname, keyname )
{
var _n = wh.hn( to_iter ) === 'n'; 
var scope = wh.rv( _s ); 
var has_old_item = scope.hasOwnProperty(itemname);
var has_old_index = scope.hasOwnProperty(indexname);
var old_item = scope[itemname];
var old_index = scope[indexname];
var full = Object.prototype.toString.call(wh.rv(to_iter));
var type = full[8]; 
if( type === 'N' && full[10] === 'l' ) type = 'X'; 
var _y;
if( _n )
{
if( type === 'A' ) 
{
var r_iter_item;
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
r_iter_item = wh.rv(to_iter[i]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i = 0;
var r_iter_item;
for( var k in to_iter )
{
scope[itemname] = to_iter[k];
scope[indexname] = _n ? k : wh.nh(k, 'h');
r_iter_item = wh.rv(to_iter[k]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env,scope,_y,global );
i++;
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env,scope,_y,global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < to_iter ; i++ )
{
scope[itemname] = i;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
else
{
var r_to_iter = wh.rv(to_iter);
var r_iter_item, iter_item;
if( type === 'A' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = r_to_iter[i];
iter_item = wh.hn(iter_item)==='n' ? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item
scope[indexname] = _n ? i : wh.nh(i, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i=0;
for( var k in r_to_iter )
{
iter_item = r_to_iter[k];
iter_item = wh.hn(iter_item)==='n'? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item;
scope[indexname] = _n ? k : wh.nh(k, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y=_v(key);
_(father,_y);
func( env, scope, _y, global );
i++
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = wh.nh(r_to_iter[i],'h');
scope[itemname] = iter_item;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < r_to_iter ; i++ )
{
iter_item = wh.nh(i,'h');
scope[itemname] = iter_item;
scope[indexname]= _n ? i : wh.nh(i,'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
if(has_old_item)
{
scope[itemname]=old_item;
}
else
{
delete scope[itemname];
}
if(has_old_index)
{
scope[indexname]=old_index;
}
else
{
delete scope[indexname];
}
}

function _ca(o)
{ 
if ( wh.hn(o) == 'h' ) return true;
if ( typeof o !== "object" ) return false;
for(var i in o){ 
if ( o.hasOwnProperty(i) ){
if (_ca(o[i])) return true;
}
}
return false;
}
function _da( node, attrname, opindex, raw, o )
{
var isaffected = false;
var value = $gdc( raw, "", 2 );
if ( o.ap && value && value.constructor===Function ) 
{
attrname = "$wxs:" + attrname; 
node.attr["$gdc"] = $gdc;
}
if ( o.is_affected || _ca(raw) ) 
{
node.n.push( attrname );
node.raw[attrname] = raw;
}
node.attr[attrname] = value;
}
function _r( node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _rz( z, node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _o( opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _oz( z, opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _1( opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _1z( z, opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _2( opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1( opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}
function _2z( z, opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1z( z, opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}


function _m(tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_r(tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}
function _mz(z,tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_rz(z, tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}

var nf_init=function(){
if(typeof __WXML_GLOBAL__==="undefined"||undefined===__WXML_GLOBAL__.wxs_nf_init){
nf_init_Object();nf_init_Function();nf_init_Array();nf_init_String();nf_init_Boolean();nf_init_Number();nf_init_Math();nf_init_Date();nf_init_RegExp();
}
if(typeof __WXML_GLOBAL__!=="undefined") __WXML_GLOBAL__.wxs_nf_init=true;
};
var nf_init_Object=function(){
Object.defineProperty(Object.prototype,"nv_constructor",{writable:true,value:"Object"})
Object.defineProperty(Object.prototype,"nv_toString",{writable:true,value:function(){return "[object Object]"}})
}
var nf_init_Function=function(){
Object.defineProperty(Function.prototype,"nv_constructor",{writable:true,value:"Function"})
Object.defineProperty(Function.prototype,"nv_length",{get:function(){return this.length;},set:function(){}});
Object.defineProperty(Function.prototype,"nv_toString",{writable:true,value:function(){return "[function Function]"}})
}
var nf_init_Array=function(){
Object.defineProperty(Array.prototype,"nv_toString",{writable:true,value:function(){return this.nv_join();}})
Object.defineProperty(Array.prototype,"nv_join",{writable:true,value:function(s){
s=undefined==s?',':s;
var r="";
for(var i=0;i<this.length;++i){
if(0!=i) r+=s;
if(null==this[i]||undefined==this[i]) r+='';	
else if(typeof this[i]=='function') r+=this[i].nv_toString();
else if(typeof this[i]=='object'&&this[i].nv_constructor==="Array") r+=this[i].nv_join();
else r+=this[i].toString();
}
return r;
}})
Object.defineProperty(Array.prototype,"nv_constructor",{writable:true,value:"Array"})
Object.defineProperty(Array.prototype,"nv_concat",{writable:true,value:Array.prototype.concat})
Object.defineProperty(Array.prototype,"nv_pop",{writable:true,value:Array.prototype.pop})
Object.defineProperty(Array.prototype,"nv_push",{writable:true,value:Array.prototype.push})
Object.defineProperty(Array.prototype,"nv_reverse",{writable:true,value:Array.prototype.reverse})
Object.defineProperty(Array.prototype,"nv_shift",{writable:true,value:Array.prototype.shift})
Object.defineProperty(Array.prototype,"nv_slice",{writable:true,value:Array.prototype.slice})
Object.defineProperty(Array.prototype,"nv_sort",{writable:true,value:Array.prototype.sort})
Object.defineProperty(Array.prototype,"nv_splice",{writable:true,value:Array.prototype.splice})
Object.defineProperty(Array.prototype,"nv_unshift",{writable:true,value:Array.prototype.unshift})
Object.defineProperty(Array.prototype,"nv_indexOf",{writable:true,value:Array.prototype.indexOf})
Object.defineProperty(Array.prototype,"nv_lastIndexOf",{writable:true,value:Array.prototype.lastIndexOf})
Object.defineProperty(Array.prototype,"nv_every",{writable:true,value:Array.prototype.every})
Object.defineProperty(Array.prototype,"nv_some",{writable:true,value:Array.prototype.some})
Object.defineProperty(Array.prototype,"nv_forEach",{writable:true,value:Array.prototype.forEach})
Object.defineProperty(Array.prototype,"nv_map",{writable:true,value:Array.prototype.map})
Object.defineProperty(Array.prototype,"nv_filter",{writable:true,value:Array.prototype.filter})
Object.defineProperty(Array.prototype,"nv_reduce",{writable:true,value:Array.prototype.reduce})
Object.defineProperty(Array.prototype,"nv_reduceRight",{writable:true,value:Array.prototype.reduceRight})
Object.defineProperty(Array.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_String=function(){
Object.defineProperty(String.prototype,"nv_constructor",{writable:true,value:"String"})
Object.defineProperty(String.prototype,"nv_toString",{writable:true,value:String.prototype.toString})
Object.defineProperty(String.prototype,"nv_valueOf",{writable:true,value:String.prototype.valueOf})
Object.defineProperty(String.prototype,"nv_charAt",{writable:true,value:String.prototype.charAt})
Object.defineProperty(String.prototype,"nv_charCodeAt",{writable:true,value:String.prototype.charCodeAt})
Object.defineProperty(String.prototype,"nv_concat",{writable:true,value:String.prototype.concat})
Object.defineProperty(String.prototype,"nv_indexOf",{writable:true,value:String.prototype.indexOf})
Object.defineProperty(String.prototype,"nv_lastIndexOf",{writable:true,value:String.prototype.lastIndexOf})
Object.defineProperty(String.prototype,"nv_localeCompare",{writable:true,value:String.prototype.localeCompare})
Object.defineProperty(String.prototype,"nv_match",{writable:true,value:String.prototype.match})
Object.defineProperty(String.prototype,"nv_replace",{writable:true,value:String.prototype.replace})
Object.defineProperty(String.prototype,"nv_search",{writable:true,value:String.prototype.search})
Object.defineProperty(String.prototype,"nv_slice",{writable:true,value:String.prototype.slice})
Object.defineProperty(String.prototype,"nv_split",{writable:true,value:String.prototype.split})
Object.defineProperty(String.prototype,"nv_substring",{writable:true,value:String.prototype.substring})
Object.defineProperty(String.prototype,"nv_toLowerCase",{writable:true,value:String.prototype.toLowerCase})
Object.defineProperty(String.prototype,"nv_toLocaleLowerCase",{writable:true,value:String.prototype.toLocaleLowerCase})
Object.defineProperty(String.prototype,"nv_toUpperCase",{writable:true,value:String.prototype.toUpperCase})
Object.defineProperty(String.prototype,"nv_toLocaleUpperCase",{writable:true,value:String.prototype.toLocaleUpperCase})
Object.defineProperty(String.prototype,"nv_trim",{writable:true,value:String.prototype.trim})
Object.defineProperty(String.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_Boolean=function(){
Object.defineProperty(Boolean.prototype,"nv_constructor",{writable:true,value:"Boolean"})
Object.defineProperty(Boolean.prototype,"nv_toString",{writable:true,value:Boolean.prototype.toString})
Object.defineProperty(Boolean.prototype,"nv_valueOf",{writable:true,value:Boolean.prototype.valueOf})
}
var nf_init_Number=function(){
Object.defineProperty(Number,"nv_MAX_VALUE",{writable:false,value:Number.MAX_VALUE})
Object.defineProperty(Number,"nv_MIN_VALUE",{writable:false,value:Number.MIN_VALUE})
Object.defineProperty(Number,"nv_NEGATIVE_INFINITY",{writable:false,value:Number.NEGATIVE_INFINITY})
Object.defineProperty(Number,"nv_POSITIVE_INFINITY",{writable:false,value:Number.POSITIVE_INFINITY})
Object.defineProperty(Number.prototype,"nv_constructor",{writable:true,value:"Number"})
Object.defineProperty(Number.prototype,"nv_toString",{writable:true,value:Number.prototype.toString})
Object.defineProperty(Number.prototype,"nv_toLocaleString",{writable:true,value:Number.prototype.toLocaleString})
Object.defineProperty(Number.prototype,"nv_valueOf",{writable:true,value:Number.prototype.valueOf})
Object.defineProperty(Number.prototype,"nv_toFixed",{writable:true,value:Number.prototype.toFixed})
Object.defineProperty(Number.prototype,"nv_toExponential",{writable:true,value:Number.prototype.toExponential})
Object.defineProperty(Number.prototype,"nv_toPrecision",{writable:true,value:Number.prototype.toPrecision})
}
var nf_init_Math=function(){
Object.defineProperty(Math,"nv_E",{writable:false,value:Math.E})
Object.defineProperty(Math,"nv_LN10",{writable:false,value:Math.LN10})
Object.defineProperty(Math,"nv_LN2",{writable:false,value:Math.LN2})
Object.defineProperty(Math,"nv_LOG2E",{writable:false,value:Math.LOG2E})
Object.defineProperty(Math,"nv_LOG10E",{writable:false,value:Math.LOG10E})
Object.defineProperty(Math,"nv_PI",{writable:false,value:Math.PI})
Object.defineProperty(Math,"nv_SQRT1_2",{writable:false,value:Math.SQRT1_2})
Object.defineProperty(Math,"nv_SQRT2",{writable:false,value:Math.SQRT2})
Object.defineProperty(Math,"nv_abs",{writable:false,value:Math.abs})
Object.defineProperty(Math,"nv_acos",{writable:false,value:Math.acos})
Object.defineProperty(Math,"nv_asin",{writable:false,value:Math.asin})
Object.defineProperty(Math,"nv_atan",{writable:false,value:Math.atan})
Object.defineProperty(Math,"nv_atan2",{writable:false,value:Math.atan2})
Object.defineProperty(Math,"nv_ceil",{writable:false,value:Math.ceil})
Object.defineProperty(Math,"nv_cos",{writable:false,value:Math.cos})
Object.defineProperty(Math,"nv_exp",{writable:false,value:Math.exp})
Object.defineProperty(Math,"nv_floor",{writable:false,value:Math.floor})
Object.defineProperty(Math,"nv_log",{writable:false,value:Math.log})
Object.defineProperty(Math,"nv_max",{writable:false,value:Math.max})
Object.defineProperty(Math,"nv_min",{writable:false,value:Math.min})
Object.defineProperty(Math,"nv_pow",{writable:false,value:Math.pow})
Object.defineProperty(Math,"nv_random",{writable:false,value:Math.random})
Object.defineProperty(Math,"nv_round",{writable:false,value:Math.round})
Object.defineProperty(Math,"nv_sin",{writable:false,value:Math.sin})
Object.defineProperty(Math,"nv_sqrt",{writable:false,value:Math.sqrt})
Object.defineProperty(Math,"nv_tan",{writable:false,value:Math.tan})
}
var nf_init_Date=function(){
Object.defineProperty(Date.prototype,"nv_constructor",{writable:true,value:"Date"})
Object.defineProperty(Date,"nv_parse",{writable:true,value:Date.parse})
Object.defineProperty(Date,"nv_UTC",{writable:true,value:Date.UTC})
Object.defineProperty(Date,"nv_now",{writable:true,value:Date.now})
Object.defineProperty(Date.prototype,"nv_toString",{writable:true,value:Date.prototype.toString})
Object.defineProperty(Date.prototype,"nv_toDateString",{writable:true,value:Date.prototype.toDateString})
Object.defineProperty(Date.prototype,"nv_toTimeString",{writable:true,value:Date.prototype.toTimeString})
Object.defineProperty(Date.prototype,"nv_toLocaleString",{writable:true,value:Date.prototype.toLocaleString})
Object.defineProperty(Date.prototype,"nv_toLocaleDateString",{writable:true,value:Date.prototype.toLocaleDateString})
Object.defineProperty(Date.prototype,"nv_toLocaleTimeString",{writable:true,value:Date.prototype.toLocaleTimeString})
Object.defineProperty(Date.prototype,"nv_valueOf",{writable:true,value:Date.prototype.valueOf})
Object.defineProperty(Date.prototype,"nv_getTime",{writable:true,value:Date.prototype.getTime})
Object.defineProperty(Date.prototype,"nv_getFullYear",{writable:true,value:Date.prototype.getFullYear})
Object.defineProperty(Date.prototype,"nv_getUTCFullYear",{writable:true,value:Date.prototype.getUTCFullYear})
Object.defineProperty(Date.prototype,"nv_getMonth",{writable:true,value:Date.prototype.getMonth})
Object.defineProperty(Date.prototype,"nv_getUTCMonth",{writable:true,value:Date.prototype.getUTCMonth})
Object.defineProperty(Date.prototype,"nv_getDate",{writable:true,value:Date.prototype.getDate})
Object.defineProperty(Date.prototype,"nv_getUTCDate",{writable:true,value:Date.prototype.getUTCDate})
Object.defineProperty(Date.prototype,"nv_getDay",{writable:true,value:Date.prototype.getDay})
Object.defineProperty(Date.prototype,"nv_getUTCDay",{writable:true,value:Date.prototype.getUTCDay})
Object.defineProperty(Date.prototype,"nv_getHours",{writable:true,value:Date.prototype.getHours})
Object.defineProperty(Date.prototype,"nv_getUTCHours",{writable:true,value:Date.prototype.getUTCHours})
Object.defineProperty(Date.prototype,"nv_getMinutes",{writable:true,value:Date.prototype.getMinutes})
Object.defineProperty(Date.prototype,"nv_getUTCMinutes",{writable:true,value:Date.prototype.getUTCMinutes})
Object.defineProperty(Date.prototype,"nv_getSeconds",{writable:true,value:Date.prototype.getSeconds})
Object.defineProperty(Date.prototype,"nv_getUTCSeconds",{writable:true,value:Date.prototype.getUTCSeconds})
Object.defineProperty(Date.prototype,"nv_getMilliseconds",{writable:true,value:Date.prototype.getMilliseconds})
Object.defineProperty(Date.prototype,"nv_getUTCMilliseconds",{writable:true,value:Date.prototype.getUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_getTimezoneOffset",{writable:true,value:Date.prototype.getTimezoneOffset})
Object.defineProperty(Date.prototype,"nv_setTime",{writable:true,value:Date.prototype.setTime})
Object.defineProperty(Date.prototype,"nv_setMilliseconds",{writable:true,value:Date.prototype.setMilliseconds})
Object.defineProperty(Date.prototype,"nv_setUTCMilliseconds",{writable:true,value:Date.prototype.setUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_setSeconds",{writable:true,value:Date.prototype.setSeconds})
Object.defineProperty(Date.prototype,"nv_setUTCSeconds",{writable:true,value:Date.prototype.setUTCSeconds})
Object.defineProperty(Date.prototype,"nv_setMinutes",{writable:true,value:Date.prototype.setMinutes})
Object.defineProperty(Date.prototype,"nv_setUTCMinutes",{writable:true,value:Date.prototype.setUTCMinutes})
Object.defineProperty(Date.prototype,"nv_setHours",{writable:true,value:Date.prototype.setHours})
Object.defineProperty(Date.prototype,"nv_setUTCHours",{writable:true,value:Date.prototype.setUTCHours})
Object.defineProperty(Date.prototype,"nv_setDate",{writable:true,value:Date.prototype.setDate})
Object.defineProperty(Date.prototype,"nv_setUTCDate",{writable:true,value:Date.prototype.setUTCDate})
Object.defineProperty(Date.prototype,"nv_setMonth",{writable:true,value:Date.prototype.setMonth})
Object.defineProperty(Date.prototype,"nv_setUTCMonth",{writable:true,value:Date.prototype.setUTCMonth})
Object.defineProperty(Date.prototype,"nv_setFullYear",{writable:true,value:Date.prototype.setFullYear})
Object.defineProperty(Date.prototype,"nv_setUTCFullYear",{writable:true,value:Date.prototype.setUTCFullYear})
Object.defineProperty(Date.prototype,"nv_toUTCString",{writable:true,value:Date.prototype.toUTCString})
Object.defineProperty(Date.prototype,"nv_toISOString",{writable:true,value:Date.prototype.toISOString})
Object.defineProperty(Date.prototype,"nv_toJSON",{writable:true,value:Date.prototype.toJSON})
}
var nf_init_RegExp=function(){
Object.defineProperty(RegExp.prototype,"nv_constructor",{writable:true,value:"RegExp"})
Object.defineProperty(RegExp.prototype,"nv_exec",{writable:true,value:RegExp.prototype.exec})
Object.defineProperty(RegExp.prototype,"nv_test",{writable:true,value:RegExp.prototype.test})
Object.defineProperty(RegExp.prototype,"nv_toString",{writable:true,value:RegExp.prototype.toString})
Object.defineProperty(RegExp.prototype,"nv_source",{get:function(){return this.source;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_global",{get:function(){return this.global;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_ignoreCase",{get:function(){return this.ignoreCase;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_multiline",{get:function(){return this.multiline;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_lastIndex",{get:function(){return this.lastIndex;},set:function(v){this.lastIndex=v;}});
}
nf_init();
var nv_getDate=function(){var args=Array.prototype.slice.call(arguments);args.unshift(Date);return new(Function.prototype.bind.apply(Date, args));}
var nv_getRegExp=function(){var args=Array.prototype.slice.call(arguments);args.unshift(RegExp);return new(Function.prototype.bind.apply(RegExp, args));}
var nv_console={}
nv_console.nv_log=function(){var res="WXSRT:";for(var i=0;i<arguments.length;++i)res+=arguments[i]+" ";console.log(res);}
var nv_parseInt = parseInt, nv_parseFloat = parseFloat, nv_isNaN = isNaN, nv_isFinite = isFinite, nv_decodeURI = decodeURI, nv_decodeURIComponent = decodeURIComponent, nv_encodeURI = encodeURI, nv_encodeURIComponent = encodeURIComponent;
function $gdc(o,p,r) {
o=wh.rv(o);
if(o===null||o===undefined) return o;
if(o.constructor===String||o.constructor===Boolean||o.constructor===Number) return o;
if(o.constructor===Object){
var copy={};
for(var k in o)
if(o.hasOwnProperty(k))
if(undefined===p) copy[k.substring(3)]=$gdc(o[k],p,r);
else copy[p+k]=$gdc(o[k],p,r);
return copy;
}
if(o.constructor===Array){
var copy=[];
for(var i=0;i<o.length;i++) copy.push($gdc(o[i],p,r));
return copy;
}
if(o.constructor===Date){
var copy=new Date();
copy.setTime(o.getTime());
return copy;
}
if(o.constructor===RegExp){
var f="";
if(o.global) f+="g";
if(o.ignoreCase) f+="i";
if(o.multiline) f+="m";
return (new RegExp(o.source,f));
}
if(r&&o.constructor===Function){
if ( r == 1 ) return $gdc(o(),undefined, 2);
if ( r == 2 ) return o;
}
return null;
}
var nv_JSON={}
nv_JSON.nv_stringify=function(o){
JSON.stringify(o);
return JSON.stringify($gdc(o));
}
nv_JSON.nv_parse=function(o){
if(o===undefined) return undefined;
var t=JSON.parse(o);
return $gdc(t,'nv_');
}

function _af(p, a, r, c){
p.extraAttr = {"t_action": a, "t_rawid": r };
if ( typeof(c) != 'undefined' ) p.extraAttr.t_cid = c;
}

function _ai(i,p,e,me,r,c){var x=_grp(p,e,me);if(x)i.push(x);else{i.push('');_wp(me+':import:'+r+':'+c+': Path `'+p+'` not found from `'+me+'`.')}}
function _grp(p,e,me){if(p[0]!='/'){var mepart=me.split('/');mepart.pop();var ppart=p.split('/');for(var i=0;i<ppart.length;i++){if( ppart[i]=='..')mepart.pop();else if(!ppart[i]||ppart[i]=='.')continue;else mepart.push(ppart[i]);}p=mepart.join('/');}if(me[0]=='.'&&p[0]=='/')p='.'+p;if(e[p])return p;if(e[p+'.wxml'])return p+'.wxml';}
function _gd(p,c,e,d){if(!c)return;if(d[p][c])return d[p][c];for(var x=e[p].i.length-1;x>=0;x--){if(e[p].i[x]&&d[e[p].i[x]][c])return d[e[p].i[x]][c]};for(var x=e[p].ti.length-1;x>=0;x--){var q=_grp(e[p].ti[x],e,p);if(q&&d[q][c])return d[q][c]}var ii=_gapi(e,p);for(var x=0;x<ii.length;x++){if(ii[x]&&d[ii[x]][c])return d[ii[x]][c]}for(var k=e[p].j.length-1;k>=0;k--)if(e[p].j[k]){for(var q=e[e[p].j[k]].ti.length-1;q>=0;q--){var pp=_grp(e[e[p].j[k]].ti[q],e,p);if(pp&&d[pp][c]){return d[pp][c]}}}}
function _gapi(e,p){if(!p)return [];if($gaic[p]){return $gaic[p]};var ret=[],q=[],h=0,t=0,put={},visited={};q.push(p);visited[p]=true;t++;while(h<t){var a=q[h++];for(var i=0;i<e[a].ic.length;i++){var nd=e[a].ic[i];var np=_grp(nd,e,a);if(np&&!visited[np]){visited[np]=true;q.push(np);t++;}}for(var i=0;a!=p&&i<e[a].ti.length;i++){var ni=e[a].ti[i];var nm=_grp(ni,e,a);if(nm&&!put[nm]){put[nm]=true;ret.push(nm);}}}$gaic[p]=ret;return ret;}
var $ixc={};function _ic(p,ent,me,e,s,r,gg){var x=_grp(p,ent,me);ent[me].j.push(x);if(x){if($ixc[x]){_wp('-1:include:-1:-1: `'+p+'` is being included in a loop, will be stop.');return;}$ixc[x]=true;try{ent[x].f(e,s,r,gg)}catch(e){}$ixc[x]=false;}else{_wp(me+':include:-1:-1: Included path `'+p+'` not found from `'+me+'`.')}}
function _w(tn,f,line,c){_wp(f+':template:'+line+':'+c+': Template `'+tn+'` not found.');}function _ev(dom){var changed=false;delete dom.properities;delete dom.n;if(dom.children){do{changed=false;var newch = [];for(var i=0;i<dom.children.length;i++){var ch=dom.children[i];if( ch.tag=='virtual'){changed=true;for(var j=0;ch.children&&j<ch.children.length;j++){newch.push(ch.children[j]);}}else { newch.push(ch); } } dom.children = newch; }while(changed);for(var i=0;i<dom.children.length;i++){_ev(dom.children[i]);}} return dom; }
function _tsd( root )
{
if( root.tag == "wx-wx-scope" ) 
{
root.tag = "virtual";
root.wxCkey = "11";
root['wxScopeData'] = root.attr['wx:scope-data'];
delete root.n;
delete root.raw;
delete root.generics;
delete root.attr;
}
for( var i = 0 ; root.children && i < root.children.length ; i++ )
{
_tsd( root.children[i] );
}
return root;
}

var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx || [];
function gz$gwx_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_1)return __WXML_GLOBAL__.ops_cached.$gwx_1
__WXML_GLOBAL__.ops_cached.$gwx_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([[2,'!'],[[7],[3,'album']]])
Z([3,'album-nav weui-cells'])
Z([3,'margin-top:0;'])
Z([[2,'||'],[[7],[3,'isAdmin']],[[7],[3,'isCreator']]])
Z([[2,'&&'],[[7],[3,'group']],[[6],[[7],[3,'group']],[3,'partner']]])
Z([[2,'==='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'T']])
Z([[2,'&&'],[[7],[3,'files']],[[6],[[7],[3,'files']],[3,'length']]])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'files']])
Z([3,'key'])
Z([3,'toDetail'])
Z([a,[3,'card  '],[[2,'?:'],[[2,'==='],[[2,'%'],[[2,'+'],[[7],[3,'index']],[1,1]],[1,3]],[1,2]],[1,'middle'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([3,'card-wrapper-inner'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'video']])
Z([[9],[[8],'src',[[6],[[7],[3,'item']],[3,'cover']]],[[8],'cls',[1,'cmn__image_bg']]])
Z([3,'video-cover'])
Z(z[16])
Z([[6],[[7],[3,'item']],[3,'url']])
Z([[2,'&&'],[[7],[3,'album']],[[2,'!'],[[7],[3,'loadingList']]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'loadingList']]],[[7],[3,'files']]],[[6],[[7],[3,'files']],[3,'length']]],[[2,'<='],[[7],[3,'pageTotal']],[[7],[3,'page']]]])
Z([[6],[[7],[3,'group']],[3,'gid']])
Z([[6],[[7],[3,'user']],[3,'avatar']])
Z([3,'vip-renewal-modal'])
Z(z[23])
})(__WXML_GLOBAL__.ops_cached.$gwx_1);return __WXML_GLOBAL__.ops_cached.$gwx_1
}
function gz$gwx_2(){
if( __WXML_GLOBAL__.ops_cached.$gwx_2)return __WXML_GLOBAL__.ops_cached.$gwx_2
__WXML_GLOBAL__.ops_cached.$gwx_2=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'save'])
Z([1,true])
Z([[7],[3,'collection_id']])
})(__WXML_GLOBAL__.ops_cached.$gwx_2);return __WXML_GLOBAL__.ops_cached.$gwx_2
}
function gz$gwx_3(){
if( __WXML_GLOBAL__.ops_cached.$gwx_3)return __WXML_GLOBAL__.ops_cached.$gwx_3
__WXML_GLOBAL__.ops_cached.$gwx_3=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([[2,'>'],[[6],[[7],[3,'album']],[3,'length']],[1,0]])
Z([3,'albumbox weui-flex'])
Z([3,'addAlbum'])
Z([3,'album-preview'])
Z([3,'height:100%;'])
Z([[2,'&&'],[[2,'>='],[[6],[[7],[3,'album']],[3,'length']],[1,5]],[[2,'!'],[[7],[3,'isVipOrTeacher']]]])
Z([3,'vip'])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'album']])
Z([3,'key'])
Z([3,'toAlbum'])
Z([3,'album-card weui-flex__item'])
Z([[7],[3,'item']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isVipOrTeacher']]],[[6],[[7],[3,'item']],[3,'is_vip']]])
Z(z[7])
Z([[2,'&&'],[[7],[3,'showAd']],[[2,'=='],[[7],[3,'index']],[1,0]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'loadingList']]],[[7],[3,'album']]],[[6],[[7],[3,'album']],[3,'length']]],[[2,'<='],[[7],[3,'pageTotal']],[[7],[3,'page']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_3);return __WXML_GLOBAL__.ops_cached.$gwx_3
}
function gz$gwx_4(){
if( __WXML_GLOBAL__.ops_cached.$gwx_4)return __WXML_GLOBAL__.ops_cached.$gwx_4
__WXML_GLOBAL__.ops_cached.$gwx_4=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'weui-article'])
Z([3,'background-color: white'])
Z([[7],[3,'user']])
Z([[2,'&&'],[[7],[3,'images']],[[2,'>'],[[6],[[7],[3,'images']],[3,'length']],[1,0]]])
Z([3,'idx'])
Z([3,'image'])
Z([[7],[3,'images']])
Z(z[4])
Z([3,'previewImage'])
Z([3,'choosed-image-list'])
Z([[7],[3,'image']])
Z(z[6])
Z([[2,'!'],[[6],[[7],[3,'image']],[3,'isCloud']]])
Z([[8],'path',[[6],[[7],[3,'image']],[3,'path']]])
Z([3,'thumbnail'])
Z([[6],[[7],[3,'image']],[3,'isCloud']])
Z([[8],'fullpath',[[6],[[7],[3,'image']],[3,'path']]])
Z(z[14])
Z([[6],[[7],[3,'announcement']],[3,'expiredDate']])
Z([[2,'&&'],[[2,'<'],[[6],[[7],[3,'announcement']],[3,'remind_count']],[1,1]],[[2,'||'],[[2,'&&'],[[2,'==='],[[6],[[7],[3,'announcement']],[3,'uid']],[[6],[[7],[3,'user']],[3,'uid']]],[[2,'||'],[[2,'==='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'T']],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'proxy']]]],[[2,'==='],[[6],[[7],[3,'group']],[3,'admin_uid']],[[6],[[7],[3,'user']],[3,'uid']]]]])
Z([[6],[[7],[3,'notVisitList']],[3,'length']])
Z([[2,'>'],[[6],[[7],[3,'visits']],[3,'length']],[1,0]])
Z([3,'visit'])
Z([[7],[3,'visits']])
Z([3,'lid'])
Z([[6],[[7],[3,'visit']],[3,'child']])
Z([[6],[[7],[3,'group']],[3,'gid']])
Z([[6],[[7],[3,'user']],[3,'avatar']])
Z([3,'vip-renewal-modal'])
Z(z[26])
Z([[7],[3,'$remindmodal$visible']])
Z([3,'cmpt__base-modal__inner'])
Z([[2,'==='],[[7],[3,'$remindmodal$showClose']],[1,'true']])
Z([3,'cmpt__base-modal__content'])
Z([3,'content'])
Z([[2,'==='],[[7],[3,'$remindmodal$showLogo']],[1,'true']])
})(__WXML_GLOBAL__.ops_cached.$gwx_4);return __WXML_GLOBAL__.ops_cached.$gwx_4
}
function gz$gwx_5(){
if( __WXML_GLOBAL__.ops_cached.$gwx_5)return __WXML_GLOBAL__.ops_cached.$gwx_5
__WXML_GLOBAL__.ops_cached.$gwx_5=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'save'])
Z([3,'page__bd'])
Z([1,true])
Z([3,'upload-image-list'])
Z([3,'idx'])
Z([3,'image'])
Z([[7],[3,'images']])
Z([3,'key'])
Z([[2,'!'],[[6],[[7],[3,'image']],[3,'deleted']]])
Z([3,'previewImage'])
Z([3,'choosed-image-list'])
Z([[7],[3,'image']])
Z(z[6])
Z([[6],[[7],[3,'image']],[3,'isCloud']])
Z([[8],'fullpath',[[6],[[7],[3,'image']],[3,'path']]])
Z([3,'thumbnail'])
Z([[2,'&&'],[[6],[[7],[3,'image']],[3,'local']],[[2,'!'],[[6],[[7],[3,'image']],[3,'isCloud']]]])
Z([[9],[[8],'fullpath',[[6],[[7],[3,'image']],[3,'path']]],[[8],'cls',[1,'choosed-image']]])
Z(z[15])
Z([[8],'path',[[6],[[7],[3,'image']],[3,'path']]])
Z(z[15])
Z([[2,'<'],[[6],[[12],[[6],[[7],[3,'ArrWxs']],[3,'where_key_neq']],[[5],[[5],[[5],[[2,'||'],[[7],[3,'images']],[[4],[[5]]]]],[1,'deleted']],[1,true]]],[3,'length']],[1,9]])
Z([[2,'&&'],[[7],[3,'announcement_id']],[[2,'||'],[[2,'==='],[[6],[[7],[3,'user']],[3,'uid']],[[6],[[7],[3,'group']],[3,'admin_uid']]],[[2,'==='],[[6],[[7],[3,'user']],[3,'uid']],[[6],[[7],[3,'announcement']],[3,'uid']]]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_5);return __WXML_GLOBAL__.ops_cached.$gwx_5
}
function gz$gwx_6(){
if( __WXML_GLOBAL__.ops_cached.$gwx_6)return __WXML_GLOBAL__.ops_cached.$gwx_6
__WXML_GLOBAL__.ops_cached.$gwx_6=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([3,'height: 100%;overflow: hidden;'])
Z([3,'page__bd'])
Z([3,'height:calc(100% - 100rpx);'])
Z([[2,'||'],[[6],[[7],[3,'list']],[3,'length']],[[6],[[7],[3,'expiredList']],[3,'length']]])
Z([3,'onScroll'])
Z([3,'height: 100%;'])
Z([3,'padding:10px 15px;'])
Z([3,'index'])
Z([[7],[3,'list']])
Z([3,'id'])
Z([3,'toDetail'])
Z([3,'announcement'])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([[2,'||'],[[2,'=='],[[2,'%'],[[2,'+'],[[7],[3,'index']],[1,1]],[1,5]],[1,0]],[[2,'&&'],[[2,'<'],[[6],[[7],[3,'list']],[3,'length']],[1,5]],[[2,'=='],[[7],[3,'index']],[1,0]]]])
Z([[7],[3,'showAd']])
Z([[6],[[7],[3,'expiredList']],[3,'length']])
Z([[2,'>'],[[7],[3,'page']],[[2,'+'],[[2,'-'],[[2,'/'],[[7],[3,'total']],[1,10]],[[2,'%'],[[7],[3,'total']],[1,10]]],[1,1]]])
Z([[9],[[9],[[8],'content',[1,'暂无公告']],[[8],'icon',[1,'../images/nodata.svg']]],[[8],'size',[1,'80rpx']]])
Z([3,'nodata'])
Z([[2,'||'],[[7],[3,'isTeacherOrProxy']],[[2,'==='],[[6],[[7],[3,'group']],[3,'admin_uid']],[[6],[[7],[3,'user']],[3,'uid']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_6);return __WXML_GLOBAL__.ops_cached.$gwx_6
}
function gz$gwx_7(){
if( __WXML_GLOBAL__.ops_cached.$gwx_7)return __WXML_GLOBAL__.ops_cached.$gwx_7
__WXML_GLOBAL__.ops_cached.$gwx_7=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([3,'border-top:1px solid transparent'])
Z([[2,'&&'],[[7],[3,'answerDetail']],[[2,'==='],[[6],[[7],[3,'answerDetail']],[3,'aid']],[[7],[3,'aid']]]])
Z([[6],[[7],[3,'answerDetail']],[3,'aid']])
Z([[7],[3,'answerDetail']])
Z([3,'onAnswerDelete'])
Z([3,'onShowOptions'])
Z([3,'onShowSupplementForm'])
Z([3,'switchToRating'])
Z([3,'checkBeforePreview'])
Z([1,true])
Z([[7],[3,'group']])
Z([[7],[3,'homeworkDetail']])
Z([a,[3,'answer-detail-'],z[3]])
Z([3,'isDetailPage'])
Z([[2,'||'],[[2,'&&'],[[7],[3,'canRating']],[[6],[[7],[3,'homeworkDetail']],[3,'question_set']]],[1,null]])
Z([[6],[[7],[3,'answerDetail']],[3,'showAnswerContent']])
Z([[7],[3,'showHomeworkBtn']])
Z([[7],[3,'isRating']])
Z([[6],[[7],[3,'answerDetail']],[3,'showOptionBtn']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isRating']]],[[6],[[7],[3,'answerDetail']],[3,'showRateBtn']]])
Z([[2,'!'],[[7],[3,'isRating']]])
Z([[6],[[7],[3,'answerDetail']],[3,'showRatingContent']])
Z([[6],[[7],[3,'answerDetail']],[3,'showRatingResult']])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'showSupplementForm']]],[[6],[[7],[3,'answerDetail']],[3,'showSupplementBtn']]],[[7],[3,'canSubmit']]])
Z([3,'min-height: 200rpx;'])
Z([[7],[3,'supplements']])
Z([[7],[3,'tempVideoKey']])
Z([[2,'&&'],[[7],[3,'isRating']],[[6],[[7],[3,'answerDetail']],[3,'aid']]])
Z([[4],[[5],[[6],[[7],[3,'answerDetail']],[3,'aid']]]])
Z([3,'onSubmitted'])
Z([[6],[[7],[3,'answerDetail']],[3,'rating_date']])
Z([[6],[[7],[3,'answerDetail']],[3,'hid']])
Z([3,'rating-form'])
Z([[2,'?:'],[[2,'>'],[[6],[[7],[3,'sortedAnswerList']],[3,'length']],[1,0]],[[2,'-'],[[6],[[7],[3,'sortedAnswerList']],[3,'length']],[1,1]],[1,0]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isRating']]],[[2,'==='],[[6],[[7],[3,'answerDetail']],[3,'aid']],[[7],[3,'aid']]]])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'showSupplementForm']],[[7],[3,'canSubmit']]],[[6],[[7],[3,'answerDetail']],[3,'showSupplementBtn']]])
Z([3,'save'])
Z(z[10])
Z([[7],[3,'video']])
Z([3,'deleteVideo'])
Z([3,'cmn__image_bg-big'])
Z([[6],[[7],[3,'video']],[3,'cdnPath']])
Z([3,'display:block;width:100%;height:225px;'])
Z([3,'upload-image-list'])
Z([3,'idx'])
Z([3,'image'])
Z([[7],[3,'images']])
Z([3,'key'])
Z([3,'previewMixedImage'])
Z([3,'choosed-image-list'])
Z([[7],[3,'image']])
Z(z[47])
Z([[2,'||'],[[6],[[7],[3,'image']],[3,'local']],[[6],[[7],[3,'image']],[3,'temp']]])
Z([[6],[[7],[3,'image']],[3,'temp']])
Z([[9],[[8],'path',[[6],[[7],[3,'image']],[3,'path']]],[[8],'cls',[1,'choosed-image']]])
Z([3,'thumbnail'])
Z([[9],[[8],'fullpath',[[6],[[7],[3,'image']],[3,'path']]],[[8],'cls',[1,'choosed-image']]])
Z(z[56])
Z([[8],'path',[[6],[[7],[3,'image']],[3,'path']]])
Z(z[56])
Z([3,'i'])
Z([3,'voice'])
Z([[7],[3,'voices']])
Z(z[62])
Z([3,'100%'])
Z([a,[3,'audio-player-'],[[6],[[7],[3,'voice']],[3,'cdnPath']]])
Z(z[66][2])
Z(z[65])
Z([[2,'<'],[[6],[[7],[3,'images']],[3,'length']],[1,9]])
Z([[2,'<'],[[6],[[7],[3,'voices']],[3,'length']],[1,9]])
Z([[2,'!'],[[7],[3,'video']]])
Z([3,'auth-modal'])
Z([3,'onRecorderStop'])
Z([3,'answer-recorder'])
})(__WXML_GLOBAL__.ops_cached.$gwx_7);return __WXML_GLOBAL__.ops_cached.$gwx_7
}
function gz$gwx_8(){
if( __WXML_GLOBAL__.ops_cached.$gwx_8)return __WXML_GLOBAL__.ops_cached.$gwx_8
__WXML_GLOBAL__.ops_cached.$gwx_8=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_8);return __WXML_GLOBAL__.ops_cached.$gwx_8
}
function gz$gwx_9(){
if( __WXML_GLOBAL__.ops_cached.$gwx_9)return __WXML_GLOBAL__.ops_cached.$gwx_9
__WXML_GLOBAL__.ops_cached.$gwx_9=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'$followtips$user']],[3,'pxx_subscribed']]],[[7],[3,'$followtips$tipsText']]])
Z([[2,'||'],[[7],[3,'isAdmin']],[[6],[[7],[3,'partner']],[3,'phone']]])
Z([[6],[[7],[3,'needConfirm']],[3,'length']])
Z([3,'weui-tab__panel'])
Z([3,'background-color:#fff;'])
Z([3,'index'])
Z([3,'partner'])
Z([[7],[3,'needConfirm']])
Z(z[6])
Z([3,'visitorList'])
Z([3,'weui-cell'])
Z([[7],[3,'partner']])
Z([[9],[[9],[[8],'avatar',[[6],[[6],[[7],[3,'partner']],[3,'user']],[3,'avatar']]],[[8],'vip',[[6],[[7],[3,'partner']],[3,'isVip']]]],[[8],'cls',[1,'partner-avatar']]])
Z([3,'avatar'])
Z([3,'weui-cell__bd'])
Z([3,'max-width:320rpx;'])
Z([[6],[[7],[3,'partner']],[3,'remark']])
Z([3,'display:flex;align-items:center;margin-bottom:4rpx;'])
Z([[2,'=='],[[6],[[7],[3,'partner']],[3,'uid']],[[6],[[7],[3,'group']],[3,'admin_uid']]])
Z([[6],[[7],[3,'partner']],[3,'apply']])
Z([[2,'!='],[[6],[[7],[3,'partner']],[3,'apply']],[1,'S']])
Z([3,'display:flex;margin-left:auto;'])
Z([[2,'!='],[[6],[[7],[3,'partner']],[3,'apply']],[[6],[[7],[3,'partner']],[3,'type']]])
Z([[6],[[6],[[7],[3,'partner']],[3,'user']],[3,'pxx_subscribed']])
Z([[6],[[7],[3,'partner']],[3,'phone']])
Z([3,'weui-tab__content'])
Z([[2,'!='],[[7],[3,'activeTab']],[1,'PARTNERS']])
Z(z[6])
Z(z[7])
Z([[7],[3,'confirmed']])
Z(z[6])
Z(z[10])
Z(z[11])
Z(z[12])
Z(z[13])
Z(z[14])
Z(z[15])
Z([3,'max-width:444rpx;'])
Z(z[17])
Z(z[18])
Z(z[19])
Z([[2,'=='],[[6],[[7],[3,'partner']],[3,'type']],[[6],[[7],[3,'partner']],[3,'apply']]])
Z(z[21])
Z(z[22])
Z(z[24])
Z(z[25])
Z([[6],[[7],[3,'notFollowList']],[3,'length']])
Z(z[26])
Z([[2,'!='],[[7],[3,'activeTab']],[1,'MEMBERS']])
Z([[7],[3,'memberList']])
Z([3,'child'])
Z([[2,'!='],[[6],[[7],[3,'members_remark']],[[2,'-'],[[6],[[7],[3,'item']],[3,'child']],[1,1]]],[1,null]])
Z([[6],[[7],[3,'notJoinList']],[3,'length']])
Z([[2,'==='],[[7],[3,'activeTab']],[1,'MEMBERS']])
Z(z[49])
Z([3,'onFollowModalHide'])
Z([3,'follow-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_9);return __WXML_GLOBAL__.ops_cached.$gwx_9
}
function gz$gwx_10(){
if( __WXML_GLOBAL__.ops_cached.$gwx_10)return __WXML_GLOBAL__.ops_cached.$gwx_10
__WXML_GLOBAL__.ops_cached.$gwx_10=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([[7],[3,'isShowGroupPick']])
Z([1,true])
Z([3,'changeGroup'])
Z([3,'onloadGroup'])
Z([3,'groupPicker'])
Z([[7],[3,'isShowForm']])
Z([3,'save'])
Z([3,'page__bd'])
Z(z[2])
Z([3,'padding-bottom:80rpx'])
Z([[2,'&&'],[[7],[3,'exam_id']],[[2,'!'],[[7],[3,'editing']]]])
Z([3,'weui-article fs16'])
Z([3,'background-color: white;'])
Z([[2,'&&'],[[7],[3,'user']],[[7],[3,'group']]])
Z([[2,'=='],[[6],[[7],[3,'exam']],[3,'criterion']],[1,5]])
Z([[2,'||'],[[2,'&&'],[[2,'!'],[[7],[3,'exam_id']]],[[2,'||'],[[7],[3,'isTeacher']],[[7],[3,'isAdmin']]]],[[7],[3,'editing']]])
Z([[2,'!'],[[6],[[7],[3,'exam']],[3,'is_total']]])
Z([3,'bindLessonChange'])
Z([[7],[3,'gid']])
Z([3,'lesson-selector'])
Z(z[2])
Z([3,'PUBLISH_EXAM'])
Z([[2,'||'],[[6],[[7],[3,'group']],[3,'type']],[1,0]])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'exam_id']],[[7],[3,'myExamResult']]],[[2,'!'],[[7],[3,'editing']]]])
Z([3,'exam-result'])
Z([3,'exam-result__title fs16'])
Z([[6],[[7],[3,'myExamResult']],[3,'remark']])
Z([3,'exam-result__title-rank'])
Z([[2,'||'],[[2,'=='],[[6],[[7],[3,'myExamResult']],[3,'score']],[1,null]],[[2,'==='],[[6],[[7],[3,'myExamResult']],[3,'score']],[1,'']]])
Z([[2,'=='],[[6],[[7],[3,'myExamResult']],[3,'score']],[[2,'-'],[1,1]]])
Z([[6],[[7],[3,'exam']],[3,'show_rank']])
Z([[6],[[7],[3,'myExamResult']],[3,'commented_at']])
Z([3,'exam-result__content'])
Z([[6],[[7],[3,'myExamResult']],[3,'commenter']])
Z([3,'exam-result__teacher'])
Z([[8],'avatar',[[6],[[6],[[7],[3,'myExamResult']],[3,'commenter']],[3,'avatar']]])
Z([3,'avatar'])
Z([[2,'!=='],[[6],[[6],[[6],[[7],[3,'myExamResult']],[3,'commenter']],[3,'partner']],[3,'type']],[1,'S']])
Z([3,'exam-result__main fs14'])
Z([[2,'&&'],[[6],[[7],[3,'myExamResult']],[3,'comment_images']],[[6],[[6],[[7],[3,'myExamResult']],[3,'comment_images']],[3,'length']]])
Z([3,'imgIdx'])
Z([3,'img'])
Z([[6],[[7],[3,'myExamResult']],[3,'comment_images']])
Z(z[41])
Z([3,'previewImage'])
Z([3,'exam-result__img'])
Z([[7],[3,'img']])
Z(z[43])
Z([[8],'path',[[7],[3,'img']]])
Z([3,'thumbnail'])
Z([[6],[[7],[3,'myExamResult']],[3,'comment_reply']])
Z([3,'deleteReply'])
Z([3,'exam-result__reply'])
Z([[8],'avatar',[[6],[[6],[[7],[3,'myExamResult']],[3,'reply_user']],[3,'avatar']]])
Z(z[37])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'fromReport']]],[[6],[[7],[3,'group']],[3,'partner']]],[[2,'!='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'T']]],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'child']],[[6],[[7],[3,'myExamResult']],[3,'child']]]],[[2,'&&'],[[7],[3,'exam_id']],[[2,'!'],[[7],[3,'editing']]]]])
Z([[2,'||'],[[2,'||'],[[2,'&&'],[[6],[[7],[3,'exam']],[3,'id']],[[2,'!'],[[6],[[7],[3,'exam']],[3,'hide_analysis']]]],[[7],[3,'isTeacher']]],[[7],[3,'isAdmin']]])
Z(z[11])
Z([[6],[[7],[3,'exam']],[3,'hide_analysis']])
Z(z[11])
Z([[6],[[7],[3,'chartData']],[3,'length']])
Z([[7],[3,'$F2Canvas$canvasId']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'fromReport']]],[[6],[[7],[3,'group']],[3,'partner']]],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'T']]],[[2,'&&'],[[7],[3,'exam_id']],[[2,'!'],[[7],[3,'editing']]]]])
Z([[2,'||'],[[2,'||'],[[7],[3,'isTeacher']],[[7],[3,'isAdmin']]],[[6],[[7],[3,'exam']],[3,'show_to_all']]])
Z([[2,'||'],[[2,'!'],[[7],[3,'exam_id']]],[[7],[3,'editing']]])
Z(z[65])
Z([3,'weui-cells weui-cells_after-title scores-list'])
Z([3,'text-align:center;'])
Z([3,'scores__row'])
Z([3,'color:#888;'])
Z([3,'paste'])
Z([3,'scores__row__item'])
Z([3,'flex: 3;display:inline-flex;flex-direction: column;'])
Z([[2,'&&'],[[2,'||'],[[7],[3,'isAdmin']],[[7],[3,'isTeacher']]],[[2,'||'],[[2,'!'],[[7],[3,'exam_id']]],[[7],[3,'editing']]]])
Z([3,'pasteRemark'])
Z(z[72])
Z(z[73])
Z(z[74])
Z(z[11])
Z([3,'idx'])
Z([3,'student'])
Z([[7],[3,'studentList']])
Z(z[80])
Z(z[11])
Z(z[82])
Z([3,'child'])
Z(z[25])
Z([[6],[[7],[3,'item']],[3,'remark']])
Z([[6],[[7],[3,'item']],[3,'commented_at']])
Z(z[33])
Z([[6],[[7],[3,'item']],[3,'commenter']])
Z(z[35])
Z([[8],'avatar',[[6],[[6],[[7],[3,'item']],[3,'commenter']],[3,'avatar']]])
Z(z[37])
Z([[2,'!=='],[[6],[[6],[[6],[[7],[3,'item']],[3,'commenter']],[3,'partner']],[3,'type']],[1,'S']])
Z(z[39])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'comment_images']],[[6],[[6],[[7],[3,'item']],[3,'comment_images']],[3,'length']]])
Z(z[41])
Z(z[42])
Z([[6],[[7],[3,'item']],[3,'comment_images']])
Z(z[41])
Z(z[45])
Z(z[46])
Z(z[47])
Z(z[100])
Z(z[49])
Z(z[50])
Z([[6],[[7],[3,'item']],[3,'comment_reply']])
Z([[8],'avatar',[[6],[[6],[[7],[3,'item']],[3,'reply_user']],[3,'avatar']]])
Z(z[37])
Z(z[65])
Z([a,[3,'weui-btn-area '],[[2,'?:'],[[7],[3,'exam_id']],[1,'btn_box'],[1,'']]])
Z([[7],[3,'exam_id']])
Z(z[113])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'exam_id']],[[2,'!'],[[7],[3,'editing']]]],[[2,'||'],[[7],[3,'isTeacher']],[[7],[3,'isAdmin']]]])
Z([[6],[[7],[3,'group']],[3,'gid']])
Z([[6],[[7],[3,'user']],[3,'avatar']])
Z([3,'vip-renewal-modal'])
Z(z[116])
})(__WXML_GLOBAL__.ops_cached.$gwx_10);return __WXML_GLOBAL__.ops_cached.$gwx_10
}
function gz$gwx_11(){
if( __WXML_GLOBAL__.ops_cached.$gwx_11)return __WXML_GLOBAL__.ops_cached.$gwx_11
__WXML_GLOBAL__.ops_cached.$gwx_11=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([3,'save'])
Z([3,'page__bd'])
Z([1,true])
Z([[2,'>'],[[6],[[7],[3,'images']],[3,'length']],[1,0]])
Z([3,'idx'])
Z([3,'image'])
Z([[7],[3,'images']])
Z(z[5])
Z([3,'choosed-image-list'])
Z([3,'previewMixedImage'])
Z([3,'choosed-image'])
Z([[7],[3,'image']])
Z(z[7])
Z([[6],[[7],[3,'image']],[3,'local']])
Z([[8],'fullpath',[[6],[[7],[3,'image']],[3,'path']]])
Z([3,'thumbnail'])
Z([[8],'path',[[6],[[7],[3,'image']],[3,'path']]])
Z(z[16])
Z(z[14])
Z([[6],[[7],[3,'examResult']],[3,'commented_at']])
})(__WXML_GLOBAL__.ops_cached.$gwx_11);return __WXML_GLOBAL__.ops_cached.$gwx_11
}
function gz$gwx_12(){
if( __WXML_GLOBAL__.ops_cached.$gwx_12)return __WXML_GLOBAL__.ops_cached.$gwx_12
__WXML_GLOBAL__.ops_cached.$gwx_12=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([[2,'>'],[[6],[[7],[3,'examList']],[3,'length']],[1,0]])
Z([3,'onExamSelect'])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'examList']])
Z([3,'id'])
Z([[2,'&&'],[[2,'!'],[[7],[3,'forReport']]],[[2,'!'],[[6],[[7],[3,'item']],[3,'criterionIn1to5']]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'loadingList']]],[[7],[3,'examList']]],[[6],[[7],[3,'examList']],[3,'length']]],[[2,'<='],[[7],[3,'pageTotal']],[[7],[3,'page']]]])
Z([[6],[[7],[3,'examList']],[3,'length']])
Z([3,'onSelectedAll'])
Z([3,'weui-cell weui-check__label footer__label'])
Z([[2,'!'],[[7],[3,'forReport']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_12);return __WXML_GLOBAL__.ops_cached.$gwx_12
}
function gz$gwx_13(){
if( __WXML_GLOBAL__.ops_cached.$gwx_13)return __WXML_GLOBAL__.ops_cached.$gwx_13
__WXML_GLOBAL__.ops_cached.$gwx_13=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'?:'],[[7],[3,'loadingMask']],[1,'loadingDisableEvent'],[1,'']])
Z([3,'page'])
Z([3,'weui-tab exam-list__tab'])
Z([3,'onPageScroll'])
Z([3,'weui-tab__panel exam-list__panel'])
Z([3,'true'])
Z([[2,'?:'],[[2,'=='],[[6],[[6],[[7],[3,'result']],[[7],[3,'activeIndex']]],[3,'current']],[1,1]],[1,0],[1,null]])
Z([[6],[[6],[[6],[[7],[3,'result']],[[7],[3,'activeIndex']]],[3,'list']],[3,'length']])
Z([3,'index'])
Z([3,'item'])
Z([[6],[[6],[[7],[3,'result']],[[7],[3,'activeIndex']]],[3,'list']])
Z([3,'id'])
Z([3,'toExam'])
Z([3,'weui-cell exam-list__item'])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([3,'weui-cell__bd'])
Z([3,'font-size: 32rpx'])
Z([[6],[[7],[3,'item']],[3,'is_total']])
Z([[2,'||'],[[2,'!'],[[6],[[7],[3,'item']],[3,'configs']]],[[2,'!'],[[6],[[6],[[7],[3,'item']],[3,'configs']],[3,'hide_rank']]]])
Z(z[18])
Z([[6],[[7],[3,'item']],[3,'draft']])
Z([[9],[[9],[[8],'content',[1,'暂无数据']],[[8],'icon',[1,'../images/nodata.svg']]],[[8],'size',[1,'100rpx']]])
Z([3,'nodata'])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'loadingList']]],[[6],[[6],[[7],[3,'result']],[[7],[3,'activeIndex']]],[3,'list']]],[[6],[[6],[[6],[[7],[3,'result']],[[7],[3,'activeIndex']]],[3,'list']],[3,'length']]],[[2,'<='],[[6],[[6],[[7],[3,'result']],[[7],[3,'activeIndex']]],[3,'total']],[[2,'*'],[[6],[[6],[[7],[3,'result']],[[7],[3,'activeIndex']]],[3,'current']],[[6],[[6],[[7],[3,'result']],[[7],[3,'activeIndex']]],[3,'pageSize']]]]])
Z([[2,'||'],[[7],[3,'isAdmin']],[[7],[3,'isTeacher']]])
Z([[7],[3,'$tipsmodal$visible']])
Z([3,'cmpt__base-modal__inner'])
Z([[2,'==='],[[7],[3,'$tipsmodal$showClose']],[1,'true']])
Z([3,'cmpt__base-modal__content'])
Z([3,'content'])
Z([[2,'==='],[[7],[3,'$tipsmodal$showLogo']],[1,'true']])
})(__WXML_GLOBAL__.ops_cached.$gwx_13);return __WXML_GLOBAL__.ops_cached.$gwx_13
}
function gz$gwx_14(){
if( __WXML_GLOBAL__.ops_cached.$gwx_14)return __WXML_GLOBAL__.ops_cached.$gwx_14
__WXML_GLOBAL__.ops_cached.$gwx_14=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([3,'height:100%;'])
Z([3,'swiperFinish'])
Z([3,'swiperChange'])
Z([[7],[3,'currentIdx']])
Z([[7],[3,'swiperDuration']])
Z([3,'true'])
Z([3,'width:100%;height:100%;'])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'fileList']])
Z([3,'key'])
Z([[2,'!'],[[6],[[7],[3,'item']],[3,'hidden']]])
Z([[2,'&&'],[[2,'<='],[[7],[3,'index']],[[2,'+'],[[7],[3,'currentIdx']],[1,2]]],[[2,'>='],[[7],[3,'index']],[[2,'-'],[[7],[3,'currentIdx']],[1,2]]]])
Z(z[6])
Z([[2,'||'],[[6],[[7],[3,'item']],[3,'top']],[1,0]])
Z(z[6])
Z([3,'overflow-y:auto;height:100%;'])
Z([[9],[[9],[[8],'avatar',[[6],[[6],[[7],[3,'item']],[3,'creator']],[3,'avatar']]],[[8],'vip',[[6],[[6],[[7],[3,'item']],[3,'creator']],[3,'isVipUser']]]],[[8],'cls',[1,'creator-avatar']]])
Z([3,'avatar'])
Z([[6],[[7],[3,'item']],[3,'imageUrl']])
Z([3,'imgClick'])
Z([3,'photo'])
Z([[2,'==='],[[6],[[7],[3,'item']],[3,'type']],[1,'video']])
Z([[9],[[8],'src',[[6],[[7],[3,'item']],[3,'imageUrl']]],[[8],'cls',[1,'cmn__image_bg-big']]])
Z([3,'video-cover'])
Z(z[23])
Z([3,'padding-bottom:160rpx;'])
Z([[6],[[6],[[7],[3,'item']],[3,'likes']],[3,'length']])
Z([3,'likeIndex'])
Z([3,'likeItem'])
Z([[6],[[7],[3,'item']],[3,'likes']])
Z(z[11])
Z([[9],[[9],[[8],'avatar',[[6],[[6],[[7],[3,'likeItem']],[3,'user']],[3,'avatar']]],[[8],'vip',[[6],[[7],[3,'likeItem']],[3,'isVipUser']]]],[[8],'cls',[1,'like-item-avatar']]])
Z(z[19])
Z([3,'weui-cell noBorder footer'])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'collection']],[[2,'||'],[[2,'==='],[[6],[[7],[3,'group']],[3,'admin_uid']],[[6],[[7],[3,'user']],[3,'uid']]],[[2,'=='],[[6],[[7],[3,'collection']],[3,'uid']],[[6],[[7],[3,'user']],[3,'uid']]]]],[[2,'&&'],[[2,'!='],[[6],[[7],[3,'collection']],[3,'cover']],[[6],[[7],[3,'currentItem']],[3,'path']]],[[2,'!='],[[6],[[7],[3,'collection']],[3,'cover']],[[2,'+'],[[6],[[7],[3,'currentItem']],[3,'path']],[1,'-cover']]]]])
Z([[2,'||'],[[2,'||'],[[2,'=='],[[6],[[6],[[7],[3,'currentItem']],[3,'creator']],[3,'uid']],[[6],[[7],[3,'user']],[3,'uid']]],[[2,'=='],[[6],[[7],[3,'collection']],[3,'uid']],[[6],[[7],[3,'user']],[3,'uid']]]],[[2,'==='],[[6],[[7],[3,'group']],[3,'admin_uid']],[[6],[[7],[3,'user']],[3,'uid']]]])
Z([3,'auth-modal'])
Z([[6],[[7],[3,'group']],[3,'gid']])
Z([[6],[[7],[3,'user']],[3,'avatar']])
Z([3,'vip-renewal-modal'])
Z(z[39])
})(__WXML_GLOBAL__.ops_cached.$gwx_14);return __WXML_GLOBAL__.ops_cached.$gwx_14
}
function gz$gwx_15(){
if( __WXML_GLOBAL__.ops_cached.$gwx_15)return __WXML_GLOBAL__.ops_cached.$gwx_15
__WXML_GLOBAL__.ops_cached.$gwx_15=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([3,'toPage'])
Z([3,'top-banner-navigator'])
Z([3,'PARTNERS'])
Z([[2,'&&'],[[7],[3,'isAdmin']],[[2,'>'],[[7],[3,'needConfirmedCount']],[1,0]]])
Z([3,'page__bd'])
Z([[6],[[7],[3,'announcementList']],[3,'length']])
Z([3,'homework'])
Z([3,'weui-cell__bd homework-item__content'])
Z([[2,'&&'],[[6],[[7],[3,'homework']],[3,'daily_homework_id']],[[6],[[7],[3,'homework']],[3,'index']]])
Z([[6],[[7],[3,'homework']],[3,'team']])
Z([3,'homework-list'])
Z([[6],[[7],[3,'list']],[3,'length']])
Z([3,'listItem'])
Z([[7],[3,'list']])
Z([3,'hid'])
Z([3,'show'])
Z([3,'homework-item cmn__cell'])
Z([[6],[[7],[3,'listItem']],[3,'hid']])
Z([[8],'homework',[[7],[3,'listItem']]])
Z(z[7])
Z([[2,'==='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'T']])
Z([[9],[[8],'list',[[7],[3,'homeworks']]],[[8],'placeholder',[1,'布置']]])
Z(z[11])
Z([[9],[[8],'list',[[2,'?:'],[[2,'=='],[[7],[3,'activeIndex']],[1,0]],[[7],[3,'notAnsweredList']],[[7],[3,'answeredList']]]],[[8],'placeholder',[[2,'?:'],[[2,'=='],[[7],[3,'activeIndex']],[1,0]],[1,'未完成'],[1,'已完成']]]])
Z(z[11])
Z([[2,'!'],[[7],[3,'isVipOrTeacher']]])
Z([3,'weui-grids'])
Z([3,'background-color:#fff;margin-top:16rpx;'])
Z([[7],[3,'isTeacher']])
Z(z[29])
Z([[2,'||'],[[7],[3,'isTeacher']],[[7],[3,'isAdmin']]])
Z([[7],[3,'isAdmin']])
Z([[7],[3,'myVip']])
Z([3,'toVipInfo'])
Z([3,'cmn__card weui-flex'])
Z([3,'justify-content:space-between;align-items:center;box-sizing:border-box;margin-top:16rpx;padding:30rpx;'])
Z([[9],[[8],'avatar',[[2,'||'],[[6],[[7],[3,'user']],[3,'avatar']],[1,'../images/vip.svg']]],[[8],'vip',[1,true]]])
Z([3,'avatar'])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'$advertisement$showAd']],[[7],[3,'$advertisement$adConfigs']]],[[6],[[7],[3,'$advertisement$adConfigs']],[[7],[3,'$advertisement$bannerKey']]]])
Z([[6],[[7],[3,'user']],[3,'avatar']])
Z([3,'vip-renewal-modal'])
Z([[7],[3,'gid']])
})(__WXML_GLOBAL__.ops_cached.$gwx_15);return __WXML_GLOBAL__.ops_cached.$gwx_15
}
function gz$gwx_16(){
if( __WXML_GLOBAL__.ops_cached.$gwx_16)return __WXML_GLOBAL__.ops_cached.$gwx_16
__WXML_GLOBAL__.ops_cached.$gwx_16=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_16);return __WXML_GLOBAL__.ops_cached.$gwx_16
}
function gz$gwx_17(){
if( __WXML_GLOBAL__.ops_cached.$gwx_17)return __WXML_GLOBAL__.ops_cached.$gwx_17
__WXML_GLOBAL__.ops_cached.$gwx_17=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'$followtips$user']],[3,'pxx_subscribed']]],[[7],[3,'$followtips$tipsText']]])
Z([3,'onFollowModalHide'])
Z([3,'follow-modal'])
Z([3,'page__bd'])
Z([3,'padding-bottom:80rpx'])
Z([3,'weui-article'])
Z([3,'background:#fff;'])
Z([3,'float:right'])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'user']],[[7],[3,'group']]],[[7],[3,'homework']]])
Z([[2,'||'],[[6],[[7],[3,'group']],[3,'partner']],[[7],[3,'isSystemAdmin']]])
Z([[7],[3,'showHomeworkFiles']])
Z([3,'checkBeforePreview'])
Z([3,'homework-media'])
Z([[7],[3,'homework']])
Z([3,'vid'])
Z([[6],[[7],[3,'homework']],[3,'tencent_videos']])
Z(z[15])
Z([[2,'&&'],[[6],[[7],[3,'homework']],[3,'tencent_videos']],[[6],[[6],[[7],[3,'homework']],[3,'tencent_videos']],[3,'length']]])
Z([3,'txv-video'])
Z([[7],[3,'vid']])
Z([3,'tencent_video'])
Z(z[20])
Z(z[20])
Z([[7],[3,'showDailyFiles']])
Z(z[12])
Z([3,'daily-media'])
Z([1,true])
Z([[6],[[7],[3,'homework']],[3,'homework_template']])
Z(z[15])
Z([[6],[[6],[[7],[3,'homework']],[3,'homework_template']],[3,'tencent_videos']])
Z(z[15])
Z([[2,'&&'],[[6],[[6],[[7],[3,'homework']],[3,'homework_template']],[3,'tencent_videos']],[[6],[[6],[[6],[[7],[3,'homework']],[3,'homework_template']],[3,'tencent_videos']],[3,'length']]])
Z(z[19])
Z(z[20])
Z(z[21])
Z(z[20])
Z(z[20])
Z([[2,'&&'],[[7],[3,'canRating']],[[6],[[7],[3,'homework']],[3,'question_set']]])
Z([3,'homework__info'])
Z([[6],[[7],[3,'homework']],[3,'rating_user']])
Z([3,'weui-article__title fs14'])
Z([[2,'=='],[[6],[[7],[3,'homework']],[3,'rating_criterion']],[1,0]])
Z([[2,'=='],[[6],[[7],[3,'homework']],[3,'rating_criterion']],[1,1]])
Z([[2,'=='],[[6],[[7],[3,'homework']],[3,'rating_criterion']],[1,2]])
Z([[2,'=='],[[6],[[7],[3,'homework']],[3,'rating_criterion']],[1,3]])
Z([[6],[[7],[3,'homework']],[3,'is_private']])
Z(z[46])
Z([3,'weui-article__title right-text fs14'])
Z([[6],[[7],[3,'homework']],[3,'team']])
Z([[2,'&&'],[[6],[[7],[3,'homework']],[3,'homework_template']],[[6],[[7],[3,'homework']],[3,'index']]])
Z([[2,'=='],[[6],[[7],[3,'homework']],[3,'confirm']],[1,1]])
Z([[2,'=='],[[6],[[7],[3,'homework']],[3,'confirm']],[1,2]])
Z([[2,'=='],[[6],[[7],[3,'homework']],[3,'confirm']],[1,3]])
Z([[2,'=='],[[6],[[7],[3,'homework']],[3,'confirm']],[1,4]])
Z([[6],[[7],[3,'homework']],[3,'homework_answer']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[6],[[7],[3,'group']],[3,'partner']],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'V']]],[[2,'&&'],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'apply']],[1,'P']],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'apply']],[1,'S']]]],[[2,'!'],[[7],[3,'isFinished']]]],[[2,'!='],[[7],[3,'submitDate']],[1,'已过期']]])
Z([3,'save'])
Z([[2,'!'],[[7],[3,'needSubmit']]])
Z(z[27])
Z([[6],[[7],[3,'homework']],[3,'question_set']])
Z([[7],[3,'video']])
Z([3,'deleteVideo'])
Z([3,'cmn__image_bg-big'])
Z([[6],[[7],[3,'video']],[3,'cdnPath']])
Z([3,'display:block;width:100%;height:225px;'])
Z([3,'upload-image-list'])
Z([3,'idx'])
Z([3,'image'])
Z([[7],[3,'images']])
Z([3,'key'])
Z([3,'previewMixedImage'])
Z([3,'choosed-image-list'])
Z([[7],[3,'image']])
Z(z[69])
Z([[2,'||'],[[6],[[7],[3,'image']],[3,'local']],[[6],[[7],[3,'image']],[3,'temp']]])
Z([[6],[[7],[3,'image']],[3,'temp']])
Z([[9],[[8],'path',[[6],[[7],[3,'image']],[3,'path']]],[[8],'cls',[1,'choosed-image']]])
Z([3,'thumbnail'])
Z([[9],[[8],'fullpath',[[6],[[7],[3,'image']],[3,'path']]],[[8],'cls',[1,'choosed-image']]])
Z(z[78])
Z([[8],'path',[[6],[[7],[3,'image']],[3,'path']]])
Z(z[78])
Z([3,'i'])
Z([3,'voice'])
Z([[7],[3,'voices']])
Z([3,'cdnPath'])
Z([3,'100%'])
Z([a,[3,'audio-player-'],[[6],[[7],[3,'voice']],[3,'cdnPath']]])
Z(z[88][2])
Z(z[87])
Z([[2,'<'],[[6],[[7],[3,'images']],[3,'length']],[1,9]])
Z([[2,'<'],[[6],[[7],[3,'voices']],[3,'length']],[1,9]])
Z([[2,'!'],[[7],[3,'video']]])
Z([3,'onHideAnswerChange'])
Z([[7],[3,'hideAnswer']])
Z([3,'comments'])
Z([[2,'&&'],[[2,'||'],[[7],[3,'canRating']],[[7],[3,'showAllAnswersIfNotTeacher']]],[[2,'||'],[[6],[[7],[3,'group']],[3,'partner']],[[7],[3,'isSystemAdmin']]]])
Z([3,'weui-cells weui-cells_after-title feedback'])
Z([[7],[3,'waitSubmitNames']])
Z([[7],[3,'excellenceName']])
Z([3,'feedback__main'])
Z([[7],[3,'canRating']])
Z(z[102])
Z(z[102])
Z(z[102])
Z([[6],[[7],[3,'myAnswerList']],[3,'length']])
Z([3,'myAnswerIdx'])
Z([3,'myAnswerAid'])
Z([[7],[3,'myAnswerList']])
Z(z[108])
Z([[6],[[7],[3,'answerMap']],[[7],[3,'myAnswerAid']]])
Z([[7],[3,'myAnswerAid']])
Z(z[111])
Z([3,'onAnswerDeleted'])
Z([3,'downloadVideo'])
Z([3,'onShowOptions'])
Z([3,'toSupplement'])
Z([3,'toRating'])
Z([[7],[3,'group']])
Z([[7],[3,'homeworkDetail']])
Z([a,[3,'answer-detail-'],z[112]])
Z([1,false])
Z([[2,'||'],[[2,'&&'],[[7],[3,'canRating']],[[6],[[7],[3,'homework']],[3,'question_set']]],[1,null]])
Z([3,'show'])
Z([3,'showAnswerContent'])
Z([[2,'=='],[[7],[3,'myAnswerAid']],[[7],[3,'currentRatingAid']]])
Z(z[27])
Z([[2,'&&'],[[7],[3,'canRating']],[[2,'!=='],[[7],[3,'myAnswerAid']],[[7],[3,'currentRatingAid']]]])
Z([[2,'!=='],[[7],[3,'myAnswerAid']],[[7],[3,'currentRatingAid']]])
Z([3,'showRatingContent'])
Z([3,'showRatingResult'])
Z([3,'showSupplementBtn'])
Z([[7],[3,'sortIndex']])
Z([[2,'?:'],[[2,'&&'],[[2,'==='],[[7],[3,'myAnswerAid']],[[7],[3,'currentRatingAid']]],[[6],[[7],[3,'supplements']],[[7],[3,'myAnswerAid']]]],[[6],[[7],[3,'supplements']],[[7],[3,'myAnswerAid']]],[[4],[[5]]]])
Z([[7],[3,'tempVideoKey']])
Z([[2,'==='],[[7],[3,'myAnswerAid']],[[7],[3,'currentRatingAid']]])
Z([[4],[[5],[[7],[3,'myAnswerAid']]]])
Z([3,'onExitRating'])
Z([3,'onRatingFormLoad'])
Z([3,'onSubmitted'])
Z([[6],[[6],[[7],[3,'answerMap']],[[7],[3,'myAnswerAid']]],[3,'rating_date']])
Z([[7],[3,'hid']])
Z([a,[3,'rating-form-'],z[112]])
Z(z[27])
Z([1,0])
Z([3,'display:block;margin: -19rpx 0 20rpx;'])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'canRating']]],[[2,'!'],[[7],[3,'showAllAnswersIfNotTeacher']]]],[[6],[[7],[3,'group']],[3,'partner']]])
Z([[2,'||'],[[2,'||'],[[7],[3,'canRating']],[[7],[3,'showAllAnswersIfNotTeacher']]],[[2,'!'],[[6],[[7],[3,'group']],[3,'partner']]]])
Z([[2,'&&'],[[6],[[7],[3,'otherAnswerList']],[3,'length']],[[2,'||'],[[2,'!'],[[2,'&&'],[[2,'&&'],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'S']],[[2,'!'],[[7],[3,'timeout']]]],[[2,'!'],[[7],[3,'canRating']]]]],[[2,'!'],[[6],[[7],[3,'group']],[3,'partner']]]]])
Z([[2,'||'],[[2,'||'],[[2,'!='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'S']],[[7],[3,'timeout']]],[[7],[3,'canRating']]])
Z([[2,'&&'],[[2,'&&'],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'S']],[[2,'!'],[[7],[3,'timeout']]]],[[2,'!'],[[7],[3,'canRating']]]])
Z([[6],[[7],[3,'otherAnswerList']],[3,'length']])
Z([3,'j'])
Z([3,'answerAid'])
Z([[7],[3,'otherAnswerList']])
Z(z[154])
Z([[2,'&&'],[[6],[[7],[3,'answerMap']],[[7],[3,'answerAid']]],[[2,'<'],[[7],[3,'j']],[[7],[3,'answerListSize']]]])
Z([[7],[3,'answerAid']])
Z([[6],[[7],[3,'answerMap']],[[7],[3,'answerAid']]])
Z(z[114])
Z(z[115])
Z(z[116])
Z(z[118])
Z(z[12])
Z(z[27])
Z(z[119])
Z(z[120])
Z([a,z[121][1],z[158]])
Z(z[122])
Z(z[123])
Z([[2,'||'],[[2,'||'],[[7],[3,'canRating']],[[2,'!'],[[6],[[6],[[7],[3,'answerMap']],[[7],[3,'answerAid']]],[3,'extras']]]],[[2,'!'],[[6],[[6],[[6],[[7],[3,'answerMap']],[[7],[3,'answerAid']]],[3,'extras']],[3,'hide_answer']]]])
Z([[2,'=='],[[7],[3,'answerAid']],[[7],[3,'currentRatingAid']]])
Z(z[27])
Z([[2,'&&'],[[7],[3,'canRating']],[[2,'!=='],[[7],[3,'answerAid']],[[7],[3,'currentRatingAid']]]])
Z([[2,'!=='],[[7],[3,'answerAid']],[[7],[3,'currentRatingAid']]])
Z([[2,'||'],[[2,'||'],[[2,'||'],[[7],[3,'isSystemAdmin']],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'T']]],[[2,'!'],[[2,'&&'],[[6],[[6],[[7],[3,'answerMap']],[[7],[3,'answerAid']]],[3,'extras']],[[6],[[6],[[6],[[7],[3,'answerMap']],[[7],[3,'answerAid']]],[3,'extras']],[3,'hide_rating']]]]],[[7],[3,'canRating']]])
Z([[2,'||'],[[2,'||'],[[7],[3,'isSystemAdmin']],[[7],[3,'canRating']]],[[2,'&&'],[[2,'||'],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'P']],[[2,'=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'S']]],[[2,'!'],[[2,'&&'],[[6],[[6],[[7],[3,'answerMap']],[[7],[3,'answerAid']]],[3,'extras']],[[6],[[6],[[6],[[7],[3,'answerMap']],[[7],[3,'answerAid']]],[3,'extras']],[3,'hide_rating']]]]]])
Z(z[133])
Z([[2,'?:'],[[2,'&&'],[[2,'==='],[[7],[3,'answerAid']],[[7],[3,'currentRatingAid']]],[[6],[[7],[3,'supplements']],[[7],[3,'answerAid']]]],[[6],[[7],[3,'supplements']],[[7],[3,'answerAid']]],[[4],[[5]]]])
Z(z[135])
Z([[2,'==='],[[7],[3,'answerAid']],[[7],[3,'currentRatingAid']]])
Z([[4],[[5],[[7],[3,'answerAid']]]])
Z(z[138])
Z(z[139])
Z(z[140])
Z([[6],[[6],[[7],[3,'answerMap']],[[7],[3,'answerAid']]],[3,'rating_date']])
Z(z[142])
Z([a,z[143][1],z[158]])
Z(z[27])
Z(z[145])
Z(z[146])
Z([[7],[3,'$canvasdrawer$showCanvas']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'showCustomAd']],[[7],[3,'adConfigs']]],[[6],[[7],[3,'adConfigs']],[3,'homework_custom_banner']]],[[6],[[6],[[7],[3,'adConfigs']],[3,'homework_custom_banner']],[3,'url']]])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'$advertisement1$showAd']],[[7],[3,'$advertisement1$adConfigs']]],[[6],[[7],[3,'$advertisement1$adConfigs']],[[7],[3,'$advertisement1$bannerKey']]]])
Z([3,'onRecorderStop'])
Z([3,'answer-recorder'])
Z([[7],[3,'$shareModal$showModalStatus']])
Z([[7],[3,'shareCardShowing']])
Z([[7],[3,'$remindmodal$visible']])
Z([3,'cmpt__base-modal__inner'])
Z([[2,'==='],[[7],[3,'$remindmodal$showClose']],[1,'true']])
Z([3,'cmpt__base-modal__content'])
Z([3,'content'])
Z([[2,'==='],[[7],[3,'$remindmodal$showLogo']],[1,'true']])
Z([3,'auth-modal'])
Z([[6],[[7],[3,'group']],[3,'gid']])
Z([[7],[3,'isExample']])
Z([[6],[[7],[3,'user']],[3,'avatar']])
Z([3,'vip-renewal-modal'])
Z(z[206])
})(__WXML_GLOBAL__.ops_cached.$gwx_17);return __WXML_GLOBAL__.ops_cached.$gwx_17
}
function gz$gwx_18(){
if( __WXML_GLOBAL__.ops_cached.$gwx_18)return __WXML_GLOBAL__.ops_cached.$gwx_18
__WXML_GLOBAL__.ops_cached.$gwx_18=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'user']])
Z([3,'page'])
Z([3,'page__bd'])
Z([3,'padding-bottom:80rpx'])
Z([[7],[3,'isShowReport']])
Z([3,'groupPicker'])
Z([[2,'!'],[[7],[3,'isShowReport']]])
Z([3,'float:right'])
Z([[2,'||'],[[2,'||'],[[2,'==='],[[6],[[7],[3,'user']],[3,'uid']],[[6],[[7],[3,'report']],[3,'uid']]],[[2,'==='],[[6],[[7],[3,'user']],[3,'uid']],[[6],[[7],[3,'group']],[3,'admin_uid']]]],[[2,'==='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'T']]])
Z([[7],[3,'report']])
Z(z[9])
Z([[6],[[7],[3,'lesson_completions']],[3,'length']])
Z([[7],[3,'$assignchart$canvasId']])
Z(z[11])
Z([[7],[3,'$answerchart$canvasId']])
Z([[7],[3,'completions']])
Z([3,'child'])
Z([[2,'&&'],[[6],[[7],[3,'group']],[3,'members_remark']],[[2,'!='],[[6],[[6],[[7],[3,'group']],[3,'members_remark']],[[2,'-'],[[6],[[6],[[6],[[7],[3,'item']],[3,'value']],[[7],[3,'lessonName']]],[3,'child']],[1,1]]],[1,null]]])
Z(z[6])
Z([[9],[[9],[[8],'content',[1,'尚无本月统计， 请联系老师或管理员生成']],[[8],'icon',[1,'../images/nodata.svg']]],[[8],'size',[1,'80rpx']]])
Z([3,'nodata'])
Z([[6],[[7],[3,'group']],[3,'gid']])
Z([[6],[[7],[3,'user']],[3,'avatar']])
Z([3,'vip-renewal-modal'])
Z(z[21])
})(__WXML_GLOBAL__.ops_cached.$gwx_18);return __WXML_GLOBAL__.ops_cached.$gwx_18
}
function gz$gwx_19(){
if( __WXML_GLOBAL__.ops_cached.$gwx_19)return __WXML_GLOBAL__.ops_cached.$gwx_19
__WXML_GLOBAL__.ops_cached.$gwx_19=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'userInfo']])
Z([3,'page'])
Z([[2,'&&'],[[7],[3,'groups']],[[2,'>'],[[6],[[7],[3,'groups']],[3,'length']],[1,0]]])
Z([3,'gid'])
Z([3,'group'])
Z([[7],[3,'groups']])
Z(z[3])
Z([3,'viewGroup'])
Z([3,'cmn__cell bg'])
Z([[6],[[7],[3,'group']],[3,'gid']])
Z([[2,'=='],[[6],[[7],[3,'group']],[3,'appid']],[1,'wxc786a94580bff949']])
Z([[2,'&&'],[[7],[3,'enrollList']],[[2,'>'],[[6],[[7],[3,'enrollList']],[3,'length']],[1,0]]])
Z([3,'weui-flex cmn__cells'])
Z([3,'justify-content: space-evenly;'])
Z([[2,'>'],[[6],[[7],[3,'graduatedGroups']],[3,'length']],[1,0]])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'graduatedGroups']],[3,'length']]],[[2,'!'],[[6],[[7],[3,'groups']],[3,'length']]]])
Z([[7],[3,'$tipsmodal$visible']])
Z([3,'cmpt__base-modal__inner'])
Z([[2,'==='],[[7],[3,'$tipsmodal$showClose']],[1,'true']])
Z([3,'cmpt__base-modal__content'])
Z([3,'content'])
Z([[2,'==='],[[7],[3,'$tipsmodal$showLogo']],[1,'true']])
})(__WXML_GLOBAL__.ops_cached.$gwx_19);return __WXML_GLOBAL__.ops_cached.$gwx_19
}
function gz$gwx_20(){
if( __WXML_GLOBAL__.ops_cached.$gwx_20)return __WXML_GLOBAL__.ops_cached.$gwx_20
__WXML_GLOBAL__.ops_cached.$gwx_20=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([3,'page_bd'])
Z([3,'padding-bottom:80rpx;'])
Z([[7],[3,'isBatch']])
Z([3,'weui-cells__title'])
Z([3,'margin-top:0'])
Z(z[3])
Z([[2,'!'],[[7],[3,'isBatch']]])
Z([3,'lesson-plan'])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'days']])
Z([3,'key'])
Z([[2,'?:'],[[2,'||'],[[7],[3,'canEdit']],[[7],[3,'showWeekend']]],[[2,'!='],[[7],[3,'index']],[1,0]],[[2,'&&'],[[2,'&&'],[[2,'!='],[[7],[3,'index']],[1,0]],[[2,'!='],[[7],[3,'index']],[1,6]]],[[2,'!='],[[7],[3,'index']],[1,7]]]])
Z([1,true])
Z(z[9])
Z(z[10])
Z([[6],[[7],[3,'plans']],[1,0]])
Z(z[12])
Z([3,'dayIdx'])
Z(z[10])
Z(z[11])
Z(z[12])
Z([[2,'=='],[[7],[3,'dayIdx']],[1,0]])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'isBatch']]],[[2,'!='],[[7],[3,'dayIdx']],[1,0]]],[[2,'?:'],[[2,'||'],[[7],[3,'canEdit']],[[7],[3,'showWeekend']]],[1,true],[[2,'&&'],[[2,'!='],[[7],[3,'dayIdx']],[1,6]],[[2,'!='],[[7],[3,'dayIdx']],[1,7]]]]])
Z([3,'showEditOrDetailModal'])
Z([3,'lesson__cell'])
Z([[2,'||'],[[6],[[6],[[7],[3,'plans']],[[7],[3,'dayIdx']]],[[7],[3,'index']]],[1,'']])
Z([[7],[3,'dayIdx']])
Z([[7],[3,'index']])
Z([[6],[[6],[[7],[3,'plans']],[[7],[3,'dayIdx']]],[[7],[3,'index']]])
Z([[2,'&&'],[[2,'!'],[[6],[[6],[[7],[3,'plans']],[[7],[3,'dayIdx']]],[[7],[3,'index']]]],[[7],[3,'canEdit']]])
Z([[2,'&&'],[[7],[3,'isBatch']],[[2,'!='],[[7],[3,'dayIdx']],[1,0]]])
Z([3,'bindLessonPlansChange'])
Z(z[26])
Z(z[28])
Z(z[29])
Z(z[30])
Z([[2,'!'],[[6],[[6],[[7],[3,'plans']],[[7],[3,'dayIdx']]],[[7],[3,'index']]]])
Z([[9],[[9],[[8],'content',[1,'暂无课程安排']],[[8],'icon',[1,'../images/nomore.svg']]],[[8],'size',[1,'100rpx']]])
Z([3,'nomore'])
Z([3,'weui-cell_bd'])
Z([3,'display:flex;justify-content:center;padding:0;border-style:none;'])
Z([[7],[3,'canEdit']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isBatch']]],[[7],[3,'canEdit']]])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'isBatch']]],[[7],[3,'group']]],[[7],[3,'user']]])
Z(z[3])
Z(z[7])
Z(z[7])
Z([3,'weui-cells'])
Z([3,'margin-top: 0'])
Z(z[9])
Z(z[10])
Z([[7],[3,'lessonList']])
Z(z[12])
Z([3,'weui-cell'])
Z([[6],[[7],[3,'item']],[3,'remark']])
Z(z[43])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isBatch']]],[[2,'=='],[[6],[[7],[3,'lessonList']],[3,'length']],[1,0]]])
Z([[9],[[9],[[8],'content',[1,'暂无课程']],[[8],'icon',[1,'../images/svgs/sad.svg']]],[[8],'size',[1,'54rpx']]])
Z(z[40])
Z(z[43])
Z([3,'save'])
Z([[2,'!'],[[7],[3,'showEditModal']]])
Z([[7],[3,'$editmodal$visible']])
Z([3,'cmpt__base-modal__inner'])
Z([[2,'==='],[[7],[3,'$editmodal$showClose']],[1,'true']])
Z([3,'cmpt__base-modal__content'])
Z([3,'content'])
Z([[2,'==='],[[7],[3,'$editmodal$showLogo']],[1,'true']])
Z([[6],[[7],[3,'group']],[3,'gid']])
Z([[6],[[7],[3,'user']],[3,'avatar']])
Z([3,'vip-renewal-modal'])
Z(z[70])
})(__WXML_GLOBAL__.ops_cached.$gwx_20);return __WXML_GLOBAL__.ops_cached.$gwx_20
}
function gz$gwx_21(){
if( __WXML_GLOBAL__.ops_cached.$gwx_21)return __WXML_GLOBAL__.ops_cached.$gwx_21
__WXML_GLOBAL__.ops_cached.$gwx_21=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page_bd'])
Z([3,'index'])
Z([3,'partner'])
Z([[7],[3,'checked']])
Z(z[1])
Z([3,'weui-cell'])
Z([3,'weui-cell__hd'])
Z([[9],[[8],'avatar',[[6],[[6],[[7],[3,'partner']],[3,'user']],[3,'avatar']]],[[8],'vip',[[6],[[7],[3,'partner']],[3,'isVip']]]])
Z([3,'avatar'])
Z([[2,'=='],[[6],[[7],[3,'partner']],[3,'type']],[[6],[[7],[3,'partner']],[3,'apply']]])
Z([[2,'=='],[[6],[[7],[3,'partner']],[3,'type']],[1,'T']])
Z([[2,'=='],[[6],[[7],[3,'partner']],[3,'type']],[1,'P']])
Z([[2,'=='],[[6],[[7],[3,'partner']],[3,'type']],[1,'S']])
Z([[2,'=='],[[6],[[7],[3,'partner']],[3,'type']],[1,'V']])
Z([[2,'>'],[[6],[[7],[3,'notChecked']],[3,'length']],[1,0]])
Z(z[1])
Z(z[2])
Z([[7],[3,'notChecked']])
Z(z[1])
Z(z[14])
Z(z[5])
Z(z[6])
Z(z[7])
Z(z[8])
Z(z[9])
Z(z[10])
Z(z[11])
Z(z[12])
Z(z[13])
})(__WXML_GLOBAL__.ops_cached.$gwx_21);return __WXML_GLOBAL__.ops_cached.$gwx_21
}
function gz$gwx_22(){
if( __WXML_GLOBAL__.ops_cached.$gwx_22)return __WXML_GLOBAL__.ops_cached.$gwx_22
__WXML_GLOBAL__.ops_cached.$gwx_22=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_22);return __WXML_GLOBAL__.ops_cached.$gwx_22
}
function gz$gwx_23(){
if( __WXML_GLOBAL__.ops_cached.$gwx_23)return __WXML_GLOBAL__.ops_cached.$gwx_23
__WXML_GLOBAL__.ops_cached.$gwx_23=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([3,'template-list'])
Z([[7],[3,'templates']])
Z([3,'content'])
Z([3,'copyToRemark'])
Z([3,'template-list__item'])
Z([[6],[[7],[3,'item']],[3,'content']])
Z([[7],[3,'isEditing']])
Z([[2,'<'],[[6],[[7],[3,'templates']],[3,'length']],[1,10]])
Z([[7],[3,'showEditModal']])
Z([3,'saveTemplate'])
Z([[7],[3,'$editmodal$visible']])
Z([3,'cmpt__base-modal__inner'])
Z([[2,'==='],[[7],[3,'$editmodal$showClose']],[1,'true']])
Z([3,'cmpt__base-modal__content'])
Z(z[3])
Z([[2,'==='],[[7],[3,'$editmodal$showLogo']],[1,'true']])
})(__WXML_GLOBAL__.ops_cached.$gwx_23);return __WXML_GLOBAL__.ops_cached.$gwx_23
}
function gz$gwx_24(){
if( __WXML_GLOBAL__.ops_cached.$gwx_24)return __WXML_GLOBAL__.ops_cached.$gwx_24
__WXML_GLOBAL__.ops_cached.$gwx_24=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'&&'],[[7],[3,'$advertisement$showAd']],[[7],[3,'$advertisement$adConfigs']]],[[6],[[7],[3,'$advertisement$adConfigs']],[[7],[3,'$advertisement$bannerKey']]]])
Z([[7],[3,'showCustomAd']])
})(__WXML_GLOBAL__.ops_cached.$gwx_24);return __WXML_GLOBAL__.ops_cached.$gwx_24
}
function gz$gwx_25(){
if( __WXML_GLOBAL__.ops_cached.$gwx_25)return __WXML_GLOBAL__.ops_cached.$gwx_25
__WXML_GLOBAL__.ops_cached.$gwx_25=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'session']],[[7],[3,'filePrefix']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_25);return __WXML_GLOBAL__.ops_cached.$gwx_25
}
function gz$gwx_26(){
if( __WXML_GLOBAL__.ops_cached.$gwx_26)return __WXML_GLOBAL__.ops_cached.$gwx_26
__WXML_GLOBAL__.ops_cached.$gwx_26=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'auth-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_26);return __WXML_GLOBAL__.ops_cached.$gwx_26
}
function gz$gwx_27(){
if( __WXML_GLOBAL__.ops_cached.$gwx_27)return __WXML_GLOBAL__.ops_cached.$gwx_27
__WXML_GLOBAL__.ops_cached.$gwx_27=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([[9],[[9],[[8],'avatar',[[6],[[7],[3,'user']],[3,'avatar']]],[[8],'vip',[[7],[3,'myVip']]]],[[8],'cls',[1,'user-info__avatar']]])
Z([3,'avatar'])
Z([[2,'!=='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[1,'T']])
Z([3,'goods'])
Z([[7],[3,'myVip']])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'goods']])
Z([3,'key'])
Z([3,'onGoodsChange'])
Z([3,'goods-list__item'])
Z([[7],[3,'index']])
Z([a,[3,'background-color:'],[[2,'?:'],[[6],[[7],[3,'item']],[3,'checked']],[1,'rgba(249, 231, 200, 1);'],[1,'']]])
Z([[2,'||'],[[2,'==='],[[6],[[7],[3,'item']],[3,'citation']],[1,'VIP_12M']],[[2,'==='],[[6],[[7],[3,'item']],[3,'citation']],[1,'VIP_RENEWAL_12M']]])
Z([3,'goods-list__item__checkbox'])
Z([[2,'!'],[[6],[[7],[3,'item']],[3,'checked']]])
Z([[6],[[7],[3,'item']],[3,'checked']])
Z([[7],[3,'trialGoods']])
})(__WXML_GLOBAL__.ops_cached.$gwx_27);return __WXML_GLOBAL__.ops_cached.$gwx_27
}
function gz$gwx_28(){
if( __WXML_GLOBAL__.ops_cached.$gwx_28)return __WXML_GLOBAL__.ops_cached.$gwx_28
__WXML_GLOBAL__.ops_cached.$gwx_28=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'content'])
Z([[2,'!'],[[6],[[7],[3,'user']],[3,'pxx_subscribed']]])
Z([[7],[3,'myVip']])
Z([3,'onFollowModalHide'])
Z([3,'follow-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_28);return __WXML_GLOBAL__.ops_cached.$gwx_28
}
function gz$gwx_29(){
if( __WXML_GLOBAL__.ops_cached.$gwx_29)return __WXML_GLOBAL__.ops_cached.$gwx_29
__WXML_GLOBAL__.ops_cached.$gwx_29=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'page'])
Z([3,'page__bd'])
Z([[2,'||'],[[6],[[6],[[7],[3,'list']],[1,0]],[3,'length']],[[6],[[6],[[7],[3,'list']],[1,1]],[3,'length']]])
Z([[2,'&&'],[[6],[[7],[3,'list']],[1,0]],[[6],[[6],[[7],[3,'list']],[1,0]],[3,'length']]])
Z([3,'item'])
Z([[6],[[7],[3,'list']],[1,0]])
Z([3,'id'])
Z([3,'toWishListDetail'])
Z([3,'wish-item'])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([[6],[[6],[[7],[3,'item']],[3,'wish_list_zyb_group_map']],[3,'creator']])
Z([[2,'&&'],[[6],[[7],[3,'list']],[1,1]],[[6],[[6],[[7],[3,'list']],[1,1]],[3,'length']]])
Z([3,'wish-lists'])
Z([[2,'!'],[[6],[[6],[[7],[3,'list']],[1,0]],[3,'length']]])
Z(z[4])
Z([[6],[[7],[3,'list']],[1,1]])
Z(z[6])
Z(z[7])
Z(z[8])
Z(z[9])
Z(z[10])
Z([[9],[[9],[[8],'content',[1,'暂无购物单']],[[8],'icon',[1,'../images/nodata.svg']]],[[8],'size',[1,'80rpx']]])
Z([3,'nodata'])
})(__WXML_GLOBAL__.ops_cached.$gwx_29);return __WXML_GLOBAL__.ops_cached.$gwx_29
}
function gz$gwx_30(){
if( __WXML_GLOBAL__.ops_cached.$gwx_30)return __WXML_GLOBAL__.ops_cached.$gwx_30
__WXML_GLOBAL__.ops_cached.$gwx_30=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'avatar'])
Z([[7],[3,'vip']])
})(__WXML_GLOBAL__.ops_cached.$gwx_30);return __WXML_GLOBAL__.ops_cached.$gwx_30
}
function gz$gwx_31(){
if( __WXML_GLOBAL__.ops_cached.$gwx_31)return __WXML_GLOBAL__.ops_cached.$gwx_31
__WXML_GLOBAL__.ops_cached.$gwx_31=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'audio-player'])
})(__WXML_GLOBAL__.ops_cached.$gwx_31);return __WXML_GLOBAL__.ops_cached.$gwx_31
}
function gz$gwx_32(){
if( __WXML_GLOBAL__.ops_cached.$gwx_32)return __WXML_GLOBAL__.ops_cached.$gwx_32
__WXML_GLOBAL__.ops_cached.$gwx_32=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'video-cover'])
})(__WXML_GLOBAL__.ops_cached.$gwx_32);return __WXML_GLOBAL__.ops_cached.$gwx_32
}
function gz$gwx_33(){
if( __WXML_GLOBAL__.ops_cached.$gwx_33)return __WXML_GLOBAL__.ops_cached.$gwx_33
__WXML_GLOBAL__.ops_cached.$gwx_33=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'voice-player'])
})(__WXML_GLOBAL__.ops_cached.$gwx_33);return __WXML_GLOBAL__.ops_cached.$gwx_33
}
function gz$gwx_34(){
if( __WXML_GLOBAL__.ops_cached.$gwx_34)return __WXML_GLOBAL__.ops_cached.$gwx_34
__WXML_GLOBAL__.ops_cached.$gwx_34=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'stars'])
})(__WXML_GLOBAL__.ops_cached.$gwx_34);return __WXML_GLOBAL__.ops_cached.$gwx_34
}
function gz$gwx_35(){
if( __WXML_GLOBAL__.ops_cached.$gwx_35)return __WXML_GLOBAL__.ops_cached.$gwx_35
__WXML_GLOBAL__.ops_cached.$gwx_35=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'nodata'])
Z([3,'nomore'])
})(__WXML_GLOBAL__.ops_cached.$gwx_35);return __WXML_GLOBAL__.ops_cached.$gwx_35
}
function gz$gwx_36(){
if( __WXML_GLOBAL__.ops_cached.$gwx_36)return __WXML_GLOBAL__.ops_cached.$gwx_36
__WXML_GLOBAL__.ops_cached.$gwx_36=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'cover'])
Z([[7],[3,'isVideo']])
})(__WXML_GLOBAL__.ops_cached.$gwx_36);return __WXML_GLOBAL__.ops_cached.$gwx_36
}
function gz$gwx_37(){
if( __WXML_GLOBAL__.ops_cached.$gwx_37)return __WXML_GLOBAL__.ops_cached.$gwx_37
__WXML_GLOBAL__.ops_cached.$gwx_37=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'thumbnail'])
})(__WXML_GLOBAL__.ops_cached.$gwx_37);return __WXML_GLOBAL__.ops_cached.$gwx_37
}
function gz$gwx_38(){
if( __WXML_GLOBAL__.ops_cached.$gwx_38)return __WXML_GLOBAL__.ops_cached.$gwx_38
__WXML_GLOBAL__.ops_cached.$gwx_38=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'vip'])
})(__WXML_GLOBAL__.ops_cached.$gwx_38);return __WXML_GLOBAL__.ops_cached.$gwx_38
}
function gz$gwx_39(){
if( __WXML_GLOBAL__.ops_cached.$gwx_39)return __WXML_GLOBAL__.ops_cached.$gwx_39
__WXML_GLOBAL__.ops_cached.$gwx_39=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'comments-item'])
Z([[2,'&&'],[[6],[[7],[3,'answer']],[3,'extras']],[[6],[[6],[[7],[3,'answer']],[3,'extras']],[3,'is_excellent']]])
Z([3,'comment-info-wrapper'])
Z([3,'comment-info'])
Z([3,'comment__user-info'])
Z([[9],[[8],'avatar',[[7],[3,'userAvatar']]],[[8],'vip',[[7],[3,'isVipUser']]]])
Z([3,'avatar'])
Z([[2,'||'],[[6],[[7],[3,'answer']],[3,'child']],[[7],[3,'isSupplement']]])
Z([3,'comment-child fs16'])
Z([[6],[[7],[3,'answer']],[3,'child']])
Z([[7],[3,'isSupplement']])
Z([3,'comment__partner fs14'])
Z([[2,'!='],[[6],[[6],[[7],[3,'answer']],[3,'partner']],[3,'type']],[1,'S']])
Z([[6],[[6],[[7],[3,'answer']],[3,'user']],[3,'nickname']])
Z([[7],[3,'showAnswerContent']])
Z([[2,'||'],[[2,'||'],[[2,'||'],[[6],[[7],[3,'answerVoices']],[3,'length']],[[6],[[7],[3,'answerImages']],[3,'length']]],[[2,'&&'],[[7],[3,'answerVideo']],[[6],[[7],[3,'answerVideo']],[3,'url']]]],[[6],[[7],[3,'answer']],[3,'question_answer']]])
Z([3,'answer__media'])
Z([3,'item'])
Z([[7],[3,'answerVoices']])
Z(z[17])
Z([[2,'&&'],[[2,'==='],[[7],[3,'audioUrl']],[[7],[3,'item']]],[[2,'!'],[[7],[3,'audioLoading']]]])
Z([3,'answer__media-item'])
Z([3,'130rpx'])
Z([a,[3,'audio-player-'],[[7],[3,'item']]])
Z([3,'display: block;width:auto;'])
Z(z[23][2])
Z([3,'100%'])
Z([[9],[[9],[[8],'url',[[7],[3,'item']]],[[8],'playing',[1,false]]],[[8],'loading',[[2,'&&'],[[2,'==='],[[7],[3,'audioUrl']],[[7],[3,'item']]],[[7],[3,'audioLoading']]]]])
Z([3,'audio-player'])
Z([3,'playVoiceUrl'])
Z(z[21])
Z(z[23][2])
Z([3,'border: solid 0.5px #e7e7e7;'])
Z(z[27])
Z(z[28])
Z([3,'i'])
Z([3,'image'])
Z([[7],[3,'answerImages']])
Z(z[36])
Z([[7],[3,'showImageEditBtn']])
Z([3,'showImageOption'])
Z([3,'previewImage'])
Z([3,'answer__media-item cmn__image_bg-big'])
Z([[6],[[7],[3,'answer']],[3,'files']])
Z([[6],[[6],[[7],[3,'answer']],[3,'files']],[[7],[3,'i']]])
Z([[8],'cover',[[7],[3,'image']]])
Z([3,'cover'])
Z(z[39])
Z(z[41])
Z(z[42])
Z(z[43])
Z(z[44])
Z(z[45])
Z(z[46])
Z([[6],[[7],[3,'answerVideo']],[3,'url']])
Z([3,'playVideo'])
Z(z[42])
Z(z[54])
Z([[9],[[8],'cover',[[2,'?:'],[[2,'==='],[[6],[[7],[3,'answerVideo']],[3,'raw']],[[7],[3,'tempVideoKey']]],[1,''],[[6],[[7],[3,'answerVideo']],[3,'cover']]]],[[8],'isVideo',[1,true]]])
Z(z[46])
Z([[6],[[7],[3,'answer']],[3,'question_answer']])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'answer']],[3,'extras']],[[6],[[6],[[7],[3,'answer']],[3,'extras']],[3,'hide_answer']]],[[7],[3,'showAnswerContent']]])
Z([[2,'&&'],[[7],[3,'showAnswerContent']],[[6],[[7],[3,'supplementList']],[3,'length']]])
Z([3,'supplementIdx'])
Z([3,'supplement'])
Z([[7],[3,'supplementList']])
Z([3,'id'])
Z(z[3])
Z(z[4])
Z([[9],[[8],'avatar',[[6],[[7],[3,'supplement']],[3,'userAvatar']]],[[8],'vip',[[6],[[7],[3,'supplement']],[3,'isVipUser']]]])
Z(z[6])
Z([[6],[[7],[3,'supplement']],[3,'child']])
Z(z[71])
Z([3,'comment__partner'])
Z([[2,'!='],[[6],[[6],[[7],[3,'supplement']],[3,'partner']],[3,'type']],[1,'S']])
Z([[6],[[6],[[7],[3,'supplement']],[3,'user']],[3,'nickname']])
Z([[2,'||'],[[2,'||'],[[6],[[6],[[7],[3,'supplement']],[3,'voiceUrls']],[3,'length']],[[6],[[6],[[7],[3,'supplement']],[3,'imageUrls']],[3,'length']]],[[2,'&&'],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[[6],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[3,'url']]]])
Z(z[16])
Z(z[17])
Z([[6],[[7],[3,'supplement']],[3,'voiceUrls']])
Z(z[17])
Z(z[20])
Z(z[21])
Z(z[22])
Z([a,z[23][1],z[23][2]])
Z(z[24])
Z(z[23][2])
Z(z[26])
Z(z[27])
Z(z[28])
Z(z[29])
Z(z[21])
Z(z[23][2])
Z(z[32])
Z(z[27])
Z(z[28])
Z(z[35])
Z(z[36])
Z([[6],[[7],[3,'supplement']],[3,'imageUrls']])
Z(z[36])
Z(z[39])
Z(z[40])
Z(z[41])
Z(z[42])
Z([[6],[[7],[3,'supplement']],[3,'files']])
Z([[6],[[6],[[7],[3,'supplement']],[3,'files']],[[7],[3,'i']]])
Z(z[45])
Z(z[46])
Z(z[39])
Z(z[41])
Z(z[42])
Z(z[104])
Z(z[105])
Z(z[45])
Z(z[46])
Z([[6],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[3,'url']])
Z(z[55])
Z(z[42])
Z(z[115])
Z([[9],[[8],'cover',[[2,'?:'],[[2,'==='],[[6],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[3,'raw']],[[7],[3,'tempVideoKey']]],[1,''],[[6],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[3,'cover']]]],[[8],'isVideo',[1,true]]])
Z(z[46])
Z([[2,'&&'],[[7],[3,'showRating']],[[6],[[7],[3,'answer']],[3,'rating_date']]])
Z([3,'rating fs16'])
Z([[2,'&&'],[[6],[[7],[3,'answer']],[3,'extras']],[[6],[[6],[[7],[3,'answer']],[3,'extras']],[3,'hide_rating']]])
Z([[8],'avatar',[[2,'?:'],[[6],[[7],[3,'answer']],[3,'rating_user']],[[6],[[6],[[7],[3,'answer']],[3,'rating_user']],[3,'avatar']],[[6],[[6],[[7],[3,'homework']],[3,'publisher']],[3,'avatar']]]])
Z(z[6])
Z([[7],[3,'showRatingContent']])
Z([[6],[[7],[3,'answer']],[3,'rating_remark']])
Z([[2,'||'],[[7],[3,'ratingVoice']],[[6],[[6],[[7],[3,'answer']],[3,'rating_images']],[3,'length']]])
Z(z[16])
Z([3,'margin-top:30rpx;'])
Z([[7],[3,'ratingVoice']])
Z(z[21])
Z(z[22])
Z([a,z[23][1],z[131]])
Z([[2,'?:'],[[2,'&&'],[[2,'==='],[[7],[3,'audioUrl']],[[7],[3,'ratingVoice']]],[[2,'!'],[[7],[3,'audioLoading']]]],[1,'display: block;width:auto;'],[1,'border: solid 0.5px #e7e7e7;']])
Z(z[131])
Z(z[26])
Z([[9],[[9],[[8],'url',[[7],[3,'ratingVoice']]],[[8],'playing',[1,false]]],[[8],'loading',[[2,'&&'],[[2,'==='],[[7],[3,'audioUrl']],[[7],[3,'ratingVoice']]],[[7],[3,'audioLoading']]]]])
Z(z[28])
Z([3,'ratingImgIdx'])
Z([3,'ratingImage'])
Z([[7],[3,'ratingImages']])
Z(z[141])
Z(z[41])
Z(z[42])
Z([1,true])
Z([[6],[[7],[3,'answer']],[3,'rating_images']])
Z([[6],[[6],[[7],[3,'answer']],[3,'rating_images']],[[7],[3,'ratingImgIdx']]])
Z([[8],'cover',[[7],[3,'ratingImage']]])
Z(z[46])
Z([[2,'&&'],[[7],[3,'showAnswerContent']],[[2,'||'],[[2,'||'],[[2,'||'],[[2,'||'],[[2,'&&'],[[2,'>'],[[6],[[7],[3,'answer']],[3,'supplement_count']],[1,0]],[[2,'!'],[[6],[[7],[3,'supplementList']],[3,'length']]]],[[7],[3,'showHomeworkBtn']]],[[7],[3,'showRateBtn']]],[[7],[3,'showSupplementBtn']]],[[7],[3,'showOptionBtn']]]])
Z([3,'answer-detail__btn-group'])
Z([3,'text-align: right;'])
Z([[2,'&&'],[[2,'&&'],[[2,'>'],[[6],[[7],[3,'answer']],[3,'supplement_count']],[1,0]],[[2,'!'],[[6],[[7],[3,'supplementList']],[3,'length']]]],[[2,'!'],[[7],[3,'isDetailPage']]]])
Z([[7],[3,'showHomeworkBtn']])
Z([[7],[3,'showRateBtn']])
Z([[2,'||'],[[7],[3,'showSupplementBtn']],[[2,'==='],[[6],[[7],[3,'answer']],[3,'uid']],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'uid']]]])
Z([[7],[3,'showOptionBtn']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'showAnswerContent']]],[[2,'||'],[[2,'||'],[[7],[3,'showRateBtn']],[[7],[3,'showSupplementBtn']]],[[7],[3,'showOptionBtn']]]])
Z(z[152])
Z(z[153])
Z(z[156])
Z([[7],[3,'showSupplementBtn']])
Z(z[158])
Z([[7],[3,'authModalId']])
Z([a,[3,'auth-modal-answer-detail-'],z[165]])
})(__WXML_GLOBAL__.ops_cached.$gwx_39);return __WXML_GLOBAL__.ops_cached.$gwx_39
}
function gz$gwx_40(){
if( __WXML_GLOBAL__.ops_cached.$gwx_40)return __WXML_GLOBAL__.ops_cached.$gwx_40
__WXML_GLOBAL__.ops_cached.$gwx_40=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'&&'],[[7],[3,'url']],[[2,'==='],[[7],[3,'url']],[[7],[3,'audioUrl']]]],[[2,'!'],[[7],[3,'loading']]]])
Z([3,'start'])
Z([3,'width:100%;height:100%;'])
})(__WXML_GLOBAL__.ops_cached.$gwx_40);return __WXML_GLOBAL__.ops_cached.$gwx_40
}
function gz$gwx_41(){
if( __WXML_GLOBAL__.ops_cached.$gwx_41)return __WXML_GLOBAL__.ops_cached.$gwx_41
__WXML_GLOBAL__.ops_cached.$gwx_41=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'currentScope']])
})(__WXML_GLOBAL__.ops_cached.$gwx_41);return __WXML_GLOBAL__.ops_cached.$gwx_41
}
function gz$gwx_42(){
if( __WXML_GLOBAL__.ops_cached.$gwx_42)return __WXML_GLOBAL__.ops_cached.$gwx_42
__WXML_GLOBAL__.ops_cached.$gwx_42=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'visible']])
Z([3,'cmpt__base-modal__inner'])
Z([[2,'==='],[[7],[3,'showClose']],[1,true]])
Z([3,'cmpt__base-modal__content'])
Z([[2,'==='],[[7],[3,'showLogo']],[1,true]])
})(__WXML_GLOBAL__.ops_cached.$gwx_42);return __WXML_GLOBAL__.ops_cached.$gwx_42
}
function gz$gwx_43(){
if( __WXML_GLOBAL__.ops_cached.$gwx_43)return __WXML_GLOBAL__.ops_cached.$gwx_43
__WXML_GLOBAL__.ops_cached.$gwx_43=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'cmpt__drawer'])
Z([[7],[3,'isWindow']])
Z([[7],[3,'isIPad']])
Z([[2,'!'],[[7],[3,'isIPad']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_43);return __WXML_GLOBAL__.ops_cached.$gwx_43
}
function gz$gwx_44(){
if( __WXML_GLOBAL__.ops_cached.$gwx_44)return __WXML_GLOBAL__.ops_cached.$gwx_44
__WXML_GLOBAL__.ops_cached.$gwx_44=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'cmpt__modal__follow-modal'])
Z([a,[3,'cmpt__modal-'],[[7],[3,'modalId']]])
Z([1,false])
})(__WXML_GLOBAL__.ops_cached.$gwx_44);return __WXML_GLOBAL__.ops_cached.$gwx_44
}
function gz$gwx_45(){
if( __WXML_GLOBAL__.ops_cached.$gwx_45)return __WXML_GLOBAL__.ops_cached.$gwx_45
__WXML_GLOBAL__.ops_cached.$gwx_45=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'visible']])
Z([3,'send'])
Z([1,true])
Z([[7],[3,'showClose']])
})(__WXML_GLOBAL__.ops_cached.$gwx_45);return __WXML_GLOBAL__.ops_cached.$gwx_45
}
function gz$gwx_46(){
if( __WXML_GLOBAL__.ops_cached.$gwx_46)return __WXML_GLOBAL__.ops_cached.$gwx_46
__WXML_GLOBAL__.ops_cached.$gwx_46=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showLabel']])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'groups']],[3,'length']]],[[2,'!'],[[7],[3,'disabled']]]],[[7],[3,'loaded']]])
Z([3,'weui-cell'])
Z([[6],[[7],[3,'groups']],[3,'length']])
Z([[2,'!'],[[7],[3,'disabled']]])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'groups']],[3,'length']]],[[7],[3,'loaded']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_46);return __WXML_GLOBAL__.ops_cached.$gwx_46
}
function gz$gwx_47(){
if( __WXML_GLOBAL__.ops_cached.$gwx_47)return __WXML_GLOBAL__.ops_cached.$gwx_47
__WXML_GLOBAL__.ops_cached.$gwx_47=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'comments-item'])
Z([[2,'&&'],[[6],[[7],[3,'answer']],[3,'extras']],[[6],[[6],[[7],[3,'answer']],[3,'extras']],[3,'is_excellent']]])
Z([3,'comment-info-wrapper'])
Z([3,'comment-info'])
Z([3,'comment__user-info'])
Z([[9],[[8],'avatar',[[7],[3,'userAvatar']]],[[8],'vip',[[7],[3,'isVipUser']]]])
Z([3,'avatar'])
Z([[2,'||'],[[6],[[7],[3,'answer']],[3,'child']],[[7],[3,'isSupplement']]])
Z([3,'comment-child fs16'])
Z([[6],[[7],[3,'answer']],[3,'child']])
Z([[7],[3,'isSupplement']])
Z([3,'comment__partner fs14'])
Z([[2,'!='],[[6],[[6],[[7],[3,'answer']],[3,'partner']],[3,'type']],[1,'S']])
Z([[6],[[6],[[7],[3,'answer']],[3,'user']],[3,'nickname']])
Z([[7],[3,'showAnswerContent']])
Z([[2,'||'],[[2,'||'],[[2,'||'],[[6],[[7],[3,'answerVoices']],[3,'length']],[[6],[[7],[3,'answerImages']],[3,'length']]],[[2,'&&'],[[7],[3,'answerVideo']],[[6],[[7],[3,'answerVideo']],[3,'url']]]],[[6],[[7],[3,'answer']],[3,'question_answer']]])
Z([3,'answer__media'])
Z([3,'item'])
Z([[7],[3,'answerVoices']])
Z(z[17])
Z([[2,'&&'],[[2,'==='],[[7],[3,'audioUrl']],[[7],[3,'item']]],[[2,'!'],[[7],[3,'audioLoading']]]])
Z([3,'answer__media-item'])
Z([3,'130rpx'])
Z([a,[3,'audio-player-'],[[7],[3,'item']]])
Z([3,'display: block;width:auto;'])
Z(z[23][2])
Z([3,'100%'])
Z([[9],[[9],[[8],'url',[[7],[3,'item']]],[[8],'playing',[1,false]]],[[8],'loading',[[2,'&&'],[[2,'==='],[[7],[3,'audioUrl']],[[7],[3,'item']]],[[7],[3,'audioLoading']]]]])
Z([3,'audio-player'])
Z([3,'playVoiceUrl'])
Z(z[21])
Z(z[23][2])
Z([3,'border: solid 0.5px #e7e7e7;'])
Z(z[27])
Z(z[28])
Z([3,'i'])
Z([3,'image'])
Z([[7],[3,'answerImages']])
Z(z[36])
Z([[7],[3,'showImageEditBtn']])
Z([3,'showImageOption'])
Z([3,'previewImage'])
Z([3,'answer__media-item cmn__image_bg-big'])
Z([[6],[[7],[3,'answer']],[3,'files']])
Z([[6],[[6],[[7],[3,'answer']],[3,'files']],[[7],[3,'i']]])
Z([[8],'cover',[[7],[3,'image']]])
Z([3,'cover'])
Z(z[39])
Z(z[41])
Z(z[42])
Z(z[43])
Z(z[44])
Z(z[45])
Z(z[46])
Z([[6],[[7],[3,'answerVideo']],[3,'url']])
Z([3,'playVideo'])
Z(z[42])
Z(z[54])
Z([[9],[[8],'cover',[[2,'?:'],[[2,'==='],[[6],[[7],[3,'answerVideo']],[3,'raw']],[[7],[3,'tempVideoKey']]],[1,''],[[6],[[7],[3,'answerVideo']],[3,'cover']]]],[[8],'isVideo',[1,true]]])
Z(z[46])
Z([[6],[[7],[3,'answer']],[3,'question_answer']])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'answer']],[3,'extras']],[[6],[[6],[[7],[3,'answer']],[3,'extras']],[3,'hide_answer']]],[[7],[3,'showAnswerContent']]])
Z([[2,'!'],[[7],[3,'isDetailPage']]])
Z([[6],[[7],[3,'answer']],[3,'rating_date']])
Z([3,'rating fs16'])
Z([[2,'&&'],[[6],[[7],[3,'answer']],[3,'extras']],[[6],[[6],[[7],[3,'answer']],[3,'extras']],[3,'hide_rating']]])
Z([[8],'avatar',[[2,'?:'],[[6],[[7],[3,'answer']],[3,'rating_user']],[[6],[[6],[[7],[3,'answer']],[3,'rating_user']],[3,'avatar']],[[6],[[6],[[7],[3,'homework']],[3,'publisher']],[3,'avatar']]]])
Z(z[6])
Z([[7],[3,'showRatingContent']])
Z([[6],[[7],[3,'answer']],[3,'rating_remark']])
Z([[2,'||'],[[7],[3,'ratingVoice']],[[6],[[6],[[7],[3,'answer']],[3,'rating_images']],[3,'length']]])
Z(z[16])
Z([3,'margin-top:30rpx;'])
Z([[7],[3,'ratingVoice']])
Z(z[21])
Z(z[22])
Z([a,z[23][1],z[73]])
Z([[2,'?:'],[[2,'&&'],[[2,'==='],[[7],[3,'audioUrl']],[[7],[3,'ratingVoice']]],[[2,'!'],[[7],[3,'audioLoading']]]],[1,'display: block;width:auto;'],[1,'border: solid 0.5px #e7e7e7;']])
Z(z[73])
Z(z[26])
Z([[9],[[9],[[8],'url',[[7],[3,'ratingVoice']]],[[8],'playing',[1,false]]],[[8],'loading',[[2,'&&'],[[2,'==='],[[7],[3,'audioUrl']],[[7],[3,'ratingVoice']]],[[7],[3,'audioLoading']]]]])
Z(z[28])
Z([3,'ratingImgIdx'])
Z([3,'ratingImage'])
Z([[7],[3,'ratingImages']])
Z(z[83])
Z(z[41])
Z(z[42])
Z([1,true])
Z([[6],[[7],[3,'answer']],[3,'rating_images']])
Z([[6],[[6],[[7],[3,'answer']],[3,'rating_images']],[[7],[3,'ratingImgIdx']]])
Z([[8],'cover',[[7],[3,'ratingImage']]])
Z(z[46])
Z([[2,'&&'],[[7],[3,'showAnswerContent']],[[2,'||'],[[2,'||'],[[2,'||'],[[2,'||'],[[2,'>'],[[6],[[7],[3,'answer']],[3,'supplement_count']],[1,0]],[[7],[3,'showHomeworkBtn']]],[[7],[3,'showRateBtn']]],[[7],[3,'showSupplementBtn']]],[[7],[3,'showOptionBtn']]]])
Z([3,'answer-detail__btn-group'])
Z([3,'text-align: right;'])
Z([[2,'&&'],[[2,'>'],[[6],[[7],[3,'answer']],[3,'supplement_count']],[1,0]],[[2,'!'],[[7],[3,'isDetailPage']]]])
Z([[7],[3,'showHomeworkBtn']])
Z([[7],[3,'showRateBtn']])
Z([[2,'||'],[[7],[3,'showSupplementBtn']],[[2,'==='],[[6],[[7],[3,'answer']],[3,'uid']],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'uid']]]])
Z([[7],[3,'showOptionBtn']])
Z([[2,'&&'],[[7],[3,'showAnswerContent']],[[6],[[7],[3,'supplementList']],[3,'length']]])
Z([3,'supplementIdx'])
Z([3,'supplement'])
Z([[7],[3,'supplementList']])
Z([3,'id'])
Z(z[3])
Z(z[4])
Z([[9],[[8],'avatar',[[6],[[7],[3,'supplement']],[3,'userAvatar']]],[[8],'vip',[[6],[[7],[3,'supplement']],[3,'isVipUser']]]])
Z(z[6])
Z([[6],[[7],[3,'supplement']],[3,'child']])
Z(z[110])
Z([3,'comment__partner'])
Z([[2,'!='],[[6],[[6],[[7],[3,'supplement']],[3,'partner']],[3,'type']],[1,'S']])
Z([[6],[[6],[[7],[3,'supplement']],[3,'user']],[3,'nickname']])
Z([[2,'||'],[[2,'||'],[[6],[[6],[[7],[3,'supplement']],[3,'voiceUrls']],[3,'length']],[[6],[[6],[[7],[3,'supplement']],[3,'imageUrls']],[3,'length']]],[[2,'&&'],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[[6],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[3,'url']]]])
Z(z[16])
Z(z[17])
Z([[6],[[7],[3,'supplement']],[3,'voiceUrls']])
Z(z[17])
Z(z[20])
Z(z[21])
Z(z[22])
Z([a,z[23][1],z[23][2]])
Z(z[24])
Z(z[23][2])
Z(z[26])
Z(z[27])
Z(z[28])
Z(z[29])
Z(z[21])
Z(z[23][2])
Z(z[32])
Z(z[27])
Z(z[28])
Z(z[35])
Z(z[36])
Z([[6],[[7],[3,'supplement']],[3,'imageUrls']])
Z(z[36])
Z(z[39])
Z(z[40])
Z(z[41])
Z(z[42])
Z([[6],[[7],[3,'supplement']],[3,'files']])
Z([[6],[[6],[[7],[3,'supplement']],[3,'files']],[[7],[3,'i']]])
Z(z[45])
Z(z[46])
Z(z[39])
Z(z[41])
Z(z[42])
Z(z[143])
Z(z[144])
Z(z[45])
Z(z[46])
Z([[6],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[3,'url']])
Z(z[55])
Z(z[42])
Z(z[154])
Z([[9],[[8],'cover',[[2,'?:'],[[2,'==='],[[6],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[3,'raw']],[[7],[3,'tempVideoKey']]],[1,''],[[6],[[6],[[7],[3,'supplement']],[3,'videoInfo']],[3,'cover']]]],[[8],'isVideo',[1,true]]])
Z(z[46])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'isDetailPage']],[[6],[[7],[3,'answer']],[3,'rating_date']]],[[7],[3,'showRating']]])
Z(z[63])
Z([3,'rating'])
Z([3,'background:#fff;border:0;margin:0;overflow: hidden;padding-bottom:0;'])
Z(z[65])
Z(z[66])
Z(z[6])
Z(z[68])
Z(z[69])
Z(z[70])
Z(z[16])
Z(z[72])
Z(z[73])
Z(z[21])
Z(z[22])
Z([a,z[23][1],z[73]])
Z(z[77])
Z(z[73])
Z(z[26])
Z(z[80])
Z(z[28])
Z(z[82])
Z(z[83])
Z(z[84])
Z(z[83])
Z(z[41])
Z(z[42])
Z(z[88])
Z(z[89])
Z(z[90])
Z(z[91])
Z(z[46])
Z([[2,'&&'],[[2,'!'],[[7],[3,'showAnswerContent']]],[[2,'||'],[[2,'||'],[[7],[3,'showRateBtn']],[[7],[3,'showSupplementBtn']]],[[7],[3,'showOptionBtn']]]])
Z(z[94])
Z(z[95])
Z(z[98])
Z([[7],[3,'showSupplementBtn']])
Z(z[100])
Z([[7],[3,'authModalId']])
Z([a,[3,'auth-modal-answer-detail-'],z[198]])
})(__WXML_GLOBAL__.ops_cached.$gwx_47);return __WXML_GLOBAL__.ops_cached.$gwx_47
}
function gz$gwx_48(){
if( __WXML_GLOBAL__.ops_cached.$gwx_48)return __WXML_GLOBAL__.ops_cached.$gwx_48
__WXML_GLOBAL__.ops_cached.$gwx_48=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'||'],[[2,'||'],[[2,'||'],[[2,'||'],[[2,'||'],[[6],[[7],[3,'voiceList']],[3,'length']],[[6],[[7],[3,'imageList']],[3,'length']]],[[7],[3,'videoUrl']]],[[6],[[7],[3,'fileList']],[3,'length']]],[[6],[[6],[[7],[3,'media']],[3,'external_urls']],[3,'length']]],[[6],[[6],[[7],[3,'media']],[3,'tencent_videos']],[3,'length']]])
Z([a,[3,'homework__media '],[[2,'?:'],[[7],[3,'inset']],[1,'homework__media--inset'],[1,'']]])
Z([3,'margin-top: calc(1.5em - 30rpx);'])
Z([3,'item'])
Z([[7],[3,'voiceList']])
Z([3,'index'])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'audio']],[3,'url']],[[7],[3,'item']]],[[2,'!'],[[6],[[7],[3,'audio']],[3,'loading']]]])
Z([3,'homework__media-item'])
Z([3,'130rpx'])
Z([a,[3,'audio-player-'],[[7],[3,'item']]])
Z([3,'display: block;width:auto;'])
Z(z[9][2])
Z([3,'100%'])
Z([3,'startAudio'])
Z(z[7])
Z(z[9][2])
Z([3,'border: solid 0.5px #e7e7e7;'])
Z([[9],[[9],[[8],'url',[[7],[3,'item']]],[[8],'playing',[1,false]]],[[8],'loading',[[2,'&&'],[[2,'==='],[[6],[[7],[3,'audio']],[3,'url']],[[7],[3,'item']]],[[6],[[7],[3,'audio']],[3,'loading']]]]])
Z([3,'audio-player'])
Z([3,'idx'])
Z([3,'image'])
Z([[7],[3,'imageList']])
Z(z[19])
Z([3,'previewImage'])
Z([3,'homework__media-item cmn__image_bg-big'])
Z([[6],[[6],[[7],[3,'media']],[3,'images']],[[7],[3,'idx']]])
Z([[6],[[7],[3,'media']],[3,'images']])
Z([[8],'cover',[[7],[3,'image']]])
Z([3,'cover'])
Z([[7],[3,'videoUrl']])
Z([3,'playVideo'])
Z(z[24])
Z(z[29])
Z([[9],[[8],'cover',[[7],[3,'videoCoverUrl']]],[[8],'isVideo',[1,true]]])
Z(z[28])
Z([3,'file-list'])
Z([[6],[[7],[3,'fileList']],[3,'length']])
Z([[7],[3,'fileList']])
Z([3,'path'])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'fileType']],[1,'mp3']])
Z([[2,'&&'],[[2,'==='],[[6],[[7],[3,'audio']],[3,'url']],[[6],[[7],[3,'item']],[3,'url']]],[[2,'!'],[[6],[[7],[3,'audio']],[3,'loading']]]])
Z([3,'file-list__item'])
Z(z[8])
Z([a,z[9][1],[[6],[[7],[3,'item']],[3,'url']]])
Z([3,'width:100%;padding:0;border:none;'])
Z(z[43][2])
Z(z[12])
Z(z[13])
Z(z[41])
Z(z[43][2])
Z([[9],[[9],[[8],'url',[[6],[[7],[3,'item']],[3,'url']]],[[8],'playing',[1,false]]],[[8],'loading',[[2,'&&'],[[2,'==='],[[6],[[7],[3,'audio']],[3,'url']],[[6],[[7],[3,'item']],[3,'url']]],[[6],[[7],[3,'audio']],[3,'loading']]]]])
Z(z[18])
Z([[6],[[7],[3,'media']],[3,'external_urls']])
Z([3,'url'])
Z([[2,'&&'],[[6],[[7],[3,'media']],[3,'external_urls']],[[6],[[6],[[7],[3,'media']],[3,'external_urls']],[3,'length']]])
Z([3,'txv-video'])
})(__WXML_GLOBAL__.ops_cached.$gwx_48);return __WXML_GLOBAL__.ops_cached.$gwx_48
}
function gz$gwx_49(){
if( __WXML_GLOBAL__.ops_cached.$gwx_49)return __WXML_GLOBAL__.ops_cached.$gwx_49
__WXML_GLOBAL__.ops_cached.$gwx_49=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'cmpt__join-group-footer__wrapper'])
Z([[2,'||'],[[2,'!'],[[7],[3,'group']]],[[2,'&&'],[[6],[[7],[3,'group']],[3,'partner']],[[2,'==='],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'type']],[[6],[[6],[[7],[3,'group']],[3,'partner']],[3,'apply']]]]])
Z([3,'cmpt__join-group-footer'])
Z([[2,'&&'],[[6],[[7],[3,'group']],[3,'gid']],[[2,'!'],[[6],[[7],[3,'group']],[3,'partner']]]])
Z([[2,'!'],[[6],[[7],[3,'group']],[3,'partner']]])
Z([[6],[[7],[3,'group']],[3,'partner']])
Z([3,'cmpt__join-group-footer__follow-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_49);return __WXML_GLOBAL__.ops_cached.$gwx_49
}
function gz$gwx_50(){
if( __WXML_GLOBAL__.ops_cached.$gwx_50)return __WXML_GLOBAL__.ops_cached.$gwx_50
__WXML_GLOBAL__.ops_cached.$gwx_50=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showBorderTop']])
})(__WXML_GLOBAL__.ops_cached.$gwx_50);return __WXML_GLOBAL__.ops_cached.$gwx_50
}
function gz$gwx_51(){
if( __WXML_GLOBAL__.ops_cached.$gwx_51)return __WXML_GLOBAL__.ops_cached.$gwx_51
__WXML_GLOBAL__.ops_cached.$gwx_51=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'video'])
Z([[7],[3,'videos']])
Z([3,'url'])
Z([[2,'&&'],[[7],[3,'video']],[[2,'!'],[[6],[[7],[3,'video']],[3,'deleted']]]])
Z([[7],[3,'allowDelete']])
Z([3,'vid'])
Z([[7],[3,'tencent_videos']])
Z(z[5])
Z([[2,'&&'],[[7],[3,'tencent_videos']],[[6],[[7],[3,'tencent_videos']],[3,'length']]])
Z([3,'cmpt__selector__tencent-video-wrapper'])
Z([[7],[3,'vid']])
Z([3,'cmpt__selector__tencent-video'])
Z(z[10])
Z(z[10])
Z(z[4])
Z([[7],[3,'external_urls']])
Z(z[2])
Z([[2,'&&'],[[7],[3,'external_urls']],[[6],[[7],[3,'external_urls']],[3,'length']]])
Z(z[4])
Z([[7],[3,'questionSets']])
Z([3,'id'])
Z([[2,'!'],[[6],[[7],[3,'item']],[3,'deleted']]])
Z(z[4])
Z([3,'cmpt__selector__content-list'])
Z([3,'idx'])
Z([3,'image'])
Z([[7],[3,'imageList']])
Z(z[2])
Z([[2,'!'],[[6],[[7],[3,'image']],[3,'deleted']]])
Z(z[4])
Z([3,'i'])
Z([3,'voice'])
Z([[7],[3,'voiceList']])
Z(z[2])
Z([[2,'!'],[[6],[[7],[3,'voice']],[3,'deleted']]])
Z([3,'cmpt__selector__choose-btn'])
Z([[2,'?:'],[[2,'==='],[[6],[[7],[3,'audio']],[3,'url']],[[6],[[7],[3,'voice']],[3,'url']]],[1,'display: block;width:100%;border: none;'],[1,'']])
Z([3,'100%'])
Z([a,[3,'audio-player-'],[[6],[[7],[3,'voice']],[3,'url']]])
Z(z[38][2])
Z(z[37])
Z(z[4])
Z(z[30])
Z([3,'file'])
Z([[7],[3,'fileList']])
Z(z[2])
Z([[2,'!'],[[6],[[7],[3,'file']],[3,'deleted']]])
Z([3,'openFile'])
Z(z[35])
Z([[7],[3,'i']])
Z(z[4])
Z([[2,'<'],[[6],[[7],[3,'imageList']],[3,'length']],[[7],[3,'maxImageCount']]])
Z([[2,'<'],[[6],[[7],[3,'voiceList']],[3,'length']],[[7],[3,'maxVoiceCount']]])
Z([[2,'<'],[[6],[[7],[3,'videoList']],[3,'length']],[[7],[3,'maxVideoCount']]])
Z([[2,'<'],[[6],[[7],[3,'fileList']],[3,'length']],[[7],[3,'maxFileCount']]])
Z([[2,'||'],[[2,'<'],[[6],[[7],[3,'tencent_videos']],[3,'length']],[[7],[3,'maxTencentVideoCount']]],[[2,'<'],[[6],[[7],[3,'external_urls']],[3,'length']],[[7],[3,'maxExternalUrlCount']]]])
Z([[7],[3,'showTemplateBtn']])
Z([[2,'&&'],[[7],[3,'showQuestionSetBtn']],[[2,'!'],[[6],[[7],[3,'notDeletedQuestionSet']],[3,'length']]]])
Z([3,'onRecorderStop'])
Z([3,'media-selector-recorder'])
})(__WXML_GLOBAL__.ops_cached.$gwx_51);return __WXML_GLOBAL__.ops_cached.$gwx_51
}
function gz$gwx_52(){
if( __WXML_GLOBAL__.ops_cached.$gwx_52)return __WXML_GLOBAL__.ops_cached.$gwx_52
__WXML_GLOBAL__.ops_cached.$gwx_52=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'save'])
Z([1,true])
Z([3,'color: #000;'])
Z([[2,'!'],[[7],[3,'shouldReject']]])
Z(z[3])
Z([[2,'=='],[[6],[[7],[3,'homework']],[3,'rating_criterion']],[1,1]])
Z([3,'starClick'])
Z([3,'padding-left:150rpx;'])
Z([[9],[[9],[[8],'total',[1,10]],[[8],'value',[[7],[3,'ratingValue']]]],[[8],'size',[1,'50rpx']]])
Z([3,'stars'])
Z([3,'toTemplate'])
Z([3,'selector'])
Z([3,'media-selector-rating'])
Z([[2,'?:'],[[2,'>'],[[6],[[7],[3,'aids']],[3,'length']],[1,1]],[1,0],[1,9]])
Z([[2,'?:'],[[2,'>'],[[6],[[7],[3,'aids']],[3,'length']],[1,1]],[1,0],[1,1]])
Z(z[1])
Z([[7],[3,'inline']])
Z([[2,'!'],[[7],[3,'inline']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_52);return __WXML_GLOBAL__.ops_cached.$gwx_52
}
function gz$gwx_53(){
if( __WXML_GLOBAL__.ops_cached.$gwx_53)return __WXML_GLOBAL__.ops_cached.$gwx_53
__WXML_GLOBAL__.ops_cached.$gwx_53=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'visible']])
Z([3,'recorder-auth-modal'])
})(__WXML_GLOBAL__.ops_cached.$gwx_53);return __WXML_GLOBAL__.ops_cached.$gwx_53
}
function gz$gwx_54(){
if( __WXML_GLOBAL__.ops_cached.$gwx_54)return __WXML_GLOBAL__.ops_cached.$gwx_54
__WXML_GLOBAL__.ops_cached.$gwx_54=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_54);return __WXML_GLOBAL__.ops_cached.$gwx_54
}
function gz$gwx_55(){
if( __WXML_GLOBAL__.ops_cached.$gwx_55)return __WXML_GLOBAL__.ops_cached.$gwx_55
__WXML_GLOBAL__.ops_cached.$gwx_55=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'gid']],[[7],[3,'visible']]])
Z([3,'cmpt__vip-renewal-modal__content'])
Z([3,'content'])
Z([[7],[3,'avatar']])
})(__WXML_GLOBAL__.ops_cached.$gwx_55);return __WXML_GLOBAL__.ops_cached.$gwx_55
}
__WXML_GLOBAL__.ops_set.$gwx=z;
__WXML_GLOBAL__.ops_init.$gwx=true;
var nv_require=function(){var nnm={"m_./templates/player/audio_player.wxml:getVoiceTime":np_0,"m_./templates/player/video_cover.wxml:timestamp":np_1,"m_./templates/viewer/thumbnail.wxml:imgFormator":np_2,"p_./wxs/arr.wxs":np_3,"p_./wxs/time.wxs":np_4,"p_./wxs/tool.wxs":np_5,};var nom={};return function(n){return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
f_['./pages/announcement_edit.wxml']={};
f_['./pages/announcement_edit.wxml']['ArrWxs'] =f_['./wxs/arr.wxs'] || nv_require("p_./wxs/arr.wxs");
f_['./pages/announcement_edit.wxml']['ArrWxs']();

f_['./pages/configure.wxml']={};
f_['./pages/configure.wxml']['arr'] =f_['./wxs/arr.wxs'] || nv_require("p_./wxs/arr.wxs");
f_['./pages/configure.wxml']['arr']();

f_['./pages/exam.wxml']={};
f_['./pages/exam.wxml']['time'] =f_['./wxs/time.wxs'] || nv_require("p_./wxs/time.wxs");
f_['./pages/exam.wxml']['time']();

f_['./pages/group.wxml']={};
f_['./pages/group.wxml']['TimeWxs'] =f_['./wxs/time.wxs'] || nv_require("p_./wxs/time.wxs");
f_['./pages/group.wxml']['TimeWxs']();
f_['./pages/group.wxml']['ArrWxs'] =f_['./wxs/arr.wxs'] || nv_require("p_./wxs/arr.wxs");
f_['./pages/group.wxml']['ArrWxs']();

f_['./pages/homework.wxml']={};
f_['./pages/homework.wxml']['arr'] =f_['./wxs/arr.wxs'] || nv_require("p_./wxs/arr.wxs");
f_['./pages/homework.wxml']['arr']();

f_['./pages/vip_feature.wxml']={};
f_['./pages/vip_feature.wxml']['time'] =f_['./wxs/time.wxs'] || nv_require("p_./wxs/time.wxs");
f_['./pages/vip_feature.wxml']['time']();

f_['./pages/vip_success.wxml']={};
f_['./pages/vip_success.wxml']['TimeWxs'] =f_['./wxs/time.wxs'] || nv_require("p_./wxs/time.wxs");
f_['./pages/vip_success.wxml']['TimeWxs']();

f_['./templates/player/audio_player.wxml']={};
f_['./templates/player/audio_player.wxml']['getVoiceTime'] =nv_require("m_./templates/player/audio_player.wxml:getVoiceTime");
function np_0(){var nv_module={nv_exports:{}};function nv_getSecond(nv_url){var nv_matches = nv_getRegExp("\x5c/d\x5cd+$","i").nv_exec(nv_url);if (nv_matches && nv_matches[(0)]){var nv_second = nv_parseInt(nv_matches[(0)].nv_replace('/d','')) / 1000;if (!nv_second){return(0)};if (nv_second / 60 > 1){return(nv_parseInt(nv_second / 60) + "\x27 " + nv_parseInt(nv_second % 60) + '\x22')} else {return(nv_parseInt(nv_second % 60) + '\x22')}}};nv_module.nv_exports = ({nv_getSecond:nv_getSecond,});return nv_module.nv_exports;}

f_['./templates/player/video_cover.wxml']={};
f_['./templates/player/video_cover.wxml']['timestamp'] =nv_require("m_./templates/player/video_cover.wxml:timestamp");
function np_1(){var nv_module={nv_exports:{}};nv_module.nv_exports = nv_getDate().nv_getTime();return nv_module.nv_exports;}

f_['./templates/viewer/thumbnail.wxml']={};
f_['./templates/viewer/thumbnail.wxml']['imgFormator'] =nv_require("m_./templates/viewer/thumbnail.wxml:imgFormator");
function np_2(){var nv_module={nv_exports:{}};var nv_DEFAULT_IMAGE_SIZE = "-128";var nv_CDN_URL = "http://files.fujin8.com/";nv_module.nv_exports = ({nv_toSize:(function (nv_path,nv_size,nv_raw){if (nv_path){if (nv_raw){nv_size = ''} else if (!nv_size){nv_size = nv_DEFAULT_IMAGE_SIZE};return(nv_CDN_URL + nv_path + nv_size)} else {return('')}}),});return nv_module.nv_exports;}

f_['./wxs/arr.wxs'] = nv_require("p_./wxs/arr.wxs");
function np_3(){var nv_module={nv_exports:{}};function nv__has(nv_lst,nv_operation,nv_val){return(nv_lst.nv_some((function (nv_item){return(nv_operation(nv_item,nv_val))})))};function nv__hasKey(nv_lst,nv_operation,nv_key,nv_val){return(nv_lst.nv_some((function (nv_item){return(nv_operation(nv_item[((nt_0=(nv_key),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))],nv_val))})))};function nv__where(nv_lst,nv_operation,nv_val){return(nv_lst.nv_filter((function (nv_item){return(nv_operation(nv_item,nv_val))})))};function nv__whereKey(nv_lst,nv_operation,nv_key,nv_val){return(nv_lst.nv_filter((function (nv_item){return(nv_operation(nv_item[((nt_1=(nv_key),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))],nv_val))})))};var nv_OP = ({nv_eq:(function (nv_item,nv_val){return(nv_item == nv_val)}),nv_neq:(function (nv_item,nv_val){return(nv_item != nv_val)}),});nv_module.nv_exports = ({nv_has_eq:(function (nv_lst,nv_val){return(nv__has(nv_lst,nv_OP.nv_eq,nv_val))}),nv_has_neq:(function (nv_lst,nv_val){return(nv__has(nv_lst,nv_OP.nv_neq,nv_val))}),nv_has_key_eq:(function (nv_lst,nv_key,nv_val){return(nv__hasKey(nv_lst,nv_OP.nv_eq,nv_key,nv_val))}),nv_has_key_neq:(function (nv_lst,nv_key,nv_val){return(nv__hasKey(nv_lst,nv_OP.nv_neq,nv_key,nv_val))}),nv_where_eq:(function (nv_lst,nv_val){return(nv__where(nv_lst,nv_OP.nv_eq,nv_val))}),nv_where_key_eq:(function (nv_lst,nv_key,nv_val){return(nv__whereKey(nv_lst,nv_OP.nv_eq,nv_key,nv_val))}),nv_where_neq:(function (nv_lst,nv_val){return(nv__where(nv_lst,nv_OP.nv_neq,nv_val))}),nv_where_key_neq:(function (nv_lst,nv_key,nv_val){return(nv__whereKey(nv_lst,nv_OP.nv_neq,nv_key,nv_val))}),nv_where_keys:(function (nv_lst,nv_args){arguments.nv_length=arguments.length;if (arguments.nv_length > 1){for(var nv_i = 1;nv_i < arguments.nv_length;nv_i++){var nv_item = arguments[((nt_2=(nv_i),null==nt_2?undefined:'number'=== typeof nt_2?nt_2:"nv_"+nt_2))];nv_lst = nv__whereKey(nv_lst,nv_OP[((nt_3=(nv_item[(1)]),null==nt_3?undefined:'number'=== typeof nt_3?nt_3:"nv_"+nt_3))],nv_item[(0)],nv_item[(2)])}};return(nv_lst)}),nv_select:(function (nv_lst,nv_key){return(nv_lst.nv_map((function (nv_item){return(nv_item[((nt_7=(nv_key),null==nt_7?undefined:'number'=== typeof nt_7?nt_7:"nv_"+nt_7))])})))}),nv_slice:(function (nv_lst,nv_start,nv_end){return(nv_lst.nv_slice(nv_start,nv_end))}),});return nv_module.nv_exports;}

f_['./wxs/time.wxs'] = nv_require("p_./wxs/time.wxs");
function np_4(){var nv_module={nv_exports:{}};var nv_DAYSECONDS = 86400;function nv__formatNumber(nv_n){nv_n = nv_n.nv_toString();if (nv_n[(1)]){return(nv_n)} else {return("0" + nv_n)}};function nv__getDate(nv_date){if (nv_date.nv_constructor != "Date"){nv_date = nv_getDate(nv_date)};return(nv_date)};function nv_toDate(nv_date){if (!nv_date){return};nv_date = nv__getDate(nv_date);var nv_year = nv_date.nv_getFullYear();var nv_month = nv_date.nv_getMonth() + 1;var nv_day = nv_date.nv_getDate();return([nv_year,nv_month,nv_day].nv_map(nv__formatNumber).nv_join("-"))};function nv_toTime(nv_date){if (!nv_date){return};nv_date = nv__getDate(nv_date);var nv_hour = nv_date.nv_getHours();var nv_minute = nv_date.nv_getMinutes();return([nv_hour,nv_minute].nv_map(nv__formatNumber).nv_join(":"))};nv_module.nv_exports = ({nv_toDate:nv_toDate,nv_toTime:nv_toTime,nv_toDateTime:(function (nv_date){if (!nv_date){return};nv_date = nv__getDate(nv_date);return(nv_toDate(nv_date) + " " + nv_toTime(nv_date))}),nv_beforeNow:(function (nv_date){if (nv_date.nv_constructor != "Date"){nv_date = nv_getDate(nv_date)};return(nv_date < nv_getDate())}),nv_getDateSpan:(function (nv_date){if (!nv_date){return};nv_date = nv__getDate(nv_date);nv_date.nv_setHours(0);nv_date.nv_setMinutes(0);nv_date.nv_setSeconds(0);nv_date.nv_setMilliseconds(0);var nv_currentDate = nv_getDate();nv_currentDate.nv_setHours(0);nv_currentDate.nv_setMinutes(0);nv_currentDate.nv_setSeconds(0);nv_currentDate.nv_setMilliseconds(0);var nv_diff = nv_date.nv_getTime() - nv_currentDate.nv_getTime();nv_console.nv_log(nv_diff);return((nv_diff / 1000) / nv_DAYSECONDS)}),});return nv_module.nv_exports;}

f_['./wxs/tool.wxs'] = nv_require("p_./wxs/tool.wxs");
function np_5(){var nv_module={nv_exports:{}};nv_module.nv_exports = ({nv_callModFunc:(function (nv_mod,nv_func,nv_a,nv_b){if (nv_mod == 'Math'){return(Math[((nt_0=(nv_func),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))](nv_a,nv_b))}}),nv_strStartsWith:(function (nv_str,nv_pattern){if (!nv_str || nv_str.nv_constructor != 'String'){return};var nv_re = nv_getRegExp(nv_pattern);return(nv_str.nv_match(nv_re) != null)}),});return nv_module.nv_exports;}

var x=['./pages/album.wxml','../templates/vip/vip.wxml','../templates/player/video_cover.wxml','./pages/album_edit.wxml','./pages/albumlist.wxml','./pages/announcement.wxml','../templates/viewer/thumbnail.wxml','./pages/announcement_edit.wxml','./pages/announcement_list.wxml','../templates/tips/nodata.wxml','./pages/answer.wxml','./pages/authorization.wxml','./pages/configure.wxml','../templates/avatar/avatar.wxml','./pages/exam.wxml','./pages/exam_comment.wxml','./pages/exam_select.wxml','./pages/examinations.wxml','./pages/file.wxml','./pages/group.wxml','./pages/help.wxml','./pages/homework.wxml','./pages/homework_report.wxml','./pages/index.wxml','./pages/lessons.wxml','./pages/purchaseMembers.wxml','./pages/qrcode.wxml','./pages/rating_template.wxml','./pages/success.wxml','./pages/upload_file.wxml','./pages/video.wxml','./pages/vip_feature.wxml','./pages/vip_success.wxml','./pages/wish_list.wxml','./templates/avatar/avatar.wxml','./templates/player/audio_player.wxml','./templates/player/video_cover.wxml','./templates/player/voice_player.wxml','./templates/rating_stars/rating_stars.wxml','./templates/tips/nodata.wxml','./templates/viewer/cover.wxml','./templates/viewer/thumbnail.wxml','./templates/vip/vip.wxml','./wx_components/answer_detail/index.wxml','/templates/avatar/avatar.wxml','/templates/player/audio_player.wxml','/templates/viewer/cover.wxml','./wx_components/audio_player/index.wxml','./wx_components/auth_modal/index.wxml','./wx_components/base_modal/index.wxml','./wx_components/drawer/index.wxml','./wx_components/follow_modal/index.wxml','./wx_components/footer_input/index.wxml','./wx_components/group_picker/index.wxml','./wx_components/homework_answer/index.wxml','./wx_components/homework_media/index.wxml','/templates/player/video_cover.wxml','/templates/viewer/thumbnail.wxml','./wx_components/join_group_footer/index.wxml','./wx_components/lesson_selector/index.wxml','./wx_components/media_selector/index.wxml','./wx_components/rating_form/index.wxml','../../templates/rating_stars/rating_stars.wxml','./wx_components/recorder/index.wxml','./wx_components/video_cover/index.wxml','./wx_components/vip_renewal_modal/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_1()
var oB=e_[x[0]].i
_ai(oB,x[1],e_,x[0],3,6)
_ai(oB,x[2],e_,x[0],4,6)
var xC=_mz(z,'view',['class',0,'hidden',1],[],e,s,gg)
var cF=_mz(z,'view',['class',2,'style',1],[],e,s,gg)
var hG=_v()
_(cF,hG)
if(_oz(z,4,e,s,gg)){hG.wxVkey=1
}
var oH=_v()
_(cF,oH)
if(_oz(z,5,e,s,gg)){oH.wxVkey=1
var cI=_v()
_(oH,cI)
if(_oz(z,6,e,s,gg)){cI.wxVkey=1
}
cI.wxXCkey=1
}
hG.wxXCkey=1
oH.wxXCkey=1
_(xC,cF)
var oD=_v()
_(xC,oD)
if(_oz(z,7,e,s,gg)){oD.wxVkey=1
var oJ=_v()
_(oD,oJ)
var lK=function(tM,aL,eN,gg){
var oP=_mz(z,'view',['bindtap',12,'class',1,'data-wpytodetail-a',2],[],tM,aL,gg)
var xQ=_n('view')
_rz(z,xQ,'class',15,tM,aL,gg)
var oR=_v()
_(xQ,oR)
if(_oz(z,16,tM,aL,gg)){oR.wxVkey=1
var hU=_v()
_(oR,hU)
var oV=_oz(z,18,tM,aL,gg)
var cW=_gd(x[0],oV,e_,d_)
if(cW){
var oX=_1z(z,17,tM,aL,gg) || {}
var cur_globalf=gg.f
hU.wxXCkey=3
cW(oX,oX,hU,gg)
gg.f=cur_globalf
}
else _w(oV,x[0],40,30)
}
else{oR.wxVkey=2
}
var fS=_v()
_(xQ,fS)
if(_oz(z,19,tM,aL,gg)){fS.wxVkey=1
}
var cT=_v()
_(xQ,cT)
if(_oz(z,20,tM,aL,gg)){cT.wxVkey=1
}
oR.wxXCkey=1
fS.wxXCkey=1
cT.wxXCkey=1
_(oP,xQ)
_(eN,oP)
return eN
}
oJ.wxXCkey=2
_2z(z,10,lK,e,s,gg,oJ,'item','index','key')
}
else if(_oz(z,21,e,s,gg)){oD.wxVkey=2
}
var fE=_v()
_(xC,fE)
if(_oz(z,22,e,s,gg)){fE.wxVkey=1
}
oD.wxXCkey=1
fE.wxXCkey=1
_(r,xC)
var lY=_n('join-group-footer')
_rz(z,lY,'gid',23,e,s,gg)
_(r,lY)
var aZ=_mz(z,'vip-renewal-modal',['avatar',24,'class',1,'gid',2],[],e,s,gg)
_(r,aZ)
oB.pop()
oB.pop()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
d_[x[3]]={}
var m1=function(e,s,r,gg){
var z=gz$gwx_2()
var e2=_mz(z,'form',['bindsubmit',0,'reportSubmit',1],[],e,s,gg)
var b3=_v()
_(e2,b3)
if(_oz(z,2,e,s,gg)){b3.wxVkey=1
}
b3.wxXCkey=1
_(r,e2)
return r
}
e_[x[3]]={f:m1,j:[],i:[],ti:[],ic:[]}
d_[x[4]]={}
var m2=function(e,s,r,gg){
var z=gz$gwx_3()
var x5=_n('view')
_rz(z,x5,'class',0,e,s,gg)
var o6=e_[x[4]].i
_ai(o6,x[1],e_,x[4],3,6)
var f7=_v()
_(x5,f7)
if(_oz(z,1,e,s,gg)){f7.wxVkey=1
var h9=_n('view')
_rz(z,h9,'class',2,e,s,gg)
var o0=_mz(z,'view',['catchtap',3,'class',1,'style',2],[],e,s,gg)
var cAB=_v()
_(o0,cAB)
if(_oz(z,6,e,s,gg)){cAB.wxVkey=1
var oBB=_v()
_(cAB,oBB)
var lCB=_oz(z,7,e,s,gg)
var aDB=_gd(x[4],lCB,e_,d_)
if(aDB){
var tEB={}
var cur_globalf=gg.f
oBB.wxXCkey=3
aDB(tEB,tEB,oBB,gg)
gg.f=cur_globalf
}
else _w(lCB,x[4],7,24)
}
cAB.wxXCkey=1
_(h9,o0)
var eFB=_v()
_(h9,eFB)
var bGB=function(xIB,oHB,oJB,gg){
var hMB=_mz(z,'view',['bindtap',12,'class',1,'data-wpytoalbum-a',2],[],xIB,oHB,gg)
var oNB=_v()
_(hMB,oNB)
if(_oz(z,15,xIB,oHB,gg)){oNB.wxVkey=1
var cOB=_v()
_(oNB,cOB)
var oPB=_oz(z,16,xIB,oHB,gg)
var lQB=_gd(x[4],oPB,e_,d_)
if(lQB){
var aRB={}
var cur_globalf=gg.f
cOB.wxXCkey=3
lQB(aRB,aRB,cOB,gg)
gg.f=cur_globalf
}
else _w(oPB,x[4],15,26)
}
oNB.wxXCkey=1
_(oJB,hMB)
var cLB=_v()
_(oJB,cLB)
if(_oz(z,17,xIB,oHB,gg)){cLB.wxVkey=1
}
cLB.wxXCkey=1
return oJB
}
eFB.wxXCkey=2
_2z(z,10,bGB,e,s,gg,eFB,'item','index','key')
_(f7,h9)
}
else{f7.wxVkey=2
}
var c8=_v()
_(x5,c8)
if(_oz(z,18,e,s,gg)){c8.wxVkey=1
}
f7.wxXCkey=1
c8.wxXCkey=1
o6.pop()
_(r,x5)
return r
}
e_[x[4]]={f:m2,j:[],i:[],ti:[],ic:[]}
d_[x[5]]={}
var m3=function(e,s,r,gg){
var z=gz$gwx_4()
var eTB=_n('view')
var bUB=e_[x[5]].i
_ai(bUB,x[6],e_,x[5],3,6)
var cZB=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var h1B=_v()
_(cZB,h1B)
if(_oz(z,2,e,s,gg)){h1B.wxVkey=1
}
var o2B=_v()
_(cZB,o2B)
if(_oz(z,3,e,s,gg)){o2B.wxVkey=1
var o4B=_v()
_(o2B,o4B)
var l5B=function(t7B,a6B,e8B,gg){
var o0B=_mz(z,'view',['catchtap',8,'class',1,'data-wpypreviewimage-a',2,'data-wpypreviewimage-b',3],[],t7B,a6B,gg)
var xAC=_v()
_(o0B,xAC)
if(_oz(z,12,t7B,a6B,gg)){xAC.wxVkey=1
var oBC=_v()
_(xAC,oBC)
var fCC=_oz(z,14,t7B,a6B,gg)
var cDC=_gd(x[5],fCC,e_,d_)
if(cDC){
var hEC=_1z(z,13,t7B,a6B,gg) || {}
var cur_globalf=gg.f
oBC.wxXCkey=3
cDC(hEC,hEC,oBC,gg)
gg.f=cur_globalf
}
else _w(fCC,x[5],27,55)
}
else{xAC.wxVkey=2
var oFC=_v()
_(xAC,oFC)
var cGC=_oz(z,17,t7B,a6B,gg)
var oHC=_gd(x[5],cGC,e_,d_)
if(oHC){
var lIC=_1z(z,16,t7B,a6B,gg) || {}
var cur_globalf=gg.f
oFC.wxXCkey=3
oHC(lIC,lIC,oFC,gg)
gg.f=cur_globalf
}
else _w(cGC,x[5],28,56)
}
xAC.wxXCkey=1
_(e8B,o0B)
return e8B
}
o4B.wxXCkey=2
_2z(z,6,l5B,e,s,gg,o4B,'image','idx','idx')
}
var c3B=_v()
_(cZB,c3B)
if(_oz(z,18,e,s,gg)){c3B.wxVkey=1
}
h1B.wxXCkey=1
o2B.wxXCkey=1
c3B.wxXCkey=1
_(eTB,cZB)
var oVB=_v()
_(eTB,oVB)
if(_oz(z,19,e,s,gg)){oVB.wxVkey=1
}
var xWB=_v()
_(eTB,xWB)
if(_oz(z,20,e,s,gg)){xWB.wxVkey=1
}
var oXB=_v()
_(eTB,oXB)
if(_oz(z,21,e,s,gg)){oXB.wxVkey=1
var aJC=_v()
_(oXB,aJC)
var tKC=function(bMC,eLC,oNC,gg){
var oPC=_v()
_(oNC,oPC)
if(_oz(z,25,bMC,eLC,gg)){oPC.wxVkey=1
}
oPC.wxXCkey=1
return oNC
}
aJC.wxXCkey=2
_2z(z,23,tKC,e,s,gg,aJC,'visit','index','lid')
}
var fQC=_n('join-group-footer')
_rz(z,fQC,'gid',26,e,s,gg)
_(eTB,fQC)
var cRC=_mz(z,'vip-renewal-modal',['avatar',27,'class',1,'gid',2],[],e,s,gg)
_(eTB,cRC)
var fYB=_v()
_(eTB,fYB)
if(_oz(z,30,e,s,gg)){fYB.wxVkey=1
var hSC=_n('view')
_rz(z,hSC,'class',31,e,s,gg)
var oTC=_v()
_(hSC,oTC)
if(_oz(z,32,e,s,gg)){oTC.wxVkey=1
}
var cUC=_mz(z,'view',['class',33,'slot',1],[],e,s,gg)
var oVC=_v()
_(cUC,oVC)
if(_oz(z,35,e,s,gg)){oVC.wxVkey=1
}
oVC.wxXCkey=1
_(hSC,cUC)
oTC.wxXCkey=1
_(fYB,hSC)
}
oVB.wxXCkey=1
xWB.wxXCkey=1
oXB.wxXCkey=1
fYB.wxXCkey=1
bUB.pop()
_(r,eTB)
return r
}
e_[x[5]]={f:m3,j:[],i:[],ti:[],ic:[]}
d_[x[7]]={}
var m4=function(e,s,r,gg){
var z=gz$gwx_5()
var aXC=_mz(z,'form',['bindsubmit',0,'class',1,'reportSubmit',1],[],e,s,gg)
var tYC=e_[x[7]].i
_ai(tYC,x[6],e_,x[7],5,8)
var b1C=_n('view')
_rz(z,b1C,'class',3,e,s,gg)
var x3C=_v()
_(b1C,x3C)
var o4C=function(c6C,f5C,h7C,gg){
var c9C=_v()
_(h7C,c9C)
if(_oz(z,8,c6C,f5C,gg)){c9C.wxVkey=1
var o0C=_mz(z,'view',['catchtap',9,'class',1,'data-wpypreviewimage-a',2,'data-wpypreviewimage-b',3],[],c6C,f5C,gg)
var lAD=_v()
_(o0C,lAD)
if(_oz(z,13,c6C,f5C,gg)){lAD.wxVkey=1
var aBD=_v()
_(lAD,aBD)
var tCD=_oz(z,15,c6C,f5C,gg)
var eDD=_gd(x[7],tCD,e_,d_)
if(eDD){
var bED=_1z(z,14,c6C,f5C,gg) || {}
var cur_globalf=gg.f
aBD.wxXCkey=3
eDD(bED,bED,aBD,gg)
gg.f=cur_globalf
}
else _w(tCD,x[7],26,62)
}
else if(_oz(z,16,c6C,f5C,gg)){lAD.wxVkey=2
var oFD=_v()
_(lAD,oFD)
var xGD=_oz(z,18,c6C,f5C,gg)
var oHD=_gd(x[7],xGD,e_,d_)
if(oHD){
var fID=_1z(z,17,c6C,f5C,gg) || {}
var cur_globalf=gg.f
oFD.wxXCkey=3
oHD(fID,fID,oFD,gg)
gg.f=cur_globalf
}
else _w(xGD,x[7],27,79)
}
else{lAD.wxVkey=3
var cJD=_v()
_(lAD,cJD)
var hKD=_oz(z,20,c6C,f5C,gg)
var oLD=_gd(x[7],hKD,e_,d_)
if(oLD){
var cMD=_1z(z,19,c6C,f5C,gg) || {}
var cur_globalf=gg.f
cJD.wxXCkey=3
oLD(cMD,cMD,cJD,gg)
gg.f=cur_globalf
}
else _w(hKD,x[7],28,42)
}
lAD.wxXCkey=1
_(c9C,o0C)
}
c9C.wxXCkey=1
return h7C
}
x3C.wxXCkey=2
_2z(z,6,o4C,e,s,gg,x3C,'image','idx','key')
var o2C=_v()
_(b1C,o2C)
if(_oz(z,21,e,s,gg)){o2C.wxVkey=1
}
o2C.wxXCkey=1
_(aXC,b1C)
var eZC=_v()
_(aXC,eZC)
if(_oz(z,22,e,s,gg)){eZC.wxVkey=1
}
eZC.wxXCkey=1
tYC.pop()
_(r,aXC)
return r
}
e_[x[7]]={f:m4,j:[],i:[],ti:[],ic:[]}
d_[x[8]]={}
var m5=function(e,s,r,gg){
var z=gz$gwx_6()
var lOD=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var aPD=e_[x[8]].i
_ai(aPD,x[9],e_,x[8],3,6)
var tQD=_mz(z,'view',['class',2,'style',1],[],e,s,gg)
var eRD=_v()
_(tQD,eRD)
if(_oz(z,4,e,s,gg)){eRD.wxVkey=1
var oTD=_mz(z,'scroll-view',['scrollY',-1,'bindscrolltolower',5,'style',1],[],e,s,gg)
var oVD=_n('view')
_rz(z,oVD,'style',7,e,s,gg)
var cXD=_v()
_(oVD,cXD)
var hYD=function(c1D,oZD,o2D,gg){
var a4D=_mz(z,'view',['bindtap',11,'class',1,'data-wpytodetail-a',2],[],c1D,oZD,gg)
var t5D=_v()
_(a4D,t5D)
if(_oz(z,14,c1D,oZD,gg)){t5D.wxVkey=1
var e6D=_v()
_(t5D,e6D)
if(_oz(z,15,c1D,oZD,gg)){e6D.wxVkey=1
}
e6D.wxXCkey=1
}
t5D.wxXCkey=1
_(o2D,a4D)
return o2D
}
cXD.wxXCkey=2
_2z(z,9,hYD,e,s,gg,cXD,'item','index','id')
var fWD=_v()
_(oVD,fWD)
if(_oz(z,16,e,s,gg)){fWD.wxVkey=1
}
fWD.wxXCkey=1
_(oTD,oVD)
var xUD=_v()
_(oTD,xUD)
if(_oz(z,17,e,s,gg)){xUD.wxVkey=1
}
xUD.wxXCkey=1
_(eRD,oTD)
}
else{eRD.wxVkey=2
var b7D=_v()
_(eRD,b7D)
var o8D=_oz(z,19,e,s,gg)
var x9D=_gd(x[8],o8D,e_,d_)
if(x9D){
var o0D=_1z(z,18,e,s,gg) || {}
var cur_globalf=gg.f
b7D.wxXCkey=3
x9D(o0D,o0D,b7D,gg)
gg.f=cur_globalf
}
else _w(o8D,x[8],49,22)
}
var bSD=_v()
_(tQD,bSD)
if(_oz(z,20,e,s,gg)){bSD.wxVkey=1
}
eRD.wxXCkey=1
bSD.wxXCkey=1
_(lOD,tQD)
aPD.pop()
_(r,lOD)
return r
}
e_[x[8]]={f:m5,j:[],i:[],ti:[],ic:[]}
d_[x[10]]={}
var m6=function(e,s,r,gg){
var z=gz$gwx_7()
var cBE=e_[x[10]].i
_ai(cBE,x[2],e_,x[10],3,6)
_ai(cBE,x[6],e_,x[10],4,6)
var hCE=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var oDE=_v()
_(hCE,oDE)
if(_oz(z,2,e,s,gg)){oDE.wxVkey=1
var oFE=_mz(z,'answer-detail',['aid',3,'answer',1,'bind:deleteAnswer',2,'bind:showOptionList',3,'bind:showSupplementForm',4,'bind:toRating',5,'bind:viewMedia',6,'checkBeforeViewMedia',7,'group',8,'homework',9,'id',10,'isDetailPage',11,'questionSet',12,'showAnswerContent',13,'showHomeworkBtn',14,'showImageEditBtn',15,'showOptionBtn',16,'showRateBtn',17,'showRating',18,'showRatingContent',19,'showRatingResult',20,'showSupplementBtn',21,'style',22,'supplements',23,'tempVideoKey',24],[],e,s,gg)
_(oDE,oFE)
}
var cEE=_v()
_(hCE,cEE)
if(_oz(z,28,e,s,gg)){cEE.wxVkey=1
var lGE=_mz(z,'rating-form',['aids',29,'bind:onSubmitted',1,'hasRated',2,'hid',3,'id',4,'restCount',5],[],e,s,gg)
_(cEE,lGE)
}
else if(_oz(z,35,e,s,gg)){cEE.wxVkey=2
var aHE=_v()
_(cEE,aHE)
if(_oz(z,36,e,s,gg)){aHE.wxVkey=1
var tIE=_mz(z,'form',['bindsubmit',37,'reportSubmit',1],[],e,s,gg)
var eJE=_v()
_(tIE,eJE)
if(_oz(z,39,e,s,gg)){eJE.wxVkey=1
var bKE=_mz(z,'video-cover',['bind:delete',40,'class',1,'src',2,'style',3],[],e,s,gg)
_(eJE,bKE)
}
var oLE=_n('view')
_rz(z,oLE,'class',44,e,s,gg)
var cPE=_v()
_(oLE,cPE)
var hQE=function(cSE,oRE,oTE,gg){
var aVE=_mz(z,'view',['catchtap',49,'class',1,'data-wpypreviewmixedimage-a',2,'data-wpypreviewmixedimage-b',3],[],cSE,oRE,gg)
var tWE=_v()
_(aVE,tWE)
if(_oz(z,53,cSE,oRE,gg)){tWE.wxVkey=1
var eXE=_v()
_(tWE,eXE)
if(_oz(z,54,cSE,oRE,gg)){eXE.wxVkey=1
var bYE=_v()
_(eXE,bYE)
var oZE=_oz(z,56,cSE,oRE,gg)
var x1E=_gd(x[10],oZE,e_,d_)
if(x1E){
var o2E=_1z(z,55,cSE,oRE,gg) || {}
var cur_globalf=gg.f
bYE.wxXCkey=3
x1E(o2E,o2E,bYE,gg)
gg.f=cur_globalf
}
else _w(oZE,x[10],33,59)
}
else{eXE.wxVkey=2
var f3E=_v()
_(eXE,f3E)
var c4E=_oz(z,58,cSE,oRE,gg)
var h5E=_gd(x[10],c4E,e_,d_)
if(h5E){
var o6E=_1z(z,57,cSE,oRE,gg) || {}
var cur_globalf=gg.f
f3E.wxXCkey=3
h5E(o6E,o6E,f3E,gg)
gg.f=cur_globalf
}
else _w(c4E,x[10],34,42)
}
eXE.wxXCkey=1
}
else{tWE.wxVkey=2
var c7E=_v()
_(tWE,c7E)
var o8E=_oz(z,60,cSE,oRE,gg)
var l9E=_gd(x[10],o8E,e_,d_)
if(l9E){
var a0E=_1z(z,59,cSE,oRE,gg) || {}
var cur_globalf=gg.f
c7E.wxXCkey=3
l9E(a0E,a0E,c7E,gg)
gg.f=cur_globalf
}
else _w(o8E,x[10],40,34)
}
tWE.wxXCkey=1
_(oTE,aVE)
return oTE
}
cPE.wxXCkey=2
_2z(z,47,hQE,e,s,gg,cPE,'image','idx','key')
var tAF=_v()
_(oLE,tAF)
var eBF=function(oDF,bCF,xEF,gg){
var fGF=_mz(z,'audio-player',['height',65,'id',1,'url',2,'width',3],[],oDF,bCF,gg)
_(xEF,fGF)
return xEF
}
tAF.wxXCkey=4
_2z(z,63,eBF,e,s,gg,tAF,'voice','i','voice')
var xME=_v()
_(oLE,xME)
if(_oz(z,69,e,s,gg)){xME.wxVkey=1
}
var oNE=_v()
_(oLE,oNE)
if(_oz(z,70,e,s,gg)){oNE.wxVkey=1
}
var fOE=_v()
_(oLE,fOE)
if(_oz(z,71,e,s,gg)){fOE.wxVkey=1
}
xME.wxXCkey=1
oNE.wxXCkey=1
fOE.wxXCkey=1
_(tIE,oLE)
eJE.wxXCkey=1
eJE.wxXCkey=3
_(aHE,tIE)
}
aHE.wxXCkey=1
aHE.wxXCkey=3
}
oDE.wxXCkey=1
oDE.wxXCkey=3
cEE.wxXCkey=1
cEE.wxXCkey=3
cEE.wxXCkey=3
_(r,hCE)
var cHF=_n('auth-modal')
_rz(z,cHF,'id',72,e,s,gg)
_(r,cHF)
var hIF=_mz(z,'recorder',['bind:success',73,'id',1],[],e,s,gg)
_(r,hIF)
cBE.pop()
cBE.pop()
return r
}
e_[x[10]]={f:m6,j:[],i:[],ti:[],ic:[]}
d_[x[11]]={}
var m7=function(e,s,r,gg){
var z=gz$gwx_8()
return r
}
e_[x[11]]={f:m7,j:[],i:[],ti:[],ic:[]}
d_[x[12]]={}
var m8=function(e,s,r,gg){
var z=gz$gwx_9()
var oLF=_n('view')
_rz(z,oLF,'class',0,e,s,gg)
var lMF=e_[x[12]].i
_ai(lMF,x[13],e_,x[12],4,6)
var aNF=_v()
_(oLF,aNF)
if(_oz(z,1,e,s,gg)){aNF.wxVkey=1
}
var tOF=_v()
_(oLF,tOF)
if(_oz(z,2,e,s,gg)){tOF.wxVkey=1
var ePF=_v()
_(tOF,ePF)
if(_oz(z,3,e,s,gg)){ePF.wxVkey=1
}
var xSF=_mz(z,'view',['class',4,'style',1],[],e,s,gg)
var oTF=_v()
_(xSF,oTF)
var fUF=function(hWF,cVF,oXF,gg){
var oZF=_mz(z,'view',['bindtap',10,'class',1,'data-wpyvisitorlist-a',2],[],hWF,cVF,gg)
var l1F=_v()
_(oZF,l1F)
var a2F=_oz(z,14,hWF,cVF,gg)
var t3F=_gd(x[12],a2F,e_,d_)
if(t3F){
var e4F=_1z(z,13,hWF,cVF,gg) || {}
var cur_globalf=gg.f
l1F.wxXCkey=3
t3F(e4F,e4F,l1F,gg)
gg.f=cur_globalf
}
else _w(a2F,x[12],70,28)
var b5F=_mz(z,'view',['class',15,'style',1],[],hWF,cVF,gg)
var o6F=_v()
_(b5F,o6F)
if(_oz(z,17,hWF,cVF,gg)){o6F.wxVkey=1
}
var x7F=_n('view')
_rz(z,x7F,'style',18,hWF,cVF,gg)
var o8F=_v()
_(x7F,o8F)
if(_oz(z,19,hWF,cVF,gg)){o8F.wxVkey=1
}
var f9F=_v()
_(x7F,f9F)
if(_oz(z,20,hWF,cVF,gg)){f9F.wxVkey=1
}
var c0F=_v()
_(x7F,c0F)
if(_oz(z,21,hWF,cVF,gg)){c0F.wxVkey=1
}
o8F.wxXCkey=1
f9F.wxXCkey=1
c0F.wxXCkey=1
_(b5F,x7F)
o6F.wxXCkey=1
_(oZF,b5F)
var hAG=_n('view')
_rz(z,hAG,'style',22,hWF,cVF,gg)
var oBG=_v()
_(hAG,oBG)
if(_oz(z,23,hWF,cVF,gg)){oBG.wxVkey=1
}
var cCG=_v()
_(hAG,cCG)
if(_oz(z,24,hWF,cVF,gg)){cCG.wxVkey=1
}
var oDG=_v()
_(hAG,oDG)
if(_oz(z,25,hWF,cVF,gg)){oDG.wxVkey=1
}
oBG.wxXCkey=1
cCG.wxXCkey=1
oDG.wxXCkey=1
_(oZF,hAG)
_(oXF,oZF)
return oXF
}
oTF.wxXCkey=2
_2z(z,8,fUF,e,s,gg,oTF,'partner','index','index')
var lEG=_mz(z,'view',['class',26,'hidden',1],[],e,s,gg)
var tGG=_v()
_(lEG,tGG)
var eHG=function(oJG,bIG,xKG,gg){
var fMG=_mz(z,'view',['bindtap',32,'class',1,'data-wpyvisitorlist-a',2],[],oJG,bIG,gg)
var cNG=_v()
_(fMG,cNG)
var hOG=_oz(z,36,oJG,bIG,gg)
var oPG=_gd(x[12],hOG,e_,d_)
if(oPG){
var cQG=_1z(z,35,oJG,bIG,gg) || {}
var cur_globalf=gg.f
cNG.wxXCkey=3
oPG(cQG,cQG,cNG,gg)
gg.f=cur_globalf
}
else _w(hOG,x[12],104,28)
var oRG=_mz(z,'view',['class',37,'style',1],[],oJG,bIG,gg)
var lSG=_v()
_(oRG,lSG)
if(_oz(z,39,oJG,bIG,gg)){lSG.wxVkey=1
}
var aTG=_n('view')
_rz(z,aTG,'style',40,oJG,bIG,gg)
var tUG=_v()
_(aTG,tUG)
if(_oz(z,41,oJG,bIG,gg)){tUG.wxVkey=1
}
var eVG=_v()
_(aTG,eVG)
if(_oz(z,42,oJG,bIG,gg)){eVG.wxVkey=1
}
var bWG=_v()
_(aTG,bWG)
if(_oz(z,43,oJG,bIG,gg)){bWG.wxVkey=1
}
tUG.wxXCkey=1
eVG.wxXCkey=1
bWG.wxXCkey=1
_(oRG,aTG)
lSG.wxXCkey=1
_(fMG,oRG)
var oXG=_n('view')
_rz(z,oXG,'style',44,oJG,bIG,gg)
var xYG=_v()
_(oXG,xYG)
if(_oz(z,45,oJG,bIG,gg)){xYG.wxVkey=1
}
var oZG=_v()
_(oXG,oZG)
if(_oz(z,46,oJG,bIG,gg)){oZG.wxVkey=1
}
xYG.wxXCkey=1
oZG.wxXCkey=1
_(fMG,oXG)
_(xKG,fMG)
return xKG
}
tGG.wxXCkey=2
_2z(z,30,eHG,e,s,gg,tGG,'partner','index','index')
var aFG=_v()
_(lEG,aFG)
if(_oz(z,47,e,s,gg)){aFG.wxVkey=1
}
aFG.wxXCkey=1
_(xSF,lEG)
var f1G=_mz(z,'view',['class',48,'hidden',1],[],e,s,gg)
var h3G=_v()
_(f1G,h3G)
var o4G=function(o6G,c5G,l7G,gg){
var t9G=_v()
_(l7G,t9G)
if(_oz(z,52,o6G,c5G,gg)){t9G.wxVkey=1
}
t9G.wxXCkey=1
return l7G
}
h3G.wxXCkey=2
_2z(z,50,o4G,e,s,gg,h3G,'item','index','child')
var c2G=_v()
_(f1G,c2G)
if(_oz(z,53,e,s,gg)){c2G.wxVkey=1
}
c2G.wxXCkey=1
_(xSF,f1G)
_(tOF,xSF)
var bQF=_v()
_(tOF,bQF)
if(_oz(z,54,e,s,gg)){bQF.wxVkey=1
}
var oRF=_v()
_(tOF,oRF)
if(_oz(z,55,e,s,gg)){oRF.wxVkey=1
}
ePF.wxXCkey=1
bQF.wxXCkey=1
oRF.wxXCkey=1
}
aNF.wxXCkey=1
tOF.wxXCkey=1
lMF.pop()
_(r,oLF)
var e0G=_mz(z,'follow-modal',['bind:onHide',56,'id',1],[],e,s,gg)
_(r,e0G)
return r
}
e_[x[12]]={f:m8,j:[],i:[],ti:[],ic:[]}
d_[x[14]]={}
var m9=function(e,s,r,gg){
var z=gz$gwx_10()
var oBH=_n('view')
_rz(z,oBH,'class',0,e,s,gg)
var xCH=e_[x[14]].i
_ai(xCH,x[13],e_,x[14],4,6)
_ai(xCH,x[6],e_,x[14],5,6)
var oDH=_v()
_(oBH,oDH)
if(_oz(z,1,e,s,gg)){oDH.wxVkey=1
var cFH=_mz(z,'group-picker',['alignLeft',2,'bind:onChange',1,'bind:onLoad',2,'id',3],[],e,s,gg)
_(oDH,cFH)
}
var fEH=_v()
_(oBH,fEH)
if(_oz(z,6,e,s,gg)){fEH.wxVkey=1
var hGH=_n('view')
var oHH=_mz(z,'form',['bindsubmit',7,'class',1,'reportSubmit',2,'style',3],[],e,s,gg)
var cIH=_v()
_(oHH,cIH)
if(_oz(z,11,e,s,gg)){cIH.wxVkey=1
var xQH=_mz(z,'view',['class',12,'style',1],[],e,s,gg)
var oRH=_v()
_(xQH,oRH)
if(_oz(z,14,e,s,gg)){oRH.wxVkey=1
}
var fSH=_v()
_(xQH,fSH)
if(_oz(z,15,e,s,gg)){fSH.wxVkey=1
}
oRH.wxXCkey=1
fSH.wxXCkey=1
_(cIH,xQH)
}
var oJH=_v()
_(oHH,oJH)
if(_oz(z,16,e,s,gg)){oJH.wxVkey=1
var cTH=_v()
_(oJH,cTH)
if(_oz(z,17,e,s,gg)){cTH.wxVkey=1
var hUH=_mz(z,'lesson-selector',['bind:onChange',18,'gid',1,'id',2,'showBorderTop',3,'source',4,'type',5],[],e,s,gg)
_(cTH,hUH)
}
cTH.wxXCkey=1
cTH.wxXCkey=3
}
var lKH=_v()
_(oHH,lKH)
if(_oz(z,24,e,s,gg)){lKH.wxVkey=1
var cWH=_n('view')
_rz(z,cWH,'class',25,e,s,gg)
var lYH=_n('view')
_rz(z,lYH,'class',26,e,s,gg)
var aZH=_v()
_(lYH,aZH)
if(_oz(z,27,e,s,gg)){aZH.wxVkey=1
}
var t1H=_n('view')
_rz(z,t1H,'class',28,e,s,gg)
var e2H=_v()
_(t1H,e2H)
if(_oz(z,29,e,s,gg)){e2H.wxVkey=1
}
else if(_oz(z,30,e,s,gg)){e2H.wxVkey=2
}
else{e2H.wxVkey=3
var b3H=_v()
_(e2H,b3H)
if(_oz(z,31,e,s,gg)){b3H.wxVkey=1
}
b3H.wxXCkey=1
}
e2H.wxXCkey=1
_(lYH,t1H)
aZH.wxXCkey=1
_(cWH,lYH)
var oXH=_v()
_(cWH,oXH)
if(_oz(z,32,e,s,gg)){oXH.wxVkey=1
var o4H=_n('view')
_rz(z,o4H,'class',33,e,s,gg)
var x5H=_v()
_(o4H,x5H)
if(_oz(z,34,e,s,gg)){x5H.wxVkey=1
var o6H=_n('view')
_rz(z,o6H,'class',35,e,s,gg)
var c8H=_v()
_(o6H,c8H)
var h9H=_oz(z,37,e,s,gg)
var o0H=_gd(x[14],h9H,e_,d_)
if(o0H){
var cAI=_1z(z,36,e,s,gg) || {}
var cur_globalf=gg.f
c8H.wxXCkey=3
o0H(cAI,cAI,c8H,gg)
gg.f=cur_globalf
}
else _w(h9H,x[14],164,32)
var f7H=_v()
_(o6H,f7H)
if(_oz(z,38,e,s,gg)){f7H.wxVkey=1
}
f7H.wxXCkey=1
_(x5H,o6H)
}
var oBI=_n('view')
_rz(z,oBI,'class',39,e,s,gg)
var lCI=_v()
_(oBI,lCI)
if(_oz(z,40,e,s,gg)){lCI.wxVkey=1
var tEI=_v()
_(lCI,tEI)
var eFI=function(oHI,bGI,xII,gg){
var fKI=_mz(z,'view',['catchtap',45,'class',1,'data-wpypreviewimage-a',2,'data-wpypreviewimage-b',3],[],oHI,bGI,gg)
var cLI=_v()
_(fKI,cLI)
var hMI=_oz(z,50,oHI,bGI,gg)
var oNI=_gd(x[14],hMI,e_,d_)
if(oNI){
var cOI=_1z(z,49,oHI,bGI,gg) || {}
var cur_globalf=gg.f
cLI.wxXCkey=3
oNI(cOI,cOI,cLI,gg)
gg.f=cur_globalf
}
else _w(hMI,x[14],178,34)
_(xII,fKI)
return xII
}
tEI.wxXCkey=2
_2z(z,43,eFI,e,s,gg,tEI,'img','imgIdx','imgIdx')
}
var aDI=_v()
_(oBI,aDI)
if(_oz(z,51,e,s,gg)){aDI.wxVkey=1
var oPI=_mz(z,'view',['catchtap',52,'class',1],[],e,s,gg)
var lQI=_v()
_(oPI,lQI)
var aRI=_oz(z,55,e,s,gg)
var tSI=_gd(x[14],aRI,e_,d_)
if(tSI){
var eTI=_1z(z,54,e,s,gg) || {}
var cur_globalf=gg.f
lQI.wxXCkey=3
tSI(eTI,eTI,lQI,gg)
gg.f=cur_globalf
}
else _w(aRI,x[14],185,36)
_(aDI,oPI)
}
lCI.wxXCkey=1
aDI.wxXCkey=1
_(o4H,oBI)
x5H.wxXCkey=1
_(oXH,o4H)
}
oXH.wxXCkey=1
_(lKH,cWH)
var oVH=_v()
_(lKH,oVH)
if(_oz(z,56,e,s,gg)){oVH.wxVkey=1
}
oVH.wxXCkey=1
}
var aLH=_v()
_(oHH,aLH)
if(_oz(z,57,e,s,gg)){aLH.wxVkey=1
var bUI=_v()
_(aLH,bUI)
if(_oz(z,58,e,s,gg)){bUI.wxVkey=1
var xWI=_v()
_(bUI,xWI)
if(_oz(z,59,e,s,gg)){xWI.wxVkey=1
}
xWI.wxXCkey=1
}
var oVI=_v()
_(aLH,oVI)
if(_oz(z,60,e,s,gg)){oVI.wxVkey=1
var oXI=_v()
_(oVI,oXI)
if(_oz(z,61,e,s,gg)){oXI.wxVkey=1
var fYI=_v()
_(oXI,fYI)
if(_oz(z,62,e,s,gg)){fYI.wxVkey=1
}
fYI.wxXCkey=1
}
oXI.wxXCkey=1
}
bUI.wxXCkey=1
oVI.wxXCkey=1
}
var tMH=_v()
_(oHH,tMH)
if(_oz(z,63,e,s,gg)){tMH.wxVkey=1
}
var eNH=_v()
_(oHH,eNH)
if(_oz(z,64,e,s,gg)){eNH.wxVkey=1
var cZI=_n('view')
var h1I=_v()
_(cZI,h1I)
if(_oz(z,65,e,s,gg)){h1I.wxVkey=1
var o2I=_v()
_(h1I,o2I)
if(_oz(z,66,e,s,gg)){o2I.wxVkey=1
}
var c3I=_mz(z,'view',['class',67,'style',1],[],e,s,gg)
var o4I=_mz(z,'view',['class',69,'style',1],[],e,s,gg)
var a6I=_mz(z,'view',['catchtap',71,'class',1,'style',2],[],e,s,gg)
var t7I=_v()
_(a6I,t7I)
if(_oz(z,74,e,s,gg)){t7I.wxVkey=1
}
t7I.wxXCkey=1
_(o4I,a6I)
var e8I=_mz(z,'view',['catchtap',75,'class',1,'style',2],[],e,s,gg)
var b9I=_v()
_(e8I,b9I)
if(_oz(z,78,e,s,gg)){b9I.wxVkey=1
}
b9I.wxXCkey=1
_(o4I,e8I)
var l5I=_v()
_(o4I,l5I)
if(_oz(z,79,e,s,gg)){l5I.wxVkey=1
}
l5I.wxXCkey=1
_(c3I,o4I)
var o0I=_v()
_(c3I,o0I)
var xAJ=function(fCJ,oBJ,cDJ,gg){
var oFJ=_v()
_(cDJ,oFJ)
if(_oz(z,84,fCJ,oBJ,gg)){oFJ.wxVkey=1
}
oFJ.wxXCkey=1
return cDJ
}
o0I.wxXCkey=2
_2z(z,82,xAJ,e,s,gg,o0I,'student','idx','idx')
_(h1I,c3I)
o2I.wxXCkey=1
}
else{h1I.wxVkey=2
var cGJ=_v()
_(h1I,cGJ)
var oHJ=function(aJJ,lIJ,tKJ,gg){
var bMJ=_n('view')
_rz(z,bMJ,'class',87,aJJ,lIJ,gg)
var oNJ=_v()
_(bMJ,oNJ)
if(_oz(z,88,aJJ,lIJ,gg)){oNJ.wxVkey=1
}
var xOJ=_v()
_(bMJ,xOJ)
if(_oz(z,89,aJJ,lIJ,gg)){xOJ.wxVkey=1
var oPJ=_n('view')
_rz(z,oPJ,'class',90,aJJ,lIJ,gg)
var fQJ=_v()
_(oPJ,fQJ)
if(_oz(z,91,aJJ,lIJ,gg)){fQJ.wxVkey=1
var cRJ=_n('view')
_rz(z,cRJ,'class',92,aJJ,lIJ,gg)
var oTJ=_v()
_(cRJ,oTJ)
var cUJ=_oz(z,94,aJJ,lIJ,gg)
var oVJ=_gd(x[14],cUJ,e_,d_)
if(oVJ){
var lWJ=_1z(z,93,aJJ,lIJ,gg) || {}
var cur_globalf=gg.f
oTJ.wxXCkey=3
oVJ(lWJ,lWJ,oTJ,gg)
gg.f=cur_globalf
}
else _w(cUJ,x[14],328,32)
var hSJ=_v()
_(cRJ,hSJ)
if(_oz(z,95,aJJ,lIJ,gg)){hSJ.wxVkey=1
}
hSJ.wxXCkey=1
_(fQJ,cRJ)
}
var aXJ=_n('view')
_rz(z,aXJ,'class',96,aJJ,lIJ,gg)
var tYJ=_v()
_(aXJ,tYJ)
if(_oz(z,97,aJJ,lIJ,gg)){tYJ.wxVkey=1
var b1J=_v()
_(tYJ,b1J)
var o2J=function(o4J,x3J,f5J,gg){
var h7J=_mz(z,'view',['catchtap',102,'class',1,'data-wpypreviewimage-a',2,'data-wpypreviewimage-b',3],[],o4J,x3J,gg)
var o8J=_v()
_(h7J,o8J)
var c9J=_oz(z,107,o4J,x3J,gg)
var o0J=_gd(x[14],c9J,e_,d_)
if(o0J){
var lAK=_1z(z,106,o4J,x3J,gg) || {}
var cur_globalf=gg.f
o8J.wxXCkey=3
o0J(lAK,lAK,o8J,gg)
gg.f=cur_globalf
}
else _w(c9J,x[14],342,34)
_(f5J,h7J)
return f5J
}
b1J.wxXCkey=2
_2z(z,100,o2J,aJJ,lIJ,gg,b1J,'img','imgIdx','imgIdx')
}
var eZJ=_v()
_(aXJ,eZJ)
if(_oz(z,108,aJJ,lIJ,gg)){eZJ.wxVkey=1
var aBK=_v()
_(eZJ,aBK)
var tCK=_oz(z,110,aJJ,lIJ,gg)
var eDK=_gd(x[14],tCK,e_,d_)
if(eDK){
var bEK=_1z(z,109,aJJ,lIJ,gg) || {}
var cur_globalf=gg.f
aBK.wxXCkey=3
eDK(bEK,bEK,aBK,gg)
gg.f=cur_globalf
}
else _w(tCK,x[14],349,36)
}
tYJ.wxXCkey=1
eZJ.wxXCkey=1
_(oPJ,aXJ)
fQJ.wxXCkey=1
_(xOJ,oPJ)
}
oNJ.wxXCkey=1
xOJ.wxXCkey=1
_(tKJ,bMJ)
return tKJ
}
cGJ.wxXCkey=2
_2z(z,85,oHJ,e,s,gg,cGJ,'item','index','child')
}
h1I.wxXCkey=1
_(eNH,cZI)
}
var bOH=_v()
_(oHH,bOH)
if(_oz(z,111,e,s,gg)){bOH.wxVkey=1
var oFK=_n('view')
_rz(z,oFK,'class',112,e,s,gg)
var xGK=_v()
_(oFK,xGK)
if(_oz(z,113,e,s,gg)){xGK.wxVkey=1
}
var oHK=_v()
_(oFK,oHK)
if(_oz(z,114,e,s,gg)){oHK.wxVkey=1
}
xGK.wxXCkey=1
oHK.wxXCkey=1
_(bOH,oFK)
}
var oPH=_v()
_(oHH,oPH)
if(_oz(z,115,e,s,gg)){oPH.wxVkey=1
}
cIH.wxXCkey=1
oJH.wxXCkey=1
oJH.wxXCkey=3
lKH.wxXCkey=1
aLH.wxXCkey=1
tMH.wxXCkey=1
eNH.wxXCkey=1
bOH.wxXCkey=1
oPH.wxXCkey=1
_(hGH,oHH)
var fIK=_n('join-group-footer')
_rz(z,fIK,'gid',116,e,s,gg)
_(hGH,fIK)
var cJK=_mz(z,'vip-renewal-modal',['avatar',117,'class',1,'gid',2],[],e,s,gg)
_(hGH,cJK)
_(fEH,hGH)
}
oDH.wxXCkey=1
oDH.wxXCkey=3
fEH.wxXCkey=1
fEH.wxXCkey=3
xCH.pop()
xCH.pop()
_(r,oBH)
return r
}
e_[x[14]]={f:m9,j:[],i:[],ti:[],ic:[]}
d_[x[15]]={}
var m10=function(e,s,r,gg){
var z=gz$gwx_11()
var oLK=_n('view')
_rz(z,oLK,'class',0,e,s,gg)
var cMK=e_[x[15]].i
_ai(cMK,x[6],e_,x[15],3,6)
var oNK=_mz(z,'form',['bindsubmit',1,'class',1,'reportSubmit',2],[],e,s,gg)
var lOK=_v()
_(oNK,lOK)
if(_oz(z,4,e,s,gg)){lOK.wxVkey=1
var tQK=_v()
_(lOK,tQK)
var eRK=function(oTK,bSK,xUK,gg){
var fWK=_n('view')
_rz(z,fWK,'class',9,oTK,bSK,gg)
var hYK=_mz(z,'view',['catchtap',10,'class',1,'data-wpypreviewmixedimage-a',2,'data-wpypreviewmixedimage-b',3],[],oTK,bSK,gg)
var oZK=_v()
_(hYK,oZK)
if(_oz(z,14,oTK,bSK,gg)){oZK.wxVkey=1
var c1K=_v()
_(oZK,c1K)
var o2K=_oz(z,16,oTK,bSK,gg)
var l3K=_gd(x[15],o2K,e_,d_)
if(l3K){
var a4K=_1z(z,15,oTK,bSK,gg) || {}
var cur_globalf=gg.f
c1K.wxXCkey=3
l3K(a4K,a4K,c1K,gg)
gg.f=cur_globalf
}
else _w(o2K,x[15],40,56)
}
else{oZK.wxVkey=2
var t5K=_v()
_(oZK,t5K)
var e6K=_oz(z,18,oTK,bSK,gg)
var b7K=_gd(x[15],e6K,e_,d_)
if(b7K){
var o8K=_1z(z,17,oTK,bSK,gg) || {}
var cur_globalf=gg.f
t5K.wxXCkey=3
b7K(o8K,o8K,t5K,gg)
gg.f=cur_globalf
}
else _w(e6K,x[15],41,38)
}
oZK.wxXCkey=1
_(fWK,hYK)
var cXK=_v()
_(fWK,cXK)
if(_oz(z,19,oTK,bSK,gg)){cXK.wxVkey=1
}
cXK.wxXCkey=1
_(xUK,fWK)
return xUK
}
tQK.wxXCkey=2
_2z(z,7,eRK,e,s,gg,tQK,'image','idx','idx')
}
var aPK=_v()
_(oNK,aPK)
if(_oz(z,20,e,s,gg)){aPK.wxVkey=1
}
lOK.wxXCkey=1
aPK.wxXCkey=1
_(oLK,oNK)
cMK.pop()
_(r,oLK)
return r
}
e_[x[15]]={f:m10,j:[],i:[],ti:[],ic:[]}
d_[x[16]]={}
var m11=function(e,s,r,gg){
var z=gz$gwx_12()
var o0K=_n('view')
_rz(z,o0K,'class',0,e,s,gg)
var fAL=e_[x[16]].i
_ai(fAL,x[9],e_,x[16],3,6)
var cBL=_v()
_(o0K,cBL)
if(_oz(z,1,e,s,gg)){cBL.wxVkey=1
var hCL=_n('view')
var oFL=_n('checkbox-group')
_rz(z,oFL,'bindchange',2,e,s,gg)
var lGL=_v()
_(oFL,lGL)
var aHL=function(eJL,tIL,bKL,gg){
var xML=_v()
_(bKL,xML)
if(_oz(z,7,eJL,tIL,gg)){xML.wxVkey=1
}
xML.wxXCkey=1
return bKL
}
lGL.wxXCkey=2
_2z(z,5,aHL,e,s,gg,lGL,'item','index','id')
_(hCL,oFL)
var oDL=_v()
_(hCL,oDL)
if(_oz(z,8,e,s,gg)){oDL.wxVkey=1
}
var cEL=_v()
_(hCL,cEL)
if(_oz(z,9,e,s,gg)){cEL.wxVkey=1
var oNL=_mz(z,'label',['catchtap',10,'class',1],[],e,s,gg)
var fOL=_v()
_(oNL,fOL)
if(_oz(z,12,e,s,gg)){fOL.wxVkey=1
}
fOL.wxXCkey=1
_(cEL,oNL)
}
oDL.wxXCkey=1
cEL.wxXCkey=1
_(cBL,hCL)
}
cBL.wxXCkey=1
fAL.pop()
_(r,o0K)
return r
}
e_[x[16]]={f:m11,j:[],i:[],ti:[],ic:[]}
d_[x[17]]={}
var m12=function(e,s,r,gg){
var z=gz$gwx_13()
var hQL=_mz(z,'view',['capture-catch:tap',0,'class',1],[],e,s,gg)
var oRL=e_[x[17]].i
_ai(oRL,x[9],e_,x[17],3,6)
var oTL=_n('view')
_rz(z,oTL,'class',2,e,s,gg)
var aVL=_mz(z,'scroll-view',['scrollY',-1,'bindscrolltolower',3,'class',1,'enableBackToTop',2,'scrollTop',3],[],e,s,gg)
var tWL=_v()
_(aVL,tWL)
if(_oz(z,7,e,s,gg)){tWL.wxVkey=1
var bYL=_v()
_(tWL,bYL)
var oZL=function(o2L,x1L,f3L,gg){
var h5L=_mz(z,'view',['bindtap',12,'class',1,'data-wpytoexam-a',2],[],o2L,x1L,gg)
var c7L=_mz(z,'view',['class',15,'style',1],[],o2L,x1L,gg)
var o8L=_v()
_(c7L,o8L)
if(_oz(z,17,o2L,x1L,gg)){o8L.wxVkey=1
var l9L=_v()
_(o8L,l9L)
if(_oz(z,18,o2L,x1L,gg)){l9L.wxVkey=1
}
l9L.wxXCkey=1
}
else{o8L.wxVkey=2
var a0L=_v()
_(o8L,a0L)
if(_oz(z,19,o2L,x1L,gg)){a0L.wxVkey=1
}
a0L.wxXCkey=1
}
o8L.wxXCkey=1
_(h5L,c7L)
var o6L=_v()
_(h5L,o6L)
if(_oz(z,20,o2L,x1L,gg)){o6L.wxVkey=1
}
o6L.wxXCkey=1
_(f3L,h5L)
return f3L
}
bYL.wxXCkey=2
_2z(z,10,oZL,e,s,gg,bYL,'item','index','id')
}
var tAM=_v()
_(aVL,tAM)
var eBM=_oz(z,22,e,s,gg)
var bCM=_gd(x[17],eBM,e_,d_)
if(bCM){
var oDM=_1z(z,21,e,s,gg) || {}
var cur_globalf=gg.f
tAM.wxXCkey=3
bCM(oDM,oDM,tAM,gg)
gg.f=cur_globalf
}
else _w(eBM,x[17],39,26)
var eXL=_v()
_(aVL,eXL)
if(_oz(z,23,e,s,gg)){eXL.wxVkey=1
}
tWL.wxXCkey=1
eXL.wxXCkey=1
_(oTL,aVL)
var lUL=_v()
_(oTL,lUL)
if(_oz(z,24,e,s,gg)){lUL.wxVkey=1
}
lUL.wxXCkey=1
_(hQL,oTL)
var cSL=_v()
_(hQL,cSL)
if(_oz(z,25,e,s,gg)){cSL.wxVkey=1
var xEM=_n('view')
_rz(z,xEM,'class',26,e,s,gg)
var oFM=_v()
_(xEM,oFM)
if(_oz(z,27,e,s,gg)){oFM.wxVkey=1
}
var fGM=_mz(z,'view',['class',28,'slot',1],[],e,s,gg)
var cHM=_v()
_(fGM,cHM)
if(_oz(z,30,e,s,gg)){cHM.wxVkey=1
}
cHM.wxXCkey=1
_(xEM,fGM)
oFM.wxXCkey=1
_(cSL,xEM)
}
cSL.wxXCkey=1
oRL.pop()
_(r,hQL)
return r
}
e_[x[17]]={f:m12,j:[],i:[],ti:[],ic:[]}
d_[x[18]]={}
var m13=function(e,s,r,gg){
var z=gz$gwx_14()
var oJM=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var cKM=e_[x[18]].i
_ai(cKM,x[13],e_,x[18],3,6)
_ai(cKM,x[2],e_,x[18],4,6)
var oLM=_mz(z,'swiper',['bindanimationfinish',2,'bindchange',1,'current',2,'duration',3,'skipHiddenItemLayout',4,'style',5],[],e,s,gg)
var lMM=_v()
_(oLM,lMM)
var aNM=function(ePM,tOM,bQM,gg){
var xSM=_v()
_(bQM,xSM)
if(_oz(z,12,ePM,tOM,gg)){xSM.wxVkey=1
var oTM=_v()
_(xSM,oTM)
if(_oz(z,13,ePM,tOM,gg)){oTM.wxVkey=1
var fUM=_mz(z,'scroll-view',['enableBackToTop',14,'scrollTop',1,'scrollY',2,'style',3],[],ePM,tOM,gg)
var hWM=_v()
_(fUM,hWM)
var oXM=_oz(z,19,ePM,tOM,gg)
var cYM=_gd(x[18],oXM,e_,d_)
if(cYM){
var oZM=_1z(z,18,ePM,tOM,gg) || {}
var cur_globalf=gg.f
hWM.wxXCkey=3
cYM(oZM,oZM,hWM,gg)
gg.f=cur_globalf
}
else _w(oXM,x[18],11,30)
var cVM=_v()
_(fUM,cVM)
if(_oz(z,20,ePM,tOM,gg)){cVM.wxVkey=1
var l1M=_mz(z,'view',['bindtap',21,'class',1],[],ePM,tOM,gg)
var a2M=_v()
_(l1M,a2M)
if(_oz(z,23,ePM,tOM,gg)){a2M.wxVkey=1
var e4M=_v()
_(a2M,e4M)
var b5M=_oz(z,25,ePM,tOM,gg)
var o6M=_gd(x[18],b5M,e_,d_)
if(o6M){
var x7M=_1z(z,24,ePM,tOM,gg) || {}
var cur_globalf=gg.f
e4M.wxXCkey=3
o6M(x7M,x7M,e4M,gg)
gg.f=cur_globalf
}
else _w(b5M,x[18],19,32)
}
else{a2M.wxVkey=2
}
var t3M=_v()
_(l1M,t3M)
if(_oz(z,26,ePM,tOM,gg)){t3M.wxVkey=1
}
a2M.wxXCkey=1
t3M.wxXCkey=1
_(cVM,l1M)
}
var o8M=_n('view')
_rz(z,o8M,'style',27,ePM,tOM,gg)
var f9M=_v()
_(o8M,f9M)
if(_oz(z,28,ePM,tOM,gg)){f9M.wxVkey=1
}
var c0M=_v()
_(o8M,c0M)
var hAN=function(cCN,oBN,oDN,gg){
var aFN=_v()
_(oDN,aFN)
var tGN=_oz(z,34,cCN,oBN,gg)
var eHN=_gd(x[18],tGN,e_,d_)
if(eHN){
var bIN=_1z(z,33,cCN,oBN,gg) || {}
var cur_globalf=gg.f
aFN.wxXCkey=3
eHN(bIN,bIN,aFN,gg)
gg.f=cur_globalf
}
else _w(tGN,x[18],29,32)
return oDN
}
c0M.wxXCkey=2
_2z(z,31,hAN,ePM,tOM,gg,c0M,'likeItem','likeIndex','key')
f9M.wxXCkey=1
_(fUM,o8M)
cVM.wxXCkey=1
_(oTM,fUM)
}
oTM.wxXCkey=1
}
xSM.wxXCkey=1
return bQM
}
lMM.wxXCkey=2
_2z(z,10,aNM,e,s,gg,lMM,'item','index','key')
_(oJM,oLM)
var oJN=_n('view')
_rz(z,oJN,'class',35,e,s,gg)
var xKN=_v()
_(oJN,xKN)
if(_oz(z,36,e,s,gg)){xKN.wxVkey=1
}
var oLN=_v()
_(oJN,oLN)
if(_oz(z,37,e,s,gg)){oLN.wxVkey=1
}
xKN.wxXCkey=1
oLN.wxXCkey=1
_(oJM,oJN)
cKM.pop()
cKM.pop()
_(r,oJM)
var fMN=_n('auth-modal')
_rz(z,fMN,'id',38,e,s,gg)
_(r,fMN)
var cNN=_n('join-group-footer')
_rz(z,cNN,'gid',39,e,s,gg)
_(r,cNN)
var hON=_mz(z,'vip-renewal-modal',['avatar',40,'class',1,'gid',2],[],e,s,gg)
_(r,hON)
return r
}
e_[x[18]]={f:m13,j:[],i:[],ti:[],ic:[]}
d_[x[19]]={}
d_[x[19]]["homework"]=function(e,s,r,gg){
var z=gz$gwx_15()
var b=x[19]+':homework'
r.wxVkey=b
gg.f=$gdc(f_["./pages/group.wxml"],"",1)
if(p_[b]){_wl(b,x[19]);return}
p_[b]=true
try{
var oB=_n('view')
_rz(z,oB,'class',8,e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,9,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(oB,oD)
if(_oz(z,10,e,s,gg)){oD.wxVkey=1
}
xC.wxXCkey=1
oD.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[19]]["homework-list"]=function(e,s,r,gg){
var z=gz$gwx_15()
var b=x[19]+':homework-list'
r.wxVkey=b
gg.f=$gdc(f_["./pages/group.wxml"],"",1)
if(p_[b]){_wl(b,x[19]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,12,e,s,gg)){oB.wxVkey=1
var xC=_v()
_(oB,xC)
var oD=function(cF,fE,hG,gg){
var cI=_mz(z,'view',['catchtap',16,'class',1,'data-wpyshow-a',2],[],cF,fE,gg)
var oJ=_v()
_(cI,oJ)
var lK=_oz(z,20,cF,fE,gg)
var aL=_gd(x[19],lK,e_,d_)
if(aL){
var tM=_1z(z,19,cF,fE,gg) || {}
var cur_globalf=gg.f
oJ.wxXCkey=3
aL(tM,tM,oJ,gg)
gg.f=cur_globalf
}
else _w(lK,x[19],76,26)
_(hG,cI)
return hG
}
xC.wxXCkey=2
_2z(z,14,oD,e,s,gg,xC,'listItem','index','hid')
}
else{oB.wxVkey=2
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m14=function(e,s,r,gg){
var z=gz$gwx_15()
var cQN=_n('view')
_rz(z,cQN,'class',0,e,s,gg)
var oRN=e_[x[19]].i
_ai(oRN,x[13],e_,x[19],5,6)
_ai(oRN,x[1],e_,x[19],6,6)
var aTN=_mz(z,'view',['catchtap',1,'class',1,'data-wpytopage-a',2],[],e,s,gg)
var tUN=_v()
_(aTN,tUN)
if(_oz(z,4,e,s,gg)){tUN.wxVkey=1
}
tUN.wxXCkey=1
_(cQN,aTN)
var eVN=_n('view')
_rz(z,eVN,'class',5,e,s,gg)
var bWN=_v()
_(eVN,bWN)
if(_oz(z,6,e,s,gg)){bWN.wxVkey=1
}
var oXN=_v()
_(eVN,oXN)
if(_oz(z,21,e,s,gg)){oXN.wxVkey=1
var f1N=_v()
_(oXN,f1N)
var c2N=_oz(z,23,e,s,gg)
var h3N=_gd(x[19],c2N,e_,d_)
if(h3N){
var o4N=_1z(z,22,e,s,gg) || {}
var cur_globalf=gg.f
f1N.wxXCkey=3
h3N(o4N,o4N,f1N,gg)
gg.f=cur_globalf
}
else _w(c2N,x[19],87,24)
}
else{oXN.wxVkey=2
var c5N=_v()
_(oXN,c5N)
var o6N=_oz(z,25,e,s,gg)
var l7N=_gd(x[19],o6N,e_,d_)
if(l7N){
var a8N=_1z(z,24,e,s,gg) || {}
var cur_globalf=gg.f
c5N.wxXCkey=3
l7N(a8N,a8N,c5N,gg)
gg.f=cur_globalf
}
else _w(o6N,x[19],105,26)
}
var xYN=_v()
_(eVN,xYN)
if(_oz(z,26,e,s,gg)){xYN.wxVkey=1
}
var t9N=_mz(z,'view',['class',27,'style',1],[],e,s,gg)
var e0N=_v()
_(t9N,e0N)
if(_oz(z,29,e,s,gg)){e0N.wxVkey=1
}
var bAO=_v()
_(t9N,bAO)
if(_oz(z,30,e,s,gg)){bAO.wxVkey=1
}
var oBO=_v()
_(t9N,oBO)
if(_oz(z,31,e,s,gg)){oBO.wxVkey=1
}
var xCO=_v()
_(t9N,xCO)
if(_oz(z,32,e,s,gg)){xCO.wxVkey=1
}
e0N.wxXCkey=1
bAO.wxXCkey=1
oBO.wxXCkey=1
xCO.wxXCkey=1
_(eVN,t9N)
var oZN=_v()
_(eVN,oZN)
if(_oz(z,33,e,s,gg)){oZN.wxVkey=1
var oDO=_mz(z,'view',['catchtap',34,'class',1,'style',2],[],e,s,gg)
var fEO=_v()
_(oDO,fEO)
var cFO=_oz(z,38,e,s,gg)
var hGO=_gd(x[19],cFO,e_,d_)
if(hGO){
var oHO=_1z(z,37,e,s,gg) || {}
var cur_globalf=gg.f
fEO.wxXCkey=3
hGO(oHO,oHO,fEO,gg)
gg.f=cur_globalf
}
else _w(cFO,x[19],203,26)
_(oZN,oDO)
}
bWN.wxXCkey=1
oXN.wxXCkey=1
xYN.wxXCkey=1
oZN.wxXCkey=1
_(cQN,eVN)
var lSN=_v()
_(cQN,lSN)
if(_oz(z,39,e,s,gg)){lSN.wxVkey=1
}
var cIO=_mz(z,'vip-renewal-modal',['avatar',40,'class',1,'gid',2],[],e,s,gg)
_(cQN,cIO)
lSN.wxXCkey=1
oRN.pop()
oRN.pop()
_(r,cQN)
return r
}
e_[x[19]]={f:m14,j:[],i:[],ti:[],ic:[]}
d_[x[20]]={}
var m15=function(e,s,r,gg){
var z=gz$gwx_16()
return r
}
e_[x[20]]={f:m15,j:[],i:[],ti:[],ic:[]}
d_[x[21]]={}
var m16=function(e,s,r,gg){
var z=gz$gwx_17()
var aLO=_n('view')
_rz(z,aLO,'class',0,e,s,gg)
var tMO=e_[x[21]].i
_ai(tMO,x[13],e_,x[21],4,6)
_ai(tMO,x[1],e_,x[21],5,6)
_ai(tMO,x[2],e_,x[21],6,6)
_ai(tMO,x[6],e_,x[21],7,6)
var eNO=_v()
_(aLO,eNO)
if(_oz(z,1,e,s,gg)){eNO.wxVkey=1
}
var cTO=_mz(z,'follow-modal',['bind:onHide',2,'id',1],[],e,s,gg)
_(aLO,cTO)
var hUO=_mz(z,'view',['class',4,'style',1],[],e,s,gg)
var oXO=_mz(z,'view',['class',6,'style',1],[],e,s,gg)
var e2O=_n('view')
_rz(z,e2O,'style',8,e,s,gg)
var b3O=_v()
_(e2O,b3O)
if(_oz(z,9,e,s,gg)){b3O.wxVkey=1
}
var o4O=_v()
_(e2O,o4O)
if(_oz(z,10,e,s,gg)){o4O.wxVkey=1
}
b3O.wxXCkey=1
o4O.wxXCkey=1
_(oXO,e2O)
var lYO=_v()
_(oXO,lYO)
if(_oz(z,11,e,s,gg)){lYO.wxVkey=1
var x5O=_mz(z,'homeworkmedia',['bind:viewMedia',12,'class',1,'media',2],[],e,s,gg)
var o6O=_v()
_(x5O,o6O)
var f7O=function(h9O,c8O,o0O,gg){
var oBP=_v()
_(o0O,oBP)
if(_oz(z,18,h9O,c8O,gg)){oBP.wxVkey=1
var lCP=_n('view')
_rz(z,lCP,'slot',19,h9O,c8O,gg)
var aDP=_v()
_(lCP,aDP)
if(_oz(z,20,h9O,c8O,gg)){aDP.wxVkey=1
var tEP=_mz(z,'txv-video',['class',21,'playerid',1,'vid',2],[],h9O,c8O,gg)
_(aDP,tEP)
}
aDP.wxXCkey=1
aDP.wxXCkey=3
_(oBP,lCP)
}
oBP.wxXCkey=1
oBP.wxXCkey=3
return o0O
}
o6O.wxXCkey=4
_2z(z,16,f7O,e,s,gg,o6O,'vid','index','vid')
_(lYO,x5O)
}
var aZO=_v()
_(oXO,aZO)
if(_oz(z,24,e,s,gg)){aZO.wxVkey=1
var eFP=_mz(z,'homeworkmedia',['bind:viewMedia',25,'class',1,'inset',2,'media',3],[],e,s,gg)
var bGP=_v()
_(eFP,bGP)
var oHP=function(oJP,xIP,fKP,gg){
var hMP=_v()
_(fKP,hMP)
if(_oz(z,32,oJP,xIP,gg)){hMP.wxVkey=1
var oNP=_n('view')
_rz(z,oNP,'slot',33,oJP,xIP,gg)
var cOP=_v()
_(oNP,cOP)
if(_oz(z,34,oJP,xIP,gg)){cOP.wxVkey=1
var oPP=_mz(z,'txv-video',['class',35,'playerid',1,'vid',2],[],oJP,xIP,gg)
_(cOP,oPP)
}
cOP.wxXCkey=1
cOP.wxXCkey=3
_(hMP,oNP)
}
hMP.wxXCkey=1
hMP.wxXCkey=3
return fKP
}
bGP.wxXCkey=4
_2z(z,30,oHP,e,s,gg,bGP,'vid','index','vid')
_(aZO,eFP)
}
var t1O=_v()
_(oXO,t1O)
if(_oz(z,38,e,s,gg)){t1O.wxVkey=1
}
var lQP=_n('view')
_rz(z,lQP,'class',39,e,s,gg)
var aRP=_n('view')
var tSP=_v()
_(aRP,tSP)
if(_oz(z,40,e,s,gg)){tSP.wxVkey=1
}
var eTP=_n('view')
_rz(z,eTP,'class',41,e,s,gg)
var bUP=_v()
_(eTP,bUP)
if(_oz(z,42,e,s,gg)){bUP.wxVkey=1
}
var oVP=_v()
_(eTP,oVP)
if(_oz(z,43,e,s,gg)){oVP.wxVkey=1
}
var xWP=_v()
_(eTP,xWP)
if(_oz(z,44,e,s,gg)){xWP.wxVkey=1
}
var oXP=_v()
_(eTP,oXP)
if(_oz(z,45,e,s,gg)){oXP.wxVkey=1
}
var fYP=_v()
_(eTP,fYP)
if(_oz(z,46,e,s,gg)){fYP.wxVkey=1
}
var cZP=_v()
_(eTP,cZP)
if(_oz(z,47,e,s,gg)){cZP.wxVkey=1
}
bUP.wxXCkey=1
oVP.wxXCkey=1
xWP.wxXCkey=1
oXP.wxXCkey=1
fYP.wxXCkey=1
cZP.wxXCkey=1
_(aRP,eTP)
tSP.wxXCkey=1
_(lQP,aRP)
var h1P=_n('view')
_rz(z,h1P,'class',48,e,s,gg)
var o2P=_v()
_(h1P,o2P)
if(_oz(z,49,e,s,gg)){o2P.wxVkey=1
}
var c3P=_v()
_(h1P,c3P)
if(_oz(z,50,e,s,gg)){c3P.wxVkey=1
}
var o4P=_v()
_(h1P,o4P)
if(_oz(z,51,e,s,gg)){o4P.wxVkey=1
}
var l5P=_v()
_(h1P,l5P)
if(_oz(z,52,e,s,gg)){l5P.wxVkey=1
}
var a6P=_v()
_(h1P,a6P)
if(_oz(z,53,e,s,gg)){a6P.wxVkey=1
}
var t7P=_v()
_(h1P,t7P)
if(_oz(z,54,e,s,gg)){t7P.wxVkey=1
}
o2P.wxXCkey=1
c3P.wxXCkey=1
o4P.wxXCkey=1
l5P.wxXCkey=1
a6P.wxXCkey=1
t7P.wxXCkey=1
_(lQP,h1P)
_(oXO,lQP)
lYO.wxXCkey=1
lYO.wxXCkey=3
aZO.wxXCkey=1
aZO.wxXCkey=3
t1O.wxXCkey=1
_(hUO,oXO)
var oVO=_v()
_(hUO,oVO)
if(_oz(z,55,e,s,gg)){oVO.wxVkey=1
}
var cWO=_v()
_(hUO,cWO)
if(_oz(z,56,e,s,gg)){cWO.wxVkey=1
}
var e8P=_mz(z,'form',['bindsubmit',57,'hidden',1,'reportSubmit',2],[],e,s,gg)
var b9P=_v()
_(e8P,b9P)
if(_oz(z,60,e,s,gg)){b9P.wxVkey=1
}
var o0P=_v()
_(e8P,o0P)
if(_oz(z,61,e,s,gg)){o0P.wxVkey=1
var xAQ=_mz(z,'video-cover',['bind:delete',62,'class',1,'src',2,'style',3],[],e,s,gg)
_(o0P,xAQ)
}
var oBQ=_n('view')
_rz(z,oBQ,'class',66,e,s,gg)
var oFQ=_v()
_(oBQ,oFQ)
var cGQ=function(lIQ,oHQ,aJQ,gg){
var eLQ=_mz(z,'view',['catchtap',71,'class',1,'data-wpypreviewmixedimage-a',2,'data-wpypreviewmixedimage-b',3],[],lIQ,oHQ,gg)
var bMQ=_v()
_(eLQ,bMQ)
if(_oz(z,75,lIQ,oHQ,gg)){bMQ.wxVkey=1
var oNQ=_v()
_(bMQ,oNQ)
if(_oz(z,76,lIQ,oHQ,gg)){oNQ.wxVkey=1
var xOQ=_v()
_(oNQ,xOQ)
var oPQ=_oz(z,78,lIQ,oHQ,gg)
var fQQ=_gd(x[21],oPQ,e_,d_)
if(fQQ){
var cRQ=_1z(z,77,lIQ,oHQ,gg) || {}
var cur_globalf=gg.f
xOQ.wxXCkey=3
fQQ(cRQ,cRQ,xOQ,gg)
gg.f=cur_globalf
}
else _w(oPQ,x[21],139,61)
}
else{oNQ.wxVkey=2
var hSQ=_v()
_(oNQ,hSQ)
var oTQ=_oz(z,80,lIQ,oHQ,gg)
var cUQ=_gd(x[21],oTQ,e_,d_)
if(cUQ){
var oVQ=_1z(z,79,lIQ,oHQ,gg) || {}
var cur_globalf=gg.f
hSQ.wxXCkey=3
cUQ(oVQ,oVQ,hSQ,gg)
gg.f=cur_globalf
}
else _w(oTQ,x[21],140,44)
}
oNQ.wxXCkey=1
}
else{bMQ.wxVkey=2
var lWQ=_v()
_(bMQ,lWQ)
var aXQ=_oz(z,82,lIQ,oHQ,gg)
var tYQ=_gd(x[21],aXQ,e_,d_)
if(tYQ){
var eZQ=_1z(z,81,lIQ,oHQ,gg) || {}
var cur_globalf=gg.f
lWQ.wxXCkey=3
tYQ(eZQ,eZQ,lWQ,gg)
gg.f=cur_globalf
}
else _w(aXQ,x[21],146,36)
}
bMQ.wxXCkey=1
_(aJQ,eLQ)
return aJQ
}
oFQ.wxXCkey=2
_2z(z,69,cGQ,e,s,gg,oFQ,'image','idx','key')
var b1Q=_v()
_(oBQ,b1Q)
var o2Q=function(o4Q,x3Q,f5Q,gg){
var h7Q=_mz(z,'audio-player',['height',87,'id',1,'url',2,'width',3],[],o4Q,x3Q,gg)
_(f5Q,h7Q)
return f5Q
}
b1Q.wxXCkey=4
_2z(z,85,o2Q,e,s,gg,b1Q,'voice','i','cdnPath')
var fCQ=_v()
_(oBQ,fCQ)
if(_oz(z,91,e,s,gg)){fCQ.wxVkey=1
}
var cDQ=_v()
_(oBQ,cDQ)
if(_oz(z,92,e,s,gg)){cDQ.wxVkey=1
}
var hEQ=_v()
_(oBQ,hEQ)
if(_oz(z,93,e,s,gg)){hEQ.wxVkey=1
}
fCQ.wxXCkey=1
cDQ.wxXCkey=1
hEQ.wxXCkey=1
_(e8P,oBQ)
var o8Q=_n('checkbox-group')
_rz(z,o8Q,'bindchange',94,e,s,gg)
var c9Q=_v()
_(o8Q,c9Q)
if(_oz(z,95,e,s,gg)){c9Q.wxVkey=1
}
c9Q.wxXCkey=1
_(e8P,o8Q)
b9P.wxXCkey=1
o0P.wxXCkey=1
o0P.wxXCkey=3
_(hUO,e8P)
var o0Q=_n('view')
_rz(z,o0Q,'class',96,e,s,gg)
var lAR=_v()
_(o0Q,lAR)
if(_oz(z,97,e,s,gg)){lAR.wxVkey=1
var bER=_n('view')
_rz(z,bER,'class',98,e,s,gg)
var oFR=_v()
_(bER,oFR)
if(_oz(z,99,e,s,gg)){oFR.wxVkey=1
}
var xGR=_v()
_(bER,xGR)
if(_oz(z,100,e,s,gg)){xGR.wxVkey=1
}
var oHR=_n('view')
_rz(z,oHR,'class',101,e,s,gg)
var fIR=_v()
_(oHR,fIR)
if(_oz(z,102,e,s,gg)){fIR.wxVkey=1
}
var cJR=_v()
_(oHR,cJR)
if(_oz(z,103,e,s,gg)){cJR.wxVkey=1
}
var hKR=_v()
_(oHR,hKR)
if(_oz(z,104,e,s,gg)){hKR.wxVkey=1
}
var oLR=_v()
_(oHR,oLR)
if(_oz(z,105,e,s,gg)){oLR.wxVkey=1
}
fIR.wxXCkey=1
cJR.wxXCkey=1
hKR.wxXCkey=1
oLR.wxXCkey=1
_(bER,oHR)
oFR.wxXCkey=1
xGR.wxXCkey=1
_(lAR,bER)
}
var aBR=_v()
_(o0Q,aBR)
if(_oz(z,106,e,s,gg)){aBR.wxVkey=1
var cMR=_v()
_(aBR,cMR)
var oNR=function(aPR,lOR,tQR,gg){
var bSR=_v()
_(tQR,bSR)
if(_oz(z,111,aPR,lOR,gg)){bSR.wxVkey=1
var xUR=_mz(z,'answer-detail',['aid',112,'answer',1,'bind:deleteAnswer',2,'bind:downloadVideo',3,'bind:showOptionList',4,'bind:showSupplementForm',5,'bind:toRating',6,'group',7,'homework',8,'id',9,'isDetailPage',10,'questionSet',11,'show',12,'showAnswerContent',13,'showImageEditBtn',14,'showOptionBtn',15,'showRateBtn',16,'showRating',17,'showRatingContent',18,'showRatingResult',19,'showSupplementBtn',20,'sortIndex',21,'supplements',22,'tempVideoKey',23],[],aPR,lOR,gg)
_(bSR,xUR)
var oTR=_v()
_(bSR,oTR)
if(_oz(z,136,aPR,lOR,gg)){oTR.wxVkey=1
var oVR=_mz(z,'rating-form',['aids',137,'bind:onExitRating',1,'bind:onLoad',2,'bind:onSubmitted',3,'hasRated',4,'hid',5,'id',6,'inline',7,'restCount',8,'style',9],[],aPR,lOR,gg)
_(oTR,oVR)
}
oTR.wxXCkey=1
oTR.wxXCkey=3
}
bSR.wxXCkey=1
bSR.wxXCkey=3
return tQR
}
cMR.wxXCkey=4
_2z(z,109,oNR,e,s,gg,cMR,'myAnswerAid','myAnswerIdx','myAnswerAid')
}
var tCR=_v()
_(o0Q,tCR)
if(_oz(z,147,e,s,gg)){tCR.wxVkey=1
}
var eDR=_v()
_(o0Q,eDR)
if(_oz(z,148,e,s,gg)){eDR.wxVkey=1
var fWR=_v()
_(eDR,fWR)
if(_oz(z,149,e,s,gg)){fWR.wxVkey=1
}
var cXR=_v()
_(eDR,cXR)
if(_oz(z,150,e,s,gg)){cXR.wxVkey=1
}
var hYR=_v()
_(eDR,hYR)
if(_oz(z,151,e,s,gg)){hYR.wxVkey=1
}
else if(_oz(z,152,e,s,gg)){hYR.wxVkey=2
var oZR=_v()
_(hYR,oZR)
var c1R=function(l3R,o2R,a4R,gg){
var e6R=_v()
_(a4R,e6R)
if(_oz(z,157,l3R,o2R,gg)){e6R.wxVkey=1
var o8R=_mz(z,'answer-detail',['aid',158,'answer',1,'bind:deleteAnswer',2,'bind:downloadVideo',3,'bind:showOptionList',4,'bind:toRating',5,'bind:viewMedia',6,'checkBeforeViewMedia',7,'group',8,'homework',9,'id',10,'isDetailPage',11,'questionSet',12,'showAnswerContent',13,'showImageEditBtn',14,'showOptionBtn',15,'showRateBtn',16,'showRating',17,'showRatingContent',18,'showRatingResult',19,'sortIndex',20,'supplements',21,'tempVideoKey',22],[],l3R,o2R,gg)
_(e6R,o8R)
var b7R=_v()
_(e6R,b7R)
if(_oz(z,181,l3R,o2R,gg)){b7R.wxVkey=1
var x9R=_mz(z,'rating-form',['aids',182,'bind:onExitRating',1,'bind:onLoad',2,'bind:onSubmitted',3,'hasRated',4,'hid',5,'id',6,'inline',7,'restCount',8,'style',9],[],l3R,o2R,gg)
_(b7R,x9R)
}
b7R.wxXCkey=1
b7R.wxXCkey=3
}
e6R.wxXCkey=1
e6R.wxXCkey=3
return a4R
}
oZR.wxXCkey=4
_2z(z,155,c1R,e,s,gg,oZR,'answerAid','j','answerAid')
}
else{hYR.wxVkey=3
}
fWR.wxXCkey=1
cXR.wxXCkey=1
hYR.wxXCkey=1
hYR.wxXCkey=3
}
lAR.wxXCkey=1
aBR.wxXCkey=1
aBR.wxXCkey=3
tCR.wxXCkey=1
eDR.wxXCkey=1
eDR.wxXCkey=3
_(hUO,o0Q)
oVO.wxXCkey=1
cWO.wxXCkey=1
_(aLO,hUO)
var bOO=_v()
_(aLO,bOO)
if(_oz(z,192,e,s,gg)){bOO.wxVkey=1
}
var oPO=_v()
_(aLO,oPO)
if(_oz(z,193,e,s,gg)){oPO.wxVkey=1
}
else{oPO.wxVkey=2
var o0R=_v()
_(oPO,o0R)
if(_oz(z,194,e,s,gg)){o0R.wxVkey=1
}
o0R.wxXCkey=1
}
var fAS=_mz(z,'recorder',['bind:success',195,'id',1],[],e,s,gg)
_(aLO,fAS)
var xQO=_v()
_(aLO,xQO)
if(_oz(z,197,e,s,gg)){xQO.wxVkey=1
}
var oRO=_v()
_(aLO,oRO)
if(_oz(z,198,e,s,gg)){oRO.wxVkey=1
}
var fSO=_v()
_(aLO,fSO)
if(_oz(z,199,e,s,gg)){fSO.wxVkey=1
var cBS=_n('view')
_rz(z,cBS,'class',200,e,s,gg)
var hCS=_v()
_(cBS,hCS)
if(_oz(z,201,e,s,gg)){hCS.wxVkey=1
}
var oDS=_mz(z,'view',['class',202,'slot',1],[],e,s,gg)
var cES=_v()
_(oDS,cES)
if(_oz(z,204,e,s,gg)){cES.wxVkey=1
}
cES.wxXCkey=1
_(cBS,oDS)
hCS.wxXCkey=1
_(fSO,cBS)
}
var oFS=_n('auth-modal')
_rz(z,oFS,'id',205,e,s,gg)
_(aLO,oFS)
var lGS=_mz(z,'join-group-footer',['gid',206,'isExample',1],[],e,s,gg)
_(aLO,lGS)
var aHS=_mz(z,'vip-renewal-modal',['avatar',208,'class',1,'gid',2],[],e,s,gg)
_(aLO,aHS)
eNO.wxXCkey=1
bOO.wxXCkey=1
oPO.wxXCkey=1
xQO.wxXCkey=1
oRO.wxXCkey=1
fSO.wxXCkey=1
tMO.pop()
tMO.pop()
tMO.pop()
tMO.pop()
_(r,aLO)
return r
}
e_[x[21]]={f:m16,j:[],i:[],ti:[],ic:[]}
d_[x[22]]={}
var m17=function(e,s,r,gg){
var z=gz$gwx_18()
var eJS=_v()
_(r,eJS)
if(_oz(z,0,e,s,gg)){eJS.wxVkey=1
var bKS=_n('view')
_rz(z,bKS,'class',1,e,s,gg)
var oLS=e_[x[22]].i
_ai(oLS,x[9],e_,x[22],3,6)
var xMS=_mz(z,'view',['class',2,'style',1],[],e,s,gg)
var oNS=_v()
_(xMS,oNS)
if(_oz(z,4,e,s,gg)){oNS.wxVkey=1
var hQS=_n('group-picker')
_rz(z,hQS,'id',5,e,s,gg)
_(oNS,hQS)
}
var fOS=_v()
_(xMS,fOS)
if(_oz(z,6,e,s,gg)){fOS.wxVkey=1
var oRS=_n('view')
_rz(z,oRS,'style',7,e,s,gg)
var cSS=_v()
_(oRS,cSS)
if(_oz(z,8,e,s,gg)){cSS.wxVkey=1
}
var oTS=_v()
_(oRS,oTS)
if(_oz(z,9,e,s,gg)){oTS.wxVkey=1
}
cSS.wxXCkey=1
oTS.wxXCkey=1
_(fOS,oRS)
}
var cPS=_v()
_(xMS,cPS)
if(_oz(z,10,e,s,gg)){cPS.wxVkey=1
var lUS=_v()
_(cPS,lUS)
if(_oz(z,11,e,s,gg)){lUS.wxVkey=1
var tWS=_v()
_(lUS,tWS)
if(_oz(z,12,e,s,gg)){tWS.wxVkey=1
}
tWS.wxXCkey=1
}
var aVS=_v()
_(cPS,aVS)
if(_oz(z,13,e,s,gg)){aVS.wxVkey=1
var eXS=_v()
_(aVS,eXS)
if(_oz(z,14,e,s,gg)){eXS.wxVkey=1
}
eXS.wxXCkey=1
}
var bYS=_v()
_(cPS,bYS)
var oZS=function(o2S,x1S,f3S,gg){
var h5S=_v()
_(f3S,h5S)
if(_oz(z,17,o2S,x1S,gg)){h5S.wxVkey=1
}
h5S.wxXCkey=1
return f3S
}
bYS.wxXCkey=2
_2z(z,15,oZS,e,s,gg,bYS,'item','index','child')
lUS.wxXCkey=1
aVS.wxXCkey=1
}
else{cPS.wxVkey=2
var o6S=_v()
_(cPS,o6S)
if(_oz(z,18,e,s,gg)){o6S.wxVkey=1
var c7S=_v()
_(o6S,c7S)
var o8S=_oz(z,20,e,s,gg)
var l9S=_gd(x[22],o8S,e_,d_)
if(l9S){
var a0S=_1z(z,19,e,s,gg) || {}
var cur_globalf=gg.f
c7S.wxXCkey=3
l9S(a0S,a0S,c7S,gg)
gg.f=cur_globalf
}
else _w(o8S,x[22],122,48)
}
o6S.wxXCkey=1
}
oNS.wxXCkey=1
oNS.wxXCkey=3
fOS.wxXCkey=1
cPS.wxXCkey=1
_(bKS,xMS)
oLS.pop()
_(eJS,bKS)
}
var tAT=_n('join-group-footer')
_rz(z,tAT,'gid',21,e,s,gg)
_(r,tAT)
var eBT=_mz(z,'vip-renewal-modal',['avatar',22,'class',1,'gid',2],[],e,s,gg)
_(r,eBT)
eJS.wxXCkey=1
eJS.wxXCkey=3
return r
}
e_[x[22]]={f:m17,j:[],i:[],ti:[],ic:[]}
d_[x[23]]={}
var m18=function(e,s,r,gg){
var z=gz$gwx_19()
var oDT=_v()
_(r,oDT)
if(_oz(z,0,e,s,gg)){oDT.wxVkey=1
var oFT=_n('view')
_rz(z,oFT,'class',1,e,s,gg)
var fGT=_v()
_(oFT,fGT)
if(_oz(z,2,e,s,gg)){fGT.wxVkey=1
var hIT=_v()
_(fGT,hIT)
var oJT=function(oLT,cKT,lMT,gg){
var tOT=_mz(z,'view',['bindtap',7,'class',1,'data-wpyviewgroup-a',2],[],oLT,cKT,gg)
var ePT=_v()
_(tOT,ePT)
if(_oz(z,10,oLT,cKT,gg)){ePT.wxVkey=1
}
ePT.wxXCkey=1
_(lMT,tOT)
return lMT
}
hIT.wxXCkey=2
_2z(z,5,oJT,e,s,gg,hIT,'group','gid','gid')
}
var cHT=_v()
_(oFT,cHT)
if(_oz(z,11,e,s,gg)){cHT.wxVkey=1
}
var bQT=_mz(z,'view',['class',12,'style',1],[],e,s,gg)
var oRT=_v()
_(bQT,oRT)
if(_oz(z,14,e,s,gg)){oRT.wxVkey=1
}
var xST=_v()
_(bQT,xST)
if(_oz(z,15,e,s,gg)){xST.wxVkey=1
}
oRT.wxXCkey=1
xST.wxXCkey=1
_(oFT,bQT)
fGT.wxXCkey=1
cHT.wxXCkey=1
_(oDT,oFT)
}
var xET=_v()
_(r,xET)
if(_oz(z,16,e,s,gg)){xET.wxVkey=1
var oTT=_n('view')
_rz(z,oTT,'class',17,e,s,gg)
var fUT=_v()
_(oTT,fUT)
if(_oz(z,18,e,s,gg)){fUT.wxVkey=1
}
var cVT=_mz(z,'view',['class',19,'slot',1],[],e,s,gg)
var hWT=_v()
_(cVT,hWT)
if(_oz(z,21,e,s,gg)){hWT.wxVkey=1
}
hWT.wxXCkey=1
_(oTT,cVT)
fUT.wxXCkey=1
_(xET,oTT)
}
oDT.wxXCkey=1
xET.wxXCkey=1
return r
}
e_[x[23]]={f:m18,j:[],i:[],ti:[],ic:[]}
d_[x[24]]={}
var m19=function(e,s,r,gg){
var z=gz$gwx_20()
var cYT=_n('view')
_rz(z,cYT,'class',0,e,s,gg)
var oZT=e_[x[24]].i
_ai(oZT,x[9],e_,x[24],3,6)
var l1T=_mz(z,'view',['class',1,'style',1],[],e,s,gg)
var a2T=_v()
_(l1T,a2T)
if(_oz(z,3,e,s,gg)){a2T.wxVkey=1
}
var o6T=_mz(z,'view',['class',4,'style',1],[],e,s,gg)
var x7T=_v()
_(o6T,x7T)
if(_oz(z,6,e,s,gg)){x7T.wxVkey=1
}
var o8T=_v()
_(o6T,o8T)
if(_oz(z,7,e,s,gg)){o8T.wxVkey=1
}
x7T.wxXCkey=1
o8T.wxXCkey=1
_(l1T,o6T)
var f9T=_n('view')
_rz(z,f9T,'class',8,e,s,gg)
var hAU=_v()
_(f9T,hAU)
var oBU=function(oDU,cCU,lEU,gg){
var tGU=_v()
_(lEU,tGU)
if(_oz(z,13,oDU,cCU,gg)){tGU.wxVkey=1
}
tGU.wxXCkey=1
return lEU
}
hAU.wxXCkey=2
_2z(z,11,oBU,e,s,gg,hAU,'item','index','key')
var c0T=_v()
_(f9T,c0T)
if(_oz(z,14,e,s,gg)){c0T.wxVkey=1
var eHU=_v()
_(c0T,eHU)
var bIU=function(xKU,oJU,oLU,gg){
var cNU=_v()
_(oLU,cNU)
var hOU=function(cQU,oPU,oRU,gg){
var aTU=_v()
_(oRU,aTU)
if(_oz(z,23,cQU,oPU,gg)){aTU.wxVkey=1
}
var tUU=_v()
_(oRU,tUU)
if(_oz(z,24,cQU,oPU,gg)){tUU.wxVkey=1
var bWU=_mz(z,'view',['bindtap',25,'class',1,'data-wpyshoweditordetailmodal-a',2,'data-wpyshoweditordetailmodal-b',3,'data-wpyshoweditordetailmodal-c',4],[],cQU,oPU,gg)
var oXU=_v()
_(bWU,oXU)
if(_oz(z,30,cQU,oPU,gg)){oXU.wxVkey=1
}
var xYU=_v()
_(bWU,xYU)
if(_oz(z,31,cQU,oPU,gg)){xYU.wxVkey=1
}
oXU.wxXCkey=1
xYU.wxXCkey=1
_(tUU,bWU)
}
var eVU=_v()
_(oRU,eVU)
if(_oz(z,32,cQU,oPU,gg)){eVU.wxVkey=1
var oZU=_mz(z,'view',['bindtap',33,'class',1,'data-wpybindlessonplanschange-a',2,'data-wpybindlessonplanschange-b',3],[],cQU,oPU,gg)
var f1U=_v()
_(oZU,f1U)
if(_oz(z,37,cQU,oPU,gg)){f1U.wxVkey=1
}
var c2U=_v()
_(oZU,c2U)
if(_oz(z,38,cQU,oPU,gg)){c2U.wxVkey=1
}
f1U.wxXCkey=1
c2U.wxXCkey=1
_(eVU,oZU)
}
aTU.wxXCkey=1
tUU.wxXCkey=1
eVU.wxXCkey=1
return oRU
}
cNU.wxXCkey=2
_2z(z,21,hOU,xKU,oJU,gg,cNU,'item','dayIdx','key')
return oLU
}
eHU.wxXCkey=2
_2z(z,17,bIU,e,s,gg,eHU,'item','index','key')
}
else{c0T.wxVkey=2
var h3U=_v()
_(c0T,h3U)
var o4U=_oz(z,40,e,s,gg)
var c5U=_gd(x[24],o4U,e_,d_)
if(c5U){
var o6U=_1z(z,39,e,s,gg) || {}
var cur_globalf=gg.f
h3U.wxXCkey=3
c5U(o6U,o6U,h3U,gg)
gg.f=cur_globalf
}
else _w(o4U,x[24],61,20)
}
var l7U=_mz(z,'view',['class',41,'style',1],[],e,s,gg)
var a8U=_v()
_(l7U,a8U)
if(_oz(z,43,e,s,gg)){a8U.wxVkey=1
}
var t9U=_v()
_(l7U,t9U)
if(_oz(z,44,e,s,gg)){t9U.wxVkey=1
}
var e0U=_v()
_(l7U,e0U)
if(_oz(z,45,e,s,gg)){e0U.wxVkey=1
}
a8U.wxXCkey=1
t9U.wxXCkey=1
e0U.wxXCkey=1
_(f9T,l7U)
c0T.wxXCkey=1
_(l1T,f9T)
var t3T=_v()
_(l1T,t3T)
if(_oz(z,46,e,s,gg)){t3T.wxVkey=1
}
var e4T=_v()
_(l1T,e4T)
if(_oz(z,47,e,s,gg)){e4T.wxVkey=1
}
var b5T=_v()
_(l1T,b5T)
if(_oz(z,48,e,s,gg)){b5T.wxVkey=1
var bAV=_mz(z,'view',['class',49,'style',1],[],e,s,gg)
var oDV=_v()
_(bAV,oDV)
var fEV=function(hGV,cFV,oHV,gg){
var oJV=_n('view')
_rz(z,oJV,'class',55,hGV,cFV,gg)
var lKV=_v()
_(oJV,lKV)
if(_oz(z,56,hGV,cFV,gg)){lKV.wxVkey=1
}
var aLV=_v()
_(oJV,aLV)
if(_oz(z,57,hGV,cFV,gg)){aLV.wxVkey=1
}
lKV.wxXCkey=1
aLV.wxXCkey=1
_(oHV,oJV)
return oHV
}
oDV.wxXCkey=2
_2z(z,53,fEV,e,s,gg,oDV,'item','index','key')
var oBV=_v()
_(bAV,oBV)
if(_oz(z,58,e,s,gg)){oBV.wxVkey=1
var tMV=_v()
_(oBV,tMV)
var eNV=_oz(z,60,e,s,gg)
var bOV=_gd(x[24],eNV,e_,d_)
if(bOV){
var oPV=_1z(z,59,e,s,gg) || {}
var cur_globalf=gg.f
tMV.wxXCkey=3
bOV(oPV,oPV,tMV,gg)
gg.f=cur_globalf
}
else _w(eNV,x[24],108,20)
}
var xCV=_v()
_(bAV,xCV)
if(_oz(z,61,e,s,gg)){xCV.wxVkey=1
}
oBV.wxXCkey=1
xCV.wxXCkey=1
_(b5T,bAV)
}
a2T.wxXCkey=1
t3T.wxXCkey=1
e4T.wxXCkey=1
b5T.wxXCkey=1
_(cYT,l1T)
var xQV=_mz(z,'form',['bindsubmit',62,'hidden',1],[],e,s,gg)
var oRV=_v()
_(xQV,oRV)
if(_oz(z,64,e,s,gg)){oRV.wxVkey=1
var fSV=_n('view')
_rz(z,fSV,'class',65,e,s,gg)
var cTV=_v()
_(fSV,cTV)
if(_oz(z,66,e,s,gg)){cTV.wxVkey=1
}
var hUV=_mz(z,'view',['class',67,'slot',1],[],e,s,gg)
var oVV=_v()
_(hUV,oVV)
if(_oz(z,69,e,s,gg)){oVV.wxVkey=1
}
oVV.wxXCkey=1
_(fSV,hUV)
cTV.wxXCkey=1
_(oRV,fSV)
}
oRV.wxXCkey=1
_(cYT,xQV)
var cWV=_n('join-group-footer')
_rz(z,cWV,'gid',70,e,s,gg)
_(cYT,cWV)
var oXV=_mz(z,'vip-renewal-modal',['avatar',71,'class',1,'gid',2],[],e,s,gg)
_(cYT,oXV)
oZT.pop()
_(r,cYT)
return r
}
e_[x[24]]={f:m19,j:[],i:[],ti:[],ic:[]}
d_[x[25]]={}
var m20=function(e,s,r,gg){
var z=gz$gwx_21()
var aZV=_n('view')
_rz(z,aZV,'class',0,e,s,gg)
var e2V=_v()
_(aZV,e2V)
var b3V=function(x5V,o4V,o6V,gg){
var c8V=_n('view')
_rz(z,c8V,'class',5,x5V,o4V,gg)
var o0V=_n('view')
_rz(z,o0V,'class',6,x5V,o4V,gg)
var cAW=e_[x[25]].i
_ai(cAW,x[13],e_,x[25],11,14)
var oBW=_v()
_(o0V,oBW)
var lCW=_oz(z,8,x5V,o4V,gg)
var aDW=_gd(x[25],lCW,e_,d_)
if(aDW){
var tEW=_1z(z,7,x5V,o4V,gg) || {}
var cur_globalf=gg.f
oBW.wxXCkey=3
aDW(tEW,tEW,oBW,gg)
gg.f=cur_globalf
}
else _w(lCW,x[25],12,26)
cAW.pop()
_(c8V,o0V)
var h9V=_v()
_(c8V,h9V)
if(_oz(z,9,x5V,o4V,gg)){h9V.wxVkey=1
var eFW=_v()
_(h9V,eFW)
if(_oz(z,10,x5V,o4V,gg)){eFW.wxVkey=1
}
var bGW=_v()
_(h9V,bGW)
if(_oz(z,11,x5V,o4V,gg)){bGW.wxVkey=1
}
var oHW=_v()
_(h9V,oHW)
if(_oz(z,12,x5V,o4V,gg)){oHW.wxVkey=1
}
var xIW=_v()
_(h9V,xIW)
if(_oz(z,13,x5V,o4V,gg)){xIW.wxVkey=1
}
eFW.wxXCkey=1
bGW.wxXCkey=1
oHW.wxXCkey=1
xIW.wxXCkey=1
}
h9V.wxXCkey=1
_(o6V,c8V)
return o6V
}
e2V.wxXCkey=2
_2z(z,3,b3V,e,s,gg,e2V,'partner','index','index')
var t1V=_v()
_(aZV,t1V)
if(_oz(z,14,e,s,gg)){t1V.wxVkey=1
}
var oJW=_v()
_(aZV,oJW)
var fKW=function(hMW,cLW,oNW,gg){
var oPW=_v()
_(oNW,oPW)
if(_oz(z,19,hMW,cLW,gg)){oPW.wxVkey=1
var lQW=_n('view')
_rz(z,lQW,'class',20,hMW,cLW,gg)
var tSW=_n('view')
_rz(z,tSW,'class',21,hMW,cLW,gg)
var eTW=e_[x[25]].i
_ai(eTW,x[13],e_,x[25],43,14)
var bUW=_v()
_(tSW,bUW)
var oVW=_oz(z,23,hMW,cLW,gg)
var xWW=_gd(x[25],oVW,e_,d_)
if(xWW){
var oXW=_1z(z,22,hMW,cLW,gg) || {}
var cur_globalf=gg.f
bUW.wxXCkey=3
xWW(oXW,oXW,bUW,gg)
gg.f=cur_globalf
}
else _w(oVW,x[25],44,26)
eTW.pop()
_(lQW,tSW)
var aRW=_v()
_(lQW,aRW)
if(_oz(z,24,hMW,cLW,gg)){aRW.wxVkey=1
var fYW=_v()
_(aRW,fYW)
if(_oz(z,25,hMW,cLW,gg)){fYW.wxVkey=1
}
var cZW=_v()
_(aRW,cZW)
if(_oz(z,26,hMW,cLW,gg)){cZW.wxVkey=1
}
var h1W=_v()
_(aRW,h1W)
if(_oz(z,27,hMW,cLW,gg)){h1W.wxVkey=1
}
var o2W=_v()
_(aRW,o2W)
if(_oz(z,28,hMW,cLW,gg)){o2W.wxVkey=1
}
fYW.wxXCkey=1
cZW.wxXCkey=1
h1W.wxXCkey=1
o2W.wxXCkey=1
}
aRW.wxXCkey=1
_(oPW,lQW)
}
oPW.wxXCkey=1
return oNW
}
oJW.wxXCkey=2
_2z(z,17,fKW,e,s,gg,oJW,'partner','index','index')
t1V.wxXCkey=1
_(r,aZV)
return r
}
e_[x[25]]={f:m20,j:[],i:[],ti:[],ic:[]}
d_[x[26]]={}
var m21=function(e,s,r,gg){
var z=gz$gwx_22()
return r
}
e_[x[26]]={f:m21,j:[],i:[],ti:[],ic:[]}
d_[x[27]]={}
var m22=function(e,s,r,gg){
var z=gz$gwx_23()
var l5W=_n('view')
_rz(z,l5W,'class',0,e,s,gg)
var t7W=_n('view')
_rz(z,t7W,'class',1,e,s,gg)
var b9W=_v()
_(t7W,b9W)
var o0W=function(oBX,xAX,fCX,gg){
var hEX=_mz(z,'view',['catchtap',4,'class',1,'data-wpycopytoremark-a',2],[],oBX,xAX,gg)
var oFX=_v()
_(hEX,oFX)
if(_oz(z,7,oBX,xAX,gg)){oFX.wxVkey=1
}
oFX.wxXCkey=1
_(fCX,hEX)
return fCX
}
b9W.wxXCkey=2
_2z(z,2,o0W,e,s,gg,b9W,'item','index','content')
var e8W=_v()
_(t7W,e8W)
if(_oz(z,8,e,s,gg)){e8W.wxVkey=1
}
e8W.wxXCkey=1
_(l5W,t7W)
var a6W=_v()
_(l5W,a6W)
if(_oz(z,9,e,s,gg)){a6W.wxVkey=1
var cGX=_n('form')
_rz(z,cGX,'bindsubmit',10,e,s,gg)
var oHX=_v()
_(cGX,oHX)
if(_oz(z,11,e,s,gg)){oHX.wxVkey=1
var lIX=_n('view')
_rz(z,lIX,'class',12,e,s,gg)
var aJX=_v()
_(lIX,aJX)
if(_oz(z,13,e,s,gg)){aJX.wxVkey=1
}
var tKX=_mz(z,'view',['class',14,'slot',1],[],e,s,gg)
var eLX=_v()
_(tKX,eLX)
if(_oz(z,16,e,s,gg)){eLX.wxVkey=1
}
eLX.wxXCkey=1
_(lIX,tKX)
aJX.wxXCkey=1
_(oHX,lIX)
}
oHX.wxXCkey=1
_(a6W,cGX)
}
a6W.wxXCkey=1
_(r,l5W)
return r
}
e_[x[27]]={f:m22,j:[],i:[],ti:[],ic:[]}
d_[x[28]]={}
var m23=function(e,s,r,gg){
var z=gz$gwx_24()
var oNX=_v()
_(r,oNX)
if(_oz(z,0,e,s,gg)){oNX.wxVkey=1
}
var xOX=_v()
_(r,xOX)
if(_oz(z,1,e,s,gg)){xOX.wxVkey=1
}
oNX.wxXCkey=1
xOX.wxXCkey=1
return r
}
e_[x[28]]={f:m23,j:[],i:[],ti:[],ic:[]}
d_[x[29]]={}
var m24=function(e,s,r,gg){
var z=gz$gwx_25()
var fQX=_v()
_(r,fQX)
if(_oz(z,0,e,s,gg)){fQX.wxVkey=1
}
fQX.wxXCkey=1
return r
}
e_[x[29]]={f:m24,j:[],i:[],ti:[],ic:[]}
d_[x[30]]={}
var m25=function(e,s,r,gg){
var z=gz$gwx_26()
var hSX=_n('auth-modal')
_rz(z,hSX,'id',0,e,s,gg)
_(r,hSX)
return r
}
e_[x[30]]={f:m25,j:[],i:[],ti:[],ic:[]}
d_[x[31]]={}
var m26=function(e,s,r,gg){
var z=gz$gwx_27()
var cUX=_n('view')
_rz(z,cUX,'class',0,e,s,gg)
var oVX=e_[x[31]].i
_ai(oVX,x[13],e_,x[31],4,6)
var aXX=_v()
_(cUX,aXX)
var tYX=_oz(z,2,e,s,gg)
var eZX=_gd(x[31],tYX,e_,d_)
if(eZX){
var b1X=_1z(z,1,e,s,gg) || {}
var cur_globalf=gg.f
aXX.wxXCkey=3
eZX(b1X,b1X,aXX,gg)
gg.f=cur_globalf
}
else _w(tYX,x[31],7,22)
var lWX=_v()
_(cUX,lWX)
if(_oz(z,3,e,s,gg)){lWX.wxVkey=1
var x3X=_n('view')
_rz(z,x3X,'class',4,e,s,gg)
var o4X=_v()
_(x3X,o4X)
if(_oz(z,5,e,s,gg)){o4X.wxVkey=1
}
var f5X=_v()
_(x3X,f5X)
var c6X=function(o8X,h7X,c9X,gg){
var lAY=_mz(z,'view',['catchtap',10,'class',1,'data-wpyongoodschange-a',2,'style',3],[],o8X,h7X,gg)
var aBY=_v()
_(lAY,aBY)
if(_oz(z,14,o8X,h7X,gg)){aBY.wxVkey=1
}
var tCY=_n('view')
_rz(z,tCY,'class',15,o8X,h7X,gg)
var eDY=_v()
_(tCY,eDY)
if(_oz(z,16,o8X,h7X,gg)){eDY.wxVkey=1
}
var bEY=_v()
_(tCY,bEY)
if(_oz(z,17,o8X,h7X,gg)){bEY.wxVkey=1
}
eDY.wxXCkey=1
bEY.wxXCkey=1
_(lAY,tCY)
aBY.wxXCkey=1
_(c9X,lAY)
return c9X
}
f5X.wxXCkey=2
_2z(z,8,c6X,e,s,gg,f5X,'item','index','key')
o4X.wxXCkey=1
_(lWX,x3X)
var o2X=_v()
_(lWX,o2X)
if(_oz(z,18,e,s,gg)){o2X.wxVkey=1
}
o2X.wxXCkey=1
}
else{lWX.wxVkey=2
}
lWX.wxXCkey=1
oVX.pop()
_(r,cUX)
return r
}
e_[x[31]]={f:m26,j:[],i:[],ti:[],ic:[]}
d_[x[32]]={}
var m27=function(e,s,r,gg){
var z=gz$gwx_28()
var xGY=_n('view')
_rz(z,xGY,'class',0,e,s,gg)
var oHY=_v()
_(xGY,oHY)
if(_oz(z,1,e,s,gg)){oHY.wxVkey=1
}
var fIY=_v()
_(xGY,fIY)
if(_oz(z,2,e,s,gg)){fIY.wxVkey=1
}
oHY.wxXCkey=1
fIY.wxXCkey=1
_(r,xGY)
var cJY=_mz(z,'follow-modal',['bind:onHide',3,'id',1],[],e,s,gg)
_(r,cJY)
return r
}
e_[x[32]]={f:m27,j:[],i:[],ti:[],ic:[]}
d_[x[33]]={}
var m28=function(e,s,r,gg){
var z=gz$gwx_29()
var oLY=_n('view')
_rz(z,oLY,'class',0,e,s,gg)
var cMY=e_[x[33]].i
_ai(cMY,x[9],e_,x[33],3,6)
var oNY=_n('view')
_rz(z,oNY,'class',1,e,s,gg)
var lOY=_v()
_(oNY,lOY)
if(_oz(z,2,e,s,gg)){lOY.wxVkey=1
var aPY=_n('view')
var tQY=_v()
_(aPY,tQY)
if(_oz(z,3,e,s,gg)){tQY.wxVkey=1
var bSY=_v()
_(tQY,bSY)
var oTY=function(oVY,xUY,fWY,gg){
var hYY=_mz(z,'view',['catchtap',7,'class',1,'data-wpytowishlistdetail-a',2],[],oVY,xUY,gg)
var oZY=_v()
_(hYY,oZY)
if(_oz(z,10,oVY,xUY,gg)){oZY.wxVkey=1
}
oZY.wxXCkey=1
_(fWY,hYY)
return fWY
}
bSY.wxXCkey=2
_2z(z,5,oTY,e,s,gg,bSY,'item','index','id')
}
var eRY=_v()
_(aPY,eRY)
if(_oz(z,11,e,s,gg)){eRY.wxVkey=1
var c1Y=_n('view')
_rz(z,c1Y,'class',12,e,s,gg)
var o2Y=_v()
_(c1Y,o2Y)
if(_oz(z,13,e,s,gg)){o2Y.wxVkey=1
}
var l3Y=_v()
_(c1Y,l3Y)
var a4Y=function(e6Y,t5Y,b7Y,gg){
var x9Y=_mz(z,'view',['catchtap',17,'class',1,'data-wpytowishlistdetail-a',2],[],e6Y,t5Y,gg)
var o0Y=_v()
_(x9Y,o0Y)
if(_oz(z,20,e6Y,t5Y,gg)){o0Y.wxVkey=1
}
o0Y.wxXCkey=1
_(b7Y,x9Y)
return b7Y
}
l3Y.wxXCkey=2
_2z(z,15,a4Y,e,s,gg,l3Y,'item','index','id')
o2Y.wxXCkey=1
_(eRY,c1Y)
}
tQY.wxXCkey=1
eRY.wxXCkey=1
_(lOY,aPY)
}
else{lOY.wxVkey=2
var fAZ=_v()
_(lOY,fAZ)
var cBZ=_oz(z,22,e,s,gg)
var hCZ=_gd(x[33],cBZ,e_,d_)
if(hCZ){
var oDZ=_1z(z,21,e,s,gg) || {}
var cur_globalf=gg.f
fAZ.wxXCkey=3
hCZ(oDZ,oDZ,fAZ,gg)
gg.f=cur_globalf
}
else _w(cBZ,x[33],74,22)
}
lOY.wxXCkey=1
_(oLY,oNY)
cMY.pop()
_(r,oLY)
return r
}
e_[x[33]]={f:m28,j:[],i:[],ti:[],ic:[]}
d_[x[34]]={}
d_[x[34]]["avatar"]=function(e,s,r,gg){
var z=gz$gwx_30()
var b=x[34]+':avatar'
r.wxVkey=b
gg.f=$gdc(f_["./templates/avatar/avatar.wxml"],"",1)
if(p_[b]){_wl(b,x[34]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m29=function(e,s,r,gg){
var z=gz$gwx_30()
return r
}
e_[x[34]]={f:m29,j:[],i:[],ti:[],ic:[]}
d_[x[35]]={}
d_[x[35]]["audio-player"]=function(e,s,r,gg){
var z=gz$gwx_31()
var b=x[35]+':audio-player'
r.wxVkey=b
gg.f=$gdc(f_["./templates/player/audio_player.wxml"],"",1)
if(p_[b]){_wl(b,x[35]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m30=function(e,s,r,gg){
var z=gz$gwx_31()
return r
}
e_[x[35]]={f:m30,j:[],i:[],ti:[],ic:[]}
d_[x[36]]={}
d_[x[36]]["video-cover"]=function(e,s,r,gg){
var z=gz$gwx_32()
var b=x[36]+':video-cover'
r.wxVkey=b
gg.f=$gdc(f_["./templates/player/video_cover.wxml"],"",1)
if(p_[b]){_wl(b,x[36]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m31=function(e,s,r,gg){
var z=gz$gwx_32()
return r
}
e_[x[36]]={f:m31,j:[],i:[],ti:[],ic:[]}
d_[x[37]]={}
d_[x[37]]["voice-player"]=function(e,s,r,gg){
var z=gz$gwx_33()
var b=x[37]+':voice-player'
r.wxVkey=b
gg.f=$gdc(f_["./templates/player/voice_player.wxml"],"",1)
if(p_[b]){_wl(b,x[37]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m32=function(e,s,r,gg){
var z=gz$gwx_33()
return r
}
e_[x[37]]={f:m32,j:[],i:[],ti:[],ic:[]}
d_[x[38]]={}
d_[x[38]]["stars"]=function(e,s,r,gg){
var z=gz$gwx_34()
var b=x[38]+':stars'
r.wxVkey=b
gg.f=$gdc(f_["./templates/rating_stars/rating_stars.wxml"],"",1)
if(p_[b]){_wl(b,x[38]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m33=function(e,s,r,gg){
var z=gz$gwx_34()
return r
}
e_[x[38]]={f:m33,j:[],i:[],ti:[],ic:[]}
d_[x[39]]={}
d_[x[39]]["nodata"]=function(e,s,r,gg){
var z=gz$gwx_35()
var b=x[39]+':nodata'
r.wxVkey=b
gg.f=$gdc(f_["./templates/tips/nodata.wxml"],"",1)
if(p_[b]){_wl(b,x[39]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[39]]["nomore"]=function(e,s,r,gg){
var z=gz$gwx_35()
var b=x[39]+':nomore'
r.wxVkey=b
gg.f=$gdc(f_["./templates/tips/nodata.wxml"],"",1)
if(p_[b]){_wl(b,x[39]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m34=function(e,s,r,gg){
var z=gz$gwx_35()
return r
}
e_[x[39]]={f:m34,j:[],i:[],ti:[],ic:[]}
d_[x[40]]={}
d_[x[40]]["cover"]=function(e,s,r,gg){
var z=gz$gwx_36()
var b=x[40]+':cover'
r.wxVkey=b
gg.f=$gdc(f_["./templates/viewer/cover.wxml"],"",1)
if(p_[b]){_wl(b,x[40]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m35=function(e,s,r,gg){
var z=gz$gwx_36()
return r
}
e_[x[40]]={f:m35,j:[],i:[],ti:[],ic:[]}
d_[x[41]]={}
d_[x[41]]["thumbnail"]=function(e,s,r,gg){
var z=gz$gwx_37()
var b=x[41]+':thumbnail'
r.wxVkey=b
gg.f=$gdc(f_["./templates/viewer/thumbnail.wxml"],"",1)
if(p_[b]){_wl(b,x[41]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m36=function(e,s,r,gg){
var z=gz$gwx_37()
return r
}
e_[x[41]]={f:m36,j:[],i:[],ti:[],ic:[]}
d_[x[42]]={}
d_[x[42]]["vip"]=function(e,s,r,gg){
var z=gz$gwx_38()
var b=x[42]+':vip'
r.wxVkey=b
gg.f=$gdc(f_["./templates/vip/vip.wxml"],"",1)
if(p_[b]){_wl(b,x[42]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m37=function(e,s,r,gg){
var z=gz$gwx_38()
return r
}
e_[x[42]]={f:m37,j:[],i:[],ti:[],ic:[]}
d_[x[43]]={}
var m38=function(e,s,r,gg){
var z=gz$gwx_39()
var fOZ=e_[x[43]].i
_ai(fOZ,x[44],e_,x[43],2,4)
_ai(fOZ,x[45],e_,x[43],3,4)
_ai(fOZ,x[46],e_,x[43],4,4)
var oRZ=_n('view')
_rz(z,oRZ,'class',0,e,s,gg)
var cSZ=_v()
_(oRZ,cSZ)
if(_oz(z,1,e,s,gg)){cSZ.wxVkey=1
}
var lUZ=_n('view')
_rz(z,lUZ,'class',2,e,s,gg)
var eXZ=_n('view')
_rz(z,eXZ,'class',3,e,s,gg)
var x1Z=_n('view')
_rz(z,x1Z,'class',4,e,s,gg)
var f3Z=_v()
_(x1Z,f3Z)
var c4Z=_oz(z,6,e,s,gg)
var h5Z=_gd(x[43],c4Z,e_,d_)
if(h5Z){
var o6Z=_1z(z,5,e,s,gg) || {}
var cur_globalf=gg.f
f3Z.wxXCkey=3
h5Z(o6Z,o6Z,f3Z,gg)
gg.f=cur_globalf
}
else _w(c4Z,x[43],14,26)
var o2Z=_v()
_(x1Z,o2Z)
if(_oz(z,7,e,s,gg)){o2Z.wxVkey=1
var c7Z=_n('view')
_rz(z,c7Z,'class',8,e,s,gg)
var o8Z=_v()
_(c7Z,o8Z)
if(_oz(z,9,e,s,gg)){o8Z.wxVkey=1
}
var l9Z=_v()
_(c7Z,l9Z)
if(_oz(z,10,e,s,gg)){l9Z.wxVkey=1
}
o8Z.wxXCkey=1
l9Z.wxXCkey=1
_(o2Z,c7Z)
}
var a0Z=_n('view')
_rz(z,a0Z,'class',11,e,s,gg)
var tA1=_v()
_(a0Z,tA1)
if(_oz(z,12,e,s,gg)){tA1.wxVkey=1
}
var eB1=_v()
_(a0Z,eB1)
if(_oz(z,13,e,s,gg)){eB1.wxVkey=1
}
tA1.wxXCkey=1
eB1.wxXCkey=1
_(x1Z,a0Z)
o2Z.wxXCkey=1
_(eXZ,x1Z)
var bYZ=_v()
_(eXZ,bYZ)
if(_oz(z,14,e,s,gg)){bYZ.wxVkey=1
var bC1=_v()
_(bYZ,bC1)
if(_oz(z,15,e,s,gg)){bC1.wxVkey=1
var oD1=_n('view')
_rz(z,oD1,'class',16,e,s,gg)
var fG1=_v()
_(oD1,fG1)
var cH1=function(oJ1,hI1,cK1,gg){
var lM1=_v()
_(cK1,lM1)
if(_oz(z,20,oJ1,hI1,gg)){lM1.wxVkey=1
var aN1=_mz(z,'audio-player',['class',21,'height',1,'id',2,'style',3,'url',4,'width',5],[],oJ1,hI1,gg)
var tO1=_v()
_(aN1,tO1)
var eP1=_oz(z,28,oJ1,hI1,gg)
var bQ1=_gd(x[43],eP1,e_,d_)
if(bQ1){
var oR1=_1z(z,27,oJ1,hI1,gg) || {}
var cur_globalf=gg.f
tO1.wxXCkey=3
bQ1(oR1,oR1,tO1,gg)
gg.f=cur_globalf
}
else _w(eP1,x[43],52,30)
_(lM1,aN1)
}
else{lM1.wxVkey=2
var xS1=_mz(z,'view',['capture-catch:tap',29,'class',1,'data-url',2,'style',3],[],oJ1,hI1,gg)
var oT1=_v()
_(xS1,oT1)
var fU1=_oz(z,34,oJ1,hI1,gg)
var cV1=_gd(x[43],fU1,e_,d_)
if(cV1){
var hW1=_1z(z,33,oJ1,hI1,gg) || {}
var cur_globalf=gg.f
oT1.wxXCkey=3
cV1(hW1,hW1,oT1,gg)
gg.f=cur_globalf
}
else _w(fU1,x[43],59,30)
_(lM1,xS1)
}
lM1.wxXCkey=1
lM1.wxXCkey=3
return cK1
}
fG1.wxXCkey=4
_2z(z,18,cH1,e,s,gg,fG1,'item','index','item')
var oX1=_v()
_(oD1,oX1)
var cY1=function(l11,oZ1,a21,gg){
var e41=_v()
_(a21,e41)
if(_oz(z,39,l11,oZ1,gg)){e41.wxVkey=1
var b51=_mz(z,'view',['catchlongpress',40,'catchtap',1,'class',2,'data-list',3,'data-url',4],[],l11,oZ1,gg)
var x71=_v()
_(b51,x71)
var o81=_oz(z,46,l11,oZ1,gg)
var f91=_gd(x[43],o81,e_,d_)
if(f91){
var c01=_1z(z,45,l11,oZ1,gg) || {}
var cur_globalf=gg.f
x71.wxXCkey=3
f91(c01,c01,x71,gg)
gg.f=cur_globalf
}
else _w(o81,x[43],75,30)
var o61=_v()
_(b51,o61)
if(_oz(z,47,l11,oZ1,gg)){o61.wxVkey=1
}
o61.wxXCkey=1
_(e41,b51)
}
else{e41.wxVkey=2
var hA2=_mz(z,'view',['catchtap',48,'class',1,'data-list',2,'data-url',3],[],l11,oZ1,gg)
var oB2=_v()
_(hA2,oB2)
var cC2=_oz(z,53,l11,oZ1,gg)
var oD2=_gd(x[43],cC2,e_,d_)
if(oD2){
var lE2=_1z(z,52,l11,oZ1,gg) || {}
var cur_globalf=gg.f
oB2.wxXCkey=3
oD2(lE2,lE2,oB2,gg)
gg.f=cur_globalf
}
else _w(cC2,x[43],94,30)
_(e41,hA2)
}
e41.wxXCkey=1
return a21
}
oX1.wxXCkey=2
_2z(z,37,cY1,e,s,gg,oX1,'image','i','image')
var xE1=_v()
_(oD1,xE1)
if(_oz(z,54,e,s,gg)){xE1.wxVkey=1
var aF2=_mz(z,'view',['bindtap',55,'class',1,'data-video',2],[],e,s,gg)
var tG2=_v()
_(aF2,tG2)
var eH2=_oz(z,59,e,s,gg)
var bI2=_gd(x[43],eH2,e_,d_)
if(bI2){
var oJ2=_1z(z,58,e,s,gg) || {}
var cur_globalf=gg.f
tG2.wxXCkey=3
bI2(oJ2,oJ2,tG2,gg)
gg.f=cur_globalf
}
else _w(eH2,x[43],104,28)
_(xE1,aF2)
}
var oF1=_v()
_(oD1,oF1)
if(_oz(z,60,e,s,gg)){oF1.wxVkey=1
}
xE1.wxXCkey=1
oF1.wxXCkey=1
_(bC1,oD1)
}
bC1.wxXCkey=1
bC1.wxXCkey=3
}
else{bYZ.wxVkey=2
}
var oZZ=_v()
_(eXZ,oZZ)
if(_oz(z,61,e,s,gg)){oZZ.wxVkey=1
}
bYZ.wxXCkey=1
bYZ.wxXCkey=3
oZZ.wxXCkey=1
_(lUZ,eXZ)
var aVZ=_v()
_(lUZ,aVZ)
if(_oz(z,62,e,s,gg)){aVZ.wxVkey=1
var xK2=_v()
_(aVZ,xK2)
var oL2=function(cN2,fM2,hO2,gg){
var cQ2=_n('view')
_rz(z,cQ2,'class',67,cN2,fM2,gg)
var lS2=_n('view')
_rz(z,lS2,'class',68,cN2,fM2,gg)
var tU2=_v()
_(lS2,tU2)
var eV2=_oz(z,70,cN2,fM2,gg)
var bW2=_gd(x[43],eV2,e_,d_)
if(bW2){
var oX2=_1z(z,69,cN2,fM2,gg) || {}
var cur_globalf=gg.f
tU2.wxXCkey=3
bW2(oX2,oX2,tU2,gg)
gg.f=cur_globalf
}
else _w(eV2,x[43],141,32)
var aT2=_v()
_(lS2,aT2)
if(_oz(z,71,cN2,fM2,gg)){aT2.wxVkey=1
var xY2=_v()
_(aT2,xY2)
if(_oz(z,72,cN2,fM2,gg)){xY2.wxVkey=1
}
xY2.wxXCkey=1
}
var oZ2=_n('view')
_rz(z,oZ2,'class',73,cN2,fM2,gg)
var f12=_v()
_(oZ2,f12)
if(_oz(z,74,cN2,fM2,gg)){f12.wxVkey=1
}
var c22=_v()
_(oZ2,c22)
if(_oz(z,75,cN2,fM2,gg)){c22.wxVkey=1
}
f12.wxXCkey=1
c22.wxXCkey=1
_(lS2,oZ2)
aT2.wxXCkey=1
_(cQ2,lS2)
var oR2=_v()
_(cQ2,oR2)
if(_oz(z,76,cN2,fM2,gg)){oR2.wxVkey=1
var h32=_n('view')
_rz(z,h32,'class',77,cN2,fM2,gg)
var c52=_v()
_(h32,c52)
var o62=function(a82,l72,t92,gg){
var bA3=_v()
_(t92,bA3)
if(_oz(z,81,a82,l72,gg)){bA3.wxVkey=1
var oB3=_mz(z,'audio-player',['class',82,'height',1,'id',2,'style',3,'url',4,'width',5],[],a82,l72,gg)
var xC3=_v()
_(oB3,xC3)
var oD3=_oz(z,89,a82,l72,gg)
var fE3=_gd(x[43],oD3,e_,d_)
if(fE3){
var cF3=_1z(z,88,a82,l72,gg) || {}
var cur_globalf=gg.f
xC3.wxXCkey=3
fE3(cF3,cF3,xC3,gg)
gg.f=cur_globalf
}
else _w(oD3,x[43],177,34)
_(bA3,oB3)
}
else{bA3.wxVkey=2
var hG3=_mz(z,'view',['capture-catch:tap',90,'class',1,'data-url',2,'style',3],[],a82,l72,gg)
var oH3=_v()
_(hG3,oH3)
var cI3=_oz(z,95,a82,l72,gg)
var oJ3=_gd(x[43],cI3,e_,d_)
if(oJ3){
var lK3=_1z(z,94,a82,l72,gg) || {}
var cur_globalf=gg.f
oH3.wxXCkey=3
oJ3(lK3,lK3,oH3,gg)
gg.f=cur_globalf
}
else _w(cI3,x[43],185,34)
_(bA3,hG3)
}
bA3.wxXCkey=1
bA3.wxXCkey=3
return t92
}
c52.wxXCkey=4
_2z(z,79,o62,cN2,fM2,gg,c52,'item','index','item')
var aL3=_v()
_(h32,aL3)
var tM3=function(bO3,eN3,oP3,gg){
var oR3=_v()
_(oP3,oR3)
if(_oz(z,100,bO3,eN3,gg)){oR3.wxVkey=1
var fS3=_mz(z,'view',['catchlongpress',101,'catchtap',1,'class',2,'data-list',3,'data-url',4],[],bO3,eN3,gg)
var hU3=_v()
_(fS3,hU3)
var oV3=_oz(z,107,bO3,eN3,gg)
var cW3=_gd(x[43],oV3,e_,d_)
if(cW3){
var oX3=_1z(z,106,bO3,eN3,gg) || {}
var cur_globalf=gg.f
hU3.wxXCkey=3
cW3(oX3,oX3,hU3,gg)
gg.f=cur_globalf
}
else _w(oV3,x[43],200,34)
var cT3=_v()
_(fS3,cT3)
if(_oz(z,108,bO3,eN3,gg)){cT3.wxVkey=1
}
cT3.wxXCkey=1
_(oR3,fS3)
}
else{oR3.wxVkey=2
var lY3=_mz(z,'view',['catchtap',109,'class',1,'data-list',2,'data-url',3],[],bO3,eN3,gg)
var aZ3=_v()
_(lY3,aZ3)
var t13=_oz(z,114,bO3,eN3,gg)
var e23=_gd(x[43],t13,e_,d_)
if(e23){
var b33=_1z(z,113,bO3,eN3,gg) || {}
var cur_globalf=gg.f
aZ3.wxXCkey=3
e23(b33,b33,aZ3,gg)
gg.f=cur_globalf
}
else _w(t13,x[43],219,34)
_(oR3,lY3)
}
oR3.wxXCkey=1
return oP3
}
aL3.wxXCkey=2
_2z(z,98,tM3,cN2,fM2,gg,aL3,'image','i','image')
var o42=_v()
_(h32,o42)
if(_oz(z,115,cN2,fM2,gg)){o42.wxVkey=1
var o43=_mz(z,'view',['bindtap',116,'class',1,'data-video',2],[],cN2,fM2,gg)
var x53=_v()
_(o43,x53)
var o63=_oz(z,120,cN2,fM2,gg)
var f73=_gd(x[43],o63,e_,d_)
if(f73){
var c83=_1z(z,119,cN2,fM2,gg) || {}
var cur_globalf=gg.f
x53.wxXCkey=3
f73(c83,c83,x53,gg)
gg.f=cur_globalf
}
else _w(o63,x[43],228,32)
_(o42,o43)
}
o42.wxXCkey=1
_(oR2,h32)
}
oR2.wxXCkey=1
oR2.wxXCkey=3
_(hO2,cQ2)
return hO2
}
xK2.wxXCkey=4
_2z(z,65,oL2,e,s,gg,xK2,'supplement','supplementIdx','id')
}
var tWZ=_v()
_(lUZ,tWZ)
if(_oz(z,121,e,s,gg)){tWZ.wxVkey=1
var h93=_n('view')
_rz(z,h93,'class',122,e,s,gg)
var o03=_v()
_(h93,o03)
if(_oz(z,123,e,s,gg)){o03.wxVkey=1
}
var oB4=_v()
_(h93,oB4)
var lC4=_oz(z,125,e,s,gg)
var aD4=_gd(x[43],lC4,e_,d_)
if(aD4){
var tE4=_1z(z,124,e,s,gg) || {}
var cur_globalf=gg.f
oB4.wxXCkey=3
aD4(tE4,tE4,oB4,gg)
gg.f=cur_globalf
}
else _w(lC4,x[43],247,28)
var cA4=_v()
_(h93,cA4)
if(_oz(z,126,e,s,gg)){cA4.wxVkey=1
var eF4=_v()
_(cA4,eF4)
if(_oz(z,127,e,s,gg)){eF4.wxVkey=1
}
var bG4=_v()
_(cA4,bG4)
if(_oz(z,128,e,s,gg)){bG4.wxVkey=1
var oH4=_mz(z,'view',['class',129,'style',1],[],e,s,gg)
var xI4=_v()
_(oH4,xI4)
if(_oz(z,131,e,s,gg)){xI4.wxVkey=1
var oJ4=_mz(z,'audio-player',['class',132,'height',1,'id',2,'style',3,'url',4,'width',5],[],e,s,gg)
var fK4=_v()
_(oJ4,fK4)
var cL4=_oz(z,139,e,s,gg)
var hM4=_gd(x[43],cL4,e_,d_)
if(hM4){
var oN4=_1z(z,138,e,s,gg) || {}
var cur_globalf=gg.f
fK4.wxXCkey=3
hM4(oN4,oN4,fK4,gg)
gg.f=cur_globalf
}
else _w(cL4,x[43],270,30)
_(xI4,oJ4)
}
var cO4=_v()
_(oH4,cO4)
var oP4=function(aR4,lQ4,tS4,gg){
var bU4=_mz(z,'view',['bindtap',144,'class',1,'data-is-rating',2,'data-list',3,'data-url',4],[],aR4,lQ4,gg)
var oV4=_v()
_(bU4,oV4)
var xW4=_oz(z,150,aR4,lQ4,gg)
var oX4=_gd(x[43],xW4,e_,d_)
if(oX4){
var fY4=_1z(z,149,aR4,lQ4,gg) || {}
var cur_globalf=gg.f
oV4.wxXCkey=3
oX4(fY4,fY4,oV4,gg)
gg.f=cur_globalf
}
else _w(xW4,x[43],283,30)
_(tS4,bU4)
return tS4
}
cO4.wxXCkey=2
_2z(z,142,oP4,e,s,gg,cO4,'ratingImage','ratingImgIdx','ratingImage')
xI4.wxXCkey=1
xI4.wxXCkey=3
_(bG4,oH4)
}
eF4.wxXCkey=1
bG4.wxXCkey=1
bG4.wxXCkey=3
}
o03.wxXCkey=1
cA4.wxXCkey=1
cA4.wxXCkey=3
_(tWZ,h93)
}
aVZ.wxXCkey=1
aVZ.wxXCkey=3
tWZ.wxXCkey=1
tWZ.wxXCkey=3
_(oRZ,lUZ)
var oTZ=_v()
_(oRZ,oTZ)
if(_oz(z,151,e,s,gg)){oTZ.wxVkey=1
var cZ4=_mz(z,'view',['class',152,'style',1],[],e,s,gg)
var h14=_v()
_(cZ4,h14)
if(_oz(z,154,e,s,gg)){h14.wxVkey=1
}
var o24=_v()
_(cZ4,o24)
if(_oz(z,155,e,s,gg)){o24.wxVkey=1
}
var c34=_v()
_(cZ4,c34)
if(_oz(z,156,e,s,gg)){c34.wxVkey=1
}
var o44=_v()
_(cZ4,o44)
if(_oz(z,157,e,s,gg)){o44.wxVkey=1
}
var l54=_v()
_(cZ4,l54)
if(_oz(z,158,e,s,gg)){l54.wxVkey=1
}
h14.wxXCkey=1
o24.wxXCkey=1
c34.wxXCkey=1
o44.wxXCkey=1
l54.wxXCkey=1
_(oTZ,cZ4)
}
cSZ.wxXCkey=1
oTZ.wxXCkey=1
_(r,oRZ)
var cPZ=_v()
_(r,cPZ)
if(_oz(z,159,e,s,gg)){cPZ.wxVkey=1
var a64=_mz(z,'view',['class',160,'style',1],[],e,s,gg)
var t74=_v()
_(a64,t74)
if(_oz(z,162,e,s,gg)){t74.wxVkey=1
}
var e84=_v()
_(a64,e84)
if(_oz(z,163,e,s,gg)){e84.wxVkey=1
}
var b94=_v()
_(a64,b94)
if(_oz(z,164,e,s,gg)){b94.wxVkey=1
}
t74.wxXCkey=1
e84.wxXCkey=1
b94.wxXCkey=1
_(cPZ,a64)
}
var hQZ=_v()
_(r,hQZ)
if(_oz(z,165,e,s,gg)){hQZ.wxVkey=1
var o04=_n('auth-modal')
_rz(z,o04,'id',166,e,s,gg)
_(hQZ,o04)
}
cPZ.wxXCkey=1
hQZ.wxXCkey=1
hQZ.wxXCkey=3
fOZ.pop()
fOZ.pop()
fOZ.pop()
return r
}
e_[x[43]]={f:m38,j:[],i:[],ti:[],ic:[]}
d_[x[47]]={}
var m39=function(e,s,r,gg){
var z=gz$gwx_40()
var oB5=_v()
_(r,oB5)
if(_oz(z,0,e,s,gg)){oB5.wxVkey=1
}
else{oB5.wxVkey=2
var fC5=_mz(z,'view',['catchtap',1,'style',1],[],e,s,gg)
var cD5=_n('slot')
_(fC5,cD5)
_(oB5,fC5)
}
oB5.wxXCkey=1
return r
}
e_[x[47]]={f:m39,j:[],i:[],ti:[],ic:[]}
d_[x[48]]={}
var m40=function(e,s,r,gg){
var z=gz$gwx_41()
var oF5=_v()
_(r,oF5)
if(_oz(z,0,e,s,gg)){oF5.wxVkey=1
}
oF5.wxXCkey=1
return r
}
e_[x[48]]={f:m40,j:[],i:[],ti:[],ic:[]}
d_[x[49]]={}
var m41=function(e,s,r,gg){
var z=gz$gwx_42()
var oH5=_v()
_(r,oH5)
if(_oz(z,0,e,s,gg)){oH5.wxVkey=1
var lI5=_n('view')
_rz(z,lI5,'class',1,e,s,gg)
var aJ5=_v()
_(lI5,aJ5)
if(_oz(z,2,e,s,gg)){aJ5.wxVkey=1
}
var tK5=_n('view')
_rz(z,tK5,'class',3,e,s,gg)
var eL5=_v()
_(tK5,eL5)
if(_oz(z,4,e,s,gg)){eL5.wxVkey=1
}
var bM5=_n('slot')
_(tK5,bM5)
eL5.wxXCkey=1
_(lI5,tK5)
aJ5.wxXCkey=1
_(oH5,lI5)
}
oH5.wxXCkey=1
return r
}
e_[x[49]]={f:m41,j:[],i:[],ti:[],ic:[]}
d_[x[50]]={}
var m42=function(e,s,r,gg){
var z=gz$gwx_43()
var xO5=_n('view')
_rz(z,xO5,'class',0,e,s,gg)
var oP5=_v()
_(xO5,oP5)
if(_oz(z,1,e,s,gg)){oP5.wxVkey=1
}
var fQ5=_v()
_(xO5,fQ5)
if(_oz(z,2,e,s,gg)){fQ5.wxVkey=1
}
var cR5=_v()
_(xO5,cR5)
if(_oz(z,3,e,s,gg)){cR5.wxVkey=1
}
oP5.wxXCkey=1
fQ5.wxXCkey=1
cR5.wxXCkey=1
_(r,xO5)
return r
}
e_[x[50]]={f:m42,j:[],i:[],ti:[],ic:[]}
d_[x[51]]={}
var m43=function(e,s,r,gg){
var z=gz$gwx_44()
var oT5=_mz(z,'base-modal',['cls',0,'id',1,'mask',1],[],e,s,gg)
_(r,oT5)
return r
}
e_[x[51]]={f:m43,j:[],i:[],ti:[],ic:[]}
d_[x[52]]={}
var m44=function(e,s,r,gg){
var z=gz$gwx_45()
var oV5=_v()
_(r,oV5)
if(_oz(z,0,e,s,gg)){oV5.wxVkey=1
var lW5=_mz(z,'form',['bindsubmit',1,'reportSubmit',1],[],e,s,gg)
var aX5=_v()
_(lW5,aX5)
if(_oz(z,3,e,s,gg)){aX5.wxVkey=1
}
aX5.wxXCkey=1
_(oV5,lW5)
}
oV5.wxXCkey=1
return r
}
e_[x[52]]={f:m44,j:[],i:[],ti:[],ic:[]}
d_[x[53]]={}
var m45=function(e,s,r,gg){
var z=gz$gwx_46()
var eZ5=_v()
_(r,eZ5)
if(_oz(z,0,e,s,gg)){eZ5.wxVkey=1
var b15=_v()
_(eZ5,b15)
if(_oz(z,1,e,s,gg)){b15.wxVkey=1
}
b15.wxXCkey=1
}
else{eZ5.wxVkey=2
var o25=_n('view')
_rz(z,o25,'class',2,e,s,gg)
var x35=_v()
_(o25,x35)
if(_oz(z,3,e,s,gg)){x35.wxVkey=1
var o45=_v()
_(x35,o45)
if(_oz(z,4,e,s,gg)){o45.wxVkey=1
}
o45.wxXCkey=1
}
else{x35.wxVkey=2
var f55=_v()
_(x35,f55)
if(_oz(z,5,e,s,gg)){f55.wxVkey=1
}
f55.wxXCkey=1
}
x35.wxXCkey=1
_(eZ5,o25)
}
eZ5.wxXCkey=1
return r
}
e_[x[53]]={f:m45,j:[],i:[],ti:[],ic:[]}
d_[x[54]]={}
var m46=function(e,s,r,gg){
var z=gz$gwx_47()
var h75=e_[x[54]].i
_ai(h75,x[44],e_,x[54],2,4)
_ai(h75,x[45],e_,x[54],3,4)
_ai(h75,x[46],e_,x[54],4,4)
var aB6=_n('view')
_rz(z,aB6,'class',0,e,s,gg)
var tC6=_v()
_(aB6,tC6)
if(_oz(z,1,e,s,gg)){tC6.wxVkey=1
}
var bE6=_n('view')
_rz(z,bE6,'class',2,e,s,gg)
var xG6=_n('view')
_rz(z,xG6,'class',3,e,s,gg)
var cJ6=_n('view')
_rz(z,cJ6,'class',4,e,s,gg)
var oL6=_v()
_(cJ6,oL6)
var cM6=_oz(z,6,e,s,gg)
var oN6=_gd(x[54],cM6,e_,d_)
if(oN6){
var lO6=_1z(z,5,e,s,gg) || {}
var cur_globalf=gg.f
oL6.wxXCkey=3
oN6(lO6,lO6,oL6,gg)
gg.f=cur_globalf
}
else _w(cM6,x[54],14,26)
var hK6=_v()
_(cJ6,hK6)
if(_oz(z,7,e,s,gg)){hK6.wxVkey=1
var aP6=_n('view')
_rz(z,aP6,'class',8,e,s,gg)
var tQ6=_v()
_(aP6,tQ6)
if(_oz(z,9,e,s,gg)){tQ6.wxVkey=1
}
var eR6=_v()
_(aP6,eR6)
if(_oz(z,10,e,s,gg)){eR6.wxVkey=1
}
tQ6.wxXCkey=1
eR6.wxXCkey=1
_(hK6,aP6)
}
var bS6=_n('view')
_rz(z,bS6,'class',11,e,s,gg)
var oT6=_v()
_(bS6,oT6)
if(_oz(z,12,e,s,gg)){oT6.wxVkey=1
}
var xU6=_v()
_(bS6,xU6)
if(_oz(z,13,e,s,gg)){xU6.wxVkey=1
}
oT6.wxXCkey=1
xU6.wxXCkey=1
_(cJ6,bS6)
hK6.wxXCkey=1
_(xG6,cJ6)
var oH6=_v()
_(xG6,oH6)
if(_oz(z,14,e,s,gg)){oH6.wxVkey=1
var oV6=_v()
_(oH6,oV6)
if(_oz(z,15,e,s,gg)){oV6.wxVkey=1
var fW6=_n('view')
_rz(z,fW6,'class',16,e,s,gg)
var oZ6=_v()
_(fW6,oZ6)
var c16=function(l36,o26,a46,gg){
var e66=_v()
_(a46,e66)
if(_oz(z,20,l36,o26,gg)){e66.wxVkey=1
var b76=_mz(z,'audio-player',['class',21,'height',1,'id',2,'style',3,'url',4,'width',5],[],l36,o26,gg)
var o86=_v()
_(b76,o86)
var x96=_oz(z,28,l36,o26,gg)
var o06=_gd(x[54],x96,e_,d_)
if(o06){
var fA7=_1z(z,27,l36,o26,gg) || {}
var cur_globalf=gg.f
o86.wxXCkey=3
o06(fA7,fA7,o86,gg)
gg.f=cur_globalf
}
else _w(x96,x[54],52,30)
_(e66,b76)
}
else{e66.wxVkey=2
var cB7=_mz(z,'view',['capture-catch:tap',29,'class',1,'data-url',2,'style',3],[],l36,o26,gg)
var hC7=_v()
_(cB7,hC7)
var oD7=_oz(z,34,l36,o26,gg)
var cE7=_gd(x[54],oD7,e_,d_)
if(cE7){
var oF7=_1z(z,33,l36,o26,gg) || {}
var cur_globalf=gg.f
hC7.wxXCkey=3
cE7(oF7,oF7,hC7,gg)
gg.f=cur_globalf
}
else _w(oD7,x[54],59,30)
_(e66,cB7)
}
e66.wxXCkey=1
e66.wxXCkey=3
return a46
}
oZ6.wxXCkey=4
_2z(z,18,c16,e,s,gg,oZ6,'item','index','item')
var lG7=_v()
_(fW6,lG7)
var aH7=function(eJ7,tI7,bK7,gg){
var xM7=_v()
_(bK7,xM7)
if(_oz(z,39,eJ7,tI7,gg)){xM7.wxVkey=1
var oN7=_mz(z,'view',['catchlongpress',40,'catchtap',1,'class',2,'data-list',3,'data-url',4],[],eJ7,tI7,gg)
var cP7=_v()
_(oN7,cP7)
var hQ7=_oz(z,46,eJ7,tI7,gg)
var oR7=_gd(x[54],hQ7,e_,d_)
if(oR7){
var cS7=_1z(z,45,eJ7,tI7,gg) || {}
var cur_globalf=gg.f
cP7.wxXCkey=3
oR7(cS7,cS7,cP7,gg)
gg.f=cur_globalf
}
else _w(hQ7,x[54],74,30)
var fO7=_v()
_(oN7,fO7)
if(_oz(z,47,eJ7,tI7,gg)){fO7.wxVkey=1
}
fO7.wxXCkey=1
_(xM7,oN7)
}
else{xM7.wxVkey=2
var oT7=_mz(z,'view',['catchtap',48,'class',1,'data-list',2,'data-url',3],[],eJ7,tI7,gg)
var lU7=_v()
_(oT7,lU7)
var aV7=_oz(z,53,eJ7,tI7,gg)
var tW7=_gd(x[54],aV7,e_,d_)
if(tW7){
var eX7=_1z(z,52,eJ7,tI7,gg) || {}
var cur_globalf=gg.f
lU7.wxXCkey=3
tW7(eX7,eX7,lU7,gg)
gg.f=cur_globalf
}
else _w(aV7,x[54],93,30)
_(xM7,oT7)
}
xM7.wxXCkey=1
return bK7
}
lG7.wxXCkey=2
_2z(z,37,aH7,e,s,gg,lG7,'image','i','image')
var cX6=_v()
_(fW6,cX6)
if(_oz(z,54,e,s,gg)){cX6.wxVkey=1
var bY7=_mz(z,'view',['bindtap',55,'class',1,'data-video',2],[],e,s,gg)
var oZ7=_v()
_(bY7,oZ7)
var x17=_oz(z,59,e,s,gg)
var o27=_gd(x[54],x17,e_,d_)
if(o27){
var f37=_1z(z,58,e,s,gg) || {}
var cur_globalf=gg.f
oZ7.wxXCkey=3
o27(f37,f37,oZ7,gg)
gg.f=cur_globalf
}
else _w(x17,x[54],103,28)
_(cX6,bY7)
}
var hY6=_v()
_(fW6,hY6)
if(_oz(z,60,e,s,gg)){hY6.wxVkey=1
}
cX6.wxXCkey=1
hY6.wxXCkey=1
_(oV6,fW6)
}
oV6.wxXCkey=1
oV6.wxXCkey=3
}
else{oH6.wxVkey=2
}
var fI6=_v()
_(xG6,fI6)
if(_oz(z,61,e,s,gg)){fI6.wxVkey=1
}
oH6.wxXCkey=1
oH6.wxXCkey=3
fI6.wxXCkey=1
_(bE6,xG6)
var oF6=_v()
_(bE6,oF6)
if(_oz(z,62,e,s,gg)){oF6.wxVkey=1
var c47=_v()
_(oF6,c47)
if(_oz(z,63,e,s,gg)){c47.wxVkey=1
var h57=_n('view')
_rz(z,h57,'class',64,e,s,gg)
var o67=_v()
_(h57,o67)
if(_oz(z,65,e,s,gg)){o67.wxVkey=1
}
var o87=_v()
_(h57,o87)
var l97=_oz(z,67,e,s,gg)
var a07=_gd(x[54],l97,e_,d_)
if(a07){
var tA8=_1z(z,66,e,s,gg) || {}
var cur_globalf=gg.f
o87.wxXCkey=3
a07(tA8,tA8,o87,gg)
gg.f=cur_globalf
}
else _w(l97,x[54],136,28)
var c77=_v()
_(h57,c77)
if(_oz(z,68,e,s,gg)){c77.wxVkey=1
var eB8=_v()
_(c77,eB8)
if(_oz(z,69,e,s,gg)){eB8.wxVkey=1
}
var bC8=_v()
_(c77,bC8)
if(_oz(z,70,e,s,gg)){bC8.wxVkey=1
var oD8=_mz(z,'view',['class',71,'style',1],[],e,s,gg)
var xE8=_v()
_(oD8,xE8)
if(_oz(z,73,e,s,gg)){xE8.wxVkey=1
var oF8=_mz(z,'audio-player',['class',74,'height',1,'id',2,'style',3,'url',4,'width',5],[],e,s,gg)
var fG8=_v()
_(oF8,fG8)
var cH8=_oz(z,81,e,s,gg)
var hI8=_gd(x[54],cH8,e_,d_)
if(hI8){
var oJ8=_1z(z,80,e,s,gg) || {}
var cur_globalf=gg.f
fG8.wxXCkey=3
hI8(oJ8,oJ8,fG8,gg)
gg.f=cur_globalf
}
else _w(cH8,x[54],159,30)
_(xE8,oF8)
}
var cK8=_v()
_(oD8,cK8)
var oL8=function(aN8,lM8,tO8,gg){
var bQ8=_mz(z,'view',['bindtap',86,'class',1,'data-is-rating',2,'data-list',3,'data-url',4],[],aN8,lM8,gg)
var oR8=_v()
_(bQ8,oR8)
var xS8=_oz(z,92,aN8,lM8,gg)
var oT8=_gd(x[54],xS8,e_,d_)
if(oT8){
var fU8=_1z(z,91,aN8,lM8,gg) || {}
var cur_globalf=gg.f
oR8.wxXCkey=3
oT8(fU8,fU8,oR8,gg)
gg.f=cur_globalf
}
else _w(xS8,x[54],172,30)
_(tO8,bQ8)
return tO8
}
cK8.wxXCkey=2
_2z(z,84,oL8,e,s,gg,cK8,'ratingImage','ratingImgIdx','ratingImage')
xE8.wxXCkey=1
xE8.wxXCkey=3
_(bC8,oD8)
}
eB8.wxXCkey=1
bC8.wxXCkey=1
bC8.wxXCkey=3
}
o67.wxXCkey=1
c77.wxXCkey=1
c77.wxXCkey=3
_(c47,h57)
}
c47.wxXCkey=1
c47.wxXCkey=3
}
oF6.wxXCkey=1
oF6.wxXCkey=3
_(aB6,bE6)
var eD6=_v()
_(aB6,eD6)
if(_oz(z,93,e,s,gg)){eD6.wxVkey=1
var cV8=_mz(z,'view',['class',94,'style',1],[],e,s,gg)
var hW8=_v()
_(cV8,hW8)
if(_oz(z,96,e,s,gg)){hW8.wxVkey=1
}
var oX8=_v()
_(cV8,oX8)
if(_oz(z,97,e,s,gg)){oX8.wxVkey=1
}
var cY8=_v()
_(cV8,cY8)
if(_oz(z,98,e,s,gg)){cY8.wxVkey=1
}
var oZ8=_v()
_(cV8,oZ8)
if(_oz(z,99,e,s,gg)){oZ8.wxVkey=1
}
var l18=_v()
_(cV8,l18)
if(_oz(z,100,e,s,gg)){l18.wxVkey=1
}
hW8.wxXCkey=1
oX8.wxXCkey=1
cY8.wxXCkey=1
oZ8.wxXCkey=1
l18.wxXCkey=1
_(eD6,cV8)
}
tC6.wxXCkey=1
eD6.wxXCkey=1
_(r,aB6)
var o85=_v()
_(r,o85)
if(_oz(z,101,e,s,gg)){o85.wxVkey=1
var a28=_v()
_(o85,a28)
var t38=function(b58,e48,o68,gg){
var o88=_n('view')
_rz(z,o88,'class',106,b58,e48,gg)
var c08=_n('view')
_rz(z,c08,'class',107,b58,e48,gg)
var oB9=_v()
_(c08,oB9)
var cC9=_oz(z,109,b58,e48,gg)
var oD9=_gd(x[54],cC9,e_,d_)
if(oD9){
var lE9=_1z(z,108,b58,e48,gg) || {}
var cur_globalf=gg.f
oB9.wxXCkey=3
oD9(lE9,lE9,oB9,gg)
gg.f=cur_globalf
}
else _w(cC9,x[54],240,28)
var hA9=_v()
_(c08,hA9)
if(_oz(z,110,b58,e48,gg)){hA9.wxVkey=1
var aF9=_v()
_(hA9,aF9)
if(_oz(z,111,b58,e48,gg)){aF9.wxVkey=1
}
aF9.wxXCkey=1
}
var tG9=_n('view')
_rz(z,tG9,'class',112,b58,e48,gg)
var eH9=_v()
_(tG9,eH9)
if(_oz(z,113,b58,e48,gg)){eH9.wxVkey=1
}
var bI9=_v()
_(tG9,bI9)
if(_oz(z,114,b58,e48,gg)){bI9.wxVkey=1
}
eH9.wxXCkey=1
bI9.wxXCkey=1
_(c08,tG9)
hA9.wxXCkey=1
_(o88,c08)
var f98=_v()
_(o88,f98)
if(_oz(z,115,b58,e48,gg)){f98.wxVkey=1
var oJ9=_n('view')
_rz(z,oJ9,'class',116,b58,e48,gg)
var oL9=_v()
_(oJ9,oL9)
var fM9=function(hO9,cN9,oP9,gg){
var oR9=_v()
_(oP9,oR9)
if(_oz(z,120,hO9,cN9,gg)){oR9.wxVkey=1
var lS9=_mz(z,'audio-player',['class',121,'height',1,'id',2,'style',3,'url',4,'width',5],[],hO9,cN9,gg)
var aT9=_v()
_(lS9,aT9)
var tU9=_oz(z,128,hO9,cN9,gg)
var eV9=_gd(x[54],tU9,e_,d_)
if(eV9){
var bW9=_1z(z,127,hO9,cN9,gg) || {}
var cur_globalf=gg.f
aT9.wxXCkey=3
eV9(bW9,bW9,aT9,gg)
gg.f=cur_globalf
}
else _w(tU9,x[54],276,30)
_(oR9,lS9)
}
else{oR9.wxVkey=2
var oX9=_mz(z,'view',['capture-catch:tap',129,'class',1,'data-url',2,'style',3],[],hO9,cN9,gg)
var xY9=_v()
_(oX9,xY9)
var oZ9=_oz(z,134,hO9,cN9,gg)
var f19=_gd(x[54],oZ9,e_,d_)
if(f19){
var c29=_1z(z,133,hO9,cN9,gg) || {}
var cur_globalf=gg.f
xY9.wxXCkey=3
f19(c29,c29,xY9,gg)
gg.f=cur_globalf
}
else _w(oZ9,x[54],284,30)
_(oR9,oX9)
}
oR9.wxXCkey=1
oR9.wxXCkey=3
return oP9
}
oL9.wxXCkey=4
_2z(z,118,fM9,b58,e48,gg,oL9,'item','index','item')
var h39=_v()
_(oJ9,h39)
var o49=function(o69,c59,l79,gg){
var t99=_v()
_(l79,t99)
if(_oz(z,139,o69,c59,gg)){t99.wxVkey=1
var e09=_mz(z,'view',['catchlongpress',140,'catchtap',1,'class',2,'data-list',3,'data-url',4],[],o69,c59,gg)
var oB0=_v()
_(e09,oB0)
var xC0=_oz(z,146,o69,c59,gg)
var oD0=_gd(x[54],xC0,e_,d_)
if(oD0){
var fE0=_1z(z,145,o69,c59,gg) || {}
var cur_globalf=gg.f
oB0.wxXCkey=3
oD0(fE0,fE0,oB0,gg)
gg.f=cur_globalf
}
else _w(xC0,x[54],299,30)
var bA0=_v()
_(e09,bA0)
if(_oz(z,147,o69,c59,gg)){bA0.wxVkey=1
}
bA0.wxXCkey=1
_(t99,e09)
}
else{t99.wxVkey=2
var cF0=_mz(z,'view',['catchtap',148,'class',1,'data-list',2,'data-url',3],[],o69,c59,gg)
var hG0=_v()
_(cF0,hG0)
var oH0=_oz(z,153,o69,c59,gg)
var cI0=_gd(x[54],oH0,e_,d_)
if(cI0){
var oJ0=_1z(z,152,o69,c59,gg) || {}
var cur_globalf=gg.f
hG0.wxXCkey=3
cI0(oJ0,oJ0,hG0,gg)
gg.f=cur_globalf
}
else _w(oH0,x[54],318,30)
_(t99,cF0)
}
t99.wxXCkey=1
return l79
}
h39.wxXCkey=2
_2z(z,137,o49,b58,e48,gg,h39,'image','i','image')
var xK9=_v()
_(oJ9,xK9)
if(_oz(z,154,b58,e48,gg)){xK9.wxVkey=1
var lK0=_mz(z,'view',['bindtap',155,'class',1,'data-video',2],[],b58,e48,gg)
var aL0=_v()
_(lK0,aL0)
var tM0=_oz(z,159,b58,e48,gg)
var eN0=_gd(x[54],tM0,e_,d_)
if(eN0){
var bO0=_1z(z,158,b58,e48,gg) || {}
var cur_globalf=gg.f
aL0.wxXCkey=3
eN0(bO0,bO0,aL0,gg)
gg.f=cur_globalf
}
else _w(tM0,x[54],327,28)
_(xK9,lK0)
}
xK9.wxXCkey=1
_(f98,oJ9)
}
f98.wxXCkey=1
f98.wxXCkey=3
_(o68,o88)
return o68
}
a28.wxXCkey=4
_2z(z,104,t38,e,s,gg,a28,'supplement','supplementIdx','id')
}
var c95=_v()
_(r,c95)
if(_oz(z,160,e,s,gg)){c95.wxVkey=1
var oP0=_v()
_(c95,oP0)
if(_oz(z,161,e,s,gg)){oP0.wxVkey=1
var xQ0=_mz(z,'view',['class',162,'style',1],[],e,s,gg)
var oR0=_v()
_(xQ0,oR0)
if(_oz(z,164,e,s,gg)){oR0.wxVkey=1
}
var cT0=_v()
_(xQ0,cT0)
var hU0=_oz(z,166,e,s,gg)
var oV0=_gd(x[54],hU0,e_,d_)
if(oV0){
var cW0=_1z(z,165,e,s,gg) || {}
var cur_globalf=gg.f
cT0.wxXCkey=3
oV0(cW0,cW0,cT0,gg)
gg.f=cur_globalf
}
else _w(hU0,x[54],350,26)
var fS0=_v()
_(xQ0,fS0)
if(_oz(z,167,e,s,gg)){fS0.wxVkey=1
var oX0=_v()
_(fS0,oX0)
if(_oz(z,168,e,s,gg)){oX0.wxVkey=1
}
var lY0=_v()
_(fS0,lY0)
if(_oz(z,169,e,s,gg)){lY0.wxVkey=1
var aZ0=_mz(z,'view',['class',170,'style',1],[],e,s,gg)
var t10=_v()
_(aZ0,t10)
if(_oz(z,172,e,s,gg)){t10.wxVkey=1
var e20=_mz(z,'audio-player',['class',173,'height',1,'id',2,'style',3,'url',4,'width',5],[],e,s,gg)
var b30=_v()
_(e20,b30)
var o40=_oz(z,180,e,s,gg)
var x50=_gd(x[54],o40,e_,d_)
if(x50){
var o60=_1z(z,179,e,s,gg) || {}
var cur_globalf=gg.f
b30.wxXCkey=3
x50(o60,o60,b30,gg)
gg.f=cur_globalf
}
else _w(o40,x[54],373,28)
_(t10,e20)
}
var f70=_v()
_(aZ0,f70)
var c80=function(o00,h90,cAAB,gg){
var lCAB=_mz(z,'view',['bindtap',185,'class',1,'data-is-rating',2,'data-list',3,'data-url',4],[],o00,h90,gg)
var aDAB=_v()
_(lCAB,aDAB)
var tEAB=_oz(z,191,o00,h90,gg)
var eFAB=_gd(x[54],tEAB,e_,d_)
if(eFAB){
var bGAB=_1z(z,190,o00,h90,gg) || {}
var cur_globalf=gg.f
aDAB.wxXCkey=3
eFAB(bGAB,bGAB,aDAB,gg)
gg.f=cur_globalf
}
else _w(tEAB,x[54],386,28)
_(cAAB,lCAB)
return cAAB
}
f70.wxXCkey=2
_2z(z,183,c80,e,s,gg,f70,'ratingImage','ratingImgIdx','ratingImage')
t10.wxXCkey=1
t10.wxXCkey=3
_(lY0,aZ0)
}
oX0.wxXCkey=1
lY0.wxXCkey=1
lY0.wxXCkey=3
}
oR0.wxXCkey=1
fS0.wxXCkey=1
fS0.wxXCkey=3
_(oP0,xQ0)
}
oP0.wxXCkey=1
oP0.wxXCkey=3
}
var o05=_v()
_(r,o05)
if(_oz(z,192,e,s,gg)){o05.wxVkey=1
var oHAB=_mz(z,'view',['class',193,'style',1],[],e,s,gg)
var xIAB=_v()
_(oHAB,xIAB)
if(_oz(z,195,e,s,gg)){xIAB.wxVkey=1
}
var oJAB=_v()
_(oHAB,oJAB)
if(_oz(z,196,e,s,gg)){oJAB.wxVkey=1
}
var fKAB=_v()
_(oHAB,fKAB)
if(_oz(z,197,e,s,gg)){fKAB.wxVkey=1
}
xIAB.wxXCkey=1
oJAB.wxXCkey=1
fKAB.wxXCkey=1
_(o05,oHAB)
}
var lA6=_v()
_(r,lA6)
if(_oz(z,198,e,s,gg)){lA6.wxVkey=1
var cLAB=_n('auth-modal')
_rz(z,cLAB,'id',199,e,s,gg)
_(lA6,cLAB)
}
o85.wxXCkey=1
o85.wxXCkey=3
c95.wxXCkey=1
c95.wxXCkey=3
o05.wxXCkey=1
lA6.wxXCkey=1
lA6.wxXCkey=3
h75.pop()
h75.pop()
h75.pop()
return r
}
e_[x[54]]={f:m46,j:[],i:[],ti:[],ic:[]}
d_[x[55]]={}
var m47=function(e,s,r,gg){
var z=gz$gwx_48()
var oNAB=_v()
_(r,oNAB)
if(_oz(z,0,e,s,gg)){oNAB.wxVkey=1
var cOAB=_mz(z,'view',['class',1,'style',1],[],e,s,gg)
var oPAB=e_[x[55]].i
_ai(oPAB,x[56],e_,x[55],4,4)
_ai(oPAB,x[45],e_,x[55],5,4)
_ai(oPAB,x[57],e_,x[55],6,4)
_ai(oPAB,x[46],e_,x[55],7,4)
var aRAB=_v()
_(cOAB,aRAB)
var tSAB=function(bUAB,eTAB,oVAB,gg){
var oXAB=_v()
_(oVAB,oXAB)
if(_oz(z,6,bUAB,eTAB,gg)){oXAB.wxVkey=1
var fYAB=_mz(z,'audio-player',['class',7,'height',1,'id',2,'style',3,'url',4,'width',5],[],bUAB,eTAB,gg)
_(oXAB,fYAB)
}
else{oXAB.wxVkey=2
var cZAB=_mz(z,'view',['catchtap',13,'class',1,'data-url',2,'style',3],[],bUAB,eTAB,gg)
var h1AB=_v()
_(cZAB,h1AB)
var o2AB=_oz(z,18,bUAB,eTAB,gg)
var c3AB=_gd(x[55],o2AB,e_,d_)
if(c3AB){
var o4AB=_1z(z,17,bUAB,eTAB,gg) || {}
var cur_globalf=gg.f
h1AB.wxXCkey=3
c3AB(o4AB,o4AB,h1AB,gg)
gg.f=cur_globalf
}
else _w(o2AB,x[55],25,20)
_(oXAB,cZAB)
}
oXAB.wxXCkey=1
oXAB.wxXCkey=3
return oVAB
}
aRAB.wxXCkey=4
_2z(z,4,tSAB,e,s,gg,aRAB,'item','index','index')
var l5AB=_v()
_(cOAB,l5AB)
var a6AB=function(e8AB,t7AB,b9AB,gg){
var xABB=_mz(z,'view',['catchtap',23,'class',1,'data-current',2,'data-list',3],[],e8AB,t7AB,gg)
var oBBB=_v()
_(xABB,oBBB)
var fCBB=_oz(z,28,e8AB,t7AB,gg)
var cDBB=_gd(x[55],fCBB,e_,d_)
if(cDBB){
var hEBB=_1z(z,27,e8AB,t7AB,gg) || {}
var cur_globalf=gg.f
oBBB.wxXCkey=3
cDBB(hEBB,hEBB,oBBB,gg)
gg.f=cur_globalf
}
else _w(fCBB,x[55],39,18)
_(b9AB,xABB)
return b9AB
}
l5AB.wxXCkey=2
_2z(z,21,a6AB,e,s,gg,l5AB,'image','idx','idx')
var lQAB=_v()
_(cOAB,lQAB)
if(_oz(z,29,e,s,gg)){lQAB.wxVkey=1
var oFBB=_mz(z,'view',['catchtap',30,'class',1,'data-url',2],[],e,s,gg)
var cGBB=_v()
_(oFBB,cGBB)
var oHBB=_oz(z,34,e,s,gg)
var lIBB=_gd(x[55],oHBB,e_,d_)
if(lIBB){
var aJBB=_1z(z,33,e,s,gg) || {}
var cur_globalf=gg.f
cGBB.wxXCkey=3
lIBB(aJBB,aJBB,cGBB,gg)
gg.f=cur_globalf
}
else _w(oHBB,x[55],48,18)
_(lQAB,oFBB)
}
var tKBB=_n('view')
_rz(z,tKBB,'class',35,e,s,gg)
var eLBB=_v()
_(tKBB,eLBB)
if(_oz(z,36,e,s,gg)){eLBB.wxVkey=1
var bMBB=_v()
_(eLBB,bMBB)
var oNBB=function(oPBB,xOBB,fQBB,gg){
var hSBB=_v()
_(fQBB,hSBB)
if(_oz(z,39,oPBB,xOBB,gg)){hSBB.wxVkey=1
var oTBB=_v()
_(hSBB,oTBB)
if(_oz(z,40,oPBB,xOBB,gg)){oTBB.wxVkey=1
var cUBB=_mz(z,'audio-player',['class',41,'height',1,'id',2,'style',3,'url',4,'width',5],[],oPBB,xOBB,gg)
_(oTBB,cUBB)
}
else{oTBB.wxVkey=2
var oVBB=_mz(z,'view',['catchtap',47,'class',1,'data-url',2],[],oPBB,xOBB,gg)
var lWBB=_v()
_(oVBB,lWBB)
var aXBB=_oz(z,51,oPBB,xOBB,gg)
var tYBB=_gd(x[55],aXBB,e_,d_)
if(tYBB){
var eZBB=_1z(z,50,oPBB,xOBB,gg) || {}
var cur_globalf=gg.f
lWBB.wxXCkey=3
tYBB(eZBB,eZBB,lWBB,gg)
gg.f=cur_globalf
}
else _w(aXBB,x[55],70,30)
_(oTBB,oVBB)
}
oTBB.wxXCkey=1
oTBB.wxXCkey=3
}
else{hSBB.wxVkey=2
}
hSBB.wxXCkey=1
hSBB.wxXCkey=3
return fQBB
}
bMBB.wxXCkey=4
_2z(z,37,oNBB,e,s,gg,bMBB,'item','index','path')
}
var b1BB=_v()
_(tKBB,b1BB)
var o2BB=function(o4BB,x3BB,f5BB,gg){
var h7BB=_v()
_(f5BB,h7BB)
if(_oz(z,54,o4BB,x3BB,gg)){h7BB.wxVkey=1
}
h7BB.wxXCkey=1
return f5BB
}
b1BB.wxXCkey=2
_2z(z,52,o2BB,e,s,gg,b1BB,'item','index','url')
var o8BB=_n('slot')
_rz(z,o8BB,'name',55,e,s,gg)
_(tKBB,o8BB)
eLBB.wxXCkey=1
eLBB.wxXCkey=3
_(cOAB,tKBB)
lQAB.wxXCkey=1
oPAB.pop()
oPAB.pop()
oPAB.pop()
oPAB.pop()
_(oNAB,cOAB)
}
oNAB.wxXCkey=1
oNAB.wxXCkey=3
return r
}
e_[x[55]]={f:m47,j:[],i:[],ti:[],ic:[]}
d_[x[58]]={}
var m48=function(e,s,r,gg){
var z=gz$gwx_49()
var o0BB=_mz(z,'view',['class',0,'hidden',1],[],e,s,gg)
var lACB=_n('cover-view')
_rz(z,lACB,'class',2,e,s,gg)
var aBCB=_v()
_(lACB,aBCB)
if(_oz(z,3,e,s,gg)){aBCB.wxVkey=1
}
var tCCB=_v()
_(lACB,tCCB)
if(_oz(z,4,e,s,gg)){tCCB.wxVkey=1
}
var eDCB=_v()
_(lACB,eDCB)
if(_oz(z,5,e,s,gg)){eDCB.wxVkey=1
}
aBCB.wxXCkey=1
tCCB.wxXCkey=1
eDCB.wxXCkey=1
_(o0BB,lACB)
var bECB=_n('follow-modal')
_rz(z,bECB,'id',6,e,s,gg)
_(o0BB,bECB)
_(r,o0BB)
return r
}
e_[x[58]]={f:m48,j:[],i:[],ti:[],ic:[]}
d_[x[59]]={}
var m49=function(e,s,r,gg){
var z=gz$gwx_50()
var xGCB=_v()
_(r,xGCB)
if(_oz(z,0,e,s,gg)){xGCB.wxVkey=1
}
xGCB.wxXCkey=1
return r
}
e_[x[59]]={f:m49,j:[],i:[],ti:[],ic:[]}
d_[x[60]]={}
var m50=function(e,s,r,gg){
var z=gz$gwx_51()
var fICB=_v()
_(r,fICB)
var cJCB=function(oLCB,hKCB,cMCB,gg){
var lOCB=_v()
_(cMCB,lOCB)
if(_oz(z,3,oLCB,hKCB,gg)){lOCB.wxVkey=1
var aPCB=_v()
_(lOCB,aPCB)
if(_oz(z,4,oLCB,hKCB,gg)){aPCB.wxVkey=1
}
aPCB.wxXCkey=1
}
lOCB.wxXCkey=1
return cMCB
}
fICB.wxXCkey=2
_2z(z,1,cJCB,e,s,gg,fICB,'video','index','url')
var tQCB=_v()
_(r,tQCB)
var eRCB=function(oTCB,bSCB,xUCB,gg){
var fWCB=_v()
_(xUCB,fWCB)
if(_oz(z,8,oTCB,bSCB,gg)){fWCB.wxVkey=1
var cXCB=_n('view')
_rz(z,cXCB,'class',9,oTCB,bSCB,gg)
var hYCB=_v()
_(cXCB,hYCB)
if(_oz(z,10,oTCB,bSCB,gg)){hYCB.wxVkey=1
var c1CB=_mz(z,'txv-video',['class',11,'playerid',1,'vid',2],[],oTCB,bSCB,gg)
_(hYCB,c1CB)
}
var oZCB=_v()
_(cXCB,oZCB)
if(_oz(z,14,oTCB,bSCB,gg)){oZCB.wxVkey=1
}
hYCB.wxXCkey=1
hYCB.wxXCkey=3
oZCB.wxXCkey=1
_(fWCB,cXCB)
}
fWCB.wxXCkey=1
fWCB.wxXCkey=3
return xUCB
}
tQCB.wxXCkey=4
_2z(z,6,eRCB,e,s,gg,tQCB,'vid','index','vid')
var o2CB=_v()
_(r,o2CB)
var l3CB=function(t5CB,a4CB,e6CB,gg){
var o8CB=_v()
_(e6CB,o8CB)
if(_oz(z,17,t5CB,a4CB,gg)){o8CB.wxVkey=1
var x9CB=_v()
_(o8CB,x9CB)
if(_oz(z,18,t5CB,a4CB,gg)){x9CB.wxVkey=1
}
x9CB.wxXCkey=1
}
o8CB.wxXCkey=1
return e6CB
}
o2CB.wxXCkey=2
_2z(z,15,l3CB,e,s,gg,o2CB,'item','index','url')
var o0CB=_v()
_(r,o0CB)
var fADB=function(hCDB,cBDB,oDDB,gg){
var oFDB=_v()
_(oDDB,oFDB)
if(_oz(z,21,hCDB,cBDB,gg)){oFDB.wxVkey=1
var lGDB=_v()
_(oFDB,lGDB)
if(_oz(z,22,hCDB,cBDB,gg)){lGDB.wxVkey=1
}
lGDB.wxXCkey=1
}
oFDB.wxXCkey=1
return oDDB
}
o0CB.wxXCkey=2
_2z(z,19,fADB,e,s,gg,o0CB,'item','index','id')
var aHDB=_n('view')
_rz(z,aHDB,'class',23,e,s,gg)
var cPDB=_v()
_(aHDB,cPDB)
var hQDB=function(cSDB,oRDB,oTDB,gg){
var aVDB=_v()
_(oTDB,aVDB)
if(_oz(z,28,cSDB,oRDB,gg)){aVDB.wxVkey=1
var tWDB=_v()
_(aVDB,tWDB)
if(_oz(z,29,cSDB,oRDB,gg)){tWDB.wxVkey=1
}
tWDB.wxXCkey=1
}
aVDB.wxXCkey=1
return oTDB
}
cPDB.wxXCkey=2
_2z(z,26,hQDB,e,s,gg,cPDB,'image','idx','url')
var eXDB=_v()
_(aHDB,eXDB)
var bYDB=function(x1DB,oZDB,o2DB,gg){
var c4DB=_v()
_(o2DB,c4DB)
if(_oz(z,34,x1DB,oZDB,gg)){c4DB.wxVkey=1
var h5DB=_mz(z,'view',['class',35,'style',1],[],x1DB,oZDB,gg)
var c7DB=_mz(z,'audio-player',['height',37,'id',1,'url',2,'width',3],[],x1DB,oZDB,gg)
_(h5DB,c7DB)
var o6DB=_v()
_(h5DB,o6DB)
if(_oz(z,41,x1DB,oZDB,gg)){o6DB.wxVkey=1
}
o6DB.wxXCkey=1
_(c4DB,h5DB)
}
c4DB.wxXCkey=1
c4DB.wxXCkey=3
return o2DB
}
eXDB.wxXCkey=4
_2z(z,32,bYDB,e,s,gg,eXDB,'voice','i','url')
var o8DB=_v()
_(aHDB,o8DB)
var l9DB=function(tAEB,a0DB,eBEB,gg){
var oDEB=_v()
_(eBEB,oDEB)
if(_oz(z,46,tAEB,a0DB,gg)){oDEB.wxVkey=1
var xEEB=_mz(z,'view',['catchtap',47,'class',1,'data-index',2],[],tAEB,a0DB,gg)
var oFEB=_v()
_(xEEB,oFEB)
if(_oz(z,50,tAEB,a0DB,gg)){oFEB.wxVkey=1
}
oFEB.wxXCkey=1
_(oDEB,xEEB)
}
oDEB.wxXCkey=1
return eBEB
}
o8DB.wxXCkey=2
_2z(z,44,l9DB,e,s,gg,o8DB,'file','i','url')
var tIDB=_v()
_(aHDB,tIDB)
if(_oz(z,51,e,s,gg)){tIDB.wxVkey=1
}
var eJDB=_v()
_(aHDB,eJDB)
if(_oz(z,52,e,s,gg)){eJDB.wxVkey=1
}
var bKDB=_v()
_(aHDB,bKDB)
if(_oz(z,53,e,s,gg)){bKDB.wxVkey=1
}
var oLDB=_v()
_(aHDB,oLDB)
if(_oz(z,54,e,s,gg)){oLDB.wxVkey=1
}
var xMDB=_v()
_(aHDB,xMDB)
if(_oz(z,55,e,s,gg)){xMDB.wxVkey=1
}
var oNDB=_v()
_(aHDB,oNDB)
if(_oz(z,56,e,s,gg)){oNDB.wxVkey=1
}
var fODB=_v()
_(aHDB,fODB)
if(_oz(z,57,e,s,gg)){fODB.wxVkey=1
}
tIDB.wxXCkey=1
eJDB.wxXCkey=1
bKDB.wxXCkey=1
oLDB.wxXCkey=1
xMDB.wxXCkey=1
oNDB.wxXCkey=1
fODB.wxXCkey=1
_(r,aHDB)
var fGEB=_mz(z,'recorder',['bind:success',58,'id',1],[],e,s,gg)
_(r,fGEB)
return r
}
e_[x[60]]={f:m50,j:[],i:[],ti:[],ic:[]}
d_[x[61]]={}
var m51=function(e,s,r,gg){
var z=gz$gwx_52()
var hIEB=_mz(z,'form',['bindsubmit',0,'reportSubmit',1,'style',1],[],e,s,gg)
var oJEB=e_[x[61]].i
_ai(oJEB,x[62],e_,x[61],4,4)
var cKEB=_v()
_(hIEB,cKEB)
if(_oz(z,3,e,s,gg)){cKEB.wxVkey=1
}
var oLEB=_v()
_(hIEB,oLEB)
if(_oz(z,4,e,s,gg)){oLEB.wxVkey=1
var tOEB=_v()
_(oLEB,tOEB)
if(_oz(z,5,e,s,gg)){tOEB.wxVkey=1
var ePEB=_mz(z,'view',['catchtap',6,'style',1],[],e,s,gg)
var bQEB=_v()
_(ePEB,bQEB)
var oREB=_oz(z,9,e,s,gg)
var xSEB=_gd(x[61],oREB,e_,d_)
if(xSEB){
var oTEB=_1z(z,8,e,s,gg) || {}
var cur_globalf=gg.f
bQEB.wxXCkey=3
xSEB(oTEB,oTEB,bQEB,gg)
gg.f=cur_globalf
}
else _w(oREB,x[61],79,24)
_(tOEB,ePEB)
}
tOEB.wxXCkey=1
}
var fUEB=_mz(z,'media-selector',['bind:toTemplate',10,'class',1,'id',2,'maxImageCount',3,'maxVoiceCount',4,'showTemplateBtn',5],[],e,s,gg)
_(hIEB,fUEB)
var lMEB=_v()
_(hIEB,lMEB)
if(_oz(z,16,e,s,gg)){lMEB.wxVkey=1
}
var aNEB=_v()
_(hIEB,aNEB)
if(_oz(z,17,e,s,gg)){aNEB.wxVkey=1
}
cKEB.wxXCkey=1
oLEB.wxXCkey=1
lMEB.wxXCkey=1
aNEB.wxXCkey=1
oJEB.pop()
_(r,hIEB)
return r
}
e_[x[61]]={f:m51,j:[],i:[],ti:[],ic:[]}
d_[x[63]]={}
var m52=function(e,s,r,gg){
var z=gz$gwx_53()
var hWEB=_v()
_(r,hWEB)
if(_oz(z,0,e,s,gg)){hWEB.wxVkey=1
}
var oXEB=_n('auth-modal')
_rz(z,oXEB,'id',1,e,s,gg)
_(r,oXEB)
hWEB.wxXCkey=1
return r
}
e_[x[63]]={f:m52,j:[],i:[],ti:[],ic:[]}
d_[x[64]]={}
var m53=function(e,s,r,gg){
var z=gz$gwx_54()
return r
}
e_[x[64]]={f:m53,j:[],i:[],ti:[],ic:[]}
d_[x[65]]={}
var m54=function(e,s,r,gg){
var z=gz$gwx_55()
var l1EB=_v()
_(r,l1EB)
if(_oz(z,0,e,s,gg)){l1EB.wxVkey=1
var a2EB=_mz(z,'cover-view',['class',1,'slot',1],[],e,s,gg)
var t3EB=_v()
_(a2EB,t3EB)
if(_oz(z,3,e,s,gg)){t3EB.wxVkey=1
}
t3EB.wxXCkey=1
_(l1EB,a2EB)
}
l1EB.wxXCkey=1
return r
}
e_[x[65]]={f:m54,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
return root;
}
}
}
	__wxAppCode__['app.json'] = {"pages":["pages/index","pages/group","pages/homework","pages/answer","pages/help","pages/video","pages/configure","pages/authorization","pages/qrcode","pages/albumlist","pages/album","pages/album_edit","pages/file","pages/lessons","pages/examinations","pages/exam","pages/upload_file","pages/vip_feature","pages/purchaseMembers","pages/exam_select","pages/exam_comment","pages/homework_report","pages/announcement_list","pages/announcement_edit","pages/announcement","pages/wish_list","pages/success","pages/vip_success","pages/rating_template"],"subPackages":[{"root":"sp1/","pages":["pages/graduated","pages/store","pages/credit","pages/creditstate","pages/invitation","pages/notification_setting","pages/ledger","pages/ledgerlist","pages/createAdward","pages/update_info","pages/personal","pages/webpage"]},{"root":"sp2/","pages":["pages/course_record_edit","pages/course_evaluation_edit","pages/course_record_list","pages/course_evaluation_list","pages/course_record"]},{"root":"sp3/","pages":["pages/daily_homework_list","pages/daily_homework_records","pages/daily_homework_statistic"]},{"root":"sp4/","pages":["pages/statistics","pages/bulk_rating","pages/image_editor","pages/new_image_editor","pages/image_bulk_editor","pages/answers","pages/supplementary","pages/calendar","pages/homework_answer"]},{"root":"sp5/","pages":["pages/exam_report","pages/team_list","pages/team_edit"]},{"root":"sp6/","pages":["pages/dialogs","pages/dialog_detail","pages/partner_list"]},{"root":"sp7/","pages":["pages/group_edit","pages/group_mode","pages/join_confirm","pages/profile"]},{"root":"sp8/","pages":["pages/enroll_edit","pages/enroll","pages/enroll_join","pages/add_to_group"]},{"root":"sp9/","pages":["pages/question_set_list","pages/question_set_edit","pages/question_edit","pages/question_answer_edit","pages/homework_question_edit","pages/question_set_report"]},{"root":"sp10/","pages":["pages/excellent_student"]},{"root":"sp11/","pages":["pages/daily_assign","pages/weekdays","pages/assign","pages/external_url"]}],"window":{"enablePullDownRefresh":true,"backgroundTextStyle":"light","backgroundColor":"#dcdcdc","navigationBarBackgroundColor":"#F8F8F8","navigationBarTitleText":"作业登记簿","navigationBarTextStyle":"black"},"networkTimeout":{"request":10000,"connectSocket":10000,"uploadFile":20000,"downloadFile":20000},"permission":{"scope.userLocation":{"desc":"您的位置信息将用于小程序位置接口的效果展示"}},"cloud":true,"navigateToMiniProgramAppIdList":["wxb251981d899d5c23","wx7bb576902363f4ff","wx77773ade9a2d7055"],"plugins":{"TxvVideo":{"version":"1.3.12","provider":"wxa75efa648b60994b"},"contactPlugin":{"version":"1.3.0","provider":"wx104a1a20c3f81ec2"}},"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['app.wxml'] = [$gwx, './app.wxml'];else __wxAppCode__['app.wxml'] = $gwx( './app.wxml' );
		__wxAppCode__['pages/album.json'] = {"navigationBarTitleText":"班级相册","enablePullDownRefresh":true,"usingComponents":{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/album.wxml'] = [$gwx, './pages/album.wxml'];else __wxAppCode__['pages/album.wxml'] = $gwx( './pages/album.wxml' );
		__wxAppCode__['pages/album_edit.json'] = {"navigationBarTitleText":"","enablePullDownRefresh":false,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/album_edit.wxml'] = [$gwx, './pages/album_edit.wxml'];else __wxAppCode__['pages/album_edit.wxml'] = $gwx( './pages/album_edit.wxml' );
		__wxAppCode__['pages/albumlist.json'] = {"navigationBarTitleText":"班级相册","enablePullDownRefresh":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/albumlist.wxml'] = [$gwx, './pages/albumlist.wxml'];else __wxAppCode__['pages/albumlist.wxml'] = $gwx( './pages/albumlist.wxml' );
		__wxAppCode__['pages/announcement.json'] = {"navigationBarTitleText":"公告详情","usingComponents":{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/announcement.wxml'] = [$gwx, './pages/announcement.wxml'];else __wxAppCode__['pages/announcement.wxml'] = $gwx( './pages/announcement.wxml' );
		__wxAppCode__['pages/announcement_edit.json'] = {"navigationBarTitleText":"班级公告","usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/announcement_edit.wxml'] = [$gwx, './pages/announcement_edit.wxml'];else __wxAppCode__['pages/announcement_edit.wxml'] = $gwx( './pages/announcement_edit.wxml' );
		__wxAppCode__['pages/announcement_list.json'] = {"navigationBarTitleText":"班级公告","enablePullDownRefresh":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/announcement_list.wxml'] = [$gwx, './pages/announcement_list.wxml'];else __wxAppCode__['pages/announcement_list.wxml'] = $gwx( './pages/announcement_list.wxml' );
		__wxAppCode__['pages/answer.json'] = {"navigationBarBackgroundColor":"#fff","enablePullDownRefresh":true,"navigationBarTitleText":"作业提交","usingComponents":{"answer-detail":"/wx_components/homework_answer/index","auth-modal":"/wx_components/auth_modal/index","recorder":"/wx_components/recorder/index","rating-form":"/wx_components/rating_form/index","audio-player":"/wx_components/audio_player/index","video-cover":"/wx_components/video_cover/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/answer.wxml'] = [$gwx, './pages/answer.wxml'];else __wxAppCode__['pages/answer.wxml'] = $gwx( './pages/answer.wxml' );
		__wxAppCode__['pages/authorization.json'] = {"navigationBarBackgroundColor":"#fff","enablePullDownRefresh":false,"navigationBarTitleText":"用户授权","usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/authorization.wxml'] = [$gwx, './pages/authorization.wxml'];else __wxAppCode__['pages/authorization.wxml'] = $gwx( './pages/authorization.wxml' );
		__wxAppCode__['pages/configure.json'] = {"navigationBarTitleText":"作业登记簿","usingComponents":{"follow-modal":"/wx_components/follow_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/configure.wxml'] = [$gwx, './pages/configure.wxml'];else __wxAppCode__['pages/configure.wxml'] = $gwx( './pages/configure.wxml' );
		__wxAppCode__['pages/exam.json'] = {"enablePullDownRefresh":true,"usingComponents":{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index","lesson-selector":"/wx_components/lesson_selector/index","group-picker":"/wx_components/group_picker/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/exam.wxml'] = [$gwx, './pages/exam.wxml'];else __wxAppCode__['pages/exam.wxml'] = $gwx( './pages/exam.wxml' );
		__wxAppCode__['pages/exam_comment.json'] = {"navigationBarTitleText":"成绩点评","enablePullDownRefresh":false,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/exam_comment.wxml'] = [$gwx, './pages/exam_comment.wxml'];else __wxAppCode__['pages/exam_comment.wxml'] = $gwx( './pages/exam_comment.wxml' );
		__wxAppCode__['pages/exam_select.json'] = {"navigationBarTitleText":"考试成绩","enablePullDownRefresh":false,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/exam_select.wxml'] = [$gwx, './pages/exam_select.wxml'];else __wxAppCode__['pages/exam_select.wxml'] = $gwx( './pages/exam_select.wxml' );
		__wxAppCode__['pages/examinations.json'] = {"navigationBarTitleText":"考试成绩","enablePullDownRefresh":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/examinations.wxml'] = [$gwx, './pages/examinations.wxml'];else __wxAppCode__['pages/examinations.wxml'] = $gwx( './pages/examinations.wxml' );
		__wxAppCode__['pages/file.json'] = {"navigationBarTitleText":"相册文件","enablePullDownRefresh":false,"usingComponents":{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index","auth-modal":"/wx_components/auth_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/file.wxml'] = [$gwx, './pages/file.wxml'];else __wxAppCode__['pages/file.wxml'] = $gwx( './pages/file.wxml' );
		__wxAppCode__['pages/group.json'] = {"navigationBarTitleText":"班级","usingComponents":{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/group.wxml'] = [$gwx, './pages/group.wxml'];else __wxAppCode__['pages/group.wxml'] = $gwx( './pages/group.wxml' );
		__wxAppCode__['pages/help.json'] = {"navigationBarTitleText":"作业案例","enablePullDownRefresh":false,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/help.wxml'] = [$gwx, './pages/help.wxml'];else __wxAppCode__['pages/help.wxml'] = $gwx( './pages/help.wxml' );
		__wxAppCode__['pages/homework.json'] = {"navigationBarTitleText":"详情","enablePullDownRefresh":true,"usingComponents":{"homeworkmedia":"/wx_components/homework_media/index","txv-video":"plugin://wxa75efa648b60994b/video","vip-renewal-modal":"/wx_components/vip_renewal_modal/index","answer-detail":"/wx_components/answer_detail/index","rating-form":"/wx_components/rating_form/index","join-group-footer":"/wx_components/join_group_footer/index","auth-modal":"/wx_components/auth_modal/index","recorder":"/wx_components/recorder/index","audio-player":"/wx_components/audio_player/index","follow-modal":"/wx_components/follow_modal/index","video-cover":"/wx_components/video_cover/index","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/homework.wxml'] = [$gwx, './pages/homework.wxml'];else __wxAppCode__['pages/homework.wxml'] = $gwx( './pages/homework.wxml' );
		__wxAppCode__['pages/homework_report.json'] = {"navigationBarTitleText":"作业统计","enablePullDownRefresh":false,"usingComponents":{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index","group-picker":"/wx_components/group_picker/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/homework_report.wxml'] = [$gwx, './pages/homework_report.wxml'];else __wxAppCode__['pages/homework_report.wxml'] = $gwx( './pages/homework_report.wxml' );
		__wxAppCode__['pages/index.json'] = {"navigationBarTitleText":"作业登记簿","usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index.wxml'] = [$gwx, './pages/index.wxml'];else __wxAppCode__['pages/index.wxml'] = $gwx( './pages/index.wxml' );
		__wxAppCode__['pages/lessons.json'] = {"navigationBarTitleText":"课程表","usingComponents":{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/lessons.wxml'] = [$gwx, './pages/lessons.wxml'];else __wxAppCode__['pages/lessons.wxml'] = $gwx( './pages/lessons.wxml' );
		__wxAppCode__['pages/purchaseMembers.json'] = {"navigationBarTitleText":"选择成员","enablePullDownRefresh":false,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/purchaseMembers.wxml'] = [$gwx, './pages/purchaseMembers.wxml'];else __wxAppCode__['pages/purchaseMembers.wxml'] = $gwx( './pages/purchaseMembers.wxml' );
		__wxAppCode__['pages/qrcode.json'] = {"enablePullDownRefresh":false,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/qrcode.wxml'] = [$gwx, './pages/qrcode.wxml'];else __wxAppCode__['pages/qrcode.wxml'] = $gwx( './pages/qrcode.wxml' );
		__wxAppCode__['pages/rating_template.json'] = {"navigationBarBackgroundColor":"#fff","enablePullDownRefresh":false,"navigationBarTitleText":"评语","usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/rating_template.wxml'] = [$gwx, './pages/rating_template.wxml'];else __wxAppCode__['pages/rating_template.wxml'] = $gwx( './pages/rating_template.wxml' );
		__wxAppCode__['pages/success.json'] = {"navigationBarTitleText":"作业登记簿","enablePullDownRefresh":false,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/success.wxml'] = [$gwx, './pages/success.wxml'];else __wxAppCode__['pages/success.wxml'] = $gwx( './pages/success.wxml' );
		__wxAppCode__['pages/upload_file.json'] = {"navigationBarTitleText":"上传文件","usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/upload_file.wxml'] = [$gwx, './pages/upload_file.wxml'];else __wxAppCode__['pages/upload_file.wxml'] = $gwx( './pages/upload_file.wxml' );
		__wxAppCode__['pages/video.json'] = {"navigationBarTitleText":"视频","usingComponents":{"auth-modal":"/wx_components/auth_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/video.wxml'] = [$gwx, './pages/video.wxml'];else __wxAppCode__['pages/video.wxml'] = $gwx( './pages/video.wxml' );
		__wxAppCode__['pages/vip_feature.json'] = {"navigationBarTitleText":"开通VIP","enablePullDownRefresh":false,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/vip_feature.wxml'] = [$gwx, './pages/vip_feature.wxml'];else __wxAppCode__['pages/vip_feature.wxml'] = $gwx( './pages/vip_feature.wxml' );
		__wxAppCode__['pages/vip_success.json'] = {"navigationBarTitleText":"VIP","enablePullDownRefresh":false,"usingComponents":{"follow-modal":"/wx_components/follow_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/vip_success.wxml'] = [$gwx, './pages/vip_success.wxml'];else __wxAppCode__['pages/vip_success.wxml'] = $gwx( './pages/vip_success.wxml' );
		__wxAppCode__['pages/wish_list.json'] = {"navigationBarTitleText":"拼堆购物单","enablePullDownRefresh":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/wish_list.wxml'] = [$gwx, './pages/wish_list.wxml'];else __wxAppCode__['pages/wish_list.wxml'] = $gwx( './pages/wish_list.wxml' );
		__wxAppCode__['project.config.json'] = {};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['project.config.wxml'] = [$gwx, './project.config.wxml'];else __wxAppCode__['project.config.wxml'] = $gwx( './project.config.wxml' );
		__wxAppCode__['sitemap.json'] = {
    "rules":[{
      "action": "allow",
      "page": "*"
    }]
}
  ;
		if (__vd_version_info__.delayedGwx) __wxAppCode__['sitemap.wxml'] = [$gwx, './sitemap.wxml'];else __wxAppCode__['sitemap.wxml'] = $gwx( './sitemap.wxml' );
		__wxAppCode__['wx_components/answer_detail/index.json'] = {"component":true,"usingComponents":{"audio-player":"/wx_components/audio_player/index","auth-modal":"/wx_components/auth_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/answer_detail/index.wxml'] = [$gwx, './wx_components/answer_detail/index.wxml'];else __wxAppCode__['wx_components/answer_detail/index.wxml'] = $gwx( './wx_components/answer_detail/index.wxml' );
		__wxAppCode__['wx_components/audio_player/index.json'] = {"component":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/audio_player/index.wxml'] = [$gwx, './wx_components/audio_player/index.wxml'];else __wxAppCode__['wx_components/audio_player/index.wxml'] = $gwx( './wx_components/audio_player/index.wxml' );
		__wxAppCode__['wx_components/auth_modal/index.json'] = {"component":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/auth_modal/index.wxml'] = [$gwx, './wx_components/auth_modal/index.wxml'];else __wxAppCode__['wx_components/auth_modal/index.wxml'] = $gwx( './wx_components/auth_modal/index.wxml' );
		__wxAppCode__['wx_components/base_modal/index.json'] = {"component":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/base_modal/index.wxml'] = [$gwx, './wx_components/base_modal/index.wxml'];else __wxAppCode__['wx_components/base_modal/index.wxml'] = $gwx( './wx_components/base_modal/index.wxml' );
		__wxAppCode__['wx_components/drawer/index.json'] = {"component":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/drawer/index.wxml'] = [$gwx, './wx_components/drawer/index.wxml'];else __wxAppCode__['wx_components/drawer/index.wxml'] = $gwx( './wx_components/drawer/index.wxml' );
		__wxAppCode__['wx_components/follow_modal/index.json'] = {"component":true,"usingComponents":{"base-modal":"/wx_components/base_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/follow_modal/index.wxml'] = [$gwx, './wx_components/follow_modal/index.wxml'];else __wxAppCode__['wx_components/follow_modal/index.wxml'] = $gwx( './wx_components/follow_modal/index.wxml' );
		__wxAppCode__['wx_components/footer_input/index.json'] = {"component":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/footer_input/index.wxml'] = [$gwx, './wx_components/footer_input/index.wxml'];else __wxAppCode__['wx_components/footer_input/index.wxml'] = $gwx( './wx_components/footer_input/index.wxml' );
		__wxAppCode__['wx_components/group_picker/index.json'] = {"component":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/group_picker/index.wxml'] = [$gwx, './wx_components/group_picker/index.wxml'];else __wxAppCode__['wx_components/group_picker/index.wxml'] = $gwx( './wx_components/group_picker/index.wxml' );
		__wxAppCode__['wx_components/homework_answer/index.json'] = {"component":true,"usingComponents":{"audio-player":"/wx_components/audio_player/index","auth-modal":"/wx_components/auth_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/homework_answer/index.wxml'] = [$gwx, './wx_components/homework_answer/index.wxml'];else __wxAppCode__['wx_components/homework_answer/index.wxml'] = $gwx( './wx_components/homework_answer/index.wxml' );
		__wxAppCode__['wx_components/homework_media/index.json'] = {"component":true,"usingComponents":{"audio-player":"/wx_components/audio_player/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/homework_media/index.wxml'] = [$gwx, './wx_components/homework_media/index.wxml'];else __wxAppCode__['wx_components/homework_media/index.wxml'] = $gwx( './wx_components/homework_media/index.wxml' );
		__wxAppCode__['wx_components/join_group_footer/index.json'] = {"component":true,"usingComponents":{"follow-modal":"/wx_components/follow_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/join_group_footer/index.wxml'] = [$gwx, './wx_components/join_group_footer/index.wxml'];else __wxAppCode__['wx_components/join_group_footer/index.wxml'] = $gwx( './wx_components/join_group_footer/index.wxml' );
		__wxAppCode__['wx_components/lesson_selector/index.json'] = {"component":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/lesson_selector/index.wxml'] = [$gwx, './wx_components/lesson_selector/index.wxml'];else __wxAppCode__['wx_components/lesson_selector/index.wxml'] = $gwx( './wx_components/lesson_selector/index.wxml' );
		__wxAppCode__['wx_components/media_selector/index.json'] = {"component":true,"usingComponents":{"recorder":"/wx_components/recorder/index","audio-player":"/wx_components/audio_player/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/media_selector/index.wxml'] = [$gwx, './wx_components/media_selector/index.wxml'];else __wxAppCode__['wx_components/media_selector/index.wxml'] = $gwx( './wx_components/media_selector/index.wxml' );
		__wxAppCode__['wx_components/rating_form/index.json'] = {"component":true,"usingComponents":{"media-selector":"/wx_components/media_selector/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/rating_form/index.wxml'] = [$gwx, './wx_components/rating_form/index.wxml'];else __wxAppCode__['wx_components/rating_form/index.wxml'] = $gwx( './wx_components/rating_form/index.wxml' );
		__wxAppCode__['wx_components/recorder/index.json'] = {"component":true,"usingComponents":{"auth-modal":"/wx_components/auth_modal/index","txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/recorder/index.wxml'] = [$gwx, './wx_components/recorder/index.wxml'];else __wxAppCode__['wx_components/recorder/index.wxml'] = $gwx( './wx_components/recorder/index.wxml' );
		__wxAppCode__['wx_components/video_cover/index.json'] = {"component":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/video_cover/index.wxml'] = [$gwx, './wx_components/video_cover/index.wxml'];else __wxAppCode__['wx_components/video_cover/index.wxml'] = $gwx( './wx_components/video_cover/index.wxml' );
		__wxAppCode__['wx_components/vip_renewal_modal/index.json'] = {"component":true,"usingComponents":{"txv-video":"plugin://wxa75efa648b60994b/video","wechat-work-cell":"plugin://wx104a1a20c3f81ec2/cell"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['wx_components/vip_renewal_modal/index.wxml'] = [$gwx, './wx_components/vip_renewal_modal/index.wxml'];else __wxAppCode__['wx_components/vip_renewal_modal/index.wxml'] = $gwx( './wx_components/vip_renewal_modal/index.wxml' );
	
	define("components/F2Canvas.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_renderer=require("./../npm/mini-program-utils/dist/f2/renderer.js"),_renderer2=_interopRequireDefault(_renderer),sysInfo=_wepy2.default.getSystemInfoSync(),radio=sysInfo.windowWidth/750,F2Canvas=function(t){function e(){var t,n,r,o;_classCallCheck(this,e);for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=r=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.props={canvasId:String,width:String,height:String},r.canvas=null,r.methods={init:function(t){if(!t)return void console.warn('组件需绑定 opts 变量，例：<ff-canvas id="mychart-dom-bar" canvas-id="mychart-bar" opts="{{ opts }}"></ff-canvas>');var e=wx.version.version.split(".").map(function(t){return parseInt(t,10)});if(!(e[0]>1||1===e[0]&&e[1]>9||1===e[0]&&9===e[1]&&e[2]>=91))return void console.error("微信基础库版本过低，需大于等于 1.9.91。");var n=wx.createCanvasContext(this.canvasId,this);this.canvas=new _renderer2.default(n),this.chart=t.onInit(this.canvas,this.width*radio,this.height*radio)},handleError:function(t){console.log(t)},touchStart:function(t){this.canvas&&this.canvas.emitEvent("touchstart",[t])},touchMove:function(t){this.canvas&&this.canvas.emitEvent("touchmove",[t])},touchEnd:function(t){this.canvas&&this.canvas.emitEvent("touchend",[t])},press:function(t){this.canvas&&this.canvas.emitEvent("press",[t])}},o=n,_possibleConstructorReturn(r,o)}return _inherits(e,t),e}(_wepy2.default.component);exports.default=F2Canvas; 
 			}); 
		define("components/advertisement.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),Advertisement=(_dec=(0,_wepyRedux.connect)({adConfigs:function(e){return e.base.adConfigs}}))(_class=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.props={bannerKey:String},n.data={showAd:!1,INTERVAL:15},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"show",value:function(){this.showAd=!0,this.$apply()}},{key:"hide",value:function(){this.showAd=!1,this.$apply()}}]),t}(_wepy2.default.component))||_class;exports.default=Advertisement; 
 			}); 
		define("components/base_cover_modal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),BaseCoverModal=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.props={showClose:{type:String,default:"false"},showLogo:{type:String,default:"true"}},n.data={visible:!1},n.methods={show:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.showModal(t);case 1:case"end":return e.stop()}},e,this)}));return e}(),hide:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.hideModal();case 1:case"end":return e.stop()}},e,this)}));return e}()},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"showModal",value:function(){this.visible=!0,this.$apply()}},{key:"hideModal",value:function(){this.visible=!1,this.$apply()}}]),t}(_wepy2.default.component);exports.default=BaseCoverModal; 
 			}); 
		define("components/base_modal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),BaseModal=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.props={showClose:{type:String,default:"false"},showLogo:{type:String,default:"true"},className:String},n.data={visible:!1},n.methods={show:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.showModal(t);case 1:case"end":return e.stop()}},e,this)}));return e}(),hide:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.hideModal(),this.$emit("onHide");case 2:case"end":return e.stop()}},e,this)}));return e}()},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"showModal",value:function(){this.visible=!0,this.$apply()}},{key:"hideModal",value:function(){this.visible=!1,this.$apply()}}]),t}(_wepy2.default.component);exports.default=BaseModal; 
 			}); 
		define("components/canvasdrawer/canvasdrawer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,i){function r(n,a){try{var s=t[n](a),o=s.value}catch(e){return void i(e)}if(!s.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_delay=require("./../../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_clientUtil=require("./../../utils/clientUtil.js"),Drawer=function(e){function t(){var e,i,r,n;_classCallCheck(this,t);for(var a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];return i=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.props={painting:{type:Object,default:{}}},r.data={showCanvas:!1,width:100,height:100,index:0,imageList:[],tempFileList:[],isPainting:!1,ctx:null,cache:{}},r.watch={painting:function(e,t){this.isPainting||(JSON.stringify(e)!==JSON.stringify(t)?e&&e.width&&e.height&&(this.showCanvas=!0,this.isPainting=!0,this.$apply(),this.readyPigment()):e&&"same"!==e.mode&&this.$emit("getImage",{errMsg:"canvasdrawer:samme params"}))}},r.methods={},n=i,_possibleConstructorReturn(r,n)}return _inherits(t,e),_createClass(t,[{key:"readyPigment",value:function(){var e=this,t=this.painting,i=t.width,r=t.height,n=t.views;this.width=i,this.height=r;var a=setInterval(function(){e.ctx&&(clearInterval(a),e.ctx.clearActions(),e.ctx.save(),e.getImageList(n),e.downLoadImages(0))},100)}},{key:"getImageList",value:function(e){for(var t=[],i=0;i<e.length;i++)"image"===e[i].type&&t.push(e[i].url);this.imageList=t}},{key:"downLoadImages",value:function(e){var t=this,i=this.imageList,r=this.tempFileList;e<i.length?this.getImageInfo(i[e]).then(function(i){r.push(i),t.tempFileList=r,t.downLoadImages(e+1)}):this.startPainting()}},{key:"startPainting",value:function(){for(var e=this,t=this.tempFileList,i=this.painting.views,r=0,n=0;r<i.length;r++)if("image"===i[r].type)this.drawImage(_extends({},i[r],{url:t[n]})),n++;else if("text"===i[r].type){if(!this.ctx.measureText)return _wepy2.default.showModal({title:"提示",content:"当前微信版本过低，无法使用 measureText 功能，请升级到最新微信版本后重试。"}),void this.$emit("getImage",{errMsg:"canvasdrawer:version too low"});this.drawText(i[r])}else"rect"===i[r].type&&this.drawRect(i[r]);this.ctx.draw(!1,_asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,_delay2.default)(1e3);case 2:return t.next=4,(0,_clientUtil.setStorageSync)("canvasdrawer_pic_cache",e.cache);case 4:e.saveImageToLocal();case 5:case"end":return t.stop()}},t,e)})))}},{key:"drawImage",value:function(e){this.ctx.save();var t=e.url,i=e.top,r=void 0===i?0:i,n=e.left,a=void 0===n?0:n,s=e.width,o=void 0===s?0:s,c=e.height,h=void 0===c?0:c;e.borderRadius;this.ctx.drawImage(t,a,r,o,h),this.ctx.restore()}},{key:"drawText",value:function(e){this.ctx.save();var t=e.MaxLineNumber,i=void 0===t?2:t,r=e.breakWord,n=void 0!==r&&r,a=e.color,s=void 0===a?"black":a,o=e.content,c=void 0===o?"":o,h=e.fontSize,u=void 0===h?16:h,l=e.top,f=void 0===l?0:l,d=e.left,p=void 0===d?0:d,g=e.lineHeight,v=void 0===g?20:g,w=e.textAlign,x=void 0===w?"left":w,m=e.width,y=e.bolder,_=void 0!==y&&y,b=e.textDecoration,T=void 0===b?"none":b;if(this.ctx.beginPath(),this.ctx.setTextBaseline("top"),this.ctx.setTextAlign(x),this.ctx.fillStyle=s,this.ctx.font=u+'px "sans-serif"',n){for(var k="",I=f,L=1,P=0;P<c.length;P++)if(k+=[c[P]],this.ctx.measureText(k).width>m){if(L===i&&P!==c.length){k=k.substring(0,k.length-1)+"...",this.ctx.fillText(k,p,I),this.drawTextLine(p,I,T,s,u,k),k="";break}this.ctx.fillText(k,p,I),this.drawTextLine(p,I,T,s,u,k),k="",I+=v,L++}this.ctx.fillText(k,p,I),this.drawTextLine(p,I,T,s,u,k)}else this.ctx.fillText(c,p,f),this.drawTextLine(p,f,T,s,u,c);this.ctx.restore(),_&&this.drawText(_extends({},e,{left:p+.3,top:f+.3,bolder:!1,textDecoration:"none"}))}},{key:"drawTextLine",value:function(e,t,i,r,n,a){"underline"===i?this.drawRect({background:r,top:t+1.2*n,left:e-1,width:this.ctx.measureText(a).width+3,height:1}):"line-through"===i&&this.drawRect({background:r,top:t+.6*n,left:e-1,width:this.ctx.measureText(a).width+3,height:1})}},{key:"drawRect",value:function(e){this.ctx.save();var t=e.background,i=e.top,r=void 0===i?0:i,n=e.left,a=void 0===n?0:n,s=e.width,o=void 0===s?0:s,c=e.height,h=void 0===c?0:c;this.ctx.setFillStyle(t),this.ctx.fillRect(a,r,o,h),this.ctx.restore()}},{key:"getImageInfo",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cache[t]){e.next=4;break}return e.abrupt("return",this.cache[t]);case 4:if(i=new RegExp(/^http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/),!i.test(t)){e.next=18;break}return e.next=8,_wepy2.default.getImageInfo({src:t});case 8:if(r=e.sent,"getImageInfo:ok"!==r.errMsg){e.next=14;break}return this.cache[t]=r.path,e.abrupt("return",r.path);case 14:return this.$emit("getImage",{errMsg:"canvasdrawer:download fail"}),e.abrupt("return",new Error("getImageInfo fail"));case 16:e.next=20;break;case 18:return this.cache[t]=t,e.abrupt("return",t);case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"saveImageToLocal",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.width,i=this.height,e.next=3,_wepy2.default.canvasToTempFilePath({x:0,y:0,width:t,height:i,canvasId:"canvasdrawer"},this);case 3:r=e.sent,"canvasToTempFilePath:ok"===r.errMsg?(this.showCanvas=!1,this.isPainting=!1,this.imageList=[],this.tempFileList=[],this.$apply(),this.$emit("getImage",{tempFilePath:r.tempFilePath,errMsg:"canvasdrawer:ok"})):this.$emit("getImage",{errMsg:"canvasdrawer:fail"});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"onLoad",value:function(){_wepy2.default.removeStorageSync("canvasdrawer_pic_cache"),this.cache=_wepy2.default.getStorageSync("canvasdrawer_pic_cache")||{},this.ctx=_wepy2.default.createCanvasContext("canvasdrawer",this)}}]),t}(_wepy2.default.component);exports.default=Drawer; 
 			}); 
		define("components/canvasdrawer/homework_model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports=function(t){t.width=t.width||670,t.height=t.height||1028;var e=["不积跬步，无以至千里；不积小流，无以成江海","生活就像海洋，只有意志坚强的人，才能到达彼岸","黑发不知勤学早，白发方悔读书迟","路漫漫其修远兮，吾将上下而求索","不要为小事遮住视线，我们还有更大的世界","每天比昨天进步一点，哪怕只一厘米","面对难题，首先要做的就是相信自己","信心来自于实力，实力来自于勤奋","读书给人以乐趣，给人以光彩，给人以才干","聪明出于勤奋，天才在于积累","少年强，则国强；少年智，则国智","在无限的时间河流里，人生仅仅是微小又微小的波浪","学如逆水行舟，不进则退","书山有路勤为径，学海无涯苦作舟","吾爱吾师，吾更爱真理","大鹏一日同风起，扶摇直上九万里","长风破浪会有时，直挂云帆济沧海","我们愈是学习，愈觉得自己的贫乏","把活着的每一天看作生命的最后一天","要用梦想和勇气去创造，用信念和胆量去证明","选择机会，就是节省时间","天赋如同自然花木，要用学习来修剪","普通人只想到如何度过时间，有才能的人设法利用时间","这世界上唯一扛的住岁月摧残的就是才华","宝剑锋从磨砺出，梅花香自苦寒来","天可补，海可填，南山可移。日月既往，不可复追","只要开始，虽晚不迟","用心的人改变自己，执着的人改变命运","书籍是屹立在时间的汪洋大海中的灯塔","求知若渴，虚心若愚"];t.quote=e[Math.floor(Math.random()*e.length)];var o=Number.isInteger(t.quote.length/12)?t.quote.length/12:Math.floor(t.quote.length/12)+1,r={width:t.width,height:t.height,clear:!0,views:[{type:"image",url:"../images/share/background.png",top:0,left:0,width:670,height:1028},{type:"image",url:t.groupAvatar||"../images/logo.png",top:40,left:40,width:88,height:88},{type:"text",content:t.homeworkName,fontSize:32,color:"rgba(56, 56, 56, 1)",textAlign:"left",top:40,left:154,bolder:!0},{type:"text",content:t.school+"  "+t.groupName,fontSize:24,color:"rgba(166, 166, 166, 1)",textAlign:"left",top:96,left:154},{type:"image",url:t.userAvatar,top:196,left:(t.width-80)/2,width:80,height:80},{type:"text",content:t.userNickname,fontSize:18,color:"rgba(166, 166, 166, 1)",textAlign:"center",top:282,left:335},{type:"text",content:t.quote,fontSize:40,breakWord:!0,bolder:!0,width:441,lineHeight:62,MaxLineNumber:6,color:"rgba(56, 56, 56, 1)",textAlign:"center",top:496,left:335},{type:"image",url:"../images/share/quote_left.png",top:445,left:40,width:50,height:50},{type:"image",url:"../images/share/quote_right.png",top:496+60*o,left:580,width:50,height:50},{type:"image",url:t.wxacode,top:722,left:234,width:216,height:216},{type:"text",content:t.remark,fontSize:24,color:"rgba(166, 166, 166, 1)",textAlign:"center",top:956,left:335,width:396}]};if("teacher"==t.type){var i;(i=r.views).push.apply(i,[{type:"text",content:"作业提交人数  "+t.homeworkCount+"/"+t.groupMembers+"人",fontSize:24,color:"rgba(56, 56, 56, 1)",textAlign:"center",top:340,left:335}])}else if(t.done){var n;(n=r.views).push.apply(n,[{type:"text",content:"第       个完成作业",fontSize:24,color:"rgba(56, 56, 56, 1)",textAlign:"center",top:340,left:335},{type:"text",content:t.homeworkPosition,fontSize:24,color:"rgba(212, 48, 48, 1)",textAlign:"center",top:340,left:290}])}else{var l;(l=r.views).push.apply(l,[{type:"text",content:"快来看看这份作业吧！",fontSize:24,color:"rgba(56, 56, 56, 1)",textAlign:"center",top:340,left:335}])}return r}; 
 			}); 
		define("components/footer_input.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),FooterInput=function(e){function t(){var e,n,r,o;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.props={content:{type:String,default:"",twoWay:!0}},r.data={visible:!1},r.methods={onCancel:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.visible=!1,this.$emit("onCancel");case 2:case"end":return e.stop()}},e,this)}));return e}(),onSend:function(){this.visible=!1,this.$emit("onSend")},onContentChange:function(e){this.content=e.detail.value}},o=n,_possibleConstructorReturn(r,o)}return _inherits(t,e),_createClass(t,[{key:"show",value:function(){this.visible=!0,this.content="",this.$apply()}}]),t}(_wepy2.default.component);exports.default=FooterInput; 
 			}); 
		define("components/join_group_header.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),JoinGroupHeader=(_dec=(0,_wepyRedux.connect)({group:function(e){var t=e.group.detail||{};return t.memberCount=t.members?Object.keys(t.members).length:0,t}}))(_class=function(e){function t(){var e,r,o,n;_classCallCheck(this,t);for(var u=arguments.length,i=Array(u),s=0;s<u;s++)i[s]=arguments[s];return r=o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.data={CDN_HOST:_config.CDN_HOST},n=r,_possibleConstructorReturn(o,n)}return _inherits(t,e),t}(_wepy2.default.component))||_class;exports.default=JoinGroupHeader; 
 			}); 
		define("components/promotion.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var u=t[o](i),a=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});e(a)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),Promotion=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.props={showClose:{type:String,default:"false"},showLogo:{type:String,default:"true"}},n.data={visible:!1},n.methods={show:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.showModal(t);case 1:case"end":return e.stop()}},e,this)}));return e}(),hide:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.hideModal();case 1:case"end":return e.stop()}},e,this)}));return e}()},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"showModal",value:function(){this.visible=!0,this.$apply()}},{key:"hideModal",value:function(){this.visible=!1,this.$apply()}}]),t}(_wepy2.default.component);exports.default=Promotion; 
 			}); 
		define("components/pxx_follow_tips.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,u){try{var i=t[o](u),a=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});e(a)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_clientUtil=require("./../utils/clientUtil.js"),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),USER_REFRESH_KEY="USER_NEED_REFRESH",PxxFollowTips=(_dec=(0,_wepyRedux.connect)({user:function(e){return e.user.detail},group:function(e){return e.group.detail}},{fetchUser:_actions.fetchUser}))(_class=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var u=arguments.length,i=Array(u),a=0;a<u;a++)i[a]=arguments[a];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.computed={contactSession:function(){var e=this.user;return e&&JSON.stringify({nickName:e.nickname,avatarUrl:e.avatar})},tipsText:function(){var e=this.group,t=e&&e.partner?e.partner.type:"",r="";return"T"===t?r="点此进入回复“1”，可接收作业完成通知、答疑提醒(关注后此条提醒消失)":"S"!==t&&"P"!==t||(r="点此进入回复“1”，可接收作业催交通知、考试成绩、作业批改完成通知等(关注后此条提醒消失)"),r}},n.data={},n.methods={toCustomSevice:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_clientUtil.setStorageSync)(USER_REFRESH_KEY,!0);case 2:case"end":return e.stop()}},e,this)}));return e}()},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"toCustomSevice",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_clientUtil.setStorageSync)(USER_REFRESH_KEY,!0);case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"refresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.getStorageSync(USER_REFRESH_KEY);case 2:if(!e.sent){e.next=11;break}return e.next=5,_wepy2.default.$instance.logined(!0);case 5:return t=e.sent,r=t.user,this.user=r,this.$apply(),e.next=11,_wepy2.default.removeStorageSync(USER_REFRESH_KEY);case 11:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.component))||_class;exports.default=PxxFollowTips; 
 			}); 
		define("components/share.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_avatar=require("./../utils/avatar.js"),_avatar2=_interopRequireDefault(_avatar),Share=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.data={showModalStatus:!1,animationData:{}},n.methods={hideModal:function(){this.showModalStatus=!1},showModal:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=wx.createAnimation({duration:2e3,timingFunction:"linear",delay:0,transformOrigin:"0 100%",height:"240rpx"}),this.animation=t,t.translateX(0).step(),this.animationData=t.export(),this.showModalStatus=!0;case 5:case"end":return e.stop()}},e,this)}));return e}(),createShareImg:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$emit("createShareImg");case 1:case"end":return e.stop()}},e,this)}));return e}()},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),t}(_wepy2.default.component);exports.default=Share; 
 			}); 
		define("config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function disposeUrl(e,l){return Object.keys(e).forEach(function(r){e[r].url?e[r].url=l+e[r].url:e[r]=disposeUrl(e[r],l)}),e}var env="production",VERSION="v1.2.16",UPDATE_TIPS=["布置打卡也可设置答题卡","设置作业答案时可上传文件","修复了一些问题"],hosts={development:"http://192.168.31.238:7080",production:"https://zy.fujin8.com"},pxxHosts={production:"https://www.17pinxuexi.com"},api={util:{wxacode:{url:"/util/wxacode"},qrcode:{url:"/wxa/share/qrcode"},adConfigs:{url:"/wxa/ad/config"},changeFileMime:{url:"/wxa/file/changeMime"},configs:{url:"/wxa/configs"},getExportTempPath:{url:"/wxa/export/temp"}},share:{detail:{url:"/wxa/share/detail"}},user:{login:{url:"/wxa/auth"},info:{url:"/wxa/info"},group:{url:"/wxa/gauth"},phone:{url:"/wxa/phone"},point:{url:"/wxa/point/records"},share:{url:"/wxa/point/shareRecords"},simple:{url:"/wxa/user/index"},detail:{url:"/wxa/user/detail"},notificationSetting:{url:"/wxa/user/setNotification/"}},group:{users:{url:"/wxa/group/users/"},info:{url:"/wxa/group/simple/"},detail:{url:"/wxa/group/detail/"},list:{url:"/wxa/group/list"},create:{url:"/wxa/group/create/"},update:{url:"/wxa/group/update/"},join:{url:"/wxa/group/join/"},checkPassword:{url:"/wxa/group/checkPassword/"},profile:{url:"/wxa/group/profile"},profileSms:{url:"/wxa/group/profile/sms"},role:{url:"/wxa/group/role"},quit:{url:"/wxa/group/quit"},setup:{url:"/wxa/group/setup"},isVip:{url:"/wxa/group/isVip/"},deletePartner:{url:"/wxa/group/deletePartner"},endup:{url:"/wxa/group/endup"},token:{url:"/wxa/group/setAvatar"},partner:{url:"/wxa/group/partner"}},homework:{token:{url:"/wxa/homework/token"},assign:{url:"/wxa/homework/assign"},assignInfo:{url:"/wxa/homework/assignInfo/"},list:{url:"/wxa/homework/list/"},monthly:{url:"/wxa/homework/monthly/"},detail:{url:"/wxa/homework/detail/"},confirm:{url:"/wxa/homework/confirm/"},cancel:{url:"/wxa/homework/cancel/"},delete:{url:"/wxa/homework/delete/"},answer:{url:"/wxa/homework/answer/"},rating:{url:"/wxa/homework/rating/"},cancelRating:{url:"/wxa/homework/rating/cancel/"},cancelRatingFiles:{url:"/wxa/homework/rating/cancelFiles/"},exportHomework:{url:"/wxa/homework/export/"},deleteFile:{url:"/wxa/homework/deleteFile"},remind:{url:"/wxa/homework/remind"},attachTmpFile:{url:"/wxa/homework/attachTmpFile"},replyRating:{url:"/wxa/homework/rating/reply/"},deleteReply:{url:"/wxa/homework/rating/deleteReply/"},report:{url:"/wxa/homework_report/detail"},refreshReport:{url:"/wxa/homework_report/refresh"},updateAnswer:{url:"/wxa/homework/updateAnswer"}},answer:{list:{url:"/wxa/answer/list"},detail:{url:"/wxa/answer/detail"}},homeworkAnswer:{detail:{url:"/wxa/homework_answer/detail"},save:{url:"/wxa/homework_answer/save"},delete:{url:"/wxa/homework_answer/delete"},token:{url:"/wxa/homework_answer/token"},removeFile:{url:"/wxa/homework_answer/removeFile"},attachTmpFile:{url:"/wxa/homework_answer/attachTmpFile"}},answerSupplement:{create:{url:"/wxa/answer_supplement/create"},token:{url:"/wxa/answer_supplement/token"},attachFile:{url:"/wxa/answer_supplement/attachFile"},list:{url:"/wxa/answer_supplement/list"},detail:{url:"/wxa/answer_supplement/detail"}},company:{order:{url:"/wxa/company/createMCCOrder"}},album:{create:{url:"/wxa/collection/create/"},update:{url:"/wxa/collection/update/"},list:{url:"/wxa/collection/list/"},detail:{url:"/wxa/collection/detail/"},delete:{url:"/wxa/collection/delete/"}},configs:{method:"GET",url:"/v2/configs"},file:{create:{url:"/wxa/file/create/"},token:{url:"/wxa/file/token/"},list:{url:"/wxa/file/list/"},detail:{url:"/wxa/file/detail/"},delete:{url:"/wxa/file/delete/"},addLike:{url:"/wxa/file/addLike/"},removeLike:{url:"/wxa/file/removeLike/"}},ledger:{create:{url:"/wxa/ledger/createRecord/"},token:{url:"/wxa/ledger/token"},list:{url:"/wxa/ledger/records"},detail:{url:"/wxa/ledger/detail"},record:{url:"/wxa/ledger/recordDetail"},delete:{url:"/wxa/ledger/deleteRecord"}},vip:{goods:{url:"/wxa/goods/vip"},trialGoods:{url:"/wxa/goods/vip_trial"},create:{url:"/wxa/vip/createOrder"},createBulkVipOrder:{url:"/wxa/vip/createBulkVipOrder"},order:{url:"/wxa/order/detail"}},survey:{create:{url:"/wxa/survey/create"},detail:{url:"/wxa/survey/detail/"},list:{url:"/wxa/survey/list/"},createAnswer:{url:"/wxa/survey/createAnswers"},summary:{url:"/wxa/survey/summary/"}},course:{list:{url:"/wxa/course/list/"},save:{url:"/wxa/course/save"},savePlans:{url:"/wxa/course/saveCoursePlans"},deletePlan:{url:"/wxa/course/deleteCoursePlan"},delete:{url:"/wxa/course/delete"}},team:{save:{url:"/wxa/team/save/"},list:{url:"/wxa/team/list/"},detail:{url:"/wxa/team/detail/"},delete:{url:"/wxa/team/delete/"}},examination:{list:{url:"/wxa/exam/list"},save:{url:"/wxa/exam/save"},detail:{url:"/wxa/exam/detail"},delete:{url:"/wxa/exam/delete"},exportExam:{url:"/wxa/exam/export/"},comment:{url:"/wxa/exam/comment/create"},token:{url:"/wxa/exam/comment/token"},commentDetail:{url:"/wxa/exam/comment/"},deleteComment:{url:"/wxa/exam/comment/delete"},replyComment:{url:"/wxa/exam/comment/reply"},deleteReply:{url:"/wxa/exam/comment/deleteReply"}},examReport:{save:{url:"/wxa/exam_report/save"},list:{url:"/wxa/exam_report/list"},detail:{url:"/wxa/exam_report/detail"},delete:{url:"/wxa/exam_report/delete"}},dailyHomework:{assign:{url:"/wxa/dailyHomework/assign"},list:{url:"/wxa/dailyHomework"},detail:{url:"/wxa/dailyHomework/detail/"},summary:{url:"/wxa/dailyHomework/summary/"},report:{url:"/wxa/dailyHomework/generateReport/"},delete:{url:"/wxa/dailyHomework/delete/"},token:{url:"/wxa/dailyHomework/token"},moveFile:{url:"/wxa/dailyHomework/moveFile"},deleteFile:{url:"/wxa/dailyHomework/deleteFile"}},announcement:{create:{url:"/wxa/announcement/create"},update:{url:"/wxa/announcement/update"},delete:{url:"/wxa/announcement/delete"},detail:{url:"/wxa/announcement/detail"},toplist:{url:"/wxa/announcement/toplist"},list:{url:"/wxa/announcement/list"},token:{url:"/wxa/announcement/token"},deleteFile:{url:"/wxa/announcement/deleteFile"},remind:{url:"/wxa/announcement/remind"}},courseRecord:{save:{url:"/wxa/course_record/save"},list:{url:"/wxa/course_record/list"},detail:{url:"/wxa/course_record/detail"},saveEvaluation:{url:"/wxa/course_evaluation/update"},delete:{url:"/wxa/course_record/delete"},token:{url:"/wxa/course_evaluation/token"},deleteFile:{url:"/wxa/course_evaluation/deleteFile"},message:{url:"/wxa/course_evaluation/message"}},dialog:{detail:{url:"/wxa/dialog/detail"},list:{url:"/wxa/dialog/list"},send:{url:"/wxa/dialog/send"},messages:{url:"/wxa/dialog/messages"},delete:{url:"/wxa/dialog/delete"},deleteMessage:{url:"/wxa/dialog/deleteMessage"}},template:{create:{url:"/wxa/user_template/create"},update:{url:"/wxa/user_template/update"},delete:{url:"/wxa/user_template/delete"},list:{url:"/wxa/user_template/list"}},enroll:{save:{url:"/wxa/enroll/save"},detail:{url:"/wxa/enroll/detail"},list:{url:"/wxa/enroll/list"},close:{url:"/wxa/enroll/close"},delete:{url:"/wxa/enroll/delete"}},enrollMember:{save:{url:"/wxa/enroll_member/save"},detail:{url:"/wxa/enroll_member/detail"},delete:{url:"/wxa/enroll_member/delete"},list:{url:"/wxa/enroll_member/list"},token:{url:"/wxa/enroll_member/token"},deleteFile:{url:"/wxa/enroll_member/deleteFile"}},questionSet:{create:{url:"/wxa/question_set/create"},update:{url:"/wxa/question_set/update"},detail:{url:"/wxa/question_set/detail"},delete:{url:"/wxa/question_set/delete"},list:{url:"/wxa/question_set/list"}},question:{bulkCreate:{url:"/wxa/question/bulk_create"},detail:{url:"/wxa/question/detail"},delete:{url:"/wxa/question/delete"},list:{url:"/wxa/question/list"}},homeworkQuestionSet:{create:{url:"/wxa/homework_question_set/create"},update:{url:"/wxa/homework_question_set/update"},detail:{url:"/wxa/homework_question_set/detail"},delete:{url:"/wxa/homework_question_set/delete"},deleteQuestion:{url:"/wxa/homework_question_set/deleteQuestion"},exportStatistic:{url:"/wxa/homework_question_set/export"}},questionAnswer:{create:{url:"/wxa/question_answer/create"},detail:{url:"/wxa/question_answer/detail"},list:{url:"/wxa/question_answer/list"}}},pxxApi={wishList:{list:{url:"/api/wxa/wish_list/list/by_zyb_group"}}};module.exports={HOST:hosts[env],CDN_HOST:"http://files.fujin8.com/",SSLCDN_HOST:"https://cdn.fujin8.com/",VERSION:VERSION,UPDATE_TIPS:UPDATE_TIPS,qiniu:"https://upload.qiniup.com",api:disposeUrl(api,hosts[env]),pxxApi:disposeUrl(pxxApi,pxxHosts[env]),CLOUD_HEADER:"cloud:",PXX_ARTICLE_URL:"https://mp.weixin.qq.com/s?__biz=MzI5NTk2NDM0MA==&mid=2247485677&idx=2&sn=c52667d6931095f8b94aeca2d8234129&chksm=ec4ad336db3d5a2058b9f45a2b6c5f4e0be88c321ac554ecffae964342778e673e80a039f368&token=1980492707&lang=zh_CN#rd"}; 
 			}); 
		define("exceptions/BaseError.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var BaseError=exports.BaseError=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.name=r.constructor.name,r}return _inherits(t,e),t}(Error); 
 			}); 
		define("exceptions/ValidationError.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValidationError=void 0;var _BaseError2=require("./BaseError.js"),ValidationError=exports.ValidationError=function(r){function e(r,t){_classCallCheck(this,e);var o=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return o.errCode=t,o}return _inherits(e,r),e}(_BaseError2.BaseError);ValidationError.CHOOSE_VIDEO_EXCEED_SIZE_LIMIT="CHOOSE_VIDEO_EXCEED_SIZE_LIMIT"; 
 			}); 
		define("exceptions/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _BaseError=require("./BaseError.js");Object.keys(_BaseError).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return _BaseError[r]}})});var _ValidationError=require("./ValidationError.js");Object.keys(_ValidationError).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return _ValidationError[r]}})}); 
 			}); 
		define("interfaces/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,u){try{var o=t[a](u),c=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_clientUtil=require("./../utils/clientUtil.js"),interfaces={getGroupRaw:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_wepy2.default.login();case 3:return r=e.sent,e.next=6,_wepy2.default.getShareInfo({shareTicket:t});case 6:return n=e.sent,n.code=r.code,e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(0),console.log("getGroupRaw error: ",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return e}(),getUserRaw:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.login();case 2:return t=e.sent,e.next=5,_wepy2.default.getUserInfo({withCredentials:!0,lang:"zh_CN"});case 5:if(r=e.sent){e.next=9;break}return console.log("用户拒绝授权使用身份信息!"),e.abrupt("return",null);case 9:return r.code=t.code,e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return e}(),getGroupId:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,n=null,e.prev=2,e.next=5,interfaces.getGroupRaw(t);case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return",null);case 8:return a={url:_config.api.user.group.url,method:"POST",header:{"x-wechat-code":r.code,"x-group-encrypted":r.encryptedData,"x-group-iv":r.iv}},e.next=11,_wepy2.default.request(a);case 11:return n=e.sent,e.abrupt("return",n.data.result);case 15:e.prev=15,e.t0=e.catch(2),_wepy2.default.showModal({title:"提示",content:"获取群信息失败，请截图联系管理员 QQ:50833。"+(e.t0.message||e.t0.errMsg)});case 18:case"end":return e.stop()}},e,this,[[2,15]])}));return e}(),getPhone:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:_config.api.user.phone.url,method:"POST",header:{"x-wechat-code":t.code,"x-group-encrypted":t.encryptedData,"x-group-iv":t.iv}},e.next=3,_wepy2.default.request(r);case 3:return n=e.sent,e.abrupt("return",n.data.result);case 5:case"end":return e.stop()}},e,this)}));return e}(),login:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,u,o,c,s,i,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,r={},e.prev=2,e.next=5,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 5:return e.next=7,interfaces.getUserRaw();case 7:return t=e.sent,(0,_clientUtil.hideLoading)(),e.next=11,_wepy2.default.removeStorageSync("APP_NEED_AUTHORIZAION");case 11:e.next=32;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,_wepy2.default.getStorageSync("APP_NEED_AUTHORIZAION");case 17:if(!e.sent){e.next=20;break}return e.next=20,function(){return new Promise(function(e){setTimeout(function(){e()},3e3)})}();case 20:return(0,_clientUtil.hideLoading)(),e.next=23,(0,_clientUtil.setStorageSync)("APP_NEED_AUTHORIZAION",!0);case 23:if(n=getCurrentPages(),!n.length||"pages/authorization"!==n[n.length-1].route){e.next=26;break}return e.abrupt("return");case 26:return a=n[0],u=a.options||{},o="/"+a.route+"?"+Object.keys(u).map(function(e){return e+"="+u[e]}).join("&"),e.next=31,_wepy2.default.navigateTo({url:"/pages/authorization?route="+encodeURIComponent(o)});case 31:return e.abrupt("return");case 32:return e.prev=32,c={url:_config.api.user.login.url,method:"POST",header:{"x-wechat-code":t.code,"x-wechat-encrypted":t.encryptedData,"x-wechat-iv":t.iv},data:{suid:_wepy2.default.$instance.globalData.shareUid}},delete _wepy2.default.$instance.globalData.shareUid,e.next=37,_wepy2.default.request(c);case 37:return r=e.sent,s=r.data.result||{},i=s.session,p=s.token,e.next=41,_wepy2.default.setStorage({key:"_session",data:i});case 41:return e.next=43,_wepy2.default.setStorage({key:"_token",data:p||null});case 43:return e.abrupt("return",[i,p]);case 46:return e.prev=46,e.t1=e.catch(32),e.next=50,_wepy2.default.showModal({title:"提示",content:"获取用户信息失败，请关闭重新进入",showCancel:!1});case 50:case"end":return e.stop()}},e,this,[[2,13],[32,46]])}));return e}()};exports.default=interfaces; 
 			}); 
		define("mixins/group.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),GroupMixin=function(e){function t(){var e,r,o,n;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.data={gid:null,isVip:!1,isAdmin:!1,isTeacher:!1},n=r,_possibleConstructorReturn(o,n)}return _inherits(t,e),t}(_wepy2.default.mixin);exports.default=GroupMixin; 
 			}); 
		define("mixins/loading.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_clientUtil=require("./../utils/clientUtil.js"),LoadingMixin=function(e){function t(){var e,n,r,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.data={loadingMask:!1},r.methods={loadingDisableEvent:function(){}},o=n,_possibleConstructorReturn(r,o)}return _inherits(t,e),_createClass(t,[{key:"showLoading",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n=t.title,r=t.mask;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showLoading({title:n,mask:r});case 2:1==r&&(this.loadingMask=!0),this.$apply();case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"hideLoading",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,_clientUtil.hideLoading)(),this.loadingMask=!1,this.$apply();case 3:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.mixin);exports.default=LoadingMixin; 
 			}); 
		define("mixins/rewarded_video_ad.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_getRewardedVideoAd=require("./../utils/getRewardedVideoAd.js"),_getRewardedVideoAd2=_interopRequireDefault(_getRewardedVideoAd),_clientUtil=require("./../utils/clientUtil.js"),_constances=require("./../utils/constances.js"),RewardedVideoAdMixin=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.data={hasRewardedVideoAd:!1,rewardedVideoAd:null,REWARDED_VIDEO_AD_KEY:"homework_rewarded",REWARDED_VIDEO_AD_EXPIRED_KEY:""},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"initRewardedVideoAd",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"homework_rewarded",o=arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.hasRewardedVideoAd=!1,n.$apply();case 2:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.hasRewardedVideoAd=!0,n.$apply();case 2:case"end":return e.stop()}},e,n)}));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,(0,_getRewardedVideoAd2.default)({key:a,onError:t.bind(this),onLoad:r.bind(this)});case 5:this.rewardedVideoAd=e.sent,this.REWARDED_VIDEO_AD_KEY=a,this.REWARDED_VIDEO_AD_EXPIRED_KEY=o,this.$apply(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[2,11]])}));return e}()},{key:"promptVipOrRewardedAd",value:function(){function e(e,r){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,a,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.rewardedVideoAd&&this.hasRewardedVideoAd?["成为VIP，直接看","看广告后免费查看"]:["成为VIP，直接看"],e.prev=1,e.next=4,(0,_clientUtil.showActionSheet)({itemList:n});case 4:if(a=e.sent,0!=(o=a.tapIndex)){e.next=10;break}return e.abrupt("return",_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+this.gid}));case 10:if(1!=o){e.next=23;break}if(!this.rewardedVideoAd){e.next=22;break}return this.rewardedVideoAd.offClose(),this.rewardedVideoAd.onClose(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.isEnded){e.next=7;break}return a=Date.now()+_constances.HOMEWORK_REWARDED_AD_INTERVAL_MS,e.next=4,(0,_clientUtil.setStorageSync)(i.REWARDED_VIDEO_AD_EXPIRED_KEY,a);case 4:if("function"!=typeof t){e.next=7;break}return e.next=7,t(r);case 7:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}()),e.prev=14,e.next=17,this.rewardedVideoAd.loadAndShow();case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),_wepy2.default.showModal({title:"提示",content:"获取广告失败: "+(e.t0.message||e.t0.errMsg),showCancel:!1});case 22:return e.abrupt("return");case 23:e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(1),e.abrupt("return");case 28:case"end":return e.stop()}},e,this,[[1,25],[14,19]])}));return e}()},{key:"isRewardedVideoAdExpired",value:function(){var e=_wepy2.default.getStorageSync(this.REWARDED_VIDEO_AD_EXPIRED_KEY),t=e<Date.now();return e&&t&&_wepy2.default.removeStorageSync(this.REWARDED_VIDEO_AD_EXPIRED_KEY),t}},{key:"onUnload",value:function(){this.rewardedVideoAd=null}}]),t}(_wepy2.default.mixin);exports.default=RewardedVideoAdMixin; 
 			}); 
		define("mixins/score.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),ScoreMixin=function(e){function t(){var e,r,o,n;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];return r=o=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.data={chartData:{0:["优","优-","良","良-","中","差","不及格"],1:Array.apply(null,Array(11)).map(function(e,t){return t}),2:["0-10","10-20","20-30","30-40","40-50","50-60","60-70","70-80","80-90","90-100","100"],3:["0-10","10-20","20-30","30-40","40-50","50-60","60-70","70-80","80-90","90-100","100-110","110-120","120"],4:["0-10","10-20","20-30","30-40","40-50","50-60","60-70","70-80","80-90","90-100","100-110","110-120","120-130","130-140","140-150","150"]}},n=r,_possibleConstructorReturn(o,n)}return _inherits(t,e),t}(_wepy2.default.mixin);exports.default=ScoreMixin; 
 			}); 
		define("mixins/temp_file.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var u=t[i](o),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_clientUtil=require("./../utils/clientUtil.js"),TempFileMixin=function(e){function t(){var e,n,r,i;_classCallCheck(this,t);for(var o=arguments.length,u=Array(o),a=0;a<o;a++)u[a]=arguments[a];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.getTmpPathManager=function(){return{_getLimit:function(e){return{image:9,voice:9,video:1}[e]},_getKey:function(e,t){return"HOMEWORK_"+e+"_ANSWER_"+t.toUpperCase()},set:function(e,t,n){var r=this._getKey(e,t),i=this.get(e,t);i.splice(0,0,{path:n,id:(new Date).getTime()}),(0,_clientUtil.setStorageSync)(r,i.slice(0,this._getLimit(t)+1))},get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._getKey(e,t),i=_wepy2.default.getStorageSync(r);return i=i&&i.length?i:[],i=i.filter(function(e){return new Date(e.id).getTime()+864e5>(new Date).getTime()}).sort(function(e,t){return new Date(e.id)-new Date(t.id)}),n?i.map(function(e){return e.path}):i},remove:function(e,t,n){var r=this._getKey(e,t),i=this.get(e,t),o=i.findIndex(function(e){return e.path===n});o>-1&&i.splice(o,1),(0,_clientUtil.setStorageSync)(r,i)}}},i=n,_possibleConstructorReturn(r,i)}return _inherits(t,e),_createClass(t,[{key:"uploadTempFile",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _wepy2.default.showLoading({title:"上传中...",mask:!0}),e.prev=1,e.next=4,(0,_upload2.default)({url:_config.qiniu,filePath:t,name:"file",formData:{key:n,type:r}});case 4:return i=e.sent,(0,_clientUtil.hideLoading)(),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(1),(0,_clientUtil.hideLoading)(),e.t0;case 13:case"end":return e.stop()}},e,this,[[1,9]])}));return e}()}]),t}(_wepy2.default.mixin);exports.default=TempFileMixin; 
 			}); 
		define("npm/flux-standard-action/lib/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function isFSA(r){return(0,_lodash.isPlainObject)(r)&&(0,_lodash.isString)(r.type)&&Object.keys(r).every(isValidKey)}function isError(r){return isFSA(r)&&!0===r.error}function isValidKey(r){return["type","payload","error","meta"].indexOf(r)>-1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFSA=isFSA,exports.isError=isError;var _lodash=require("./../../lodash/lodash.js"); 
 			}); 
		define("npm/invariant/browser.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var invariant=function(e,n,r,i,o,a,t,f){if(!e){var s;if(void 0===n)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,i,o,a,t,f],l=0;s=new Error(n.replace(/%s/g,function(){return d[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};module.exports=invariant; 
 			}); 
		define("npm/is-promise/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function isPromise(o){return!!o&&("object"==typeof o||"function"==typeof o)&&"function"==typeof o.then}module.exports=isPromise; 
 			}); 
		define("npm/just-curry-it/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function curry(l,n){return function r(){null==n&&(n=l.length);var t=[].slice.call(arguments);return t.length>=n?l.apply(this,t):function(){return r.apply(this,t.concat([].slice.call(arguments)))}}}module.exports=curry; 
 			}); 
		define("npm/lodash/_Symbol.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
var root=require("./_root.js"),Symbol=root.Symbol;module.exports=Symbol; 
 			}); 
		define("npm/lodash/_baseGetTag.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}var Symbol=require("./_Symbol.js"),getRawTag=require("./_getRawTag.js"),objectToString=require("./_objectToString.js"),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=baseGetTag; 
 			}); 
		define("npm/lodash/_freeGlobal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal||this; 
 			}); 
		define("npm/lodash/_getPrototype.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
var overArg=require("./_overArg.js"),getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype; 
 			}); 
		define("npm/lodash/_getRawTag.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function getRawTag(t){var o=hasOwnProperty.call(t,symToStringTag),r=t[symToStringTag];try{t[symToStringTag]=void 0;var a=!0}catch(t){}var e=nativeObjectToString.call(t);return a&&(o?t[symToStringTag]=r:delete t[symToStringTag]),e}var Symbol=require("./_Symbol.js"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=getRawTag; 
 			}); 
		define("npm/lodash/_objectToString.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function objectToString(t){return nativeObjectToString.call(t)}var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;module.exports=objectToString; 
 			}); 
		define("npm/lodash/_overArg.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function overArg(r,e){return function(n){return r(e(n))}}module.exports=overArg; 
 			}); 
		define("npm/lodash/_root.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
var freeGlobal=require("./_freeGlobal.js"),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root; 
 			}); 
		define("npm/lodash/isObjectLike.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function isObjectLike(e){return null!=e&&"object"==typeof e}module.exports=isObjectLike; 
 			}); 
		define("npm/lodash/isPlainObject.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function isPlainObject(t){if(!isObjectLike(t)||baseGetTag(t)!=objectTag)return!1;var e=getPrototype(t);if(null===e)return!0;var o=hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&funcToString.call(o)==objectCtorString}var baseGetTag=require("./_baseGetTag.js"),getPrototype=require("./_getPrototype.js"),isObjectLike=require("./isObjectLike.js"),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=isPlainObject; 
 			}); 
		define("npm/lodash/lodash.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
(function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function e(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&y(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n){return n.split("")}function _(n){return n.match(Wt)||[]}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t===t?q(n,t,r):g(n,b,r)}function d(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!==n}function w(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:zn}function m(n){return function(t){return null==t?Y:t[n]}}function x(n){return function(t){return null==n?Y:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==Y&&(r=r===Y?i:r+i)}return r}function O(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function I(n,t){return c(t,function(t){return[t,n[t]]})}function R(n){return function(t){return n(t)}}function z(n,t){return c(t,function(t){return n[t]})}function E(n,t){return n.has(t)}function S(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function L(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function W(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}function C(n){return"\\"+wr[n]}function U(n,t){return null==n?Y:n[t]}function B(n){return sr.test(n)}function T(n){return hr.test(n)}function $(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function D(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function M(n,t){return function(r){return n(t(r))}}function N(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==en||(n[r]=en,i[u++]=r)}return i}function F(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function P(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function q(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function Z(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function K(n){return B(n)?G(n):Tr(n)}function V(n){return B(n)?H(n):p(n)}function G(n){for(var t=ar.lastIndex=0;ar.test(n);)++t;return t}function H(n){return n.match(ar)||[]}function J(n){return n.match(lr)||[]}var Y,Q=200,X="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",nn="Expected a function",tn="__lodash_hash_undefined__",rn=500,en="__lodash_placeholder__",un=1,on=2,fn=4,cn=1,an=2,ln=1,sn=2,hn=4,pn=8,_n=16,vn=32,gn=64,yn=128,dn=256,bn=512,wn=30,mn="...",xn=800,jn=16,An=1,kn=2,On=1/0,In=9007199254740991,Rn=1.7976931348623157e308,zn=NaN,En=4294967295,Sn=En-1,Ln=En>>>1,Wn=[["ary",yn],["bind",ln],["bindKey",sn],["curry",pn],["curryRight",_n],["flip",bn],["partial",vn],["partialRight",gn],["rearg",dn]],Cn="[object Arguments]",Un="[object Array]",Bn="[object AsyncFunction]",Tn="[object Boolean]",$n="[object Date]",Dn="[object DOMException]",Mn="[object Error]",Nn="[object Function]",Fn="[object GeneratorFunction]",Pn="[object Map]",qn="[object Number]",Zn="[object Null]",Kn="[object Object]",Vn="[object Proxy]",Gn="[object RegExp]",Hn="[object Set]",Jn="[object String]",Yn="[object Symbol]",Qn="[object Undefined]",Xn="[object WeakMap]",nt="[object WeakSet]",tt="[object ArrayBuffer]",rt="[object DataView]",et="[object Float32Array]",ut="[object Float64Array]",it="[object Int8Array]",ot="[object Int16Array]",ft="[object Int32Array]",ct="[object Uint8Array]",at="[object Uint8ClampedArray]",lt="[object Uint16Array]",st="[object Uint32Array]",ht=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vt=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,yt=RegExp(vt.source),dt=RegExp(gt.source),bt=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jt=/^\w*$/,At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(kt.source),It=/^\s+|\s+$/g,Rt=/^\s+/,zt=/\s+$/,Et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,St=/\{\n\/\* \[wrapped with (.+)\] \*/,Lt=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ct=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bt=/\w*$/,Tt=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,Dt=/^\[object .+?Constructor\]$/,Mt=/^0o[0-7]+$/i,Nt=/^(?:0|[1-9]\d*)$/,Ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pt=/($^)/,qt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vt="["+Kt+"]",Gt="["+Zt+"]",Ht="[a-z\\xdf-\\xf6\\xf8-\\xff]",Jt="[^\\ud800-\\udfff"+Kt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Yt="\\ud83c[\\udffb-\\udfff]",Qt="(?:\\ud83c[\\udde6-\\uddff]){2}",Xt="[\\ud800-\\udbff][\\udc00-\\udfff]",nr="[A-Z\\xc0-\\xd6\\xd8-\\xde]",tr="(?:"+Ht+"|"+Jt+")",rr="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",er="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Qt,Xt].join("|")+")[\\ufe0e\\ufe0f]?"+rr+")*",ur="[\\ufe0e\\ufe0f]?"+rr+er,ir="(?:"+["[\\u2700-\\u27bf]",Qt,Xt].join("|")+")"+ur,or="(?:"+["[^\\ud800-\\udfff]"+Gt+"?",Gt,Qt,Xt,"[\\ud800-\\udfff]"].join("|")+")",fr=RegExp("['’]","g"),cr=RegExp(Gt,"g"),ar=RegExp(Yt+"(?="+Yt+")|"+or+ur,"g"),lr=RegExp([nr+"?"+Ht+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Vt,nr,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Vt,nr+tr,"$"].join("|")+")",nr+"?"+tr+"+(?:['’](?:d|ll|m|re|s|t|ve))?",nr+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",ir].join("|"),"g"),sr=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),hr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_r=-1,vr={};vr[et]=vr[ut]=vr[it]=vr[ot]=vr[ft]=vr[ct]=vr[at]=vr[lt]=vr[st]=!0,vr[Cn]=vr[Un]=vr[tt]=vr[Tn]=vr[rt]=vr[$n]=vr[Mn]=vr[Nn]=vr[Pn]=vr[qn]=vr[Kn]=vr[Gn]=vr[Hn]=vr[Jn]=vr[Xn]=!1;var gr={};gr[Cn]=gr[Un]=gr[tt]=gr[rt]=gr[Tn]=gr[$n]=gr[et]=gr[ut]=gr[it]=gr[ot]=gr[ft]=gr[Pn]=gr[qn]=gr[Kn]=gr[Gn]=gr[Hn]=gr[Jn]=gr[Yn]=gr[ct]=gr[at]=gr[lt]=gr[st]=!0,gr[Mn]=gr[Nn]=gr[Xn]=!1;var yr={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},dr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},br={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},mr=parseFloat,xr=parseInt,jr="object"==typeof global&&global&&global.Object===Object&&global,Ar="object"==typeof self&&self&&self.Object===Object&&self,kr=jr||Ar||this,Or="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ir=Or&&"object"==typeof module&&module&&!module.nodeType&&module,Rr=Ir&&Ir.exports===Or,zr=Rr&&jr.process,Er=function(){try{var n=Ir&&Ir.require&&Ir.require("util").types;return n||zr&&zr.binding&&zr.binding("util")}catch(n){}}(),Sr=Er&&Er.isArrayBuffer,Lr=Er&&Er.isDate,Wr=Er&&Er.isMap,Cr=Er&&Er.isRegExp,Ur=Er&&Er.isSet,Br=Er&&Er.isTypedArray,Tr=m("length"),$r=x(yr),Dr=x(dr),Mr=x(br),Nr=function p(x){function q(n){if(rc(n)&&!ph(n)&&!(n instanceof Wt)){if(n instanceof H)return n;if(pl.call(n,"__wrapped__"))return Yi(n)}return new H(n)}function G(){}function H(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Y}function Wt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=En,this.__views__=[]}function Zt(){var n=new Wt(this.__wrapped__);return n.__actions__=Lu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Lu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Lu(this.__views__),n}function Kt(){if(this.__filtered__){var n=new Wt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Vt(){var n=this.__wrapped__.value(),t=this.__dir__,r=ph(n),e=t<0,u=r?n.length:0,i=mi(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Pl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return vu(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==kn)g=w;else if(!w){if(b==An)continue n;break n}}_[h++]=g}return _}function Gt(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Ht(){this.__data__=Xl?Xl(null):{},this.size=0}function Jt(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function Yt(n){var t=this.__data__;if(Xl){var r=t[n];return r===tn?Y:r}return pl.call(t,n)?t[n]:Y}function Qt(n){var t=this.__data__;return Xl?t[n]!==Y:pl.call(t,n)}function Xt(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=Xl&&t===Y?tn:t,this}function nr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function tr(){this.__data__=[],this.size=0}function rr(n){var t=this.__data__,r=Vr(t,n);return!(r<0)&&(r==t.length-1?t.pop():Il.call(t,r,1),--this.size,!0)}function er(n){var t=this.__data__,r=Vr(t,n);return r<0?Y:t[r][1]}function ur(n){return Vr(this.__data__,n)>-1}function ir(n,t){var r=this.__data__,e=Vr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function or(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function ar(){this.size=0,this.__data__={hash:new Gt,map:new(Hl||nr),string:new Gt}}function lr(n){var t=yi(this,n).delete(n);return this.size-=t?1:0,t}function sr(n){return yi(this,n).get(n)}function hr(n){return yi(this,n).has(n)}function yr(n,t){var r=yi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function dr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new or;++t<r;)this.add(n[t])}function br(n){return this.__data__.set(n,tn),this}function wr(n){return this.__data__.has(n)}function jr(n){var t=this.__data__=new nr(n);this.size=t.size}function Ar(){this.__data__=new nr,this.size=0}function Or(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function Ir(n){return this.__data__.get(n)}function zr(n){return this.__data__.has(n)}function Er(n,t){var r=this.__data__;if(r instanceof nr){var e=r.__data__;if(!Hl||e.length<Q-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new or(e)}return r.set(n,t),this.size=r.size,this}function Tr(n,t){var r=ph(n),e=!r&&hh(n),u=!r&&!e&&vh(n),i=!r&&!e&&!u&&wh(n),o=r||e||u||i,f=o?O(n.length,ol):[],c=f.length;for(var a in n)!t&&!pl.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||zi(a,c))||f.push(a);return f}function Fr(n){var t=n.length;return t?n[Je(0,t-1)]:Y}function Pr(n,t){return Vi(Lu(n),Xr(t,0,n.length))}function qr(n){return Vi(Lu(n))}function Zr(n,t,r){(r===Y||Ff(n[t],r))&&(r!==Y||t in n)||Yr(n,t,r)}function Kr(n,t,r){var e=n[t];pl.call(n,t)&&Ff(e,r)&&(r!==Y||t in n)||Yr(n,t,r)}function Vr(n,t){for(var r=n.length;r--;)if(Ff(n[r][0],t))return r;return-1}function Gr(n,t,r,e){return ss(n,function(n,u,i){t(e,n,r(n),i)}),e}function Hr(n,t){return n&&Wu(t,Tc(t),n)}function Jr(n,t){return n&&Wu(t,$c(t),n)}function Yr(n,t,r){"__proto__"==t&&Sl?Sl(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function Qr(n,t){for(var r=-1,e=t.length,u=Xa(e),i=null==n;++r<e;)u[r]=i?Y:Cc(n,t[r]);return u}function Xr(n,t,r){return n===n&&(r!==Y&&(n=n<=r?n:r),t!==Y&&(n=n>=t?n:t)),n}function ne(n,t,e,u,i,o){var f,c=t&un,a=t&on,l=t&fn;if(e&&(f=i?e(n,u,i,o):e(n)),f!==Y)return f;if(!tc(n))return n;var s=ph(n);if(s){if(f=Ai(n),!c)return Lu(n,f)}else{var h=js(n),p=h==Nn||h==Fn;if(vh(n))return xu(n,c);if(h==Kn||h==Cn||p&&!i){if(f=a||p?{}:ki(n),!c)return a?Uu(n,Jr(f,n)):Cu(n,Hr(f,n))}else{if(!gr[h])return i?n:{};f=Oi(n,h,c)}}o||(o=new jr);var _=o.get(n);if(_)return _;o.set(n,f),bh(n)?n.forEach(function(r){f.add(ne(r,t,e,r,n,o))}):yh(n)&&n.forEach(function(r,u){f.set(u,ne(r,t,e,u,n,o))});var v=l?a?pi:hi:a?$c:Tc,g=s?Y:v(n);return r(g||n,function(r,u){g&&(u=r,r=n[u]),Kr(f,u,ne(r,t,e,u,n,o))}),f}function te(n){var t=Tc(n);return function(r){return re(r,n,t)}}function re(n,t,r){var e=r.length;if(null==n)return!e;for(n=ul(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===Y&&!(u in n)||!i(o))return!1}return!0}function ee(n,t,r){if("function"!=typeof n)throw new fl(nn);return Os(function(){n.apply(Y,r)},t)}function ue(n,t,r,e){var u=-1,i=o,a=!0,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=c(t,R(r))),e?(i=f,a=!1):t.length>=Q&&(i=E,a=!1,t=new dr(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,a&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function ie(n,t){var r=!0;return ss(n,function(n,e,u){return r=!!t(n,e,u)}),r}function oe(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===Y?o===o&&!pc(o):r(o,f)))var f=o,c=i}return c}function fe(n,t,r,e){var u=n.length;for(r=bc(r),r<0&&(r=-r>u?0:u+r),e=e===Y||e>u?u:bc(e),e<0&&(e+=u),e=r>e?0:wc(e);r<e;)n[r++]=t;return n}function ce(n,t){var r=[];return ss(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function ae(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Ri),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?ae(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function le(n,t){return n&&ps(n,t,Tc)}function se(n,t){return n&&_s(n,t,Tc)}function he(n,t){return i(t,function(t){return Qf(n[t])})}function pe(n,t){t=wu(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[Gi(t[r++])];return r&&r==e?n:Y}function _e(n,t,r){var e=t(n);return ph(n)?e:a(e,r(n))}function ve(n){return null==n?n===Y?Qn:Zn:El&&El in ul(n)?wi(n):Mi(n)}function ge(n,t){return n>t}function ye(n,t){return null!=n&&pl.call(n,t)}function de(n,t){return null!=n&&t in ul(n)}function be(n,t,r){return n>=Pl(t,r)&&n<Fl(t,r)}function we(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=Xa(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,R(t))),s=Pl(p.length,s),l[a]=!r&&(t||u>=120&&p.length>=120)?new dr(a&&p):Y}p=n[0];var _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?E(v,y):e(h,y,r))){for(a=i;--a;){var d=l[a];if(!(d?E(d,y):e(n[a],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function me(n,t,r,e){return le(n,function(n,u,i){t(e,r(n),u,i)}),e}function xe(t,r,e){r=wu(r,t),t=Fi(t,r);var u=null==t?t:t[Gi(go(r))];return null==u?Y:n(u,t,e)}function je(n){return rc(n)&&ve(n)==Cn}function Ae(n){return rc(n)&&ve(n)==tt}function ke(n){return rc(n)&&ve(n)==$n}function Oe(n,t,r,e,u){return n===t||(null==n||null==t||!rc(n)&&!rc(t)?n!==n&&t!==t:Ie(n,t,r,e,Oe,u))}function Ie(n,t,r,e,u,i){var o=ph(n),f=ph(t),c=o?Un:js(n),a=f?Un:js(t);c=c==Cn?Kn:c,a=a==Cn?Kn:a;var l=c==Kn,s=a==Kn,h=c==a;if(h&&vh(n)){if(!vh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new jr),o||wh(n)?ci(n,t,r,e,u,i):ai(n,t,c,r,e,u,i);if(!(r&cn)){var p=l&&pl.call(n,"__wrapped__"),_=s&&pl.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new jr),u(v,g,r,e,i)}}return!!h&&(i||(i=new jr),li(n,t,r,e,u,i))}function Re(n){return rc(n)&&js(n)==Pn}function ze(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ul(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===Y&&!(c in n))return!1}else{var s=new jr;if(e)var h=e(a,l,c,n,t,s);if(!(h===Y?Oe(l,a,cn|an,e,s):h))return!1}}return!0}function Ee(n){return!(!tc(n)||Ci(n))&&(Qf(n)?bl:Dt).test(Hi(n))}function Se(n){return rc(n)&&ve(n)==Gn}function Le(n){return rc(n)&&js(n)==Hn}function We(n){return rc(n)&&nc(n.length)&&!!vr[ve(n)]}function Ce(n){return"function"==typeof n?n:null==n?Ia:"object"==typeof n?ph(n)?Me(n[0],n[1]):De(n):Ua(n)}function Ue(n){if(!Ui(n))return Nl(n);var t=[];for(var r in ul(n))pl.call(n,r)&&"constructor"!=r&&t.push(r);return t}function Be(n){if(!tc(n))return Di(n);var t=Ui(n),r=[];for(var e in n)("constructor"!=e||!t&&pl.call(n,e))&&r.push(e);return r}function Te(n,t){return n<t}function $e(n,t){var r=-1,e=Pf(n)?Xa(n.length):[];return ss(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function De(n){var t=di(n);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(r){return r===n||ze(r,n,t)}}function Me(n,t){return Si(n)&&Bi(t)?Ti(Gi(n),t):function(r){var e=Cc(r,n);return e===Y&&e===t?Bc(r,n):Oe(t,e,cn|an)}}function Ne(n,t,r,e,u){n!==t&&ps(t,function(i,o){if(u||(u=new jr),tc(i))Fe(n,t,o,r,Ne,e,u);else{var f=e?e(qi(n,o),i,o+"",n,t,u):Y;f===Y&&(f=i),Zr(n,o,f)}},$c)}function Fe(n,t,r,e,u,i,o){var f=qi(n,r),c=qi(t,r),a=o.get(c);if(a)return void Zr(n,r,a);var l=i?i(f,c,r+"",n,t,o):Y,s=l===Y;if(s){var h=ph(c),p=!h&&vh(c),_=!h&&!p&&wh(c);l=c,h||p||_?ph(f)?l=f:qf(f)?l=Lu(f):p?(s=!1,l=xu(c,!0)):_?(s=!1,l=Iu(c,!0)):l=[]:lc(c)||hh(c)?(l=f,hh(f)?l=xc(f):tc(f)&&!Qf(f)||(l=ki(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Zr(n,r,l)}function Pe(n,t){var r=n.length;if(r)return t+=t<0?r:0,zi(t,r)?n[t]:Y}function qe(n,t,r){var e=-1;return t=c(t.length?t:[Ia],R(gi())),A($e(n,function(n,r,u){return{criteria:c(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return zu(n,t,r)})}function Ze(n,t){return Ke(n,t,function(t,r){return Bc(n,r)})}function Ke(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=pe(n,o);r(f,o)&&ru(i,wu(o,n),f)}return i}function Ve(n){return function(t){return pe(t,n)}}function Ge(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Lu(t)),r&&(f=c(n,R(r)));++i<o;)for(var a=0,l=t[i],s=r?r(l):l;(a=u(f,s,a,e))>-1;)f!==n&&Il.call(f,a,1),Il.call(n,a,1);return n}function He(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;zi(u)?Il.call(n,u,1):hu(n,u)}}return n}function Je(n,t){return n+Bl(Kl()*(t-n+1))}function Ye(n,t,r,e){for(var u=-1,i=Fl(Ul((t-n)/(r||1)),0),o=Xa(i);i--;)o[e?i:++u]=n,n+=r;return o}function Qe(n,t){var r="";if(!n||t<1||t>In)return r;do{t%2&&(r+=n),(t=Bl(t/2))&&(n+=n)}while(t);return r}function Xe(n,t){return Is(Ni(n,t,Ia),n+"")}function nu(n){return Fr(Jc(n))}function tu(n,t){var r=Jc(n);return Vi(r,Xr(t,0,r.length))}function ru(n,t,r,e){if(!tc(n))return n;t=wu(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=Gi(t[u]),a=r;if(u!=o){var l=f[c];a=e?e(l,c,f):Y,a===Y&&(a=tc(l)?l:zi(t[u+1])?[]:{})}Kr(f,c,a),f=f[c]}return n}function eu(n){return Vi(Jc(n))}function uu(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Xa(u);++e<u;)i[e]=n[e+t];return i}function iu(n,t){var r;return ss(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function ou(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&u<=Ln){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!pc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return fu(n,t,Ia,r)}function fu(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!==t,f=null===t,c=pc(t),a=t===Y;u<i;){var l=Bl((u+i)/2),s=r(n[l]),h=s!==Y,p=null===s,_=s===s,v=pc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Pl(i,Sn)}function cu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!Ff(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function au(n){return"number"==typeof n?n:pc(n)?zn:+n}function lu(n){if("string"==typeof n)return n;if(ph(n))return c(n,lu)+"";if(pc(n))return as?as.call(n):"";var t=n+"";return"0"==t&&1/n==-On?"-0":t}function su(n,t,r){var e=-1,u=o,i=n.length,c=!0,a=[],l=a;if(r)c=!1,u=f;else if(i>=Q){var s=t?null:bs(n);if(s)return F(s);c=!1,u=E,l=new dr}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,c&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;t&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function hu(n,t){return t=wu(t,n),null==(n=Fi(n,t))||delete n[Gi(go(t))]}function pu(n,t,r,e){return ru(n,t,r(pe(n,t)),e)}function _u(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?uu(n,e?0:i,e?i+1:u):uu(n,e?i+1:0,e?u:i)}function vu(n,t){var r=n;return r instanceof Wt&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function gu(n,t,r){var e=n.length;if(e<2)return e?su(n[0]):[];for(var u=-1,i=Xa(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=ue(i[u]||o,n[f],t,r));return su(ae(i,1),t,r)}function yu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){var f=e<i?t[e]:Y;r(o,n[e],f)}return o}function du(n){return qf(n)?n:[]}function bu(n){return"function"==typeof n?n:Ia}function wu(n,t){return ph(n)?n:Si(n,t)?[n]:Rs(Ac(n))}function mu(n,t,r){var e=n.length;return r=r===Y?e:r,!t&&r>=e?n:uu(n,t,r)}function xu(n,t){if(t)return n.slice();var r=n.length,e=jl?jl(r):new n.constructor(r);return n.copy(e),e}function ju(n){var t=new n.constructor(n.byteLength);return new xl(t).set(new xl(n)),t}function Au(n,t){var r=t?ju(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}function ku(n){var t=new n.constructor(n.source,Bt.exec(n));return t.lastIndex=n.lastIndex,t}function Ou(n){return cs?ul(cs.call(n)):{}}function Iu(n,t){var r=t?ju(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Ru(n,t){if(n!==t){var r=n!==Y,e=null===n,u=n===n,i=pc(n),o=t!==Y,f=null===t,c=t===t,a=pc(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function zu(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Ru(u[e],i[e]);if(c){if(e>=f)return c;return c*("desc"==r[e]?-1:1)}}return n.index-t.index}function Eu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Fl(i-o,0),l=Xa(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function Su(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Fl(i-f,0),s=Xa(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Lu(n,t){var r=-1,e=n.length;for(t||(t=Xa(e));++r<e;)t[r]=n[r];return t}function Wu(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):Y;c===Y&&(c=n[f]),u?Yr(r,f,c):Kr(r,f,c)}return r}function Cu(n,t){return Wu(n,ms(n),t)}function Uu(n,t){return Wu(n,xs(n),t)}function Bu(n,r){return function(e,u){var i=ph(e)?t:Gr,o=r?r():{};return i(e,n,gi(u,2),o)}}function Tu(n){return Xe(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:Y,o=u>2?r[2]:Y;for(i=n.length>3&&"function"==typeof i?(u--,i):Y,o&&Ei(r[0],r[1],o)&&(i=u<3?Y:i,u=1),t=ul(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function $u(n,t){return function(r,e){if(null==r)return r;if(!Pf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ul(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function Du(n){return function(t,r,e){for(var u=-1,i=ul(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(!1===r(i[c],c,i))break}return t}}function Mu(n,t,r){function e(){return(this&&this!==kr&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&ln,i=Pu(n);return e}function Nu(n){return function(t){t=Ac(t);var r=B(t)?V(t):Y,e=r?r[0]:t.charAt(0),u=r?mu(r,1).join(""):t.slice(1);return e[n]()+u}}function Fu(n){return function(t){return l(xa(ra(t).replace(fr,"")),n,"")}}function Pu(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ls(n.prototype),e=n.apply(r,t);return tc(e)?e:r}}function qu(t,r,e){function u(){for(var o=arguments.length,f=Xa(o),c=o,a=vi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:N(f,a);return(o-=l.length)<e?ti(t,r,Vu,u.placeholder,Y,f,l,Y,Y,e-o):n(this&&this!==kr&&this instanceof u?i:t,this,f)}var i=Pu(t);return u}function Zu(n){return function(t,r,e){var u=ul(t);if(!Pf(t)){var i=gi(r,3);t=Tc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:Y}}function Ku(n){return si(function(t){var r=t.length,e=r,u=H.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new fl(nn);if(u&&!o&&"wrapper"==_i(i))var o=new H([],!0)}for(e=o?e:r;++e<r;){i=t[e];var f=_i(i),c="wrapper"==f?ws(i):Y;o=c&&Wi(c[0])&&c[1]==(yn|pn|vn|dn)&&!c[4].length&&1==c[9]?o[_i(c[0])].apply(o,c[3]):1==i.length&&Wi(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&ph(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Vu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=Xa(y),b=y;b--;)d[b]=arguments[b];if(_)var w=vi(l),m=W(d,w);if(e&&(d=Eu(d,e,u,_)),i&&(d=Su(d,i,o,_)),y-=m,_&&y<a){var x=N(d,w);return ti(n,t,Vu,l.placeholder,r,d,x,f,c,a-y)}var j=h?r:this,A=p?j[n]:n;return y=d.length,f?d=Pi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==kr&&this instanceof l&&(A=g||Pu(A)),A.apply(j,d)}var s=t&yn,h=t&ln,p=t&sn,_=t&(pn|_n),v=t&bn,g=p?Y:Pu(n);return l}function Gu(n,t){return function(r,e){return me(r,n,t(e),{})}}function Hu(n,t){return function(r,e){var u;if(r===Y&&e===Y)return t;if(r!==Y&&(u=r),e!==Y){if(u===Y)return e;"string"==typeof r||"string"==typeof e?(r=lu(r),e=lu(e)):(r=au(r),e=au(e)),u=n(r,e)}return u}}function Ju(t){return si(function(r){return r=c(r,R(gi())),Xe(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function Yu(n,t){t=t===Y?" ":lu(t);var r=t.length;if(r<2)return r?Qe(t,n):t;var e=Qe(t,Ul(n/K(t)));return B(t)?mu(V(e),0,n).join(""):e.slice(0,n)}function Qu(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=Xa(l+c),h=this&&this!==kr&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];return n(h,o?e:this,s)}var o=r&ln,f=Pu(t);return i}function Xu(n){return function(t,r,e){return e&&"number"!=typeof e&&Ei(t,r,e)&&(r=e=Y),t=dc(t),r===Y?(r=t,t=0):r=dc(r),e=e===Y?t<r?1:-1:dc(e),Ye(t,r,e,n)}}function ni(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=mc(t),r=mc(r)),n(t,r)}}function ti(n,t,r,e,u,i,o,f,c,a){var l=t&pn,s=l?o:Y,h=l?Y:o,p=l?i:Y,_=l?Y:i;t|=l?vn:gn,(t&=~(l?gn:vn))&hn||(t&=~(ln|sn));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(Y,v);return Wi(n)&&ks(g,v),g.placeholder=e,Zi(g,n,t)}function ri(n){var t=el[n];return function(n,r){if(n=mc(n),(r=null==r?0:Pl(bc(r),292))&&Dl(n)){var e=(Ac(n)+"e").split("e");return e=(Ac(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ei(n){return function(t){var r=js(t);return r==Pn?D(t):r==Hn?P(t):I(t,n(t))}}function ui(n,t,r,e,u,i,o,f){var c=t&sn;if(!c&&"function"!=typeof n)throw new fl(nn);var a=e?e.length:0;if(a||(t&=~(vn|gn),e=u=Y),o=o===Y?o:Fl(bc(o),0),f=f===Y?f:bc(f),a-=u?u.length:0,t&gn){var l=e,s=u;e=u=Y}var h=c?Y:ws(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&$i(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===Y?c?0:n.length:Fl(p[9]-a,0),!f&&t&(pn|_n)&&(t&=~(pn|_n)),t&&t!=ln)_=t==pn||t==_n?qu(n,t,f):t!=vn&&t!=(ln|vn)||u.length?Vu.apply(Y,p):Qu(n,t,r,e);else var _=Mu(n,t,r);return Zi((h?vs:ks)(_,p),n,t)}function ii(n,t,r,e){return n===Y||Ff(n,ll[r])&&!pl.call(e,r)?t:n}function oi(n,t,r,e,u,i){return tc(n)&&tc(t)&&(i.set(t,n),Ne(n,t,Y,oi,i),i.delete(t)),n}function fi(n){return lc(n)?Y:n}function ci(n,t,r,e,u,i){var o=r&cn,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n);if(a&&i.get(t))return a==t;var l=-1,s=!0,p=r&an?new dr:Y;for(i.set(n,t),i.set(t,n);++l<f;){var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(g!==Y){if(g)continue;s=!1;break}if(p){if(!h(t,function(n,t){if(!E(p,t)&&(_===n||u(_,n,r,e,i)))return p.push(t)})){s=!1;break}}else if(_!==v&&!u(_,v,r,e,i)){s=!1;break}}return i.delete(n),i.delete(t),s}function ai(n,t,r,e,u,i,o){switch(r){case rt:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case tt:return!(n.byteLength!=t.byteLength||!i(new xl(n),new xl(t)));case Tn:case $n:case qn:return Ff(+n,+t);case Mn:return n.name==t.name&&n.message==t.message;case Gn:case Jn:return n==t+"";case Pn:var f=D;case Hn:var c=e&cn;if(f||(f=F),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=an,o.set(n,t);var l=ci(f(n),f(t),e,u,i,o);return o.delete(n),l;case Yn:if(cs)return cs.call(n)==cs.call(t)}return!1}function li(n,t,r,e,u,i){var o=r&cn,f=hi(n),c=f.length;if(c!=hi(t).length&&!o)return!1;for(var a=c;a--;){var l=f[a];if(!(o?l in t:pl.call(t,l)))return!1}var s=i.get(n);if(s&&i.get(t))return s==t;var h=!0;i.set(n,t),i.set(t,n);for(var p=o;++a<c;){l=f[a];var _=n[l],v=t[l]
;if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(!(g===Y?_===v||u(_,v,r,e,i):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=n.constructor,d=t.constructor;y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d)&&(h=!1)}return i.delete(n),i.delete(t),h}function si(n){return Is(Ni(n,Y,co),n+"")}function hi(n){return _e(n,Tc,ms)}function pi(n){return _e(n,$c,xs)}function _i(n){for(var t=n.name+"",r=ts[t],e=pl.call(ts,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function vi(n){return(pl.call(q,"placeholder")?q:n).placeholder}function gi(){var n=q.iteratee||Ra;return n=n===Ra?Ce:n,arguments.length?n(arguments[0],arguments[1]):n}function yi(n,t){var r=n.__data__;return Li(t)?r["string"==typeof t?"string":"hash"]:r.map}function di(n){for(var t=Tc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Bi(u)]}return t}function bi(n,t){var r=U(n,t);return Ee(r)?r:Y}function wi(n){var t=pl.call(n,El),r=n[El];try{n[El]=Y;var e=!0}catch(n){}var u=gl.call(n);return e&&(t?n[El]=r:delete n[El]),u}function mi(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Pl(t,n+o);break;case"takeRight":n=Fl(n,t-o)}}return{start:n,end:t}}function xi(n){var t=n.match(St);return t?t[1].split(Lt):[]}function ji(n,t,r){t=wu(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=Gi(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&nc(u)&&zi(o,u)&&(ph(n)||hh(n))}function Ai(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&pl.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function ki(n){return"function"!=typeof n.constructor||Ui(n)?{}:ls(Al(n))}function Oi(n,t,r){var e=n.constructor;switch(t){case tt:return ju(n);case Tn:case $n:return new e(+n);case rt:return Au(n,r);case et:case ut:case it:case ot:case ft:case ct:case at:case lt:case st:return Iu(n,r);case Pn:return new e;case qn:case Jn:return new e(n);case Gn:return ku(n);case Hn:return new e;case Yn:return Ou(n)}}function Ii(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Et,"{\n/* [wrapped with "+t+"] */\n")}function Ri(n){return ph(n)||hh(n)||!!(Rl&&n&&n[Rl])}function zi(n,t){var r=typeof n;return!!(t=null==t?In:t)&&("number"==r||"symbol"!=r&&Nt.test(n))&&n>-1&&n%1==0&&n<t}function Ei(n,t,r){if(!tc(r))return!1;var e=typeof t;return!!("number"==e?Pf(r)&&zi(t,r.length):"string"==e&&t in r)&&Ff(r[t],n)}function Si(n,t){if(ph(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!pc(n))||(jt.test(n)||!xt.test(n)||null!=t&&n in ul(t))}function Li(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function Wi(n){var t=_i(n),r=q[t];if("function"!=typeof r||!(t in Wt.prototype))return!1;if(n===r)return!0;var e=ws(r);return!!e&&n===e[0]}function Ci(n){return!!vl&&vl in n}function Ui(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||ll)}function Bi(n){return n===n&&!tc(n)}function Ti(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==Y||n in ul(r)))}}function $i(n,t){var r=n[1],e=t[1],u=r|e,i=u<(ln|sn|yn),o=e==yn&&r==pn||e==yn&&r==dn&&n[7].length<=t[8]||e==(yn|dn)&&t[7].length<=t[8]&&r==pn;if(!i&&!o)return n;e&ln&&(n[2]=t[2],u|=r&ln?0:hn);var f=t[3];if(f){var c=n[3];n[3]=c?Eu(c,f,t[4]):f,n[4]=c?N(n[3],en):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Su(c,f,t[6]):f,n[6]=c?N(n[5],en):t[6]),f=t[7],f&&(n[7]=f),e&yn&&(n[8]=null==n[8]?t[8]:Pl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function Di(n){var t=[];if(null!=n)for(var r in ul(n))t.push(r);return t}function Mi(n){return gl.call(n)}function Ni(t,r,e){return r=Fl(r===Y?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=Fl(u.length-r,0),f=Xa(o);++i<o;)f[i]=u[r+i];i=-1;for(var c=Xa(r+1);++i<r;)c[i]=u[i];return c[r]=e(f),n(t,this,c)}}function Fi(n,t){return t.length<2?n:pe(n,uu(t,0,-1))}function Pi(n,t){for(var r=n.length,e=Pl(t.length,r),u=Lu(n);e--;){var i=t[e];n[e]=zi(i,r)?u[i]:Y}return n}function qi(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}function Zi(n,t,r){var e=t+"";return Is(n,Ii(e,Ji(xi(e),r)))}function Ki(n){var t=0,r=0;return function(){var e=ql(),u=jn-(e-r);if(r=e,u>0){if(++t>=xn)return arguments[0]}else t=0;return n.apply(Y,arguments)}}function Vi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===Y?e:t;++r<t;){var i=Je(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function Gi(n){if("string"==typeof n||pc(n))return n;var t=n+"";return"0"==t&&1/n==-On?"-0":t}function Hi(n){if(null!=n){try{return hl.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Ji(n,t){return r(Wn,function(r){var e="_."+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function Yi(n){if(n instanceof Wt)return n.clone();var t=new H(n.__wrapped__,n.__chain__);return t.__actions__=Lu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Qi(n,t,r){t=(r?Ei(n,t,r):t===Y)?1:Fl(bc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=Xa(Ul(e/t));u<e;)o[i++]=uu(n,u,u+=t);return o}function Xi(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function no(){var n=arguments.length;if(!n)return[];for(var t=Xa(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return a(ph(r)?Lu(r):[r],ae(t,1))}function to(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Y?1:bc(t),uu(n,t<0?0:t,e)):[]}function ro(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Y?1:bc(t),t=e-t,uu(n,0,t<0?0:t)):[]}function eo(n,t){return n&&n.length?_u(n,gi(t,3),!0,!0):[]}function uo(n,t){return n&&n.length?_u(n,gi(t,3),!0):[]}function io(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&Ei(n,t,r)&&(r=0,e=u),fe(n,t,r,e)):[]}function oo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:bc(r);return u<0&&(u=Fl(e+u,0)),g(n,gi(t,3),u)}function fo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==Y&&(u=bc(r),u=r<0?Fl(e+u,0):Pl(u,e-1)),g(n,gi(t,3),u,!0)}function co(n){return(null==n?0:n.length)?ae(n,1):[]}function ao(n){return(null==n?0:n.length)?ae(n,On):[]}function lo(n,t){return(null==n?0:n.length)?(t=t===Y?1:bc(t),ae(n,t)):[]}function so(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function ho(n){return n&&n.length?n[0]:Y}function po(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:bc(r);return u<0&&(u=Fl(e+u,0)),y(n,t,u)}function _o(n){return(null==n?0:n.length)?uu(n,0,-1):[]}function vo(n,t){return null==n?"":Ml.call(n,t)}function go(n){var t=null==n?0:n.length;return t?n[t-1]:Y}function yo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==Y&&(u=bc(r),u=u<0?Fl(e+u,0):Pl(u,e-1)),t===t?Z(n,t,u):g(n,b,u,!0)}function bo(n,t){return n&&n.length?Pe(n,bc(t)):Y}function wo(n,t){return n&&n.length&&t&&t.length?Ge(n,t):n}function mo(n,t,r){return n&&n.length&&t&&t.length?Ge(n,t,gi(r,2)):n}function xo(n,t,r){return n&&n.length&&t&&t.length?Ge(n,t,Y,r):n}function jo(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=gi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return He(n,u),r}function Ao(n){return null==n?n:Vl.call(n)}function ko(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Ei(n,t,r)?(t=0,r=e):(t=null==t?0:bc(t),r=r===Y?e:bc(r)),uu(n,t,r)):[]}function Oo(n,t){return ou(n,t)}function Io(n,t,r){return fu(n,t,gi(r,2))}function Ro(n,t){var r=null==n?0:n.length;if(r){var e=ou(n,t);if(e<r&&Ff(n[e],t))return e}return-1}function zo(n,t){return ou(n,t,!0)}function Eo(n,t,r){return fu(n,t,gi(r,2),!0)}function So(n,t){if(null==n?0:n.length){var r=ou(n,t,!0)-1;if(Ff(n[r],t))return r}return-1}function Lo(n){return n&&n.length?cu(n):[]}function Wo(n,t){return n&&n.length?cu(n,gi(t,2)):[]}function Co(n){var t=null==n?0:n.length;return t?uu(n,1,t):[]}function Uo(n,t,r){return n&&n.length?(t=r||t===Y?1:bc(t),uu(n,0,t<0?0:t)):[]}function Bo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Y?1:bc(t),t=e-t,uu(n,t<0?0:t,e)):[]}function To(n,t){return n&&n.length?_u(n,gi(t,3),!1,!0):[]}function $o(n,t){return n&&n.length?_u(n,gi(t,3)):[]}function Do(n){return n&&n.length?su(n):[]}function Mo(n,t){return n&&n.length?su(n,gi(t,2)):[]}function No(n,t){return t="function"==typeof t?t:Y,n&&n.length?su(n,Y,t):[]}function Fo(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){if(qf(n))return t=Fl(n.length,t),!0}),O(t,function(t){return c(n,m(t))})}function Po(t,r){if(!t||!t.length)return[];var e=Fo(t);return null==r?e:c(e,function(t){return n(r,Y,t)})}function qo(n,t){return yu(n||[],t||[],Kr)}function Zo(n,t){return yu(n||[],t||[],ru)}function Ko(n){var t=q(n);return t.__chain__=!0,t}function Vo(n,t){return t(n),n}function Go(n,t){return t(n)}function Ho(){return Ko(this)}function Jo(){return new H(this.value(),this.__chain__)}function Yo(){this.__values__===Y&&(this.__values__=yc(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?Y:this.__values__[this.__index__++]}}function Qo(){return this}function Xo(n){for(var t,r=this;r instanceof G;){var e=Yi(r);e.__index__=0,e.__values__=Y,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function nf(){var n=this.__wrapped__;if(n instanceof Wt){var t=n;return this.__actions__.length&&(t=new Wt(this)),t=t.reverse(),t.__actions__.push({func:Go,args:[Ao],thisArg:Y}),new H(t,this.__chain__)}return this.thru(Ao)}function tf(){return vu(this.__wrapped__,this.__actions__)}function rf(n,t,r){var e=ph(n)?u:ie;return r&&Ei(n,t,r)&&(t=Y),e(n,gi(t,3))}function ef(n,t){return(ph(n)?i:ce)(n,gi(t,3))}function uf(n,t){return ae(sf(n,t),1)}function of(n,t){return ae(sf(n,t),On)}function ff(n,t,r){return r=r===Y?1:bc(r),ae(sf(n,t),r)}function cf(n,t){return(ph(n)?r:ss)(n,gi(t,3))}function af(n,t){return(ph(n)?e:hs)(n,gi(t,3))}function lf(n,t,r,e){n=Pf(n)?n:Jc(n),r=r&&!e?bc(r):0;var u=n.length;return r<0&&(r=Fl(u+r,0)),hc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function sf(n,t){return(ph(n)?c:$e)(n,gi(t,3))}function hf(n,t,r,e){return null==n?[]:(ph(t)||(t=null==t?[]:[t]),r=e?Y:r,ph(r)||(r=null==r?[]:[r]),qe(n,t,r))}function pf(n,t,r){var e=ph(n)?l:j,u=arguments.length<3;return e(n,gi(t,4),r,u,ss)}function _f(n,t,r){var e=ph(n)?s:j,u=arguments.length<3;return e(n,gi(t,4),r,u,hs)}function vf(n,t){return(ph(n)?i:ce)(n,zf(gi(t,3)))}function gf(n){return(ph(n)?Fr:nu)(n)}function yf(n,t,r){return t=(r?Ei(n,t,r):t===Y)?1:bc(t),(ph(n)?Pr:tu)(n,t)}function df(n){return(ph(n)?qr:eu)(n)}function bf(n){if(null==n)return 0;if(Pf(n))return hc(n)?K(n):n.length;var t=js(n);return t==Pn||t==Hn?n.size:Ue(n).length}function wf(n,t,r){var e=ph(n)?h:iu;return r&&Ei(n,t,r)&&(t=Y),e(n,gi(t,3))}function mf(n,t){if("function"!=typeof t)throw new fl(nn);return n=bc(n),function(){if(--n<1)return t.apply(this,arguments)}}function xf(n,t,r){return t=r?Y:t,t=n&&null==t?n.length:t,ui(n,yn,Y,Y,Y,Y,t)}function jf(n,t){var r;if("function"!=typeof t)throw new fl(nn);return n=bc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=Y),r}}function Af(n,t,r){t=r?Y:t;var e=ui(n,pn,Y,Y,Y,Y,Y,t);return e.placeholder=Af.placeholder,e}function kf(n,t,r){t=r?Y:t;var e=ui(n,_n,Y,Y,Y,Y,Y,t);return e.placeholder=kf.placeholder,e}function Of(n,t,r){function e(t){var r=h,e=p;return h=p=Y,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Os(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Pl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===Y||r>=t||r<0||w&&e>=_}function f(){var n=th();if(o(n))return c(n);g=Os(f,i(n))}function c(n){return g=Y,m&&h?e(n):(h=p=Y,v)}function a(){g!==Y&&ds(g),d=0,h=y=p=g=Y}function l(){return g===Y?v:c(th())}function s(){var n=th(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===Y)return u(y);if(w)return ds(g),g=Os(f,t),e(y)}return g===Y&&(g=Os(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new fl(nn);return t=mc(t)||0,tc(r)&&(b=!!r.leading,w="maxWait"in r,_=w?Fl(mc(r.maxWait)||0,t):_,m="trailing"in r?!!r.trailing:m),s.cancel=a,s.flush=l,s}function If(n){return ui(n,bn)}function Rf(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new fl(nn);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Rf.Cache||or),r}function zf(n){if("function"!=typeof n)throw new fl(nn);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Ef(n){return jf(2,n)}function Sf(n,t){if("function"!=typeof n)throw new fl(nn);return t=t===Y?t:bc(t),Xe(n,t)}function Lf(t,r){if("function"!=typeof t)throw new fl(nn);return r=null==r?0:Fl(bc(r),0),Xe(function(e){var u=e[r],i=mu(e,0,r);return u&&a(i,u),n(t,this,i)})}function Wf(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new fl(nn);return tc(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Of(n,t,{leading:e,maxWait:t,trailing:u})}function Cf(n){return xf(n,1)}function Uf(n,t){return fh(bu(t),n)}function Bf(){if(!arguments.length)return[];var n=arguments[0];return ph(n)?n:[n]}function Tf(n){return ne(n,fn)}function $f(n,t){return t="function"==typeof t?t:Y,ne(n,fn,t)}function Df(n){return ne(n,un|fn)}function Mf(n,t){return t="function"==typeof t?t:Y,ne(n,un|fn,t)}function Nf(n,t){return null==t||re(n,t,Tc(t))}function Ff(n,t){return n===t||n!==n&&t!==t}function Pf(n){return null!=n&&nc(n.length)&&!Qf(n)}function qf(n){return rc(n)&&Pf(n)}function Zf(n){return!0===n||!1===n||rc(n)&&ve(n)==Tn}function Kf(n){return rc(n)&&1===n.nodeType&&!lc(n)}function Vf(n){if(null==n)return!0;if(Pf(n)&&(ph(n)||"string"==typeof n||"function"==typeof n.splice||vh(n)||wh(n)||hh(n)))return!n.length;var t=js(n);if(t==Pn||t==Hn)return!n.size;if(Ui(n))return!Ue(n).length;for(var r in n)if(pl.call(n,r))return!1;return!0}function Gf(n,t){return Oe(n,t)}function Hf(n,t,r){r="function"==typeof r?r:Y;var e=r?r(n,t):Y;return e===Y?Oe(n,t,Y,r):!!e}function Jf(n){if(!rc(n))return!1;var t=ve(n);return t==Mn||t==Dn||"string"==typeof n.message&&"string"==typeof n.name&&!lc(n)}function Yf(n){return"number"==typeof n&&Dl(n)}function Qf(n){if(!tc(n))return!1;var t=ve(n);return t==Nn||t==Fn||t==Bn||t==Vn}function Xf(n){return"number"==typeof n&&n==bc(n)}function nc(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=In}function tc(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function rc(n){return null!=n&&"object"==typeof n}function ec(n,t){return n===t||ze(n,t,di(t))}function uc(n,t,r){return r="function"==typeof r?r:Y,ze(n,t,di(t),r)}function ic(n){return ac(n)&&n!=+n}function oc(n){if(As(n))throw new tl(X);return Ee(n)}function fc(n){return null===n}function cc(n){return null==n}function ac(n){return"number"==typeof n||rc(n)&&ve(n)==qn}function lc(n){if(!rc(n)||ve(n)!=Kn)return!1;var t=Al(n);if(null===t)return!0;var r=pl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&hl.call(r)==yl}function sc(n){return Xf(n)&&n>=-In&&n<=In}function hc(n){return"string"==typeof n||!ph(n)&&rc(n)&&ve(n)==Jn}function pc(n){return"symbol"==typeof n||rc(n)&&ve(n)==Yn}function _c(n){return n===Y}function vc(n){return rc(n)&&js(n)==Xn}function gc(n){return rc(n)&&ve(n)==nt}function yc(n){if(!n)return[];if(Pf(n))return hc(n)?V(n):Lu(n);if(zl&&n[zl])return $(n[zl]());var t=js(n);return(t==Pn?D:t==Hn?F:Jc)(n)}function dc(n){if(!n)return 0===n?n:0;if((n=mc(n))===On||n===-On){return(n<0?-1:1)*Rn}return n===n?n:0}function bc(n){var t=dc(n),r=t%1;return t===t?r?t-r:t:0}function wc(n){return n?Xr(bc(n),0,En):0}function mc(n){if("number"==typeof n)return n;if(pc(n))return zn;if(tc(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=tc(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(It,"");var r=$t.test(n);return r||Mt.test(n)?xr(n.slice(2),r?2:8):Tt.test(n)?zn:+n}function xc(n){return Wu(n,$c(n))}function jc(n){return n?Xr(bc(n),-In,In):0===n?n:0}function Ac(n){return null==n?"":lu(n)}function kc(n,t){var r=ls(n);return null==t?r:Hr(r,t)}function Oc(n,t){return v(n,gi(t,3),le)}function Ic(n,t){return v(n,gi(t,3),se)}function Rc(n,t){return null==n?n:ps(n,gi(t,3),$c)}function zc(n,t){return null==n?n:_s(n,gi(t,3),$c)}function Ec(n,t){return n&&le(n,gi(t,3))}function Sc(n,t){return n&&se(n,gi(t,3))}function Lc(n){return null==n?[]:he(n,Tc(n))}function Wc(n){return null==n?[]:he(n,$c(n))}function Cc(n,t,r){var e=null==n?Y:pe(n,t);return e===Y?r:e}function Uc(n,t){return null!=n&&ji(n,t,ye)}function Bc(n,t){return null!=n&&ji(n,t,de)}function Tc(n){return Pf(n)?Tr(n):Ue(n)}function $c(n){return Pf(n)?Tr(n,!0):Be(n)}function Dc(n,t){var r={};return t=gi(t,3),le(n,function(n,e,u){Yr(r,t(n,e,u),n)}),r}function Mc(n,t){var r={};return t=gi(t,3),le(n,function(n,e,u){Yr(r,e,t(n,e,u))}),r}function Nc(n,t){return Fc(n,zf(gi(t)))}function Fc(n,t){if(null==n)return{};var r=c(pi(n),function(n){return[n]});return t=gi(t),Ke(n,r,function(n,r){return t(n,r[0])})}function Pc(n,t,r){t=wu(t,n);var e=-1,u=t.length;for(u||(u=1,n=Y);++e<u;){var i=null==n?Y:n[Gi(t[e])];i===Y&&(e=u,i=r),n=Qf(i)?i.call(n):i}return n}function qc(n,t,r){return null==n?n:ru(n,t,r)}function Zc(n,t,r,e){return e="function"==typeof e?e:Y,null==n?n:ru(n,t,r,e)}function Kc(n,t,e){var u=ph(n),i=u||vh(n)||wh(n);if(t=gi(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:tc(n)&&Qf(o)?ls(Al(n)):{}}return(i?r:le)(n,function(n,r,u){return t(e,n,r,u)}),e}function Vc(n,t){return null==n||hu(n,t)}function Gc(n,t,r){return null==n?n:pu(n,t,bu(r))}function Hc(n,t,r,e){return e="function"==typeof e?e:Y,null==n?n:pu(n,t,bu(r),e)}function Jc(n){return null==n?[]:z(n,Tc(n))}function Yc(n){return null==n?[]:z(n,$c(n))}function Qc(n,t,r){return r===Y&&(r=t,t=Y),r!==Y&&(r=mc(r),r=r===r?r:0),t!==Y&&(t=mc(t),t=t===t?t:0),Xr(mc(n),t,r)}function Xc(n,t,r){return t=dc(t),r===Y?(r=t,t=0):r=dc(r),n=mc(n),be(n,t,r)}function na(n,t,r){if(r&&"boolean"!=typeof r&&Ei(n,t,r)&&(t=r=Y),r===Y&&("boolean"==typeof t?(r=t,t=Y):"boolean"==typeof n&&(r=n,n=Y)),n===Y&&t===Y?(n=0,t=1):(n=dc(n),t===Y?(t=n,n=0):t=dc(t)),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=Kl();return Pl(n+u*(t-n+mr("1e-"+((u+"").length-1))),t)}return Je(n,t)}function ta(n){return Kh(Ac(n).toLowerCase())}function ra(n){return(n=Ac(n))&&n.replace(Ft,$r).replace(cr,"")}function ea(n,t,r){n=Ac(n),t=lu(t);var e=n.length;r=r===Y?e:Xr(bc(r),0,e);var u=r;return(r-=t.length)>=0&&n.slice(r,u)==t}function ua(n){return n=Ac(n),n&&dt.test(n)?n.replace(gt,Dr):n}function ia(n){return n=Ac(n),n&&Ot.test(n)?n.replace(kt,"\\$&"):n}function oa(n,t,r){n=Ac(n),t=bc(t);var e=t?K(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return Yu(Bl(u),r)+n+Yu(Ul(u),r)}function fa(n,t,r){n=Ac(n),t=bc(t);var e=t?K(n):0;return t&&e<t?n+Yu(t-e,r):n}function ca(n,t,r){n=Ac(n),t=bc(t);var e=t?K(n):0;return t&&e<t?Yu(t-e,r)+n:n}function aa(n,t,r){return r||null==t?t=0:t&&(t=+t),Zl(Ac(n).replace(Rt,""),t||0)}function la(n,t,r){return t=(r?Ei(n,t,r):t===Y)?1:bc(t),Qe(Ac(n),t)}function sa(){var n=arguments,t=Ac(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function ha(n,t,r){return r&&"number"!=typeof r&&Ei(n,t,r)&&(t=r=Y),(r=r===Y?En:r>>>0)?(n=Ac(n),n&&("string"==typeof t||null!=t&&!dh(t))&&!(t=lu(t))&&B(n)?mu(V(n),0,r):n.split(t,r)):[]}function pa(n,t,r){return n=Ac(n),r=null==r?0:Xr(bc(r),0,n.length),t=lu(t),n.slice(r,r+t.length)==t}function _a(n,t,r){var e=q.templateSettings;r&&Ei(n,t,r)&&(t=Y),n=Ac(n),t=kh({},t,e,ii);var u,i,o=kh({},t.imports,e.imports,ii),f=Tc(o),c=z(o,f),a=0,l=t.interpolate||Pt,s="__p += '",h=il((t.escape||Pt).source+"|"+l.source+"|"+(l===mt?Ut:Pt).source+"|"+(t.evaluate||Pt).source+"|$","g"),p="//# sourceURL="+(pl.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++_r+"]")+"\n";n.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(qt,C),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),a=c+t.length,t}),s+="';\n";var _=pl.call(t,"variable")&&t.variable;_||(s="with (obj) {\n"+s+"\n}\n"),s=(i?s.replace(ht,""):s).replace(pt,"$1").replace(_t,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var v=Vh(function(){return rl(f,p+"return "+s).apply(Y,c)});if(v.source=s,Jf(v))throw v;return v}function va(n){return Ac(n).toLowerCase()}function ga(n){return Ac(n).toUpperCase()}function ya(n,t,r){if((n=Ac(n))&&(r||t===Y))return n.replace(It,"");if(!n||!(t=lu(t)))return n;var e=V(n),u=V(t);return mu(e,S(e,u),L(e,u)+1).join("")}function da(n,t,r){if((n=Ac(n))&&(r||t===Y))return n.replace(zt,"");if(!n||!(t=lu(t)))return n;var e=V(n);return mu(e,0,L(e,V(t))+1).join("")}function ba(n,t,r){if((n=Ac(n))&&(r||t===Y))return n.replace(Rt,"");if(!n||!(t=lu(t)))return n;var e=V(n);return mu(e,S(e,V(t))).join("")}function wa(n,t){var r=wn,e=mn;if(tc(t)){var u="separator"in t?t.separator:u;r="length"in t?bc(t.length):r,e="omission"in t?lu(t.omission):e}n=Ac(n);var i=n.length;if(B(n)){var o=V(n);i=o.length}if(r>=i)return n;var f=r-K(e);if(f<1)return e;var c=o?mu(o,0,f).join(""):n.slice(0,f);if(u===Y)return c+e;if(o&&(f+=c.length-f),dh(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=il(u.source,Ac(Bt.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;c=c.slice(0,s===Y?f:s)}}else if(n.indexOf(lu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function ma(n){return n=Ac(n),n&&yt.test(n)?n.replace(vt,Mr):n}function xa(n,t,r){return n=Ac(n),t=r?Y:t,t===Y?T(n)?J(n):_(n):n.match(t)||[]}function ja(t){var r=null==t?0:t.length,e=gi();return t=r?c(t,function(n){if("function"!=typeof n[1])throw new fl(nn);return[e(n[0]),n[1]]}):[],Xe(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})}function Aa(n){return te(ne(n,un))}function ka(n){return function(){return n}}function Oa(n,t){return null==n||n!==n?t:n}function Ia(n){return n}function Ra(n){return Ce("function"==typeof n?n:ne(n,un))}function za(n){return De(ne(n,un))}function Ea(n,t){return Me(n,ne(t,un))}function Sa(n,t,e){var u=Tc(t),i=he(t,u);null!=e||tc(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=he(t,Tc(t)));var o=!(tc(e)&&"chain"in e&&!e.chain),f=Qf(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Lu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function La(){return kr._===this&&(kr._=dl),this}function Wa(){}function Ca(n){return n=bc(n),Xe(function(t){return Pe(t,n)})}function Ua(n){return Si(n)?m(Gi(n)):Ve(n)}function Ba(n){return function(t){return null==n?Y:pe(n,t)}}function Ta(){return[]}function $a(){return!1}function Da(){return{}}function Ma(){return""}function Na(){return!0}function Fa(n,t){if((n=bc(n))<1||n>In)return[];var r=En,e=Pl(n,En);t=gi(t),n-=En;for(var u=O(e,t);++r<n;)t(r);return u}function Pa(n){return ph(n)?c(n,Gi):pc(n)?[n]:Lu(Rs(Ac(n)))}function qa(n){var t=++_l;return Ac(n)+t}function Za(n){return n&&n.length?oe(n,Ia,ge):Y}function Ka(n,t){return n&&n.length?oe(n,gi(t,2),ge):Y}function Va(n){return w(n,Ia)}function Ga(n,t){return w(n,gi(t,2))}function Ha(n){return n&&n.length?oe(n,Ia,Te):Y}function Ja(n,t){return n&&n.length?oe(n,gi(t,2),Te):Y}function Ya(n){return n&&n.length?k(n,Ia):0}function Qa(n,t){return n&&n.length?k(n,gi(t,2)):0}x=null==x?kr:Nr.defaults(kr.Object(),x,Nr.pick(kr,pr));var Xa=x.Array,nl=x.Date,tl=x.Error,rl=x.Function,el=x.Math,ul=x.Object,il=x.RegExp,ol=x.String,fl=x.TypeError,cl=Xa.prototype,al=rl.prototype,ll=ul.prototype,sl=x["__core-js_shared__"],hl=al.toString,pl=ll.hasOwnProperty,_l=0,vl=function(){var n=/[^.]+$/.exec(sl&&sl.keys&&sl.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),gl=ll.toString,yl=hl.call(ul),dl=kr._,bl=il("^"+hl.call(pl).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wl=Rr?x.Buffer:Y,ml=x.Symbol,xl=x.Uint8Array,jl=wl?wl.allocUnsafe:Y,Al=M(ul.getPrototypeOf,ul),kl=ul.create,Ol=ll.propertyIsEnumerable,Il=cl.splice,Rl=ml?ml.isConcatSpreadable:Y,zl=ml?ml.iterator:Y,El=ml?ml.toStringTag:Y,Sl=function(){try{var n=bi(ul,"defineProperty");return n({},"",{}),n}catch(n){}}(),Ll=x.clearTimeout!==kr.clearTimeout&&x.clearTimeout,Wl=nl&&nl.now!==kr.Date.now&&nl.now,Cl=x.setTimeout!==kr.setTimeout&&x.setTimeout,Ul=el.ceil,Bl=el.floor,Tl=ul.getOwnPropertySymbols,$l=wl?wl.isBuffer:Y,Dl=x.isFinite,Ml=cl.join,Nl=M(ul.keys,ul),Fl=el.max,Pl=el.min,ql=nl.now,Zl=x.parseInt,Kl=el.random,Vl=cl.reverse,Gl=bi(x,"DataView"),Hl=bi(x,"Map"),Jl=bi(x,"Promise"),Yl=bi(x,"Set"),Ql=bi(x,"WeakMap"),Xl=bi(ul,"create"),ns=Ql&&new Ql,ts={},rs=Hi(Gl),es=Hi(Hl),us=Hi(Jl),is=Hi(Yl),os=Hi(Ql),fs=ml?ml.prototype:Y,cs=fs?fs.valueOf:Y,as=fs?fs.toString:Y,ls=function(){function n(){}return function(t){if(!tc(t))return{};if(kl)return kl(t);n.prototype=t;var r=new n;return n.prototype=Y,r}}();q.templateSettings={escape:bt,evaluate:wt,interpolate:mt,variable:"",imports:{_:q}},q.prototype=G.prototype,q.prototype.constructor=q,H.prototype=ls(G.prototype),H.prototype.constructor=H,Wt.prototype=ls(G.prototype),Wt.prototype.constructor=Wt,Gt.prototype.clear=Ht,Gt.prototype.delete=Jt,Gt.prototype.get=Yt,Gt.prototype.has=Qt,Gt.prototype.set=Xt,nr.prototype.clear=tr,nr.prototype.delete=rr,nr.prototype.get=er,nr.prototype.has=ur,nr.prototype.set=ir,or.prototype.clear=ar,or.prototype.delete=lr,or.prototype.get=sr,or.prototype.has=hr,or.prototype.set=yr,dr.prototype.add=dr.prototype.push=br,dr.prototype.has=wr,jr.prototype.clear=Ar,jr.prototype.delete=Or,jr.prototype.get=Ir,jr.prototype.has=zr,jr.prototype.set=Er;var ss=$u(le),hs=$u(se,!0),ps=Du(),_s=Du(!0),vs=ns?function(n,t){return ns.set(n,t),n}:Ia,gs=Sl?function(n,t){return Sl(n,"toString",{configurable:!0,enumerable:!1,value:ka(t),writable:!0})}:Ia,ys=Xe,ds=Ll||function(n){return kr.clearTimeout(n)},bs=Yl&&1/F(new Yl([,-0]))[1]==On?function(n){return new Yl(n)}:Wa,ws=ns?function(n){return ns.get(n)}:Wa,ms=Tl?function(n){return null==n?[]:(n=ul(n),i(Tl(n),function(t){return Ol.call(n,t)}))}:Ta,xs=Tl?function(n){for(var t=[];n;)a(t,ms(n)),n=Al(n);return t}:Ta,js=ve;(Gl&&js(new Gl(new ArrayBuffer(1)))!=rt||Hl&&js(new Hl)!=Pn||Jl&&"[object Promise]"!=js(Jl.resolve())||Yl&&js(new Yl)!=Hn||Ql&&js(new Ql)!=Xn)&&(js=function(n){var t=ve(n),r=t==Kn?n.constructor:Y,e=r?Hi(r):"";if(e)switch(e){case rs:return rt;case es:return Pn;case us:return"[object Promise]";case is:return Hn;case os:return Xn}return t});var As=sl?Qf:$a,ks=Ki(vs),Os=Cl||function(n,t){return kr.setTimeout(n,t)},Is=Ki(gs),Rs=function(n){var t=Rf(n,function(n){return r.size===rn&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(At,function(n,r,e,u){t.push(e?u.replace(Ct,"$1"):r||n)}),t}),zs=Xe(function(n,t){return qf(n)?ue(n,ae(t,1,qf,!0)):[]}),Es=Xe(function(n,t){var r=go(t);return qf(r)&&(r=Y),qf(n)?ue(n,ae(t,1,qf,!0),gi(r,2)):[]}),Ss=Xe(function(n,t){var r=go(t);return qf(r)&&(r=Y),qf(n)?ue(n,ae(t,1,qf,!0),Y,r):[]}),Ls=Xe(function(n){var t=c(n,du);return t.length&&t[0]===n[0]?we(t):[]}),Ws=Xe(function(n){var t=go(n),r=c(n,du);return t===go(r)?t=Y:r.pop(),r.length&&r[0]===n[0]?we(r,gi(t,2)):[]}),Cs=Xe(function(n){var t=go(n),r=c(n,du);return t="function"==typeof t?t:Y,t&&r.pop(),r.length&&r[0]===n[0]?we(r,Y,t):[]}),Us=Xe(wo),Bs=si(function(n,t){var r=null==n?0:n.length,e=Qr(n,t);return He(n,c(t,function(n){return zi(n,r)?+n:n}).sort(Ru)),e}),Ts=Xe(function(n){return su(ae(n,1,qf,!0))}),$s=Xe(function(n){var t=go(n);return qf(t)&&(t=Y),su(ae(n,1,qf,!0),gi(t,2))}),Ds=Xe(function(n){var t=go(n);return t="function"==typeof t?t:Y,su(ae(n,1,qf,!0),Y,t)}),Ms=Xe(function(n,t){return qf(n)?ue(n,t):[]}),Ns=Xe(function(n){return gu(i(n,qf))}),Fs=Xe(function(n){var t=go(n);return qf(t)&&(t=Y),gu(i(n,qf),gi(t,2))}),Ps=Xe(function(n){var t=go(n);return t="function"==typeof t?t:Y,gu(i(n,qf),Y,t)}),qs=Xe(Fo),Zs=Xe(function(n){var t=n.length,r=t>1?n[t-1]:Y;return r="function"==typeof r?(n.pop(),r):Y,Po(n,r)}),Ks=si(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return Qr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Wt&&zi(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:Go,args:[u],thisArg:Y}),new H(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(Y),n})):this.thru(u)}),Vs=Bu(function(n,t,r){pl.call(n,r)?++n[r]:Yr(n,r,1)}),Gs=Zu(oo),Hs=Zu(fo),Js=Bu(function(n,t,r){pl.call(n,r)?n[r].push(t):Yr(n,r,[t])}),Ys=Xe(function(t,r,e){var u=-1,i="function"==typeof r,o=Pf(t)?Xa(t.length):[];return ss(t,function(t){o[++u]=i?n(r,t,e):xe(t,r,e)}),o}),Qs=Bu(function(n,t,r){Yr(n,r,t)}),Xs=Bu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),nh=Xe(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ei(n,t[0],t[1])?t=[]:r>2&&Ei(t[0],t[1],t[2])&&(t=[t[0]]),qe(n,ae(t,1),[])}),th=Wl||function(){return kr.Date.now()},rh=Xe(function(n,t,r){var e=ln;if(r.length){var u=N(r,vi(rh));e|=vn}return ui(n,e,t,r,u)}),eh=Xe(function(n,t,r){var e=ln|sn;if(r.length){var u=N(r,vi(eh));e|=vn}return ui(t,e,n,r,u)}),uh=Xe(function(n,t){return ee(n,1,t)}),ih=Xe(function(n,t,r){return ee(n,mc(t)||0,r)});Rf.Cache=or;var oh=ys(function(t,r){r=1==r.length&&ph(r[0])?c(r[0],R(gi())):c(ae(r,1),R(gi()));var e=r.length;return Xe(function(u){for(var i=-1,o=Pl(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),fh=Xe(function(n,t){var r=N(t,vi(fh));return ui(n,vn,Y,t,r)}),ch=Xe(function(n,t){var r=N(t,vi(ch));return ui(n,gn,Y,t,r)}),ah=si(function(n,t){return ui(n,dn,Y,Y,Y,t)}),lh=ni(ge),sh=ni(function(n,t){return n>=t}),hh=je(function(){return arguments}())?je:function(n){return rc(n)&&pl.call(n,"callee")&&!Ol.call(n,"callee")},ph=Xa.isArray,_h=Sr?R(Sr):Ae,vh=$l||$a,gh=Lr?R(Lr):ke,yh=Wr?R(Wr):Re,dh=Cr?R(Cr):Se,bh=Ur?R(Ur):Le,wh=Br?R(Br):We,mh=ni(Te),xh=ni(function(n,t){return n<=t}),jh=Tu(function(n,t){if(Ui(t)||Pf(t))return void Wu(t,Tc(t),n);for(var r in t)pl.call(t,r)&&Kr(n,r,t[r])}),Ah=Tu(function(n,t){Wu(t,$c(t),n)}),kh=Tu(function(n,t,r,e){Wu(t,$c(t),n,e)}),Oh=Tu(function(n,t,r,e){Wu(t,Tc(t),n,e)}),Ih=si(Qr),Rh=Xe(function(n,t){n=ul(n);var r=-1,e=t.length,u=e>2?t[2]:Y;for(u&&Ei(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=$c(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===Y||Ff(l,ll[a])&&!pl.call(n,a))&&(n[a]=i[a])}return n}),zh=Xe(function(t){return t.push(Y,oi),n(Ch,Y,t)}),Eh=Gu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gl.call(t)),n[t]=r},ka(Ia)),Sh=Gu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gl.call(t)),pl.call(n,t)?n[t].push(r):n[t]=[r]},gi),Lh=Xe(xe),Wh=Tu(function(n,t,r){Ne(n,t,r)}),Ch=Tu(function(n,t,r,e){Ne(n,t,r,e)}),Uh=si(function(n,t){var r={};if(null==n)return r;var e=!1;t=c(t,function(t){return t=wu(t,n),e||(e=t.length>1),t}),Wu(n,pi(n),r),e&&(r=ne(r,un|on|fn,fi));for(var u=t.length;u--;)hu(r,t[u]);return r}),Bh=si(function(n,t){return null==n?{}:Ze(n,t)}),Th=ei(Tc),$h=ei($c),Dh=Fu(function(n,t,r){return t=t.toLowerCase(),n+(r?ta(t):t)}),Mh=Fu(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Nh=Fu(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Fh=Nu("toLowerCase"),Ph=Fu(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),qh=Fu(function(n,t,r){return n+(r?" ":"")+Kh(t)}),Zh=Fu(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Kh=Nu("toUpperCase"),Vh=Xe(function(t,r){try{return n(t,Y,r)}catch(n){return Jf(n)?n:new tl(n)}}),Gh=si(function(n,t){return r(t,function(t){t=Gi(t),Yr(n,t,rh(n[t],n))}),n}),Hh=Ku(),Jh=Ku(!0),Yh=Xe(function(n,t){return function(r){return xe(r,n,t)}}),Qh=Xe(function(n,t){return function(r){return xe(n,r,t)}
}),Xh=Ju(c),np=Ju(u),tp=Ju(h),rp=Xu(),ep=Xu(!0),up=Hu(function(n,t){return n+t},0),ip=ri("ceil"),op=Hu(function(n,t){return n/t},1),fp=ri("floor"),cp=Hu(function(n,t){return n*t},1),ap=ri("round"),lp=Hu(function(n,t){return n-t},0);return q.after=mf,q.ary=xf,q.assign=jh,q.assignIn=Ah,q.assignInWith=kh,q.assignWith=Oh,q.at=Ih,q.before=jf,q.bind=rh,q.bindAll=Gh,q.bindKey=eh,q.castArray=Bf,q.chain=Ko,q.chunk=Qi,q.compact=Xi,q.concat=no,q.cond=ja,q.conforms=Aa,q.constant=ka,q.countBy=Vs,q.create=kc,q.curry=Af,q.curryRight=kf,q.debounce=Of,q.defaults=Rh,q.defaultsDeep=zh,q.defer=uh,q.delay=ih,q.difference=zs,q.differenceBy=Es,q.differenceWith=Ss,q.drop=to,q.dropRight=ro,q.dropRightWhile=eo,q.dropWhile=uo,q.fill=io,q.filter=ef,q.flatMap=uf,q.flatMapDeep=of,q.flatMapDepth=ff,q.flatten=co,q.flattenDeep=ao,q.flattenDepth=lo,q.flip=If,q.flow=Hh,q.flowRight=Jh,q.fromPairs=so,q.functions=Lc,q.functionsIn=Wc,q.groupBy=Js,q.initial=_o,q.intersection=Ls,q.intersectionBy=Ws,q.intersectionWith=Cs,q.invert=Eh,q.invertBy=Sh,q.invokeMap=Ys,q.iteratee=Ra,q.keyBy=Qs,q.keys=Tc,q.keysIn=$c,q.map=sf,q.mapKeys=Dc,q.mapValues=Mc,q.matches=za,q.matchesProperty=Ea,q.memoize=Rf,q.merge=Wh,q.mergeWith=Ch,q.method=Yh,q.methodOf=Qh,q.mixin=Sa,q.negate=zf,q.nthArg=Ca,q.omit=Uh,q.omitBy=Nc,q.once=Ef,q.orderBy=hf,q.over=Xh,q.overArgs=oh,q.overEvery=np,q.overSome=tp,q.partial=fh,q.partialRight=ch,q.partition=Xs,q.pick=Bh,q.pickBy=Fc,q.property=Ua,q.propertyOf=Ba,q.pull=Us,q.pullAll=wo,q.pullAllBy=mo,q.pullAllWith=xo,q.pullAt=Bs,q.range=rp,q.rangeRight=ep,q.rearg=ah,q.reject=vf,q.remove=jo,q.rest=Sf,q.reverse=Ao,q.sampleSize=yf,q.set=qc,q.setWith=Zc,q.shuffle=df,q.slice=ko,q.sortBy=nh,q.sortedUniq=Lo,q.sortedUniqBy=Wo,q.split=ha,q.spread=Lf,q.tail=Co,q.take=Uo,q.takeRight=Bo,q.takeRightWhile=To,q.takeWhile=$o,q.tap=Vo,q.throttle=Wf,q.thru=Go,q.toArray=yc,q.toPairs=Th,q.toPairsIn=$h,q.toPath=Pa,q.toPlainObject=xc,q.transform=Kc,q.unary=Cf,q.union=Ts,q.unionBy=$s,q.unionWith=Ds,q.uniq=Do,q.uniqBy=Mo,q.uniqWith=No,q.unset=Vc,q.unzip=Fo,q.unzipWith=Po,q.update=Gc,q.updateWith=Hc,q.values=Jc,q.valuesIn=Yc,q.without=Ms,q.words=xa,q.wrap=Uf,q.xor=Ns,q.xorBy=Fs,q.xorWith=Ps,q.zip=qs,q.zipObject=qo,q.zipObjectDeep=Zo,q.zipWith=Zs,q.entries=Th,q.entriesIn=$h,q.extend=Ah,q.extendWith=kh,Sa(q,q),q.add=up,q.attempt=Vh,q.camelCase=Dh,q.capitalize=ta,q.ceil=ip,q.clamp=Qc,q.clone=Tf,q.cloneDeep=Df,q.cloneDeepWith=Mf,q.cloneWith=$f,q.conformsTo=Nf,q.deburr=ra,q.defaultTo=Oa,q.divide=op,q.endsWith=ea,q.eq=Ff,q.escape=ua,q.escapeRegExp=ia,q.every=rf,q.find=Gs,q.findIndex=oo,q.findKey=Oc,q.findLast=Hs,q.findLastIndex=fo,q.findLastKey=Ic,q.floor=fp,q.forEach=cf,q.forEachRight=af,q.forIn=Rc,q.forInRight=zc,q.forOwn=Ec,q.forOwnRight=Sc,q.get=Cc,q.gt=lh,q.gte=sh,q.has=Uc,q.hasIn=Bc,q.head=ho,q.identity=Ia,q.includes=lf,q.indexOf=po,q.inRange=Xc,q.invoke=Lh,q.isArguments=hh,q.isArray=ph,q.isArrayBuffer=_h,q.isArrayLike=Pf,q.isArrayLikeObject=qf,q.isBoolean=Zf,q.isBuffer=vh,q.isDate=gh,q.isElement=Kf,q.isEmpty=Vf,q.isEqual=Gf,q.isEqualWith=Hf,q.isError=Jf,q.isFinite=Yf,q.isFunction=Qf,q.isInteger=Xf,q.isLength=nc,q.isMap=yh,q.isMatch=ec,q.isMatchWith=uc,q.isNaN=ic,q.isNative=oc,q.isNil=cc,q.isNull=fc,q.isNumber=ac,q.isObject=tc,q.isObjectLike=rc,q.isPlainObject=lc,q.isRegExp=dh,q.isSafeInteger=sc,q.isSet=bh,q.isString=hc,q.isSymbol=pc,q.isTypedArray=wh,q.isUndefined=_c,q.isWeakMap=vc,q.isWeakSet=gc,q.join=vo,q.kebabCase=Mh,q.last=go,q.lastIndexOf=yo,q.lowerCase=Nh,q.lowerFirst=Fh,q.lt=mh,q.lte=xh,q.max=Za,q.maxBy=Ka,q.mean=Va,q.meanBy=Ga,q.min=Ha,q.minBy=Ja,q.stubArray=Ta,q.stubFalse=$a,q.stubObject=Da,q.stubString=Ma,q.stubTrue=Na,q.multiply=cp,q.nth=bo,q.noConflict=La,q.noop=Wa,q.now=th,q.pad=oa,q.padEnd=fa,q.padStart=ca,q.parseInt=aa,q.random=na,q.reduce=pf,q.reduceRight=_f,q.repeat=la,q.replace=sa,q.result=Pc,q.round=ap,q.runInContext=p,q.sample=gf,q.size=bf,q.snakeCase=Ph,q.some=wf,q.sortedIndex=Oo,q.sortedIndexBy=Io,q.sortedIndexOf=Ro,q.sortedLastIndex=zo,q.sortedLastIndexBy=Eo,q.sortedLastIndexOf=So,q.startCase=qh,q.startsWith=pa,q.subtract=lp,q.sum=Ya,q.sumBy=Qa,q.template=_a,q.times=Fa,q.toFinite=dc,q.toInteger=bc,q.toLength=wc,q.toLower=va,q.toNumber=mc,q.toSafeInteger=jc,q.toString=Ac,q.toUpper=ga,q.trim=ya,q.trimEnd=da,q.trimStart=ba,q.truncate=wa,q.unescape=ma,q.uniqueId=qa,q.upperCase=Zh,q.upperFirst=Kh,q.each=cf,q.eachRight=af,q.first=ho,Sa(q,function(){var n={};return le(q,function(t,r){pl.call(q.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),q.VERSION="4.17.15",r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){q[n].placeholder=q}),r(["drop","take"],function(n,t){Wt.prototype[n]=function(r){r=r===Y?1:Fl(bc(r),0);var e=this.__filtered__&&!t?new Wt(this):this.clone();return e.__filtered__?e.__takeCount__=Pl(r,e.__takeCount__):e.__views__.push({size:Pl(r,En),type:n+(e.__dir__<0?"Right":"")}),e},Wt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),r(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==An||3==r;Wt.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:gi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r(["head","last"],function(n,t){var r="take"+(t?"Right":"");Wt.prototype[n]=function(){return this[r](1).value()[0]}}),r(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Wt.prototype[n]=function(){return this.__filtered__?new Wt(this):this[r](1)}}),Wt.prototype.compact=function(){return this.filter(Ia)},Wt.prototype.find=function(n){return this.filter(n).head()},Wt.prototype.findLast=function(n){return this.reverse().find(n)},Wt.prototype.invokeMap=Xe(function(n,t){return"function"==typeof n?new Wt(this):this.map(function(r){return xe(r,n,t)})}),Wt.prototype.reject=function(n){return this.filter(zf(gi(n)))},Wt.prototype.slice=function(n,t){n=bc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Wt(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==Y&&(t=bc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Wt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Wt.prototype.toArray=function(){return this.take(En)},le(Wt.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=q[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(q.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Wt,c=o[0],l=f||ph(t),s=function(n){var t=u.apply(q,a([n],o));return e&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&l){t=v?t:new Wt(this);var g=n.apply(t,o);return g.__actions__.push({func:Go,args:[s],thisArg:Y}),new H(g,h)}return _&&v?n.apply(this,o):(g=this.thru(s),_?e?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(n){var t=cl[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);q.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(ph(u)?u:[],n)}return this[r](function(r){return t.apply(ph(r)?r:[],n)})}}),le(Wt.prototype,function(n,t){var r=q[t];if(r){var e=r.name+"";pl.call(ts,e)||(ts[e]=[]),ts[e].push({name:t,func:r})}}),ts[Vu(Y,sn).name]=[{name:"wrapper",func:Y}],Wt.prototype.clone=Zt,Wt.prototype.reverse=Kt,Wt.prototype.value=Vt,q.prototype.at=Ks,q.prototype.chain=Ho,q.prototype.commit=Jo,q.prototype.next=Yo,q.prototype.plant=Xo,q.prototype.reverse=nf,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=tf,q.prototype.first=q.prototype.head,zl&&(q.prototype[zl]=Qo),q}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(kr._=Nr,define(function(){return Nr})):Ir?((Ir.exports=Nr)._=Nr,Or._=Nr):kr._=Nr}).call(this); 
 			}); 
		define("npm/mini-program-utils/dist/f2/adapterF2.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _f=require("./../libs/f2.min.js"),_f2=_interopRequireDefault(_f);_f2.default.Util.addEventListener=function(e,t,r){e.addListener(t,r)},_f2.default.Util.removeEventListener=function(e,t,r){e.removeListener(t,r)},_f2.default.Util.createEvent=function(e,t){var r=e.type,n=0,u=0,f=e.touches;return f&&f.length>0&&(n=f[0].x,u=f[0].y),{type:r,chart:t,x:n,y:u}},exports.default=_f2.default; 
 			}); 
		define("npm/mini-program-utils/dist/f2/renderer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_wolfy87Eventemitter=require("./../../../wolfy87-eventemitter/EventEmitter.js"),_wolfy87Eventemitter2=_interopRequireDefault(_wolfy87Eventemitter),CAPITALIZED_ATTRS_MAP={fontSize:"FontSize",opacity:"GlobalAlpha",lineDash:"LineDash",textAlign:"TextAlign"},TEXT_ALIGN_MAP={start:"left",end:"right"},AdapterCanvas=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=n;return r.ctx=e,r.style={},r._initContext(e),n}return _inherits(t,e),_createClass(t,[{key:"getContext",value:function(e){if("2d"===e)return this.ctx}},{key:"_initContext",value:function(e){Object.keys(CAPITALIZED_ATTRS_MAP).map(function(t){Object.defineProperty(e,t,{set:function(n){"textAlign"===t&&(n=TEXT_ALIGN_MAP[n]?TEXT_ALIGN_MAP[n]:n);var r="set"+CAPITALIZED_ATTRS_MAP[t];e[r](n)}})})}}]),t}(_wolfy87Eventemitter2.default);exports.default=AdapterCanvas; 
 			}); 
		define("npm/mini-program-utils/dist/libs/f2.min.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports.F2=e():t.F2=e()}(void 0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=88)}([function(t,e,n){function r(t,e,n){n=n||0;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&u.isPlainObject(o)?(u.isPlainObject(t[i])||(t[i]={}),n<s?r(t[i],e[i],n+1):t[i]=e[i]):u.isArray(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=e[i])}}function i(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}var o=n(29),a=Object.prototype.toString,s=5,u=void 0;(u={upperFirst:function(t){return(t+="").charAt(0).toUpperCase()+t.substring(1)},lowerFirst:function(t){return(t+="").charAt(0).toLowerCase()+t.substring(1)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isFunction:function(t){return"function"==typeof t},isArray:"isArray"in Array?Array.isArray:function(t){return"[object Array]"===a.call(t)},isDate:function(t){return"[object Date]"===a.call(t)},isNil:function(t){return void 0===t||null===t},isObject:"[object Object]"===a.call(null)?function(t){return null!==t&&void 0!==t&&"[object Object]"===a.call(t)&&void 0===t.ownerDocument}:function(t){return"[object Object]"===a.call(t)},isPlainObject:function(t){if(!u.isObject(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},deepMix:function(){for(var t=new Array(arguments.length),e=t.length,n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],o=1;o<e;o++)r(i,t[o]);return i},mix:function(t,e,n,r){return e&&i(t,e),n&&i(t,n),r&&i(t,r),t},indexOf:function(t,e){return t.indexOf(e)},each:function(t,e){if(t)if(t.length)for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},fixedBase:function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},wrapBehavior:function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},getWrapBehavior:function(t,e){return t["_wrap_"+e]},parsePadding:function(t){var e=void 0,n=void 0,r=void 0,i=void 0;return u.isNumber(t)||u.isString(t)?e=r=i=n=t:u.isArray(t)&&(e=t[0],n=u.isNil(t[1])?t[0]:t[1],r=u.isNil(t[2])?t[0]:t[2],i=u.isNil(t[3])?n:t[3]),[e,n,r,i]}}).Array={merge:function(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e},values:function(t,e){for(var n=[],r={},i=0,o=t.length;i<o;i++){var a=t[i][e];u.isNil(a)||(u.isArray(a)?u.each(a,function(t){r[t]||(n.push(t),r[t]=!0)}):r[a]||(n.push(a),r[a]=!0))}return n},firstValue:function(t,e){for(var n=null,r=0,i=t.length;r<i;r++){var o=t[r][e];if(!u.isNil(o)){n=u.isArray(o)?o[0]:o;break}}return n},group:function(t,e){if(!e)return[t];var n=u.Array.groupToMap(t,e),r=[];for(var i in n)r.push(n[i]);return r},groupToMap:function(t,e){if(!e)return{0:t};if(!u.isFunction(e)){var n=u.isArray(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}for(var r={},i=0,o=t.length;i<o;i++){var a=t[i],s=e(a);r[s]?r[s].push(a):r[s]=[a]}return r},remove:function(t,e){if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},u.mix(u,o),t.exports=u},function(t,e,n){var r=n(28),i=n(0),o={version:"3.1.21",trackable:!0,scales:{nice:!0},widthRatio:{column:.5,rose:.999999,multiplePie:.75,dodgeMargin:0},lineDash:[4,4]};o.setTheme=function(t){i.deepMix(this,t)},o.setTheme(r),t.exports=o},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){this._attrs={zIndex:0,visible:!0,destroyed:!1,isShape:!0,attrs:{}}},e.prototype.drawInner=function(t){var e=this,n=e.get("attrs");e.createPath(t);var r=t.globalAlpha;if(e.hasFill()){var i=n.fillOpacity;a.isNil(i)||1===i?t.fill():(t.globalAlpha=i,t.fill(),t.globalAlpha=r)}if(e.hasStroke()&&n.lineWidth>0){var o=n.strokeOpacity;a.isNil(o)||1===o||(t.globalAlpha=o),t.stroke()}},e.prototype.getBBox=function(){var t=this._attrs.bbox;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._attrs.bbox=t),t},e.prototype.calculateBox=function(){return null},e.prototype.createPath=function(){},e}(n(16));t.exports=s},function(t,e){t.exports={create:function(){return[0,0]},length:function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},normalize:function(t,e){var n=this.length(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},direction:function(t,e){return t[0]*e[1]-e[0]*t[1]},angle:function(t,e){var n=this.dot(t,e)/(this.length(t)*this.length(e));return Math.acos(n)},angleTo:function(t,e,n){var r=this.angle(t,e),i=this.direction(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},zero:function(t){return 0===t[0]&&0===t[1]},distance:function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},clone:function(t){return[t[0],t[1]]},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},transformMat2d:function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return s.isArray(t)?t:s.isString(t)?t.split("*"):[t]}var s=n(0),u=n(17),c=["color","size","shape"],l=n(1),f=n(33),p=n(5),h=n(11),d=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getDefaultCfg=function(){return{type:null,data:null,attrs:{},scales:{},container:null,styleOptions:null,chart:null,shapeType:"",generatePoints:!1,attrOptions:{},sortable:!1,startOnZero:!0,connectNulls:!1}},e.prototype.init=function(){var t=this;t._initAttrs();var e=t._processData();t.get("adjust")&&t._adjustData(e),t.set("dataArray",e)},e.prototype._getGroupScales=function(){var t=this,e=[];return s.each(c,function(n){var r=t.getAttr(n);if(r){var i=r.scales;s.each(i,function(t){t&&t.isCategory&&-1===e.indexOf(t)&&e.push(t)})}}),e},e.prototype._groupData=function(t){var e=this._getGroupScales();if(e.length){var n=[];return s.each(e,function(t){n.push(t.field)}),s.Array.group(t,n)}return[t]},e.prototype._setAttrOptions=function(t,e){this.get("attrOptions")[t]=e},e.prototype._createAttrOption=function(t,e,n,r){var i={};i.field=e,n?s.isFunction(n)?i.callback=n:i.values=n:i.values=r,this._setAttrOptions(t,i)},e.prototype._initAttrs=function(){var t=this,e=t.get("attrs"),n=t.get("attrOptions"),r=t.get("coord");for(var i in n)if(n.hasOwnProperty(i)){var o=n[i],u=s.upperFirst(i),c=a(o.field);"position"===i&&(o.coord=r);for(var l=[],p=0,h=c.length;p<h;p++){var d=c[p],y=t._createScale(d);l.push(y)}if("position"===i){var g=l[1];"polar"===r.type&&r.transposed&&t.hasAdjust("stack")&&g.values.length&&g.change({nice:!1,min:0,max:Math.max.apply(null,g.values)})}o.scales=l;var v=new f[u](o);e[i]=v}},e.prototype._createScale=function(t){var e=this.get("scales"),n=e[t];return n||(n=this.get("chart").createScale(t),e[t]=n),n},e.prototype._processData=function(){for(var t=this,e=this.get("data"),n=[],r=this._groupData(e),i=0,o=r.length;i<o;i++){var a=r[i],s=t._saveOrigin(a);this.hasAdjust("dodge")&&t._numberic(s),n.push(s)}return n},e.prototype._saveOrigin=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o={};for(var a in i)o[a]=i[a];o._origin=i,e.push(o)}return e},e.prototype._numberic=function(t){for(var e=this.getAttr("position").scales,n=0,r=t.length;n<r;n++)for(var i=t[n],o=Math.min(2,e.length),a=0;a<o;a++){var s=e[a];if(s.isCategory){var u=s.field;i[u]=s.translate(i[u])}}},e.prototype._adjustData=function(t){var e=this,n=e.get("adjust");if(n){var r=s.upperFirst(n.type);if(!h[r])throw new Error("not support such adjust : "+n);var i=e.getXScale(),o=e.getYScale(),a=s.mix({xField:i.field,yField:o.field},n);new h[r](a).processAdjust(t),"Stack"===r&&e._updateStackRange(o.field,o,t)}},e.prototype._updateStackRange=function(t,e,n){for(var r=s.Array.merge(n),i=e.min,o=e.max,a=0,u=r.length;a<u;a++){var c=r[a],l=Math.min.apply(null,c[t]),f=Math.max.apply(null,c[t]);l<i&&(i=l),f>o&&(o=f)}(i<e.min||o>e.max)&&e.change({min:i,max:o})},e.prototype._sort=function(t){var e=this,n=e.getXScale(),r=n.field;"identity"!==n.type&&n.values.length>1&&s.each(t,function(t){t.sort(function(t,e){return n.translate(t._origin[r])-n.translate(e._origin[r])})}),e.set("hasSorted",!0),e.set("dataArray",t)},e.prototype.paint=function(){var t=this,e=t.get("dataArray"),n=[],r=t.getShapeFactory();r.setCoord(t.get("coord")),t._beforeMapping(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];a.length&&(a=t._mapping(a),n.push(a),t.draw(a,r))}t.set("dataArray",n)},e.prototype.getShapeFactory=function(){var t=this.get("shapeFactory");if(!t){var e=this.get("shapeType");t=p.getShapeFactory(e),this.set("shapeFactory",t)}return t},e.prototype._mapping=function(t){for(var e=this,n=e.get("attrs"),r=e.getYScale().field,i=[],o=0,a=t.length;o<a;o++){var u=t[o],c={};c._origin=u._origin,c.points=u.points,c._originY=u[r];for(var l in n)if(n.hasOwnProperty(l)){var f=n[l],p=f.names,h=e._getAttrValues(f,u);if(p.length>1)for(var d=0,y=h.length;d<y;d++){var g=h[d];c[p[d]]=s.isArray(g)&&1===g.length?g[0]:g}else c[p[0]]=1===h.length?h[0]:h}i.push(c)}return i},e.prototype._getAttrValues=function(t,e){for(var n=t.scales,r=[],i=0,o=n.length;i<o;i++){var a=n[i],s=a.field;"identity"===a.type?r.push(a.value):r.push(e[s])}return t.mapping.apply(t,r)},e.prototype.getAttrValue=function(t,e){var n=this.getAttr(t),r=null;return n&&(r=this._getAttrValues(n,e)[0]),r},e.prototype._beforeMapping=function(t){var e=this;e.get("sortable")&&e._sort(t),e.get("generatePoints")&&s.each(t,function(t){e._generatePoints(t)})},e.prototype.isInCircle=function(){var t=this.get("coord");return t&&t.isPolar},e.prototype.getCallbackCfg=function(t,e,n){if(!t)return e;var r={},i=t.map(function(t){return n[t]});return s.each(e,function(t,e){s.isFunction(t)?r[e]=t.apply(null,i):r[e]=t}),r},e.prototype.getDrawCfg=function(t){var e=this,n=e.isInCircle(),r={origin:t,x:t.x,y:t.y,color:t.color,size:t.size,shape:t.shape,isInCircle:n,opacity:t.opacity},i=e.get("styleOptions");return i&&i.style&&(r.style=e.getCallbackCfg(i.fields,i.style,t._origin)),e.get("generatePoints")&&(r.points=t.points),n&&(r.center=e.get("coord").center),r},e.prototype.draw=function(t,e){var n=this,r=n.get("container"),i=n.getYScale();s.each(t,function(t,o){if(!i||!s.isNil(t._origin[i.field])){t.index=o;var a=n.getDrawCfg(t),u=t.shape;n.drawShape(u,t,a,r,e)}})},e.prototype.drawShape=function(t,e,n,r,i){var o=i.drawShape(t,n,r);o&&s.each([].concat(o),function(t){t.set("origin",e)})},e.prototype._generatePoints=function(t){for(var e=this,n=e.getShapeFactory(),r=e.getAttr("shape"),i=0,o=t.length;i<o;i++){var a=t[i],s=e.createShapePointsCfg(a),u=r?e._getAttrValues(r,a):null,c=n.getShapePoints(u,s);a.points=c}},e.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),r=this._normalizeValues(t[e.field],e),i=void 0;return i=n?this._normalizeValues(t[n.field],n):t.y?t.y:.1,{x:r,y:i,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return this.get("startOnZero")?n<=0&&e<=0?n:e>=0?e:0:e},e.prototype._normalizeValues=function(t,e){var n=[];if(s.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];n.push(e.scale(o))}else n=e.scale(t);return n},e.prototype.getAttr=function(t){return this.get("attrs")[t]},e.prototype.getXScale=function(){return this.getAttr("position").scales[0]},e.prototype.getYScale=function(){return this.getAttr("position").scales[1]},e.prototype.hasAdjust=function(t){return this.get("adjust")&&this.get("adjust").type===t},e.prototype._getSnap=function(t,e,n){var r=0,i=void 0,o=this.getYScale().field;if(this.hasAdjust("stack")&&t.field===o){i=[],n.forEach(function(t){i.push(t._originY)});for(var a=i.length;r<a&&!(i[0][0]>e);r++){if(i[i.length-1][1]<=e){r=i.length-1;break}if(i[r][0]<=e&&i[r][1]>e)break}}else{(i=t.values).sort(function(t,e){return t-e});for(var s=i.length;r<s&&!((i[0]+i[1])/2>e)&&!((i[r-1]+i[r])/2<=e&&(i[r+1]+i[r])/2>e);r++)if((i[i.length-2]+i[i.length-1])/2<=e){r=i.length-1;break}}return i[r]},e.prototype.getSnapRecords=function(t){var e=this,n=e.get("coord"),r=e.getXScale(),i=e.getYScale(),o=r.field,a=e.get("dataArray");this.get("hasSorted")||this._sort(a);var u=[],c=n.invertPoint(t),l=c.x;e.isInCircle()&&!n.transposed&&l>(1+r.rangeMax())/2&&(l=r.rangeMin());var f=r.invert(l);r.isCategory||(f=e._getSnap(r,f));var p=[];if(a.forEach(function(t){t.forEach(function(t){var n=s.isNil(t._origin)?t[o]:t._origin[o];e._isEqual(n,f,r)&&p.push(t)})}),this.hasAdjust("stack")&&n.isPolar&&n.transposed&&1===r.values.length){if(l>=0&&l<=1){var h=i.invert(c.y);h=e._getSnap(i,h,p),p.forEach(function(t){(s.isArray(h)?t._originY.toString()===h.toString():t._originY===h)&&u.push(t)})}}else u=p;return u},e.prototype._isEqual=function(t,e,n){return"timeCat"===n.type?n._toTimeStamp(t)===e:e===t},e.prototype.position=function(t){return this._setAttrOptions("position",{field:t}),this},e.prototype.color=function(t,e){return this._createAttrOption("color",t,e,l.colors),this},e.prototype.size=function(t,e){return this._createAttrOption("size",t,e,l.sizes),this},e.prototype.shape=function(t,e){var n=this.get("type"),r=l.shapes[n]||[];return this._createAttrOption("shape",t,e,r),this},e.prototype.style=function(t,e){var n=this.get("styleOptions");n||(n={},this.set("styleOptions",n)),s.isObject(t)&&(e=t,t=null);var r=void 0;return t&&(r=a(t)),n.fields=r,n.style=e,this},e.prototype.adjust=function(t){return s.isString(t)&&(t={type:t}),this.set("adjust",t),this},e.prototype.animate=function(t){return this.set("animateCfg",t),this},e.prototype.reset=function(){this.set("attrOptions",{}),this.set("adjust",null),this.clearInner()},e.prototype.clearInner=function(){var t=this.get("container");t&&(t.clear(),t.setMatrix([1,0,0,1,0,0])),t&&t.clear(),this.set("attrs",{}),this.set("groupScales",null),this.set("xDistance",null)},e.prototype.clear=function(){this.clearInner(),this.set("scales",{})},e.prototype.destroy=function(){this.clear(),t.prototype.destroy.call(this)},e}(u);t.exports=d},function(t,e,n){var r=n(0),i=n(1),o={},a={_coord:null,draw:function(t,e){this.drawShape&&this.drawShape(t,e)},setCoord:function(t){this._coord=t},parsePoint:function(t){var e=this._coord;return e.isPolar&&(1===t.x&&(t.x=.9999999),1===t.y&&(t.y=.9999999)),e.convertPoint(t)},parsePoints:function(t){if(!t)return!1;var e=this,n=[];return t.forEach(function(t){n.push(e.parsePoint(t))}),n}},s={defaultShapeType:null,setCoord:function(t){this._coord=t},getShape:function(t){var e=this;r.isArray(t)&&(t=t[0]);var n=e[t]||e[e.defaultShapeType];return n._coord=e._coord,n},getShapePoints:function(t,e){var n=this.getShape(t);return(n.getPoints||n.getShapePoints||this.getDefaultPoints)(e)},getDefaultPoints:function(){return[]},drawShape:function(t,e,n){var r=this.getShape(t);return e.color||(e.color=i.colors[0]),r.draw(e,n)}};o.registerFactory=function(t,e){var n=r.upperFirst(t),i=r.mix({},s,e);return o[n]=i,i.name=t,i},o.registerShape=function(t,e,n){var i=r.upperFirst(t),s=o[i],u=r.mix({},a,n);return s[e]=u,u},o.registShape=o.registerShape,o.getShapeFactory=function(t){var e=this;return t=t||"point",e[r.upperFirst(t)]},t.exports=o},function(t,e,n){var r={Canvas:n(48),Group:n(19),Shape:n(2),Matrix:n(14),Vector2:n(3)};n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),t.exports=r},function(t,e,n){function r(t,e,n,r,o){return{x:i(o,t.x,e.x,n.x,r.x),y:i(o,t.y,e.y,n.y,r.y)}}function i(t,e,n,r,i){var o=t*t;return e+(3*-e+t*(3*e-e*t))*t+(3*n+t*(-6*n+3*n*t))*t+(3*r-3*r*t)*o+i*(o*t)}function o(t){for(var e=1/0,n=-1/0,i=1/0,o=-1/0,a={x:t[0],y:t[1]},s={x:t[2],y:t[3]},u={x:t[4],y:t[5]},c={x:t[6],y:t[7]},l=0;l<100;l++){var f=r(a,s,u,c,l/100);f.x<e&&(e=f.x),f.x>n&&(n=f.x),f.y<i&&(i=f.y),f.y>o&&(o=f.y)}return{minX:e,minY:i,maxX:n,maxY:o}}var a=n(3),s=a.create(),u=a.create(),c=a.create();t.exports={getBBoxFromPoints:function(t){if(0!==t.length){for(var e=t[0],n=e.x,r=e.x,i=e.y,o=e.y,a=t.length,s=1;s<a;s++)e=t[s],n=Math.min(n,e.x),r=Math.max(r,e.x),i=Math.min(i,e.y),o=Math.max(o,e.y);return{minX:n,minY:i,maxX:r,maxY:o}}},getBBoxFromLine:function(t,e,n,r){return{minX:Math.min(t,n),minY:Math.min(e,r),maxX:Math.max(t,n),maxY:Math.max(e,r)}},getBBoxFromArc:function(t,e,n,r,i,o){var l=Math.abs(r-i);if(l%Math.PI*2<1e-4&&l>1e-4)return{minX:t-n,minY:e-n,maxX:t+n,maxY:e+n};s[0]=Math.cos(r)*n+t,s[1]=Math.sin(r)*n+e,u[0]=Math.cos(i)*n+t,u[1]=Math.sin(i)*n+e;var f=[0,0],p=[0,0];if(a.min(f,s,u),a.max(p,s,u),(r%=2*Math.PI)<0&&(r+=2*Math.PI),(i%=2*Math.PI)<0&&(i+=2*Math.PI),r>i&&!o?i+=2*Math.PI:r<i&&o&&(r+=2*Math.PI),o){var h=i;i=r,r=h}for(var d=0;d<i;d+=Math.PI/2)d>r&&(c[0]=Math.cos(d)*n+t,c[1]=Math.sin(d)*n+e,a.min(f,c,f),a.max(p,c,p));return{minX:f[0],minY:f[1],maxX:p[0],maxY:p[1]}},getBBoxFromBezierGroup:function(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,a=0,s=t.length;a<s;a++){var u=o(t[a]);u.minX<e&&(e=u.minX),u.maxX>n&&(n=u.maxX),u.minY<r&&(r=u.minY),u.maxY>i&&(i=u.maxY)}return{minX:e,minY:r,maxX:n,maxY:i}}}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=function(){function t(e){r(this,t),this._initDefaultCfg(),i.mix(this,e),this.init()}return t.prototype._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},t.prototype.init=function(){},t.prototype.getTicks=function(){var t=this,e=t.ticks,n=[];return i.each(e,function(e){var r=void 0;r=i.isObject(e)?e:{text:t.getText(e),tickValue:e,value:t.scale(e)},n.push(r)}),n},t.prototype.getText=function(t){var e=this.formatter;return t=e?e(t):t,!i.isNil(t)&&t.toString||(t=""),t.toString()},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){var t=this.range;return t[t.length-1]},t.prototype.invert=function(t){return t},t.prototype.translate=function(t){return t},t.prototype.scale=function(t){return t},t.prototype.clone=function(){var t=this,e=t.constructor,n={};return i.each(t,function(e,r){n[r]=t[r]}),new e(n)},t.prototype.change=function(t){return this.ticks=null,i.mix(this,t),this.init(),this},t}();t.exports=o},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o={min:0,median:.5,max:1},a=function(){function t(e){r(this,t),this._initDefaultCfg(),i.deepMix(this,e)}return t.prototype._initDefaultCfg=function(){},t.prototype._getNormalizedValue=function(t,e){return i.isNil(o[t])?e.scale(t):o[t]},t.prototype.parsePercentPoint=function(t,e){var n=parseFloat(e[0])/100,r=parseFloat(e[1])/100,i=t.start,o=t.end,a=Math.abs(i.x-o.x),s=Math.abs(i.y-o.y);return{x:a*n+Math.min(i.x,o.x),y:s*r+Math.min(i.y,o.y)}},t.prototype.parsePoint=function(t,e){var n=this,r=n.xScale,o=n.yScales;if(i.isFunction(e)&&(e=e(r,o)),i.isString(e[0])&&-1!==e[0].indexOf("%"))return this.parsePercentPoint(t,e);var a=n._getNormalizedValue(e[0],r),s=n._getNormalizedValue(e[1],o[0]);return t.convertPoint({x:a,y:s})},t.prototype.render=function(){},t.prototype.remove=function(){var t=this.element;t&&t.remove(!0)},t}();t.exports=a},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return o.isString(e)?e:t.invert(t.scale(e))}var o=n(0),a=function(){function t(e){r(this,t),this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null,o.mix(this,e)}return t.prototype._getAttrValue=function(t,e){var n=this.values;if(t.isCategory&&!this.linear)return n[t.translate(e)%n.length];var r=t.scale(e);return this.getLinearValue(r)},t.prototype.getLinearValue=function(t){var e=this.values,n=e.length-1,r=Math.floor(n*t),i=n*t-r,o=e[r];return o+((r===n?o:e[r+1])-o)*i},t.prototype.callback=function(t){var e=this,n=e.scales[0];return"identity"===n.type?n.value:e._getAttrValue(n,t)},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i++)r.push(e[i]);return r},t.prototype.getFields=function(){var t=this.scales,e=[];return o.each(t,function(t){e.push(t.field)}),e},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.mapping=function(){for(var t=this.scales,e=this.callback,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r;if(e){for(var s=0,u=r.length;s<u;s++)r[s]=this._toOriginParam(r[s],t[s]);a=e.apply(this,r)}return o.isArray(a)||(a=[a]),a},t.prototype._toOriginParam=function(t,e){var n=t;if(!e.isLinear)if(o.isArray(t)){n=[];for(var r=0,a=t.length;r<a;r++)n.push(i(e,t[r]))}else n=i(e,t);return n},t}();t.exports=a},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=function(){function t(e){r(this,t),this._initDefaultCfg(),i.mix(this,e)}return t.prototype._initDefaultCfg=function(){},t.prototype.processAdjust=function(){},t}();t.exports=o},function(t,e,n){var r=n(0),i={splitPoints:function(t){var e=[],n=t.x,i=t.y;return(i=r.isArray(i)?i:[i]).forEach(function(t,i){var o={x:r.isArray(n)?n[i]:n,y:t};e.push(o)}),e},splitArray:function(t,e,n){if(!t.length)return[];var i=[],o=[],a=void 0;return r.each(t,function(t){a=t._origin?t._origin[e]:t[e],n?r.isNil(a)||o.push(t):r.isArray(a)&&r.isNil(a[0])||r.isNil(a)?o.length&&(i.push(o),o=[]):o.push(t)}),o.length&&i.push(o),i}};t.exports=i},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=function(){function t(e){r(this,t),this._initDefaultCfg(),i.mix(this,e);var n=void 0,o=void 0;this.plot?(n=this.plot.bl,o=this.plot.tr,this.start=n,this.end=o):(n=this.start,o=this.end),this.init(n,o)}return t.prototype._initDefaultCfg=function(){},t.prototype.init=function(){},t.prototype.convertPoint=function(t){return t},t.prototype.invertPoint=function(t){return t},t.prototype.reset=function(t){this.plot=t;var e=t.bl,n=t.tr;this.start=e,this.end=n,this.init(e,n)},t}();t.exports=o},function(t,e){var n={multiply:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},scale:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[0],t[2]=e[2]*n[1],t[3]=e[3]*n[1],t[4]=e[4],t[5]=e[5],t},rotate:function(t,e,n){var r=Math.cos(n),i=Math.sin(n),o=e[0]*r+e[2]*i,a=e[1]*r+e[3]*i,s=e[0]*-i+e[2]*r,u=e[1]*-i+e[3]*r;return t[0]=o,t[1]=a,t[2]=s,t[3]=u,t[4]=e[4],t[5]=e[5],t},translate:function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+e[0]*n[0]+e[2]*n[1],t[5]=e[5]+e[1]*n[0]+e[3]*n[1],t},transform:function(t,e){for(var r=[].concat(t),i=0,o=e.length;i<o;i++){var a=e[i];switch(a[0]){case"t":n.translate(r,r,[a[1],a[2]]);break;case"s":n.scale(r,r,[a[1],a[2]]);break;case"r":n.rotate(r,r,a[1])}}return r}};t.exports=n},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=n(1),a=n(3),s=function(){function t(e){r(this,t),this._initDefaultCfg(),i.mix(this,e),this.draw()}return t.prototype._initDefaultCfg=function(){this.ticks=[],this.tickLine={},this.offsetFactor=1,this.frontContainer=null,this.backContainer=null,this.gridPoints=[]},t.prototype.draw=function(){var t=this.line,e=this.tickLine,n=this.label,r=this.grid;r&&this.drawGrid(r),e&&this.drawTicks(e),t&&this.drawLine(t),n&&this.drawLabels()},t.prototype.drawTicks=function(t){var e=this,n=e.ticks,r=t.length,o=e.getContainer(t.top);i.each(n,function(n){var a=e.getOffsetPoint(n.value),s=e.getSidePoint(a,r);o.addShape("line",{className:"axis-tick",attrs:i.mix({x1:a.x,y1:a.y,x2:s.x,y2:s.y},t)})._id=e._id+"-ticks"})},t.prototype.drawLabels=function(){var t=this,e=t.labelOffset,n=t.labels;i.each(n,function(n){var r=t.getContainer(n.get("top")),o=t.getOffsetPoint(n.get("value")),a=t.getSidePoint(o,e),s=a.x,u=a.y;n.attr(i.mix({x:s,y:u},t.getTextAlignInfo(o,e),n.get("textStyle"))),n._id=t._id+"-"+n.attr("text"),r.add(n)})},t.prototype.drawLine=function(){},t.prototype.drawGrid=function(t){var e=this,n=e.gridPoints,r=e.ticks,s=t,u=n.length;i.each(n,function(n,c){if(i.isFunction(t)){var l=r[c]||{};s=i.mix({},o._defaultAxis.grid,t(l.text,c,u))}if(s){var f=s.type,p=n.points,h=e.getContainer(s.top),d=void 0;if("arc"===f){var y=e.center,g=e.startAngle,v=e.endAngle,m=a.length([p[0].x-y.x,p[0].y-y.y]);d=h.addShape("Arc",{className:"axis-grid",attrs:i.mix({x:y.x,y:y.y,startAngle:g,endAngle:v,r:m},s)})}else d=h.addShape("Polyline",{className:"axis-grid",attrs:i.mix({points:p},s)});d._id=n._id}})},t.prototype.getOffsetPoint=function(){},t.prototype.getAxisVector=function(){},t.prototype.getOffsetVector=function(t,e){var n=this,r=n.getAxisVector(t),i=a.normalize([],r),o=n.offsetFactor,s=[-1*i[1]*o,i[0]*o];return a.scale([],s,e)},t.prototype.getSidePoint=function(t,e){var n=this.getOffsetVector(t,e);return{x:t.x+n[0],y:t.y+n[1]}},t.prototype.getTextAlignInfo=function(t,e){var n=this.getOffsetVector(t,e),r=void 0,i=void 0;return r=n[0]>0?"left":n[0]<0?"right":"center",i=n[1]>0?"top":n[1]<0?"bottom":"middle",{textAlign:r,textBaseline:i}},t.prototype.getContainer=function(t){var e=this.frontContainer,n=this.backContainer;return t?e:n},t}();t.exports=s},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}var o=n(0),a=n(14),s=n(3),u={stroke:"strokeStyle",fill:"fillStyle",opacity:"globalAlpha"},c=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash"],l=["circle","sector","polygon","rect","polyline"],f=function(){function t(e){r(this,t),this._initProperties(),o.mix(this._attrs,e);var n=this._attrs.attrs;n&&this.initAttrs(n),this.initTransform()}return t.prototype._initProperties=function(){this._attrs={zIndex:0,visible:!0,destroyed:!1}},t.prototype.get=function(t){return this._attrs[t]},t.prototype.set=function(t,e){this._attrs[t]=e},t.prototype.initAttrs=function(t){this.attr(o.mix(this.getDefaultAttrs(),t))},t.prototype.getDefaultAttrs=function(){return{}},t.prototype._setAttr=function(t,e){var n=this._attrs.attrs;if("clip"===t)e=this._setAttrClip(e);else{var r=u[t];r&&(n[r]=e)}n[t]=e},t.prototype._getAttr=function(t){return this._attrs.attrs[t]},t.prototype._setAttrClip=function(t){return t&&l.indexOf(t._attrs.type)>-1?(null===t.get("canvas")&&(t=Object.assign({},t)),t.set("parent",this.get("parent")),t.set("context",this.get("context")),t):null},t.prototype.attr=function(t,e){var n=this;if(n.get("destroyed"))return null;var r=arguments.length;if(0===r)return n._attrs.attrs;if(o.isObject(t)){this._attrs.bbox=null;for(var i in t)n._setAttr(i,t[i]);return n._afterAttrsSet&&n._afterAttrsSet(),n}return 2===r?(this._attrs.bbox=null,n._setAttr(t,e),n._afterAttrsSet&&n._afterAttrsSet(),n):n._getAttr(t)},t.prototype.getParent=function(){return this.get("parent")},t.prototype.draw=function(t){this.get("destroyed")||this.get("visible")&&(this.setContext(t),this.drawInner(t),this.restoreContext(t))},t.prototype.setContext=function(t){var e=this._attrs.attrs.clip;t.save(),e&&(e.resetTransform(t),e.createPath(t),t.clip()),this.resetContext(t),this.resetTransform(t)},t.prototype.restoreContext=function(t){t.restore()},t.prototype.resetContext=function(t){var e=this._attrs.attrs;if(!this.get("isGroup"))for(var n in e)if(c.indexOf(n)>-1){var r=e[n];"lineDash"===n&&t.setLineDash&&r?t.setLineDash(r):t[n]=r}},t.prototype.hasFill=function(){return this.get("canFill")&&this._attrs.attrs.fillStyle},t.prototype.hasStroke=function(){return this.get("canStroke")&&this._attrs.attrs.strokeStyle},t.prototype.drawInner=function(){},t.prototype.show=function(){return this.set("visible",!0),this},t.prototype.hide=function(){return this.set("visible",!1),this},t.prototype._removeFromParent=function(){var t=this.get("parent");if(t){var e=t.get("children");o.Array.remove(e,this)}return this},t.prototype.remove=function(t){t?this.destroy():this._removeFromParent()},t.prototype.destroy=function(){if(this.get("destroyed"))return null;this._removeFromParent(),this._attrs={},this.set("destroyed",!0)},t.prototype.getBBox=function(){return{minX:0,maxX:0,minY:0,maxY:0}},t.prototype.initTransform=function(){var t=this._attrs.attrs||{};t.matrix||(t.matrix=[1,0,0,1,0,0]),this._attrs.attrs=t},t.prototype.getMatrix=function(){return this._attrs.attrs.matrix},t.prototype.setMatrix=function(t){this._attrs.attrs.matrix=[t[0],t[1],t[2],t[3],t[4],t[5]]},t.prototype.transform=function(t){var e=this._attrs.attrs.matrix;return this._attrs.attrs.matrix=a.transform(e,t),this},t.prototype.setTransform=function(t){return this._attrs.attrs.matrix=[1,0,0,1,0,0],this.transform(t)},t.prototype.translate=function(t,e){var n=this._attrs.attrs.matrix;a.translate(n,n,[t,e])},t.prototype.rotate=function(t){var e=this._attrs.attrs.matrix;a.rotate(e,e,t)},t.prototype.scale=function(t,e){var n=this._attrs.attrs.matrix;a.scale(n,n,[t,e])},t.prototype.moveTo=function(t,e){var n=this._attrs.x||0,r=this._attrs.y||0;this.translate(t-n,e-r),this.set("x",t),this.set("y",e)},t.prototype.apply=function(t){var e=this._attrs.attrs.matrix;return s.transformMat2d(t,t,e),this},t.prototype.resetTransform=function(t){var e=this._attrs.attrs.matrix;i(e)||t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},t}();t.exports=f},function(t,e,n){
function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=function(){function t(e){r(this,t);var n={},o=this.getDefaultCfg();this._attrs=n,i.mix(n,o,e)}return t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(t){return this._attrs[t]},t.prototype.set=function(t,e){this._attrs[t]=e},t.prototype.destroy=function(){this._attrs={},this.destroyed=!0},t}();t.exports=o},function(t,e,n){function r(t){return function(e,n){var r=t(e,n);return 0===r?e[s]-n[s]:r}}var i=n(0),o=n(2),a={},s="_INDEX";t.exports={getGroupClass:function(){},addShape:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.get("canvas"),r=a[t];r||(r=i.upperFirst(t),a[t]=r),e.canvas=n,"Text"===r&&n&&n.get("fontFamily")&&(e.attrs.fontFamily=e.attrs.fontFamily||n.get("fontFamily"));var s=new o[r](e);return this.add(s),s},addGroup:function(t){var e=this.get("canvas"),n=this.getGroupClass();(t=i.mix({},t)).canvas=e,t.parent=this;var r=new n(t);return this.add(r),r},contain:function(t){return this.get("children").indexOf(t)>-1},sort:function(){for(var t=this.get("children"),e=0,n=t.length;e<n;e++)t[e][s]=e;return t.sort(r(function(t,e){return t.get("zIndex")-e.get("zIndex")})),this},clear:function(){for(var t=this.get("children");0!==t.length;)t[t.length-1].remove(!0);return this},add:function(t){var e=this,n=e.get("children");i.isArray(t)||(t=[t]);for(var r=0,o=t.length;r<o;r++){var a=t[r],s=a.get("parent");if(s){var u=s.get("children");i.Array.remove(u,a)}e._setEvn(a),n.push(a)}return e},_setEvn:function(t){var e=this;t._attrs.parent=e,t._attrs.context=e._attrs.context,t._attrs.canvas=e._attrs.canvas;var n=t._attrs.attrs.clip;if(n&&(n.set("parent",e),n.set("context",e.get("context"))),t._attrs.isGroup)for(var r=t._attrs.children,i=0,o=r.length;i<o;i++)t._setEvn(r[i])}}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(16),u=n(18),c=n(3),l=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){this._attrs={zIndex:0,visible:!0,destroyed:!1,isGroup:!0,children:[]}},e.prototype.drawInner=function(t){for(var e=this.get("children"),n=0,r=e.length;n<r;n++)e[n].draw(t);return this},e.prototype.getBBox=function(){for(var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.get("children"),o=0,a=i.length;o<a;o++){var s=i[o];if(s.get("visible")){var u=s.getBBox();if(!u)continue;var l=[u.minX,u.minY],f=[u.minX,u.maxY],p=[u.maxX,u.minY],h=[u.maxX,u.maxY],d=s.attr("matrix");c.transformMat2d(l,l,d),c.transformMat2d(f,f,d),c.transformMat2d(p,p,d),c.transformMat2d(h,h,d),t=Math.min(l[0],f[0],p[0],h[0],t),e=Math.max(l[0],f[0],p[0],h[0],e),n=Math.min(l[1],f[1],p[1],h[1],n),r=Math.max(l[1],f[1],p[1],h[1],r)}}return{minX:t,minY:n,maxX:e,maxY:r,x:t,y:n,width:e-t,height:r-n}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e}(s);a.mix(l.prototype,u,{getGroupClass:function(){return l}}),t.exports=l},function(t,e,n){function r(t){var e={strokeStyle:t.color};return t.size>=0&&(e.lineWidth=t.size),o.mix(e,t.style),o.mix({},u.shape.line,e)}function i(t,e,n,r){var i=t.points;if(i.length&&o.isArray(i[0].y)){for(var a=[],u=[],c=0,l=i.length;c<l;c++){var f=i[c],p=s.splitPoints(f);u.push(p[0]),a.push(p[1])}return t.isInCircle&&(a.push(a[0]),u.push(u[0])),t.isStack?e.addShape("Polyline",{className:"line",attrs:o.mix({points:a,smooth:r},n)}):[e.addShape("Polyline",{className:"line",attrs:o.mix({points:a,smooth:r},n)}),e.addShape("Polyline",{className:"line",attrs:o.mix({points:u,smooth:r},n)})]}return t.isInCircle&&i.push(i[0]),e.addShape("Polyline",{className:"line",attrs:o.mix({points:i,smooth:r},n)})}var o=n(0),a=n(5),s=n(12),u=n(1),c=a.registerFactory("line",{defaultShapeType:"line"}),l=["line","smooth","dash"];o.each(l,function(t){a.registerShape("line",t,{draw:function(e,n){var o="smooth"===t,a=r(e);return"dash"===t&&(a.lineDash=u.lineDash),i(e,n,a,o)}})}),t.exports=c},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=n(0),u=n(22),c=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="cat",this.tickCount=null,this.isCategory=!0,this.range=[0,1],this.ticks=null,this.values=[]},e.prototype.init=function(){var t=this,e=t.values,n=t.tickCount;if(s.each(e,function(t,n){e[n]=t.toString()}),!t.ticks){var r=e;n&&(r=u({maxCount:n,data:e}).ticks),this.ticks=r}},e.prototype.getText=function(e){return-1===this.values.indexOf(e)&&s.isNumber(e)&&(e=this.values[Math.round(e)]),t.prototype.getText.call(this,e)},e.prototype.translate=function(t){var e=this.values.indexOf(t);return-1===e&&s.isNumber(t)?e=t:-1===e&&(e=NaN),e},e.prototype.scale=function(t){var e=this.rangeMin(),n=this.rangeMax(),r=void 0;return(s.isString(t)||-1!==this.values.indexOf(t))&&(t=this.translate(t)),r=this.values.length>1?t/(this.values.length-1):t,e+r*(n-e)},e.prototype.invert=function(t){if(s.isString(t))return t;var e=this.rangeMin(),n=this.rangeMax();t<e&&(t=e),t>n&&(t=n);var r=(t-e)/(n-e),i=Math.round(r*(this.values.length-1))%this.values.length;return i=i||0,this.values[i]},e}(a);a.Cat=c,t.exports=c},function(t,e,n){function r(t){var e=[];return i.each(t,function(t){i.isArray(t)?e=e.concat(t):e.push(t)}),e}var i=n(0);t.exports=function(t){var e={},n=[],i=t.maxCount||8,o=r(t.data);if(o.length<=i+i/2)n=[].concat(o);else{var a=o.length,s=parseInt(a/(i-1),10),u=o.map(function(t,e){return e%s==0?o.slice(e,e+s):null}).filter(function(t){return t});n.push(o[0]);for(var c=1,l=u.length;c<l&&c<i-1;c++)n.push(u[c][0]);n.push(o[a-1])}return e.categories=o,e.ticks=n,e}},function(t,e,n){function r(t){return[t.x,t.y]}function i(t,e,n,i){var a=[],s=void 0,u=void 0,c=!!i,l=void 0,f=void 0,p=void 0,h=void 0,d=void 0,y=void 0;if(c){for(l=[1/0,1/0],f=[-1/0,-1/0],y=0,d=t.length;y<d;y++)p=r(t[y]),o.min(l,l,p),o.max(f,f,p);o.min(l,l,i[0]),o.max(f,f,i[1])}for(y=0,h=t.length;y<h;y++){if(p=r(t[y]),n)s=r(t[y?y-1:h-1]),u=r(t[(y+1)%h]);else{if(0===y||y===h-1){a.push([p[0],p[1]]);continue}s=r(t[y-1]),u=r(t[y+1])}var g=o.sub([],u,s);o.scale(g,g,e);var v=o.distance(p,s),m=o.distance(p,u),x=v+m;0!==x&&(v/=x,m/=x);var b=o.scale([],g,-v),_=o.scale([],g,m),w=o.add([],p,b),S=o.add([],p,_);c&&(o.max(w,w,l),o.min(w,w,f),o.max(S,S,l),o.min(S,S,f)),a.push([w[0],w[1]]),a.push([S[0],S[1]])}return n&&a.push(a.shift()),a}var o=n(3);t.exports={smooth:function(t,e,n){for(var r=!!e,o=i(t,.4,r,n),a=t.length,s=[],u=void 0,c=void 0,l=void 0,f=0;f<a-1;f++)u=o[2*f],c=o[2*f+1],l=t[f+1],s.push(["C",u[0],u[1],c[0],c[1],l.x,l.y]);return r&&(u=o[a],c=o[a+1],l=t[0],s.push(["C",u[0],u[1],c[0],c[1],l.x,l.y])),s}}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=t.startAngle,n=t.endAngle;return!(!f.isNil(e)&&!f.isNil(n)&&n-e<2*Math.PI)}function s(t,e){return t-e}function u(t,e){var n=!1;return f.each(t,function(t){var r=[].concat(t.values),i=[].concat(e.values);t.type!==e.type||t.field!==e.field||r.sort(s).toString()!==i.sort(s).toString()||(n=!0)}),n}var c=n(17),l=n(30),f=n(0),p=n(31),h=n(4),d=n(39),y=n(45),g=n(1),v=n(6).Canvas,m=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n)),a=o;return f.each(h,function(t,e){var n=f.lowerFirst(e);a[n]=function(e){var n=new t(e);return a.addGeom(n),n}}),a._init(),o}return o(e,t),e.initPlugins=function(){return{_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var r=this.descriptors(t),i=r.length,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0;for(o=0;o<i;++o)if(a=r[o],s=a.plugin,"function"==typeof(c=s[e])&&(u=[t].concat(n||[]),!1===c.apply(s,u)))return!1;return!0},descriptors:function(t){var e=t._plugins||(t._plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],r=[];return this._plugins.concat(t&&t.get("plugins")||[]).forEach(function(t){-1===n.indexOf(t)&&(n.push(t),r.push({plugin:t}))}),e.descriptors=r,e.id=this._cacheId,r}}},e.prototype.getDefaultCfg=function(){return{id:null,padding:g.padding,data:null,scales:{},coordCfg:{type:"cartesian"},geoms:null,colDefs:null,pixelRatio:g.pixelRatio,filters:null,appendPadding:g.appendPadding}},e.prototype._getFieldsForLegend=function(){var t=[],e=this.get("geoms");return f.each(e,function(e){var n=e.get("attrOptions").color;if(n&&n.field&&f.isString(n.field)){var r=n.field.split("*");f.each(r,function(e){-1===t.indexOf(e)&&t.push(e)})}}),t},e.prototype._createScale=function(t,e){return this.get("scaleController").createScale(t,e)},e.prototype._adjustScale=function(){var t=this,e=t.get("coord"),n=t.getXScale(),r=t.getYScales(),i=[];n&&i.push(n),i=i.concat(r);var o=e.isPolar&&a(e),s=t.get("scaleController").defs;f.each(i,function(t){if((t.isCategory||t.isIdentity)&&t.values&&(!s[t.field]||!s[t.field].range)){var n=t.values.length,r=void 0;if(1===n)r=[.5,1];else{var i=0;r=o?e.transposed?[(i=1/n*g.widthRatio.multiplePie)/2,1-i/2]:[0,1-1/n]:[i=1/n*1/2,1-i]}t.range=r}});for(var u=this.get("geoms"),c=0;c<u.length;c++){var l=u[c];if("interval"===l.get("type")){var p=l.getYScale(),h=p.field,d=p.min,y=p.max,v=p.type;s[h]&&s[h].min||"time"===v||(d>0?p.change({min:0}):y<=0&&p.change({max:0}))}}},e.prototype._removeGeoms=function(){for(var t=this.get("geoms");t.length>0;)t.shift().destroy()},e.prototype._clearGeoms=function(){for(var t=this.get("geoms"),e=0,n=t.length;e<n;e++)t[e].clear()},e.prototype._clearInner=function(){this.set("scales",{}),this.set("legendItems",null),this._clearGeoms(),e.plugins.notify(this,"clearInner"),this.get("axisController")&&this.get("axisController").clear()},e.prototype._execFilter=function(t){var e=this.get("filters");return e&&(t=t.filter(function(t){var n=!0;return f.each(e,function(e,r){if(e&&!(n=e(t[r],t)))return!1}),n})),t},e.prototype._initGeoms=function(t){for(var e=this.get("coord"),n=this.get("filteredData"),r=0,i=t.length;r<i;r++){var o=t[r];o.set("data",n),o.set("coord",e),o.init()}},e.prototype._initCoord=function(){var t=this.get("plotRange"),e=f.mix({},this.get("coordCfg"),{plot:t}),n=e.type,r=new(p[f.upperFirst(n)]||p.Cartesian)(e);this.set("coord",r)},e.prototype._initLayout=function(){var t=this.get("_padding");t||(t=this.get("margin")||this.get("padding"),t=f.parsePadding(t));var e="auto"===t[0]?0:t[0],n="auto"===t[1]?0:t[1],r="auto"===t[2]?0:t[2],i="auto"===t[3]?0:t[3],o=this.get("width"),a=this.get("height"),s=new l({start:{x:i,y:e},end:{x:o-n,y:a-r}});this.set("plotRange",s),this.set("plot",s)},e.prototype._initCanvas=function(){var t=this;try{var n=new v({el:t.get("el")||t.get("id"),context:t.get("context"),pixelRatio:t.get("pixelRatio"),width:t.get("width"),height:t.get("height"),fontFamily:g.fontFamily});t.set("canvas",n),t.set("width",n.get("width")),t.set("height",n.get("height"))}catch(t){throw t}e.plugins.notify(t,"afterCanvasInit"),t._initLayout()},e.prototype._initLayers=function(){var t=this.get("canvas");this.set("backPlot",t.addGroup()),this.set("middlePlot",t.addGroup({zIndex:10})),this.set("frontPlot",t.addGroup({zIndex:20}))},e.prototype.initColDefs=function(){var t=this.get("colDefs");if(t){var e=this.get("scaleController");f.mix(e.defs,t)}},e.prototype._init=function(){var t=this;t._initCanvas(),t._initLayers(),t.set("geoms",[]),t.set("scaleController",new d),t.set("axisController",new y({frontPlot:t.get("frontPlot").addGroup({className:"axisContainer"}),backPlot:t.get("backPlot").addGroup({className:"axisContainer"}),chart:t})),e.plugins.notify(t,"init")},e.prototype.source=function(t,e){return this.set("data",t),e&&this.scale(e),this},e.prototype.scale=function(t,e){var n=this.get("colDefs")||{};return f.isObject(t)?f.mix(n,t):n[t]=e,this.set("colDefs",n),this.initColDefs(),this},e.prototype.axis=function(t,e){var n=this.get("axisController");return t?(n.axisCfg=n.axisCfg||{},n.axisCfg[t]=e):n.axisCfg=null,this},e.prototype.coord=function(t,e){if(t){var n=void 0;return f.isObject(t)?n=t:(n=e||{}).type=t,this.set("coordCfg",n),this}},e.prototype.filter=function(t,e){var n=this.get("filters")||{};n[t]=e,this.set("filters",n)},e.prototype.render=function(){var t=this,n=t.get("canvas"),r=t.get("geoms"),i=this.get("data")||[],o=this._execFilter(i);this.set("filteredData",o),t._initCoord(),t._initGeoms(r),t._adjustScale(),e.plugins.notify(t,"beforeGeomDraw"),t._renderAxis();for(var a=0,s=r.length;a<s;a++)r[a].paint();return e.plugins.notify(t,"afterGeomDraw"),n.sort(),this.get("frontPlot").sort(),e.plugins.notify(t,"beforeCanvasDraw"),n.draw(),t},e.prototype.clear=function(){return e.plugins.notify(this,"clear"),this._removeGeoms(),this._clearInner(),this.set("filters",null),this.set("isUpdate",!1),this.set("_padding",null),this.get("canvas").draw(),this},e.prototype.repaint=function(){this.set("isUpdate",!0),e.plugins.notify(this,"repaint"),this._clearInner(),this.render()},e.prototype.changeData=function(t){this.set("data",t),this.set("_padding",null),this.repaint()},e.prototype.changeSize=function(t,e){return t?this.set("width",t):t=this.get("width"),e?this.set("height",e):e=this.get("height"),this.get("canvas").changeSize(t,e),this._initLayout(),this.repaint(),this},e.prototype.destroy=function(){this.clear(),this.get("canvas").destroy(),e.plugins.notify(this,"afterCanvasDestroyed"),t.prototype.destroy.call(this)},e.prototype.getPosition=function(t){var e=this,n=e.get("coord"),r=e.getXScale(),i=e.getYScales()[0],o=r.field,a=r.scale(t[o]),s=i.field,u=i.scale(t[s]);return n.convertPoint({x:a,y:u})},e.prototype.getRecord=function(t){var e=this,n=e.get("coord"),r=e.getXScale(),i=e.getYScales()[0],o=n.invertPoint(t),a={};return a[r.field]=r.invert(o.x),a[i.field]=i.invert(o.y),a},e.prototype.getSnapRecords=function(t){var e=this.get("geoms")[0],n=[];return e&&(n=e.getSnapRecords(t)),n},e.prototype.createScale=function(t){var e=this.get("data"),n=this.get("filteredData");n.length&&-1===this._getFieldsForLegend().indexOf(t)&&(e=n);var r=this.get("scales");return r[t]||(r[t]=this._createScale(t,e)),r[t]},e.prototype.addGeom=function(t){var e=this.get("geoms"),n=this.get("middlePlot");e.push(t),t.set("chart",this),t.set("container",n.addGroup())},e.prototype.getXScale=function(){return this.get("geoms")[0].getXScale()},e.prototype.getYScales=function(){var t=this.get("geoms"),e=[];return f.each(t,function(t){var n=t.getYScale();-1===f.indexOf(e,n)&&e.push(n)}),e},e.prototype.getLegendItems=function(){if(this.get("legendItems"))return this.get("legendItems");var t={},e=[],n=this.get("geoms");return f.each(n,function(n){var r=n.getAttr("color");if(r){var i=r.getScale("color");if("identity"!==i.type&&!u(e,i)){e.push(i);var o=i.field,a=i.getTicks(),s=[];f.each(a,function(t){var e=t.text,n=t.value,o=i.invert(n),a={fill:r.mapping(o).join("")||g.defaultColor,radius:3,symbol:"circle",stroke:"#fff"};s.push({name:e,dataValue:o,checked:!0,marker:a})}),t[o]=s}}}),this.set("legendItems",t),t},e.prototype.registerPlugins=function(t){var n=this,r=n.get("plugins")||[];f.isArray(r)||(r=[r]),[].concat(t).forEach(function(t){-1===r.indexOf(t)&&(t.init&&t.init(n),r.push(t))}),e.plugins._cacheId++,n.set("plugins",r)},e.prototype._renderAxis=function(){var t=this.get("axisController"),n=this.getXScale(),r=this.getYScales(),i=this.get("coord");e.plugins.notify(this,"beforeRenderAxis"),t.createAxis(i,n,r)},e.prototype._isAutoPadding=function(){if(this.get("_padding"))return!1;var t=this.get("padding");return f.isArray(t)?-1!==t.indexOf("auto"):"auto"===t},e.prototype._updateLayout=function(t){var e=this.get("width"),n=this.get("height"),r={x:t[3],y:t[0]},i={x:e-t[1],y:n-t[2]},o=this.get("plot"),a=this.get("coord");o.reset(r,i),a.reset(o)},e}(c);m.plugins=m.initPlugins(),t.exports=m},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n(12),u=n(0);n(20);var c=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="path",e.shapeType="line",e},e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.isStack=this.hasAdjust("stack"),n},e.prototype.draw=function(t,e){var n=this,r=n.get("container"),i=n.getYScale(),o=n.get("connectNulls"),a=s.splitArray(t,i.field,o),c=this.getDrawCfg(t[0]);c.origin=t,u.each(a,function(i,o){c.splitedIndex=o,c.points=i,n.drawShape(c.shape,t[0],c,r,e)})},e}(a);a.Path=c,t.exports=c},function(t,e,n){var r=n(1),i=n(0),o={getDefalutSize:function(){var t=this.get("defaultSize");if(!t){var e=this.get("coord"),n=this.getXScale(),i=this.get("dataArray"),o=n.values.length,a=n.range,s=1/o,u=1;e&&e.isPolar?u=e.transposed&&o>1?r.widthRatio.multiplePie:r.widthRatio.rose:(n.isLinear&&(s*=a[1]-a[0]),u=r.widthRatio.column),s*=u,this.hasAdjust("dodge")&&(s/=i.length),t=s,this.set("defaultSize",t)}return t},getDimWidth:function(t){var e=this.get("coord"),n=e.convertPoint({x:0,y:0}),r=e.convertPoint({x:"x"===t?1:0,y:"x"===t?0:1}),i=0;return n&&r&&(i=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))),i},_getWidth:function(){var t=this.get("_width");if(!t){var e=this.get("coord");t=e&&e.isPolar&&!e.transposed?(e.endAngle-e.startAngle)*e.circleRadius:this.getDimWidth("x"),this.set("_width",t)}return t},_toNormalizedSize:function(t){return t/this._getWidth()},_toCoordSize:function(t){return this._getWidth()*t},getNormalizedSize:function(t){var e=this.getAttrValue("size",t);return e=i.isNil(e)?this.getDefalutSize():this._toNormalizedSize(e)},getSize:function(t){var e=this.getAttrValue("size",t);if(i.isNil(e)){var n=this.getDefalutSize();e=this._toCoordSize(n)}return e}};t.exports=o},function(t,e,n){var r={},i=n(1);r.Global=i,r.version=i.version,r.Chart=n(24),r.Shape=n(5),r.G=n(6),r.Util=n(0),r.track=function(t){i.trackable=t},n(58),t.exports=r},function(t,e,n){var r=n(0),i={label:{fill:"#808080",fontSize:10},line:{stroke:"#E8E8E8",lineWidth:1},grid:{type:"line",stroke:"#E8E8E8",lineWidth:1,lineDash:[2]},tickLine:null,labelOffset:7.5},o={fontFamily:'"Helvetica Neue", "San Francisco", Helvetica, Tahoma, Arial, "PingFang SC", "Hiragino Sans GB", "Heiti SC", "Microsoft YaHei", sans-serif',defaultColor:"#1890FF",pixelRatio:1,padding:"auto",appendPadding:15,colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],shapes:{line:["line","dash"],point:["circle","hollowCircle"]},sizes:[4,10],axis:{bottom:r.mix({},i,{grid:null}),left:r.mix({},i,{line:null}),right:r.mix({},i,{line:null}),circle:r.mix({},i,{line:null}),radius:r.mix({},i,{labelOffset:4})},shape:{line:{lineWidth:2,lineJoin:"round",lineCap:"round"},point:{lineWidth:0,size:3},area:{fillOpacity:.1}},_defaultAxis:i};t.exports=o},function(t,e){function n(t,e,n,r,i){return{type:t,chart:e,native:i||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function r(t,e){var r=t.type,i={},a=t.targetTouches;a&&a.length>0?(i.x=a[0].clientX,i.y=a[0].clientY):(i.x=t.clientX,i.y=t.clientY);var s=e.get("canvas"),u=o.getRelativePosition(i,s);return n(r,e,u.x,u.y,t)}var i="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof(t)},o=void 0,a=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};o={isWx:"object"===("undefined"==typeof wx?"undefined":i(wx))&&"function"==typeof wx.getSystemInfoSync,isMy:"object"===("undefined"==typeof my?"undefined":i(my))&&"function"==typeof my.getSystemInfoSync,isNode:void 0!==t&&void 0!==t.exports,isBrowser:"undefined"!=typeof window&&void 0!==window.document,getPixelRatio:function(){return window&&window.devicePixelRatio||1},getStyle:function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},getWidth:function(t){var e=this.getStyle(t,"width");return"auto"===e&&(e=t.offsetWidth),parseFloat(e)},getHeight:function(t){var e=this.getStyle(t,"height");return"auto"===e&&(e=t.offsetHeight),parseFloat(e)},getDomById:function(t){return t?document.getElementById(t):null},getRelativePosition:function(t,e){var n=e.get("el"),r=n.getBoundingClientRect(),i=r.top,o=r.right,a=r.bottom,s=r.left,u=parseFloat(this.getStyle(n,"padding-left")),c=parseFloat(this.getStyle(n,"padding-top")),l=o-s-u-parseFloat(this.getStyle(n,"padding-right")),f=a-i-c-parseFloat(this.getStyle(n,"padding-bottom")),p=e.get("pixelRatio");return{x:(t.x-s-u)/l*n.width/p,y:(t.y-i-c)/f*n.height/p}},addEventListener:function(t,e,n){o.isBrowser&&t.addEventListener(e,n,a)},removeEventListener:function(t,e,n){o.isBrowser&&t.removeEventListener(e,n,a)},createEvent:function(t,e){return r(t,e)},measureText:function(t,e,n){return n||(n=document.createElement("canvas").getContext("2d")),n.font=e||"12px sans-serif",n.measureText(t)}},t.exports=o},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=function(){function t(e){r(this,t),i.mix(this,e),this._init()}return t.prototype._init=function(){var t=this,e=t.start,n=t.end,r=Math.min(e.x,n.x),i=Math.max(e.x,n.x),o=Math.min(e.y,n.y),a=Math.max(e.y,n.y);this.tl={x:r,y:o},this.tr={x:i,y:o},this.bl={x:r,y:a},this.br={x:i,y:a},this.width=i-r,this.height=a-o},t.prototype.reset=function(t,e){this.start=t,this.end=e,this._init()},t.prototype.isInRange=function(t,e){i.isObject(t)&&(e=t.y,t=t.x);var n=this.tl,r=this.br;return n.x<=t&&t<=r.x&&n.y<=e&&e<=r.y},t}();t.exports=o},function(t,e,n){var r=n(13);n(32),t.exports=r},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(13),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="cartesian",this.transposed=!1,this.isRect=!0},e.prototype.init=function(t,e){this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},e.prototype.convertPoint=function(t){var e=this,n=e.transposed,r=n?"y":"x",i=n?"x":"y",o=e.x,a=e.y;return{x:o.start+(o.end-o.start)*t[r],y:a.start+(a.end-a.start)*t[i]}},e.prototype.invertPoint=function(t){var e=this,n=e.transposed,r=n?"y":"x",i=n?"x":"y",o=e.x,a=e.y,s={};return s[r]=(t.x-o.start)/(o.end-o.start),s[i]=(t.y-a.start)/(a.end-a.start),s},e}(a);a.Cartesian=s,a.Rect=s,t.exports=s},function(t,e,n){t.exports={Position:n(34),Shape:n(35),Size:n(36),Color:n(37)}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.names=["x","y"],o.type="position",o}return o(e,t),e.prototype.mapping=function(t,e){var n=this.scales,r=this.coord,i=n[0],o=n[1],s=void 0,u=void 0,c=void 0;if(a.isNil(t)||a.isNil(e))return[];if(a.isArray(e)&&a.isArray(t)){s=[],u=[];for(var l=0,f=0,p=t.length,h=e.length;l<p&&f<h;l++,f++)c=r.convertPoint({x:i.scale(t[l]),y:o.scale(e[f])}),s.push(c.x),u.push(c.y)}else if(a.isArray(e))t=i.scale(t),u=[],a.each(e,function(e){e=o.scale(e),c=r.convertPoint({x:t,y:e}),s&&s!==c.x?(a.isArray(s)||(s=[s]),s.push(c.x)):s=c.x,u.push(c.y)});else if(a.isArray(t))e=o.scale(e),s=[],a.each(t,function(t){t=i.scale(t),c=r.convertPoint({x:t,y:e}),u&&u!==c.y?(a.isArray(u)||(u=[u]),u.push(c.y)):u=c.y,s.push(c.x)});else{t=i.scale(t),e=o.scale(e);var d=r.convertPoint({x:t,y:e});s=d.x,u=d.y}return[s,u]},e}(n(10));t.exports=s},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.names=["shape"],o.type="shape",o.gradient=null,o}return o(e,t),e.prototype.getLinearValue=function(t){var e=this.values;return e[Math.round((e.length-1)*t)]},e}(n(10));t.exports=a},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.names=["size"],o.type="size",o.gradient=null,o}return o(e,t),e}(n(10));t.exports=a},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(38),s=n(10),u=n(0),c=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.names=["color"],o.type="color",o.gradient=null,u.isString(o.values)&&(o.linear=!0),o}return o(e,t),e.prototype.getLinearValue=function(t){var e=this.gradient;if(!e){var n=this.values;e=a.gradient(n),this.gradient=e}return e(t)},e}(s);t.exports=c},function(t,e,n){function r(t,e,n,r){return t[r]+(e[r]-t[r])*n}function i(t){return"#"+o(t[0])+o(t[1])+o(t[2])}function o(t){return t=Math.round(t),1===(t=t.toString(16)).length&&(t="0"+t),t}function a(t,e){var n=t.length-1,o=Math.floor(n*e),a=n*e-o,s=t[o],u=o===n?s:t[o+1];return i([r(s,u,a,0),r(s,u,a,1),r(s,u,a,2)])}function s(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}var u=n(0),c={black:"#000000",blue:"#0000ff",grey:"#808080",green:"#008000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",red:"#ff0000",white:"#ffffff",yellow:"#ffff00"},l={toHex:function(t){if(c[t])return c[t];if("#"===t[0]){if(7===t.length)return t;var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,r){return"#"+e+e+n+n+r+r});return c[t]=e,e}var n=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return n.shift(),n=i(n),c[t]=n,n},hex2arr:s,gradient:function(t){var e=[];return u.isString(t)&&(t=t.split("-")),u.each(t,function(t){-1===t.indexOf("#")&&(t=l.toHex(t)),e.push(s(t))}),function(t){return a(e,t)}}};t.exports=l},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){if(!t.length)return{min:0,max:0};var e=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:e}}var o=n(0),a=n(1),s=n(40),u={linear:"Linear",cat:"Cat",timeCat:"TimeCat",identity:"Identity"},c=function(){function t(e){r(this,t),this.defs={},o.mix(this,e)}return t.prototype._getDef=function(t){var e=this.defs,n=null;return(a.scales[t]||e[t])&&(n=o.mix({},a.scales[t]),o.each(e[t],function(t,e){o.isNil(t)?delete n[e]:n[e]=t})),n},t.prototype._getDefaultType=function(t,e){var n="linear",r=o.Array.firstValue(e,t);return o.isArray(r)&&(r=r[0]),o.isString(r)&&(n="cat"),n},t.prototype._getScaleCfg=function(t,e,n){var r={field:e},a=o.Array.values(n,e);if(r.values=a,"cat"!==t&&"timeCat"!==t){var s=i(a),u=s.min,c=s.max;r.min=u,r.max=c}return r},t.prototype.createScale=function(t,e){var n=this,r=n._getDef(t),i=void 0
;if(!e||!e.length)return i=r&&r.type?new s[u[r.type]](r):new s.Identity({value:t,field:t.toString(),values:[t]});var a=e[0][t];if(null===a&&(a=o.Array.firstValue(e,t)),o.isNumber(t)||o.isNil(a)&&!r)i=new s.Identity({value:t,field:t.toString(),values:[t]});else{var c=void 0;r&&(c=r.type),c=c||n._getDefaultType(t,e);var l=n._getScaleCfg(c,t,e);r&&o.mix(l,r),i=new s[u[c]](l)}return i},t}();t.exports=c},function(t,e,n){var r=n(8);n(41),n(44),n(21),t.exports=r},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=n(0),u=n(42),c=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="linear",this.isLinear=!0,this.min=null,this.max=null,this.nice=!0,this.tickCount=null,this.tickInterval=null,this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},e.prototype.init=function(){var t=this;if(t.ticks){var e=t.ticks,n=t.translate(e[0]),r=t.translate(e[e.length-1]);(s.isNil(t.min)||t.min>n)&&(t.min=n),(s.isNil(t.max)||t.max<r)&&(t.max=r)}else t.min=t.translate(t.min),t.max=t.translate(t.max),t.initTicks()},e.prototype.calculateTicks=function(){var t=this,e=t.min,n=t.max,r=t.tickCount;if(1===r)throw new Error("linear scale'tickCount should not be 1");var i=t.tickInterval;if(n<e)throw new Error("max: "+n+" should not be less than min: "+e);return u({min:e,max:n,minCount:r,maxCount:r,interval:i}).ticks},e.prototype.initTicks=function(){var t=this,e=t.calculateTicks();if(t.nice)t.ticks=e,t.min=e[0],t.max=e[e.length-1];else{var n=[];s.each(e,function(e){e>=t.min&&e<=t.max&&n.push(e)}),t.ticks=n}},e.prototype.scale=function(t){if(null===t||void 0===t)return NaN;var e=this.max,n=this.min;if(e===n)return 0;var r=(t-n)/(e-n),i=this.rangeMin();return i+r*(this.rangeMax()-i)},e.prototype.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+e*(this.max-this.min)},e}(a);a.Linear=c,t.exports=c},function(t,e,n){var r=n(0),i=n(43),o=[0,1,2,4,5,10];t.exports=function(t){var e=t.min,n=t.max,a=t.interval,s=[],u=t.minCount||5,c=t.maxCount||7,l=(u+c)/2,f=void 0;if(r.isNil(e)&&(e=0),r.isNil(n)&&(n=0),n===e&&(0===e?n=1:e>0?e=0:n=0,n-e<5&&!a&&n-e>=1&&(a=1)),r.isNil(a)){var p=(n-e)/(l-1);a=i.snapFactorTo(p,o,"ceil"),c!==u?((f=parseInt((n-e)/a,10))>c&&(f=c),f<u&&(f=u),a=i.snapFactorTo((n-e)/(f-1),o,"floor")):f=l}if(t.interval||c!==u)n=i.snapMultiple(n,a,"ceil"),e=i.snapMultiple(e,a,"floor"),f=Math.round((n-e)/a),e=r.fixedBase(e,a),n=r.fixedBase(n,a);else{l=parseInt(l,10);var h=(n+e)/2,d=i.snapMultiple(h,a,"ceil"),y=Math.floor((l-2)/2),g=d+y*a,v=void 0;v=l%2==0?d-y*a:d-(y+1)*a,g<n&&(g+=a),v>e&&(v-=a),n=r.fixedBase(g,a),e=r.fixedBase(v,a)}s.push(e);for(var m=1;m<f;m++)s.push(r.fixedBase(a*m+e,a));return s[s.length-1]<n&&s.push(n),{min:e,max:n,interval:a,count:f,ticks:s}}},function(t,e){function n(t){var e=1;if(t<1){for(var n=0;t<1;)e/=10,t*=10,n++;e.toString().length>20&&(e=parseFloat(e.toFixed(n)))}else for(;t>10;)e*=10,t/=10;return e}function r(t,e){var n=t.length;if(0===n)return NaN;var r=t[0];if(e<t[0])return NaN;if(e>=t[n-1])return t[n-1];for(var i=1,o=t.length;i<o&&!(e<t[i]);i++)r=t[i];return r}function i(t,e){var n=t.length;if(0===n)return NaN;var r=void 0;if(e>t[n-1])return NaN;if(e<t[0])return t[0];for(var i=1,o=t.length;i<o;i++)if(e<=t[i]){r=t[i];break}return r}var o={snapFactorTo:function(t,e,r){if(isNaN(t))return NaN;var i=1;if(0!==t){t<0&&(i=-1);var a=n(t*=i);i*=a,t/=a}var s=(t="floor"===r?o.snapFloor(e,t):"ceil"===r?o.snapCeiling(e,t):o.snapTo(e,t))*i;return Math.abs(i)<1&&s.toString().length>20&&(s=t/parseInt(1/i)*(i>0?1:-1)),s},snapMultiple:function(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e},snapTo:function(t,e){var n=r(t,e),o=i(t,e);if(isNaN(n)||isNaN(o)){if(t[0]>=e)return t[0];var a=t[t.length-1];if(a<=e)return a}return Math.abs(e-n)<Math.abs(o-e)?n:o},snapFloor:function(t,e){return r(t,e)},snapCeiling:function(t,e){return i(t,e)}};t.exports=o},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=n(0),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.isIdentity=!0,this.type="identity",this.range=[0,1],this.value=null},e.prototype.getText=function(){return this.value.toString()},e.prototype.scale=function(t){return this.value!==t&&s.isNumber(t)?t:this.range[0]},e.prototype.invert=function(){return this.value},e}(a);a.Identity=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t.slice(0);if(e.length>0){var n=e[0],r=e[e.length-1];0!==n.value&&e.unshift({value:0}),1!==r.value&&e.push({value:1})}return e}var o=n(0),a=n(46),s=n(1),u=n(6).Shape,c=function(){function t(e){r(this,t),this.axisCfg={},this.frontPlot=null,this.backPlot=null,this.axes={},o.mix(this,e)}return t.prototype._isHide=function(t){var e=this.axisCfg;return!e||!1===e[t]},t.prototype._getLinePosition=function(t,e,n,r){var i="",o=t.field,a=this.axisCfg;return a[o]&&a[o].position?i=a[o].position:"x"===e?i=r?"left":"bottom":"y"===e&&(i=n?"right":"left",r&&(i="bottom")),i},t.prototype._getLineCfg=function(t,e,n){var r=void 0,i=void 0,o=1;return"x"===e?(r={x:0,y:0},i={x:1,y:0}):"right"===n?(r={x:1,y:0},i={x:1,y:1}):(r={x:0,y:0},i={x:0,y:1},o=-1),t.transposed&&(o*=-1),{offsetFactor:o,start:t.convertPoint(r),end:t.convertPoint(i)}},t.prototype._getCircleCfg=function(t){return{startAngle:t.startAngle,endAngle:t.endAngle,center:t.center,radius:t.circleRadius}},t.prototype._getRadiusCfg=function(t){var e=void 0,n=void 0;return t.transposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{offsetFactor:-1,start:t.convertPoint(e),end:t.convertPoint(n)}},t.prototype._getAxisCfg=function(t,e,n,r,i){var a=this,c=this.axisCfg,l=e.getTicks(),f=o.deepMix({ticks:l,frontContainer:this.frontPlot,backContainer:this.backPlot},i,c[e.field]),p=[],h=f.label,d=l.length,y=0,g=0,v=h;return o.each(l,function(t,e){if(o.isFunction(h)){var n=h(t.text,e,d);v=n?o.mix({},s._defaultAxis.label,n):null}if(v){var r={};v.textAlign&&(r.textAlign=v.textAlign),v.textBaseline&&(r.textBaseline=v.textBaseline);var i=new u.Text({className:"axis-label",attrs:o.mix({x:0,y:0,text:t.text,fontFamily:a.chart.get("canvas").get("fontFamily")},v),value:t.value,textStyle:r,top:v.top,context:a.chart.get("canvas").get("context")});p.push(i);var c=i.getBBox(),l=c.width,f=c.height;y=Math.max(y,l),g=Math.max(g,f)}}),f.labels=p,f.maxWidth=y,f.maxHeight=g,f},t.prototype._createAxis=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=this,a=t.type,u=t.transposed,c=void 0,l=void 0,f=void 0;if("cartesian"===a||"rect"===a){var p=o._getLinePosition(e,r,i,u);(f=s.axis[p]).position=p,c="Line",l=p}else"x"===r&&!u||"y"===r&&u?(f=s.axis.circle,c="Circle",l="circle"):(f=s.axis.radius,c="Line",l="radius");var h=o._getAxisCfg(t,e,n,r,f);h.type=c,h.dimType=r,h.verticalScale=n,h.index=i,this.axes[l]=h},t.prototype.createAxis=function(t,e,n){var r=this;e&&!r._isHide(e.field)&&r._createAxis(t,e,n[0],"x"),o.each(n,function(n,i){r._isHide(n.field)||r._createAxis(t,n,e,"y",i)});var s=this.axes,u=r.chart;if(u._isAutoPadding()){var c=o.parsePadding(u.get("padding")),l=o.parsePadding(u.get("appendPadding")),f=u.get("legendRange")||{top:0,right:0,bottom:0,left:0},p=["auto"===c[0]?f.top+2*l[0]:c[0],"auto"===c[1]?f.right+l[1]:c[1],"auto"===c[2]?f.bottom+l[2]:c[2],"auto"===c[3]?f.left+l[3]:c[3]];if(t.isPolar){var h=s.circle;if(h){var d=h.maxHeight,y=h.maxWidth,g=h.labelOffset;p[0]+=d+g,p[1]+=y+g,p[2]+=d+g,p[3]+=y+g}}else{if(s.right&&"auto"===c[1]){var v=s.right,m=v.maxWidth,x=v.labelOffset;p[1]+=m+x}if(s.left&&"auto"===c[3]){var b=s.left,_=b.maxWidth,w=b.labelOffset;p[3]+=_+w}if(s.bottom&&"auto"===c[2]){var S=s.bottom,P=S.maxHeight,C=S.labelOffset;p[2]+=P+C}}u.set("_padding",p),u._updateLayout(p)}o.each(s,function(e){var n=e.type,s=e.grid,u=e.verticalScale,c=e.ticks,l=e.dimType,f=e.position,p=e.index,h=void 0;if(t.isPolar?"Line"===n?h=r._getRadiusCfg(t):"Circle"===n&&(h=r._getCircleCfg(t)):h=r._getLineCfg(t,l,f),s&&u){var d=[],y=i(u.getTicks());o.each(c,function(e){var n=[];o.each(y,function(r){var i="x"===l?e.value:r.value,o="x"===l?r.value:e.value,a=t.convertPoint({x:i,y:o});n.push(a)}),d.push({points:n,_id:"axis-"+l+p+"-grid-"+e.tickValue})}),e.gridPoints=d,t.isPolar&&"arc"===s.type&&(e.center=t.center,e.startAngle=t.startAngle,e.endAngle=t.endAngle)}h._id="axis-"+l,o.isNil(p)||(h._id="axis-"+l+p),new a[n](o.mix(e,h))})},t.prototype.clear=function(){this.axes={},this.frontPlot.clear(),this.backPlot.clear()},t}();t.exports=c},function(t,e,n){var r=n(15);n(47),t.exports=r},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(15),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.start=null,this.end=null},e.prototype.getOffsetPoint=function(t){var e=this.start,n=this.end;return{x:e.x+(n.x-e.x)*t,y:e.y+(n.y-e.y)*t}},e.prototype.getAxisVector=function(){var t=this.start,e=this.end;return[e.x-t.x,e.y-t.y]},e.prototype.drawLine=function(t){var e=this.getContainer(t.top),n=this.start,r=this.end;e.addShape("line",{className:"axis-line",attrs:a.mix({x1:n.x,y1:n.y,x2:r.x,y2:r.y},t)})},e}(s);s.Line=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=n(18),a=n(19),s=function(){function t(e){r(this,t),this._attrs=i.mix({type:"canvas",children:[]},e),this._initPixelRatio(),this._initCanvas()}return t.prototype.get=function(t){return this._attrs[t]},t.prototype.set=function(t,e){this._attrs[t]=e},t.prototype._initPixelRatio=function(){this.get("pixelRatio")||this.set("pixelRatio",i.getPixelRatio())},t.prototype._beforeDraw=function(){var t=this._attrs.context,e=this._attrs.el;!i.isWx&&!i.isMy&&t&&t.clearRect(0,0,e.width,e.height)},t.prototype._initCanvas=function(){var t=this,e=t.get("el"),n=t.get("context"),r=void 0;if(!(r=n?n.canvas:i.isString(e)?i.getDomById(e):e))throw new Error("Please specify the id or el of the chart!");n&&r&&!r.getContext&&(r.getContext=function(){return n});var o=t.get("width");o||(o=i.getWidth(r));var a=t.get("height");a||(a=i.getHeight(r)),t.set("canvas",this),t.set("el",r),t.set("context",n||r.getContext("2d")),t.changeSize(o,a)},t.prototype.changeSize=function(t,e){var n=this.get("pixelRatio"),r=this.get("el");i.isBrowser&&(r.style.width=t+"px",r.style.height=e+"px"),i.isWx||i.isMy||(r.width=t*n,r.height=e*n,1!==n&&this.get("context").scale(n,n)),this.set("width",t),this.set("height",e)},t.prototype.getWidth=function(){var t=this.get("pixelRatio");return this.get("width")*t},t.prototype.getHeight=function(){var t=this.get("pixelRatio");return this.get("height")*t},t.prototype.getPointByClient=function(t,e){var n=this.get("el"),r=n.getBoundingClientRect(),i=r.right-r.left,o=r.bottom-r.top;return{x:(t-r.left)*(n.width/i),y:(e-r.top)*(n.height/o)}},t.prototype.draw=function(){var t=this;if(!t._attrs.destroyed){t._beforeDraw();try{for(var e=t._attrs.context,n=t._attrs.children,r=0,o=n.length;r<o;r++)n[r].draw(e);(i.isWx||i.isMy)&&e.draw()}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t)}}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),this._attrs={},this.set("destroyed",!0))},t}();i.mix(s.prototype,o,{getGroupClass:function(){return a}}),t.exports=s},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(2),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="rect"},e.prototype.getDefaultAttrs=function(){return{x:0,y:0,width:0,height:0,radius:0,lineWidth:0}},e.prototype.createPath=function(t){var e=this.get("attrs"),n=e.x,r=e.y,i=e.width,o=e.height;t.beginPath();var s=e.radius;s&&i*o?(s=a.parsePadding(s),t.moveTo(n+s[0],r),t.lineTo(n+i-s[1],r),t.arc(n+i-s[1],r+s[1],s[1],-Math.PI/2,0,!1),t.lineTo(n+i,r+o-s[2]),t.arc(n+i-s[2],r+o-s[2],s[2],0,Math.PI/2,!1),t.lineTo(n+s[3],r+o),t.arc(n+s[3],r+o-s[3],s[3],Math.PI/2,Math.PI,!1),t.lineTo(n,r+s[0]),t.arc(n+s[0],r+s[0],s[0],Math.PI,3*Math.PI/2,!1),t.closePath()):t.rect(n,r,i,o)},e.prototype.calculateBox=function(){var t=this.get("attrs"),e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},e}(s);s.Rect=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(2),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="circle"},e.prototype.getDefaultAttrs=function(){return{x:0,y:0,r:0,lineWidth:0}},e.prototype.createPath=function(t){var e=this.get("attrs"),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e.prototype.calculateBox=function(){var t=this.get("attrs"),e=t.x,n=t.y,r=t.r;return{minX:e-r,maxX:e+r,minY:n-r,maxY:n+r}},e}(a);a.Circle=s,t.exports=s},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(2),s=n(7),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canStroke=!0,this._attrs.type="line"},e.prototype.getDefaultAttrs=function(){return{x1:0,y1:0,x2:0,y2:0,lineWidth:1}},e.prototype.createPath=function(t){var e=this.get("attrs"),n=e.x1,r=e.y1,i=e.x2,o=e.y2;t.beginPath(),t.moveTo(n,r),t.lineTo(i,o)},e.prototype.calculateBox=function(){var t=this.get("attrs"),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return s.getBBoxFromLine(e,n,r,i)},e}(a);a.Line=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(2),s=n(7),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polygon"},e.prototype.getDefaultAttrs=function(){return{points:null,lineWidth:0}},e.prototype.createPath=function(t){var e=this.get("attrs").points;t.beginPath();for(var n=0,r=e.length;n<r;n++){var i=e[n];0===n?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y)}t.closePath()},e.prototype.calculateBox=function(){var t=this.get("attrs").points;return s.getBBoxFromPoints(t)},e}(a);a.Polygon=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(2),s=n(23),u=n(7),c=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polyline"},e.prototype.getDefaultAttrs=function(){return{points:null,lineWidth:1,smooth:!1}},e.prototype.createPath=function(t){var e=this.get("attrs"),n=e.points,r=e.smooth;if(t.beginPath(),t.moveTo(n[0].x,n[0].y),r)for(var i=[[0,0],[1,1]],o=s.smooth(n,!1,i),a=0,u=o.length;a<u;a++){var c=o[a];t.bezierCurveTo(c[1],c[2],c[3],c[4],c[5],c[6])}else{var l=void 0,f=void 0;for(l=1,f=n.length-1;l<f;l++)t.lineTo(n[l].x,n[l].y);t.lineTo(n[f].x,n[f].y)}},e.prototype.calculateBox=function(){var t=this.get("attrs"),e=t.points;if(t.smooth){for(var n=[],r=[[0,0],[1,1]],i=s.smooth(e,!1,r),o=0,a=i.length;o<a;o++){var c=i[o];if(0===o)n.push([e[0].x,e[0].y,c[1],c[2],c[3],c[4],c[5],c[6]]);else{var l=i[o-1];n.push([l[5],l[6],c[1],c[2],c[3],c[4],c[5],c[6]])}}return u.getBBoxFromBezierGroup(n)}return u.getBBoxFromPoints(e)},e}(a);a.Polyline=c,t.exports=c},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(2),s=n(7),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canStroke=!0,this._attrs.type="arc"},e.prototype.getDefaultAttrs=function(){return{x:0,y:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!1,lineWidth:1}},e.prototype.createPath=function(t){var e=this.get("attrs"),n=e.x,r=e.y,i=e.r,o=e.startAngle,a=e.endAngle,s=e.clockwise;t.beginPath(),t.arc(n,r,i,o,a,s)},e.prototype.calculateBox=function(){var t=this.get("attrs"),e=t.x,n=t.y,r=t.r,i=t.startAngle,o=t.endAngle,a=t.clockwise;return s.getBBoxFromArc(e,n,r,i,o,a)},e}(a);a.Arc=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(2),s=n(7),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="sector"},e.prototype.getDefaultAttrs=function(){return{x:0,y:0,lineWidth:0,r:0,r0:0,startAngle:0,endAngle:2*Math.PI,clockwise:!1}},e.prototype.createPath=function(t){var e=this.get("attrs"),n=e.x,r=e.y,i=e.startAngle,o=e.endAngle,a=e.r,s=e.r0,u=e.clockwise;t.beginPath();var c=Math.cos(i),l=Math.sin(i);t.moveTo(c*s+n,l*s+r),t.lineTo(c*a+n,l*a+r),t.arc(n,r,a,i,o,u),t.lineTo(Math.cos(o)*s+n,Math.sin(o)*s+r),0!==s&&t.arc(n,r,s,o,i,!u),t.closePath()},e.prototype.calculateBox=function(){var t=this.get("attrs"),e=t.x,n=t.y,r=t.r,i=t.r0,o=t.startAngle,a=t.endAngle,u=t.clockwise,c=s.getBBoxFromArc(e,n,r,o,a,u),l=s.getBBoxFromArc(e,n,i,o,a,u);return{minX:Math.min(c.minX,l.minX),minY:Math.min(c.minY,l.minY),maxX:Math.max(c.maxX,l.maxX),maxY:Math.max(c.maxY,l.maxY)}},e}(a);a.Sector=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(2),u=0,c={},l=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="text"},e.prototype.getDefaultAttrs=function(){return{lineWidth:0,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null}},e.prototype._getFontStyle=function(){var t=this._attrs.attrs,e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return t.fontStyle+" "+t.fontVariant+" "+r+" "+e+"px "+n},e.prototype._afterAttrsSet=function(){var t=this._attrs.attrs;if(t.font=this._getFontStyle(),t.text){var e=t.text,n=void 0;if(a.isString(e)&&-1!==e.indexOf("\n")){var r=(n=e.split("\n")).length;t.lineCount=r,t.textArr=n}}this.set("attrs",t)},e.prototype._getTextHeight=function(){var t=this._attrs.attrs;if(t.height)return t.height;var e=t.lineCount,n=1*t.fontSize;return e>1?n*e+this._getSpaceingY()*(e-1):n},e.prototype._getSpaceingY=function(){var t=this._attrs.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype.drawInner=function(t){var e=this,n=e._attrs.attrs,r=n.text;if(r){var i=n.textArr,o=1*n.fontSize,s=e._getSpaceingY(),u=n.x,c=n.y;n.rotate&&(t.translate(u,c),t.rotate(n.rotate),u=0,c=0);var l=n.textBaseline,f=void 0;i&&(f=e._getTextHeight());var p=void 0;if(e.hasFill()){var h=n.fillOpacity;if(a.isNil(h)||1===h||(t.globalAlpha=h),i)for(var d=0,y=i.length;d<y;d++){var g=i[d];p=c+d*(s+o)-f+o,"middle"===l&&(p+=f-o-(f-o)/2),"top"===l&&(p+=f-o),t.fillText(g,u,p)}else t.fillText(r,u,c)}if(e.hasStroke())if(i)for(var v=0,m=i.length;v<m;v++){var x=i[v];p=c+v*(s+o)-f+o,"middle"===l&&(p+=f-o-(f-o)/2),"top"===l&&(p+=f-o),t.strokeText(x,u,p)}else t.strokeText(r,u,c)}},e.prototype.calculateBox=function(){var t=this,e=t._attrs.attrs,n=e.x,r=e.y,i=e.textAlign,o=e.textBaseline,a=t._getTextWidth();if(!a)return{minX:n,minY:r,maxX:n,maxY:r};var s=t._getTextHeight(),u={x:n,y:r-s};return i&&("end"===i||"right"===i?u.x-=a:"center"===i&&(u.x-=a/2)),o&&("top"===o?u.y+=s:"middle"===o&&(u.y+=s/2)),{minX:u.x,minY:u.y,maxX:u.x+a,maxY:u.y+s}},e.prototype._getTextWidth=function(){var t=this._attrs.attrs;if(t.width)return t.width;var e=t.text,n=this.get("context");if(!a.isNil(e)){var r=t.font,i=t.textArr,o=e+""+r;if(c[o])return c[o];var s=0;if(i)for(var l=0,f=i.length;l<f;l++){var p=i[l];s=Math.max(s,a.measureText(p,r,n).width)}else s=a.measureText(e,r,n).width;return u>5e3&&(u=0,c={}),u++,c[o]=s,s}},e}(s);s.Text=l,t.exports=l},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(2),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.createPath=null,this._attrs.type="custom"},e.prototype.createPath=function(t){var e=this.get("createPath");e&&e.call(this,t)},e.prototype.calculateBox=function(){var t=this.get("calculateBox");return t&&t.call(this)},e}(a);a.Custom=s,t.exports=s},function(t,e,n){var r=n(1),i=n(0);setTimeout(function(){if(r.trackable&&i.isBrowser){var t=new Image,e={pg:document.URL,r:(new Date).getTime(),f2:!0,version:r.version,page_type:"syslog"},n=encodeURIComponent(JSON.stringify([e]));t.src="https://kcart.alipay.com/web/bi.do?BIProfile=merge&d="+n}},3e3)},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(25),s=n(4);n(20);var u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="line",e.sortable=!0,e},e}(a);s.Line=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n(0),u=n(26);n(61);var c=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return s.mix(o,u),o}return o(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e},e.prototype.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},e.prototype.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},e}(a);a.Interval=c,t.exports=c},function(t,e,n){function r(t){var e=t.x,n=t.y,r=t.y0,i=t.size,a=r,s=n;o.isArray(n)&&(s=n[1],a=n[0]);var u=void 0,c=void 0;return o.isArray(e)?(u=e[0],c=e[1]):(u=e-i/2,c=e+i/2),[{x:u,y:a},{x:u,y:s},{x:c,y:s},{x:c,y:a}]}function i(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r];e.push(o.x),n.push(o.y)}var a=Math.min.apply(null,e),s=Math.min.apply(null,n);return{x:a,y:s,width:Math.max.apply(null,e)-a,height:Math.max.apply(null,n)-s}}var o=n(0),a=n(5),s=n(3),u=n(1),c=a.registerFactory("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return r(t)}});a.registerShape("interval","rect",{draw:function(t,e){var n=this.parsePoints(t.points),r=o.mix({fill:t.color},u.shape.interval,t.style);if(t.isInCircle){var a=n.slice(0);this._coord.transposed&&(a=[n[0],n[3],n[2],n[1]]);var c=t.center,l=c.x,f=c.y,p=[1,0],h=[a[0].x-l,a[0].y-f],d=[a[1].x-l,a[1].y-f],y=[a[2].x-l,a[2].y-f],g=s.angleTo(p,d),v=s.angleTo(p,y),m=s.length(h),x=s.length(d);return g>=1.5*Math.PI&&(g-=2*Math.PI),v>=1.5*Math.PI&&(v-=2*Math.PI),e.addShape("Sector",{className:"interval",attrs:o.mix({x:l,y:f,r:x,r0:m,startAngle:g,endAngle:v},r)})}var b=i(n);return e.addShape("rect",{className:"interval",attrs:o.mix(b,r)})}}),t.exports=c},function(t,e,n){var r=n(11);n(63),n(64),t.exports=r},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)))
;t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(11),u=n(1),c=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.marginRatio=u.widthRatio.dodgeMargin,this.dodgeRatio=u.widthRatio.column},e.prototype.getDodgeOffset=function(t,e,n){var r=this,i=t.pre,o=t.next,a=o-i,s=a*r.dodgeRatio/n,u=r.marginRatio*s;return(i+o)/2+(.5*(a-n*s-(n-1)*u)+((e+1)*s+e*u)-.5*s-.5*a)},e.prototype.processAdjust=function(t){var e=this,n=t.length,r=e.xField;a.each(t,function(t,i){for(var o=0,a=t.length;o<a;o++){var s=t[o],u=s[r],c={pre:u-.5,next:u+.5},l=e.getDodgeOffset(c,i,n);s[r]=l}})},e}(s);s.Dodge=c,t.exports=c},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(11),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.xField=null,this.yField=null},e.prototype.processAdjust=function(t){for(var e=this,n=e.xField,r=e.yField,i=t.length,o={positive:{},negative:{}},s=0;s<i;s++)for(var u=t[s],c=0,l=u.length;c<l;c++){var f=u[c],p=f[n],h=f[r],d=p.toString();if(h=a.isArray(h)?h[1]:h,!a.isNil(h)){var y=h>=0?"positive":"negative";o[y][d]||(o[y][d]=0),f[r]=[o[y][d],h+o[y][d]],o[y][d]+=h}}},e}(s);s.Stack=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(13),s=n(3),u=n(14),c=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="polar",this.startAngle=-Math.PI/2,this.endAngle=3*Math.PI/2,this.inner=0,this.innerRadius=0,this.isPolar=!0,this.transposed=!1,this.center=null,this.radius=null},e.prototype.init=function(t,e){var n=this,r=n.inner||n.innerRadius,i=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y),a=void 0,s=void 0;n.startAngle===-Math.PI&&0===n.endAngle?(a=Math.min(i/2,o),s={x:(t.x+e.x)/2,y:t.y}):(a=Math.min(i,o)/2,s={x:(t.x+e.x)/2,y:(t.y+e.y)/2});var u=n.radius;u>0&&u<=1&&(a*=u),this.x={start:n.startAngle,end:n.endAngle},this.y={start:a*r,end:a},this.center=s,this.circleRadius=a},e.prototype.convertPoint=function(t){var e=this,n=e.center,r=e.transposed,i=r?"y":"x",o=r?"x":"y",a=e.x,s=e.y,u=a.start+(a.end-a.start)*t[i],c=s.start+(s.end-s.start)*t[o];return{x:n.x+Math.cos(u)*c,y:n.y+Math.sin(u)*c}},e.prototype.invertPoint=function(t){var e=this,n=e.center,r=e.transposed,i=e.x,o=e.y,a=r?"y":"x",c=r?"x":"y",l=[1,0,0,1,0,0];u.rotate(l,l,i.start);var f=[1,0];s.transformMat2d(f,f,l),f=[f[0],f[1]];var p=[t.x-n.x,t.y-n.y];if(s.zero(p))return{x:0,y:0};var h=s.angleTo(f,p,i.end<i.start);Math.abs(h-2*Math.PI)<.001&&(h=0);var d=s.length(p),y=h/(i.end-i.start);y=i.end-i.start>0?y:-y;var g=(d-o.start)/(o.end-o.start),v={};return v[a]=y,v[c]=g,v},e}(a);a.Polar=c,t.exports=c},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s={circle:function(t,e,n,r){r.arc(t,e,n,0,2*Math.PI,!1)},square:function(t,e,n,r){r.moveTo(t-n,e-n),r.lineTo(t+n,e-n),r.lineTo(t+n,e+n),r.lineTo(t-n,e+n),r.closePath()}},u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initProperties=function(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="marker"},e.prototype.getDefaultAttrs=function(){return{x:0,y:0,lineWidth:0}},e.prototype.createPath=function(t){var e=this.get("attrs"),n=e.x,r=e.y,i=e.radius,o=e.symbol||"circle",u=void 0;u=a.isFunction(o)?o:s[o],t.beginPath(),u(n,r,i,t,this)},e.prototype.calculateBox=function(){var t=this.get("attrs"),e=t.x,n=t.y,r=t.radius;return{minX:e-r,minY:n-r,maxX:e+r,maxY:n+r}},e}(n(6).Shape);t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=n(6).Group,a=n(66),s=function(){function t(e){r(this,t),i.deepMix(this,this.getDefaultCfg(),e),this._init(),this._renderTitle(),this._renderItems()}return t.prototype.getDefaultCfg=function(){return{showTitle:!1,title:null,items:null,titleGap:12,itemGap:10,itemMarginBottom:12,itemFormatter:null,itemWidth:null,wordSpace:6,x:0,y:0,layout:"horizontal",joinString:": "}},t.prototype._init=function(){var t=new o({zIndex:this.zIndex||0});this.container=t;var e=t.addGroup();this.wrapper=e;var n=e.addGroup({className:"itemsGroup"});this.itemsGroup=n,this.parent&&this.parent.add(t)},t.prototype._renderTitle=function(t){t=t||this.title;var e=0;if(this.showTitle&&t){var n=this.wrapper,r=this.titleStyle,o=n.addShape("text",{className:"title",attrs:i.mix({x:0,y:0,text:t},r)});e=o.getBBox().height+this.titleGap,this.titleShape=o}this._titleHeight=e},t.prototype._renderItems=function(t){var e=this;(t=t||e.items)&&(e.reversed&&t.reverse(),i.each(t,function(t,n){e._addItem(t,n)}),t.length>1&&this._adjustItems(),this._renderBackground())},t.prototype._renderBackground=function(){var t=this.background;if(t){var e=this.container,n=this.wrapper.getBBox(),r=n.minX,o=n.minY,a=n.width,s=n.height,u=t.padding||[0,0,0,0];u=i.parsePadding(u);var c=i.mix({x:r-u[3],y:o-u[0],width:a+u[1]+u[3],height:s+u[0]+u[2]},t),l=this.backShape;l?l.attr(c):l=e.addShape("Rect",{zIndex:-1,attrs:c}),this.backShape=l,e.sort()}},t.prototype._addItem=function(t){var e=this.itemsGroup.addGroup({name:t.name,value:t.value,dataValue:t.dataValue,checked:t.checked}),n=this.unCheckStyle,r=this.unCheckColor,o=this.nameStyle,s=this.valueStyle,u=this.wordSpace,c=t.marker,l=t.value,f=0;if(r&&(n.fill=r),c){var p=c.radius||3,h=i.mix({x:p,y:this._titleHeight},c);!1===t.checked&&i.mix(h,n);var d=new a({className:"item-marker",attrs:h});e.add(d),f+=d.getBBox().width+u}var y=void 0,g=t.name;if(g){var v=this.joinString||"";g=l?g+v:g,y=e.addShape("text",{className:"name",attrs:i.mix({x:f,y:this._titleHeight,text:this._formatItemValue(g)},o,!1===t.checked?n:null)})}if(l){var m=f;y&&(m+=y.getBBox().width),e.addShape("text",{className:"value",attrs:i.mix({x:m,y:this._titleHeight,text:l},s,!1===t.checked?n:null)})}return e},t.prototype._formatItemValue=function(t){var e=this.itemFormatter;return e&&(t=e.call(this,t)),t},t.prototype._getMaxItemWidth=function(){var t=this.itemWidth;if(i.isNumber(t)||i.isNil(t))return t;if("auto"===t){for(var e=this.itemsGroup.get("children"),n=e.length,r=0,o=0;o<n;o++){var a=e[o].getBBox().width;r=Math.max(r,a)}var s=this.maxLength,u=this.itemGap,c=(s-u)/2,l=(s-2*u)/3;return 2===n?Math.max(r,c):r<=l?l:r<=c?c:r}},t.prototype._adjustHorizontal=function(){for(var t=this.maxLength,e=this.itemsGroup.get("children"),n=this.itemGap,r=this.itemMarginBottom,i=this._titleHeight,o=0,a=0,s=void 0,u=void 0,c=this._getMaxItemWidth(),l=[],f=0,p=e.length;f<p;f++){var h=e[f],d=h.getBBox(),y=d.height,g=d.width;u=y+r,(s=c||g)-(t-a)>1e-4&&(o++,a=0),h.moveTo(a,o*u),l.push({x:a,y:o*u+i-y/2,width:1.375*g,height:1.375*y}),a+=s+n}this.legendHitBoxes=l},t.prototype._adjustVertical=function(){for(var t=this.maxLength,e=this.itemsGroup,n=this.itemGap,r=this.itemMarginBottom,o=this.itemWidth,a=this._titleHeight,s=e.get("children"),u=0,c=void 0,l=void 0,f=0,p=0,h=[],d=0,y=s.length;d<y;d++){var g=s[d],v=g.getBBox();c=v.width,l=v.height,i.isNumber(o)?f=o+n:c>f&&(f=c+n),t-u<l?(u=0,p+=f,g.moveTo(p,0),h.push({x:p,y:a-l/2,width:1.375*c,height:1.375*l})):(g.moveTo(p,u),h.push({x:p,y:u-l/2+a,width:1.375*c,height:1.375*l})),u+=l+r}this.legendHitBoxes=h},t.prototype._adjustItems=function(){"horizontal"===this.layout?this._adjustHorizontal():this._adjustVertical()},t.prototype.moveTo=function(t,e){this.x=t,this.y=e;var n=this.container;return n&&n.moveTo(t,e),this},t.prototype.setItems=function(t){this.clearItems(),this._renderItems(t)},t.prototype.setTitle=function(t){var e=this.titleShape;e?e.attr("text",t):this._renderTitle(t)},t.prototype.clearItems=function(){this.itemsGroup.clear()},t.prototype.getWidth=function(){return this.container.getBBox().width},t.prototype.getHeight=function(){return this.container.getBBox().height},t.prototype.show=function(){this.container.show()},t.prototype.hide=function(){this.container.hide()},t.prototype.clear=function(){var t=this.container;t.clear(),t.remove(!0)},t}();t.exports=s},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(4);n(69);var u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="point",e.shapeType="point",e.generatePoints=!0,e},e.prototype.draw=function(t,e){var n=this,r=n.get("container");a.each(t,function(t){var i=t.shape,o=n.getDrawCfg(t);if(a.isArray(t.y)){var s=n.hasAdjust("stack");a.each(t.y,function(a,u){o.y=a,s&&0===u||n.drawShape(i,t,o,r,e)})}else a.isNil(t.y)||n.drawShape(i,t,o,r,e)})},e}(s);s.Point=u,t.exports=u},function(t,e,n){function r(t){var e={lineWidth:0,stroke:t.color,fill:t.color};return t.size&&(e.size=t.size),o.mix(e,t.style),o.mix({},a.shape.point,e)}function i(t,e,n){if(0!==t.size){var i=r(t),a=i.r||i.size,s=t.x,u=o.isArray(t.y)?t.y:[t.y];"hollowCircle"===n&&(i.lineWidth=1,i.fill=null);for(var c=0,l=u.length;c<l;c++)return"rect"===n?e.addShape("Rect",{className:"point",attrs:o.mix({x:s-a,y:u[c]-a,width:2*a,height:2*a},i)}):e.addShape("Circle",{className:"point",attrs:o.mix({x:s,y:u[c],r:a},i)})}}var o=n(0),a=n(1),s=n(12),u=n(5),c=["circle","hollowCircle","rect"],l=u.registerFactory("point",{defaultShapeType:"circle",getDefaultPoints:function(t){return s.splitPoints(t)}});o.each(c,function(t){u.registerShape("point",t,{draw:function(e,n){return i(e,n,t)}})}),t.exports=l},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n(12),u=n(0);n(71);var c=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="area",e.shapeType="area",e.generatePoints=!0,e.sortable=!0,e},e.prototype.draw=function(t,e){var n=this,r=n.get("container"),i=this.getDrawCfg(t[0]),o=n.getYScale(),a=n.get("connectNulls"),c=s.splitArray(t,o.field,a);i.origin=t,u.each(c,function(o,a){i.splitedIndex=a;var s=o.map(function(t){return t.points});i.points=s,n.drawShape(i.shape,t[0],i,r,e)})},e}(a);a.Area=c,t.exports=c},function(t,e,n){function r(t,e){return Math.abs(t-e)<1e-5}function i(t,e){var n=!0;return s.each(t,function(t){if(!r(t.x,e.x)||!r(t.y,e.y))return n=!1,!1}),n}function o(t,e,n,r,i){var o=t.concat(e);return i?n.addShape("Custom",{className:"area",attrs:s.mix({points:o},r),createPath:function(t){var e=[[0,0],[1,1]],n=this._attrs.attrs.points,r=n.length,i=n.slice(0,r/2),o=n.slice(r/2,r),a=c.smooth(i,!1,e);t.beginPath(),t.moveTo(i[0].x,i[0].y);for(var s=0,u=a.length;s<u;s++){var l=a[s];t.bezierCurveTo(l[1],l[2],l[3],l[4],l[5],l[6])}if(o.length){var f=c.smooth(o,!1,e);t.lineTo(o[0].x,o[0].y);for(var p=0,h=f.length;p<h;p++){var d=f[p];t.bezierCurveTo(d[1],d[2],d[3],d[4],d[5],d[6])}}t.closePath()}}):n.addShape("Polyline",{className:"area",attrs:s.mix({points:o},r)})}function a(t,e,n){var r=this,a=t.points,u=[],c=[];s.each(a,function(t){c.push(t[0]),u.push(t[1])});var f=s.mix({fillStyle:t.color},l.shape.area,t.style);return c.reverse(),u=r.parsePoints(u),c=r.parsePoints(c),t.isInCircle&&(u.push(u[0]),c.unshift(c[c.length-1]),i(c,t.center)&&(c=[])),o(u,c,e,f,n)}var s=n(0),u=n(5),c=n(23),l=n(1),f=u.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y,r=t.y0;n=s.isArray(n)?n:[r,n];var i=[];return i.push({x:e,y:n[0]},{x:e,y:n[1]}),i}}),p=["area","smooth"];s.each(p,function(t){u.registerShape("area",t,{draw:function(e,n){var r="smooth"===t;return a.call(this,e,n,r)}})}),t.exports=f},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(15),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.startAngle=-Math.PI/2,this.endAngle=3*Math.PI/2,this.radius=null,this.center=null},e.prototype.getOffsetPoint=function(t){var e=this.startAngle,n=e+(this.endAngle-e)*t;return this._getCirclePoint(n)},e.prototype._getCirclePoint=function(t,e){var n=this,r=n.center;return e=e||n.radius,{x:r.x+Math.cos(t)*e,y:r.y+Math.sin(t)*e}},e.prototype.getTextAlignInfo=function(t,e){var n=this.getOffsetVector(t,e),r=void 0,i="middle";return n[0]>0?r="left":n[0]<0?r="right":(r="center",n[1]>0?i="top":n[1]<0&&(i="bottom")),{textAlign:r,textBaseline:i}},e.prototype.getAxisVector=function(t){var e=this.center,n=this.offsetFactor;return[(t.y-e.y)*n,-1*(t.x-e.x)*n]},e.prototype.drawLine=function(t){var e=this.center,n=this.radius,r=this.startAngle,i=this.endAngle;this.getContainer(t.top).addShape("arc",{className:"axis-line",attrs:a.mix({x:e.x,y:e.y,r:n,startAngle:r,endAngle:i},t)})},e}(s);s.Circle=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=n(21),u=n(0),c=n(74),l=n(22),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD",this.range=[0,1],this.ticks=null,this.values=[],this.isCategory=!0},e.prototype.init=function(){var t=this,e=this.values;u.each(e,function(n,r){e[r]=t._toTimeStamp(n)}),this.sortable&&e.sort(function(t,e){return t-e}),t.ticks||(t.ticks=this.calculateTicks(!1))},e.prototype.calculateTicks=function(){var t=this,e=t.tickCount;return l({maxCount:e,data:t.values}).ticks},e.prototype.translate=function(t){t=this._toTimeStamp(t);var e=this.values.indexOf(t);return-1===e&&(e=u.isNumber(t)&&t<this.values.length?t:NaN),e},e.prototype.scale=function(t){var e=this.rangeMin(),n=this.rangeMax(),r=this.translate(t),i=void 0;return i=1===this.values.length?r:r>-1?r/(this.values.length-1):0,e+i*(n-e)},e.prototype.getText=function(t){var e="",n=this.translate(t);e=n>-1?this.values[n]:t;var r=this.formatter;return e=parseInt(e,10),e=r?r(e):c.format(e,this.mask)},e.prototype.getTicks=function(){var t=this,e=this.ticks,n=[];return u.each(e,function(e){var r=void 0;r=u.isObject(e)?e:{text:u.isString(e)?e:t.getText(e),value:t.scale(e)},n.push(r)}),n},e.prototype._toTimeStamp=function(t){return u.isString(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),u.isDate(t)&&(t=t.getTime()),t},e}(s);a.TimeCat=f,t.exports=f},function(t,e,n){var r;!function(i){function o(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function a(t){return function(e,n,r){var i=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(e.month=i)}}function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var u={},c=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,l=/\d\d?/,f=/\d{3}/,p=/\d{4}/,h=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,d=/\[([^]*?)\]/gm,y=function(){},g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=["January","February","March","April","May","June","July","August","September","October","November","December"],m=o(v,3),x=o(g,3);u.i18n={dayNamesShort:x,dayNames:g,monthNamesShort:m,monthNames:v,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var b={D:function(t){return t.getDate()},DD:function(t){return s(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return s(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return s(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return s(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return s(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return s(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return s(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return s(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return s(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return s(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+s(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},_={D:[l,function(t,e){t.day=e}],Do:[new RegExp(l.source+h.source),function(t,e){t.day=parseInt(e,10)}],M:[l,function(t,e){t.month=e-1}],YY:[l,function(t,e){var n=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?n-1:n)+e}],h:[l,function(t,e){t.hour=e}],m:[l,function(t,e){t.minute=e}],s:[l,function(t,e){t.second=e}],YYYY:[p,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[f,function(t,e){t.millisecond=e}],d:[l,y],ddd:[h,y],MMM:[h,a("monthNamesShort")],MMMM:[h,a("monthNames")],a:[h,function(t,e,n){var r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var n,r=(e+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),t.timezoneOffset="+"===r[0]?n:-n)}]};_.dd=_.d,_.dddd=_.ddd,_.DD=_.D,_.mm=_.m,_.hh=_.H=_.HH=_.h,_.MM=_.M,_.ss=_.s,_.A=_.a,u.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},u.format=function(t,e,n){var r=n||u.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");var i=[];return e=(e=u.masks[e]||e||u.masks.default).replace(d,function(t,e){return i.push(e),"??"}),(e=e.replace(c,function(e){return e in b?b[e](t,r):e.slice(1,e.length-1)})).replace(/\?\?/g,function(){return i.shift()})},u.parse=function(t,e,n){var r=n||u.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=u.masks[e]||e,t.length>1e3)return!1;var i=!0,o={};if(e.replace(c,function(e){if(_[e]){var n=_[e],a=t.search(n[0]);~a?t.replace(n[0],function(e){return n[1](o,e,r),t=t.substr(a+e.length),e}):i=!1}return _[e]?"":e.slice(1,e.length-1)}),!i)return!1;var a=new Date;!0===o.isPm&&null!=o.hour&&12!=+o.hour?o.hour=+o.hour+12:!1===o.isPm&&12==+o.hour&&(o.hour=0);var s;return null!=o.timezoneOffset?(o.minute=+(o.minute||0)-+o.timezoneOffset,s=new Date(Date.UTC(o.year||a.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0))):s=new Date(o.year||a.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0),s},void 0!==t&&t.exports?t.exports=u:void 0!==(r=function(){return u}.call(e,n,e,t))&&(t.exports=r)}()},function(t,e,n){t.exports={Text:n(76),Line:n(77),Arc:n(78),Rect:n(79),Html:n(80),Tag:n(81)}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(9),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="text",this.position=null,this.content=null,this.style={fill:"#000"},this.offsetX=0,this.offsetY=0},e.prototype.render=function(t,e){var n=this.position,r=this.parsePoint(t,n),i=this.content,o=this.style,s=this.offsetX,u=this.offsetY;s&&(r.x+=s),u&&(r.y+=u);var c=e.addShape("text",{className:"guide-text",attrs:a.mix({x:r.x,y:r.y,text:i},o)});return this.element=c,c},e}(s);s.Text=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(9),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="line",this.start=[],this.end=[],this.style={stroke:"#000",lineWidth:1}},e.prototype.render=function(t,e){var n=[];n[0]=this.parsePoint(t,this.start),n[1]=this.parsePoint(t,this.end);var r=e.addShape("Line",{className:"guide-line",attrs:a.mix({x1:n[0].x,y1:n[0].y,x2:n[1].x,y2:n[1].y},this.style)});return this.element=r,r},e}(s);s.Line=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(9),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="arc",this.start=[],this.end=[],this.style={stroke:"#999",lineWidth:1}},e.prototype.render=function(t,e){var n=this,r=n.parsePoint(t,n.start),i=n.parsePoint(t,n.end),o=t.center,s=Math.sqrt((r.x-o.x)*(r.x-o.x)+(r.y-o.y)*(r.y-o.y)),u=Math.atan2(r.y-o.y,r.x-o.x),c=Math.atan2(i.y-o.y,i.x-o.x),l=e.addShape("arc",{className:"guide-arc",attrs:a.mix({x:o.x,y:o.y,r:s,startAngle:u,endAngle:c},n.style)});return n.element=l,l},e}(s);s.Arc=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(9),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="rect",this.start=[],this.end=[],this.style={fill:"#CCD7EB",opacity:.4}},e.prototype.render=function(t,e){var n=this.parsePoint(t,this.start),r=this.parsePoint(t,this.end),i=e.addShape("rect",{className:"guide-rect",attrs:a.mix({x:n.x,y:n.y,width:Math.abs(r.x-n.x),height:Math.abs(n.y-r.y)},this.style)});return this.element=i,i},e}(s);s.Rect=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n,r){var i=[];return"left"===t&&"top"===e?(i[0]=0,i[1]=0):"right"===t&&"top"===e?(i[0]=-n,i[1]=0):"left"===t&&"bottom"===e?(i[0]=0,i[1]=Math.floor(-r)):"right"===t&&"bottom"===e?(i[0]=Math.floor(-n),i[1]=Math.floor(-r)):"right"===t&&"middle"===e?(i[0]=Math.floor(-n),i[1]=Math.floor(-r/2)):"left"===t&&"middle"===e?(i[0]=0,i[1]=Math.floor(-r/2)):"center"===t&&"bottom"===e?(i[0]=Math.floor(-n/2),i[1]=Math.floor(-r)):"center"===t&&"top"===e?(i[0]=Math.floor(-n/2),i[1]=0):(i[0]=Math.floor(-n/2),i[1]=Math.floor(-r/2)),i}function s(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}function u(t){var e=document.createElement("div");return t=t.replace(/(^\s*)|(\s*$)/g,""),e.innerHTML=""+t,e.childNodes[0]}var c=n(0),l=n(9),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="html",this.position=null,this.alignX="center",this.alignY="middle",this.offsetX=null,this.offsetY=null,this.html=null},e.prototype.render=function(t,e){var n=this,r=n.parsePoint(t,n.position),i=u(n.html);i=s(i,{position:"absolute",top:Math.floor(r.y)+"px",left:Math.floor(r.x)+"px",visibility:"hidden"});var o=e.get("canvas").get("el").parentNode,l=void 0;(o=s(o,{position:"relative"})).getElementsByClassName("guideWapper").length>0?l=o.getElementsByClassName("guideWapper")[0]:(l=s(l=u('<div class="guideWapper"></div>'),{position:"absolute",top:0,left:0}),o.appendChild(l)),l.appendChild(i);var f=n.alignX,p=n.alignY,h=n.offsetX,d=n.offsetY,y=a(f,p,c.getWidth(i),c.getHeight(i));r.x=r.x+y[0],r.y=r.y+y[1],h&&(r.x+=h),d&&(r.y+=d),s(i,{top:Math.floor(r.y)+"px",left:Math.floor(r.x)+"px",visibility:"visible"}),n.element=l},e.prototype.remove=function(){var t=this.element;t&&t.remove()},e}(l);l.Html=f,t.exports=f},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(9),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._initDefaultCfg=function(){this.type="tag",this.position=null,this.content=null,this.direct="tl",this.autoAdjust=!0,this.offsetX=0,this.offsetY=0,this.side=4,this.background={padding:5,radius:2,fill:"#1890FF"},this.textStyle={fontSize:12,fill:"#fff",textAlign:"center",textBaseline:"middle"},this.withPoint=!0,this.pointStyle={fill:"#1890FF",r:3,lineWidth:1,stroke:"#fff"}},e.prototype._getDirect=function(t,e,n,r){var i=this.direct,o=this.side,a=t.get("canvas"),s=a.get("width"),u=a.get("height"),c=e.x,l=e.y,f=i[0],p=i[1];"t"===f&&l-o-r<0?f="b":"b"===f&&l+o+r>u&&(f="t");var h="c"===f?o:0;return"l"===p&&c-h-n<0?p="r":"r"===p&&c+h+n>s?p="l":"c"===p&&(n/2+c+h>s?p="l":c-n/2-h<0&&(p="r")),i=f+p},
e.prototype.render=function(t,e){var n=this.parsePoint(t,this.position),r=this.content,i=this.background,o=this.textStyle,s=[],u=e.addGroup({className:"guide-tag"});if(this.withPoint){var c=u.addShape("Circle",{className:"guide-tag-point",attrs:a.mix({x:n.x,y:n.y},this.pointStyle)});s.push(c)}var l=u.addGroup(),f=l.addShape("text",{className:"guide-tag-text",zIndex:1,attrs:a.mix({x:0,y:0,text:r},o)});s.push(f);var p=f.getBBox(),h=a.parsePadding(i.padding),d=p.width+h[1]+h[3],y=p.height+h[0]+h[2],g=p.minY-h[0],v=p.minX-h[3],m=l.addShape("rect",{className:"guide-tag-bg",zIndex:-1,attrs:a.mix({x:v,y:g,width:d,height:y},i)});s.push(m);var x=this.autoAdjust?this._getDirect(e,n,d,y):this.direct,b=this.side,_=n.x+this.offsetX,w=n.y+this.offsetY,S=void 0,P=a.parsePadding(i.radius);"tl"===x?(S=[{x:d+v-b-1,y:y+g-1},{x:d+v,y:y+g-1},{x:d+v,y:y+b+g}],P[2]=0,_-=d,w=w-b-y):"cl"===x?(S=[{x:d+v-1,y:(y-b)/2+g-1},{x:d+v-1,y:(y+b)/2+g+1},{x:d+b+v,y:y/2+g}],_=_-d-b,w-=y/2):"bl"===x?(S=[{x:d+v,y:-b+g},{x:d+v-b-1,y:g+1},{x:d+v,y:g+1}],P[1]=0,_-=d,w+=b):"bc"===x?(S=[{x:d/2+v,y:-b+g},{x:(d-b)/2+v-1,y:g+1},{x:(d+b)/2+v+1,y:g+1}],_-=d/2,w+=b):"br"===x?(S=[{x:v,y:g-b},{x:v,y:g+1},{x:v+b+1,y:g+1}],P[0]=0,w+=b):"cr"===x?(S=[{x:v-b,y:y/2+g},{x:v+1,y:(y-b)/2+g-1},{x:v+1,y:(y+b)/2+g+1}],_+=b,w-=y/2):"tr"===x?(S=[{x:v,y:y+b+g},{x:v,y:y+g-1},{x:b+v+1,y:y+g-1}],P[3]=0,w=w-y-b):"tc"===x&&(S=[{x:(d-b)/2+v-1,y:y+g-1},{x:(d+b)/2+v+1,y:y+g-1},{x:d/2+v,y:y+b+g}],_-=d/2,w=w-y-b);var C=l.addShape("Polygon",{className:"guide-tag-side",zIndex:0,attrs:{points:S,fill:i.fill}});return s.push(C),m.attr("radius",P),l.moveTo(_-v,w-g),l.sort(),this.element=u,s},e}(s);s.Tag=u,t.exports=u},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t.getAttr("color");if(e){var n=e.getScale(e.type);if(n.isLinear)return n}var r=t.getXScale();return t.getYScale()||r}function o(t,e){var n=void 0,r=void 0,o=t._getGroupScales();if(o.length&&f.each(o,function(t){return r=t,!1}),r){var a=r.field;n=r.getText(e[a])}else{var s=i(t);n=s.alias||s.field}return n}function a(t,e){var n=i(t);return n.getText(e[n.field])}function s(t,e){var n=t.getAttr("position").getFields()[0],r=t.get("scales")[n];return r.getText(e[r.field])}function u(t,e){var n=-1;return f.each(t,function(t,r){if(t.title===e.title&&t.name===e.name&&t.value===e.value&&t.color===e.color)return n=r,!1}),n}function c(t){var e=[];return f.each(t,function(t){var n=u(e,t);-1===n?e.push(t):e[n]=t}),e}function l(t,e){return JSON.stringify(t)===JSON.stringify(e)}var f=n(0),p=n(1),h=n(83);p.tooltip=f.deepMix({triggerOn:["touchstart","touchmove"],alwaysShow:!1,showTitle:!1,showCrosshairs:!1,crosshairsStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},showTooltipMarker:!0,background:{radius:1,fill:"rgba(0, 0, 0, 0.65)",padding:[3,5]},titleStyle:{fontSize:12,fill:"#fff",textAlign:"start",textBaseline:"top"},nameStyle:{fontSize:12,fill:"rgba(255, 255, 255, 0.65)",textAlign:"start",textBaseline:"middle"},valueStyle:{fontSize:12,fill:"#fff",textAlign:"start",textBaseline:"middle"},showItemMarker:!0,itemMarkerStyle:{radius:3,symbol:"circle",lineWidth:1,stroke:"#fff"},layout:"horizontal"},p.tooltip||{});var d=function(){function t(e){r(this,t),this.enable=!0,this.cfg={},this.tooltip=null,this.chart=null,this.timeStamp=0,f.mix(this,e);var n=this.chart;this.canvasDom=n.get("canvas").get("el")}return t.prototype._setCrosshairsCfg=function(){var t=this.chart,e=f.mix({},p.tooltip),n=t.get("geoms"),r=[];f.each(n,function(t){var e=t.get("type");-1===f.indexOf(r,e)&&r.push(e)});var i=t.get("coord").type;return!n.length||"cartesian"!==i&&"rect"!==i||1===r.length&&-1!==["line","area","path","point"].indexOf(r[0])&&f.mix(e,{showCrosshairs:!0}),e},t.prototype._getMaxLength=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.layout,n=t.plotRange;return"horizontal"===e?n.br.x-n.bl.x:n.bl.y-n.tr.y},t.prototype.render=function(){var t=this;if(!t.tooltip&&t.enable){var e=t.chart,n=e.get("canvas"),r=e.get("frontPlot").addGroup({className:"tooltipContainer",zIndex:10}),i=e.get("backPlot").addGroup({className:"tooltipContainer"}),o=e.get("plotRange"),a=e.get("coord"),s=t._setCrosshairsCfg(),u=t.cfg;(u=f.deepMix({plotRange:o,frontPlot:r,backPlot:i,canvas:n,fixed:a.transposed||a.isPolar},s,u)).maxLength=t._getMaxLength(u),this.cfg=u;var c=new h(u);t.tooltip=c,t.bindEvents()}},t.prototype.clear=function(){var t=this.tooltip;t&&t.destroy(),this.tooltip=null,this.prePoint=null,this.unBindEvents()},t.prototype._getTooltipMarkerStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=t.items,r=this.cfg;if("rect"===e){var i=void 0,o=void 0,a=void 0,s=void 0,u=this.chart,c=u.get("plotRange"),l=c.tl,p=c.br,h=u.get("coord"),d=n[0],y=n[n.length-1],g=d.width;h.transposed?(i=l.x,o=y.y-.75*g,a=p.x-l.x,s=d.y-y.y+1.5*g):(i=d.x-.75*g,o=l.y,a=y.x-d.x+1.5*g,s=p.y-l.y),t.style=f.mix({x:i,y:o,width:a,height:s,fill:"#CCD6EC",opacity:.3},r.tooltipMarkerStyle)}else t.style=f.mix({radius:4,fill:"#fff",lineWidth:2},r.tooltipMarkerStyle);return t},t.prototype._setTooltip=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._lastActive,i=this.tooltip,o=this.cfg;if(e=c(e),o.onShow&&o.onShow({x:t.x,y:t.y,tooltip:i,items:e,tooltipMarkerCfg:n}),!l(r,e)){if(this._lastActive=e,(o.onChange||f.isFunction(o.custom))&&(o.onChange||o.custom)({x:t.x,y:t.y,tooltip:i,items:e,tooltipMarkerCfg:n}),!o.custom){var a=e[0],s=a.title||a.name;i.setContent(s,e)}i.setPosition(e);var u=n.items;o.showTooltipMarker&&u.length?(n=this._getTooltipMarkerStyle(n),i.setMarkers(n)):i.clearMarkers(),i.show()}},t.prototype.showTooltip=function(t){var e=this,n=e.chart,r=void 0,i=[],u=[],c=e.cfg,l=void 0;c.showItemMarker&&(l=c.itemMarkerStyle);var h=n.get("geoms"),d=n.get("coord");if(f.each(h,function(e){var n=e.get("type"),c=e.getSnapRecords(t);f.each(c,function(t){if(t.x&&t.y){var c=t.x,h=t.y,y=t._origin,g=t.color,v={x:c,y:f.isArray(h)?h[1]:h,color:g||p.defaultColor,origin:y,name:o(e,y),value:a(e,y),title:s(e,y)};l&&(v.marker=f.mix({fill:g||p.defaultColor},l)),u.push(v),-1!==["line","area","path"].indexOf(n)?(r="circle",i.push(v)):"interval"!==n||"cartesian"!==d.type&&"rect"!==d.type||(r="rect",v.width=e.getSize(t._origin),i.push(v))}})}),u.length){var y={items:i,type:r};e._setTooltip(t,u,y)}else e.hideTooltip()},t.prototype.hideTooltip=function(){var t=this.cfg;this._lastActive=[];var e=this.tooltip;e&&(e.hide(),t.onHide&&t.onHide({tooltip:e}),this.chart.get("canvas").draw())},t.prototype.handleShowEvent=function(t){var e=this.chart,n=e.get("plotRange"),r=f.createEvent(t,e),i=r.x,o=r.y;if(i>=n.tl.x&&i<=n.tr.x&&o>=n.tl.y&&o<=n.br.y||this.cfg.alwaysShow){var a=this.timeStamp,s=+new Date;s-a>16&&(this.showTooltip({x:i,y:o}),this.timeStamp=s)}else this.hideTooltip()},t.prototype.handleHideEvent=function(){this.hideTooltip()},t.prototype.handleDocEvent=function(t){var e=this.canvasDom;t.target!==e&&this.hideTooltip()},t.prototype._handleEvent=function(t,e,n){var r=this.canvasDom;f.each([].concat(t),function(t){"bind"===n?f.addEventListener(r,t,e):f.removeEventListener(r,t,e)})},t.prototype.bindEvents=function(){var t=this.cfg,e=t.triggerOn,n=t.triggerOff,r=t.alwaysShow,i=f.wrapBehavior(this,"handleShowEvent"),o=f.wrapBehavior(this,"handleHideEvent");if(e&&this._handleEvent(e,i,"bind"),n&&this._handleEvent(n,o,"bind"),!r){var a=f.wrapBehavior(this,"handleDocEvent");f.isBrowser&&f.addEventListener(document,"touchstart",a)}},t.prototype.unBindEvents=function(){var t=this.cfg,e=t.triggerOn,n=t.triggerOff,r=t.alwaysShow,i=f.getWrapBehavior(this,"handleShowEvent"),o=f.getWrapBehavior(this,"handleHideEvent");if(e&&this._handleEvent(e,i,"unBind"),n&&this._handleEvent(n,o,"unBind"),!r){var a=f.getWrapBehavior(this,"handleDocEvent");f.isBrowser&&f.removeEventListener(document,"touchstart",a)}},t}();t.exports={init:function(t){var e=new d({chart:t});t.set("tooltipController",e),t.tooltip=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.isObject(t)&&(n=t,t=!0),e.enable=t,e.cfg=n,this}},afterGeomDraw:function(t){var e=t.get("tooltipController");e.render(),t.showTooltip=function(t){return e.showTooltip(t),this},t.hideTooltip=function(){return e.hideTooltip(),this}},clearInner:function(t){t.get("tooltipController").clear()}}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=n(66),a=n(67),s=function(){function t(e){r(this,t),i.deepMix(this,this.getDefaultCfg(),e);var n=this.frontPlot,o=this.plotRange;if(!this.custom){var s=new a(i.mix({parent:n,zIndex:3},e));this.container=s,this.fixed||(this.tooltipArrow=n.addShape("Polygon",{className:"tooltip-arrow",visible:!1,zIndex:2,attrs:{points:[],fill:this.background.fill}}))}if(this.showCrosshairs){var u=this.crosshairsStyle,c=n.addShape("Line",{className:"tooltip-crosshairs",zIndex:0,visible:!1,attrs:i.mix({x1:0,y1:o.bl.y,x2:0,y2:o.tl.y},u)});this.crosshairsShape=c}n.sort()}return t.prototype.getDefaultCfg=function(){return{showCrosshairs:!1,crosshairsStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},background:null,layout:"horizontal",offsetX:0,offsetY:0}},t.prototype.setContent=function(t,e){this.title=t,this.items=e;var n=this.container;n.setTitle(t),n.setItems(e)},t.prototype.setPosition=function(t){var e=this.container,n=this.plotRange,r=this.offsetX,o=this.offsetY,a=this.crosshairsShape,s=this.fixed,u=this.tooltipArrow;if(a&&a.moveTo(t[0].x,0),e){var c=e.container.getBBox(),l=c.minX,f=c.minY,p=c.width,h=c.height,d=n.tl,y=n.tr,g=0,v=d.y-h-4+o;if(s)g=(d.x+y.x)/2-p/2+r;else{var m=void 0;if(m=t.length>1?(t[0].x+t[t.length-1].x)/2:t[0].x,(g=m-p/2+r)<d.x&&(g=d.x),g+p>y.x&&(g=y.x-p),u){u.attr("points",[{x:m-3,y:d.y-4+o},{x:m+3,y:d.y-4+o},{x:m,y:d.y+o}]);var x=e.backShape,b=i.parsePadding(x.attr("radius"));m===d.x?(b[3]=0,u.attr("points",[{x:d.x,y:d.y+o},{x:d.x,y:d.y-4+o},{x:d.x+4,y:d.y-4+o}])):m===y.x&&(b[2]=0,u.attr("points",[{x:y.x,y:d.y+o},{x:y.x-4,y:d.y-4+o},{x:y.x,y:d.y-4+o}])),x.attr("radius",b)}}e.moveTo(g-l,v-f)}},t.prototype.setMarkers=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=t.items,r=t.style,a=t.type,s=e._getMarkerGroup(a);if("circle"===a)for(var u=0,c=n.length;u<c;u++){var l=n[u],f=new o({className:"tooltip-circle-marker",attrs:i.mix({x:l.x,y:l.y,stroke:l.color},r)});s.add(f)}else s.addShape("rect",{className:"tooltip-rect-marker",attrs:r})},t.prototype.clearMarkers=function(){var t=this.markerGroup;t&&t.clear()},t.prototype.show=function(){var t=this.crosshairsShape,e=this.markerGroup,n=this.container,r=this.tooltipArrow,i=this.canvas;t&&t.show(),e&&e.show(),n&&n.show(),r&&r.show(),i.draw()},t.prototype.hide=function(){var t=this.crosshairsShape,e=this.markerGroup,n=this.container,r=this.tooltipArrow;t&&t.hide(),e&&e.hide(),n&&n.hide(),r&&r.hide()},t.prototype.destroy=function(){var t=this.crosshairsShape,e=this.markerGroup,n=this.container,r=this.tooltipArrow;t&&t.remove(!0),e&&e.remove(!0),n&&n.clear(),r&&r.remove(!0),this.destroyed=!0},t.prototype._getMarkerGroup=function(t){var e=this.markerGroup;return e?e.clear():("circle"===t?(e=this.frontPlot.addGroup({zIndex:1}),this.frontPlot.sort()):e=this.backPlot.addGroup(),this.markerGroup=e),e},t}();t.exports=s},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=n(9),a=n(1);a.guide=i.deepMix({line:{style:{stroke:"#a3a3a3",lineWidth:1},top:!0},text:{style:{fill:"#787878",textAlign:"center",textBaseline:"middle"},offsetX:0,offsetY:0,top:!0},rect:{style:{fill:"#fafafa"},top:!1},arc:{style:{stroke:"#a3a3a3"},top:!0},html:{offsetX:0,offsetY:0,alignX:"middle",alignY:"middle"},tag:{top:!0,offsetX:0,offsetY:0,side:4,background:{padding:5,radius:2,fill:"#1890FF"},textStyle:{fontSize:12,fill:"#fff",textAlign:"center",textBaseline:"middle"}}},a.guide||{});var s=function(){function t(e){r(this,t),this.guides=[],this.xScale=null,this.yScales=null,this.guideShapes=[],i.mix(this,e)}return t.prototype._toString=function(t){return i.isFunction(t)&&(t=t(this.xScale,this.yScales)),t=t.toString()},t.prototype._getId=function(t,e){var n=e.id;if(!n){var r=e.type;n="arc"===r||"line"===r||"rect"===r?this._toString(e.start)+"-"+this._toString(e.end):this._toString(e.position)}return n},t.prototype.paint=function(t){var e=this,n=e.guides,r=e.xScale,o=e.yScales,a=[];i.each(n,function(n,i){n.xScale=r,n.yScales=o;var s=n.top?e.frontPlot:e.backPlot,u=n.render(t,s);if(u){var c=e._getId(u,n);[].concat(u).forEach(function(t){t._id=t.get("className")+"-"+c,t.set("index",i),a.push(t)})}}),e.guideShapes=a},t.prototype.clear=function(){return this.reset(),this.guides=[],this},t.prototype.reset=function(){var t=this.guides;i.each(t,function(t){t.remove()})},t.prototype._createGuide=function(t,e){var n=i.upperFirst(t),r=new o[n](i.deepMix({},a.guide[t],e));return this.guides.push(r),this},t.prototype.line=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._createGuide("line",t)},t.prototype.text=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._createGuide("text",t)},t.prototype.arc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._createGuide("arc",t)},t.prototype.html=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._createGuide("html",t)},t.prototype.rect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._createGuide("rect",t)},t.prototype.tag=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._createGuide("tag",t)},t}();t.exports={init:function(t){var e=new s({frontPlot:t.get("frontPlot").addGroup({zIndex:20,className:"guideContainer"}),backPlot:t.get("backPlot").addGroup({className:"guideContainer"})});t.set("guideController",e),t.guide=function(){return e}},afterGeomDraw:function(t){var e=t.get("guideController");if(e.guides.length){var n=t.getXScale(),r=t.getYScales(),i=t.get("coord");e.xScale=n,e.yScales=r,e.paint(i)}},clear:function(t){t.get("guideController").clear()},repaint:function(t){t.get("guideController").reset()}}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var n=0;switch(e=o.parsePadding(e),t){case"top":n=e[0];break;case"right":n=e[1];break;case"bottom":n=e[2];break;case"left":n=e[3]}return n}var o=n(0),a=n(67),s=n(1),u={itemMarginBottom:12,itemGap:10,showTitle:!1,titleStyle:{fontSize:12,fill:"#808080",textAlign:"start",textBaseline:"top"},nameStyle:{fill:"#808080",fontSize:12,textAlign:"start",textBaseline:"middle"},valueStyle:{fill:"#000000",fontSize:12,textAlign:"start",textBaseline:"middle"},unCheckStyle:{fill:"#bfbfbf"},itemWidth:"auto",wordSpace:6,selectedMode:"multiple"};s.legend=o.deepMix({right:o.mix({position:"right",layout:"vertical"},u),left:o.mix({position:"left",layout:"vertical"},u),top:o.mix({position:"top",layout:"horizontal"},u),bottom:o.mix({position:"bottom",layout:"horizontal"},u)},s.legend||{});var c=function(){function t(e){r(this,t),this.legendCfg={},this.enable=!0,this.position="top",o.mix(this,e);var n=this.chart;this.canvasDom=n.get("canvas").get("el"),this.clear()}return t.prototype.addLegend=function(t,e,n){var r=this,i=r.legendCfg,o=t.field,a=i[o];if(!1===a)return null;if(a&&a.custom)r.addCustomLegend(o);else{var s=i.position||r.position;a&&a.position&&(s=a.position),t.isCategory&&r._addCategoryLegend(t,e,s,n)}},t.prototype.addCustomLegend=function(t){var e=this,n=e.legendCfg;t&&n[t]&&(n=n[t]);var r=n.position||e.position,i=e.legends;i[r]=i[r]||[];var u=n.items;if(!u)return null;var c=e.container;o.each(u,function(t){o.isObject(t.marker)?t.marker.radius=t.marker.radius||3:t.marker={symbol:t.marker||"circle",fill:t.fill,radius:3},t.checked=!!o.isNil(t.checked)||t.checked,t.name=t.name||t.value});var l=new a(o.deepMix({},s.legend[r],n,{maxLength:e._getMaxLength(r),items:u,parent:c}));i[r].push(l)},t.prototype.clear=function(){var t=this.legends;o.each(t,function(t){o.each(t,function(t){t.clear()})}),this.legends={},this.unBindEvents()},t.prototype._isFiltered=function(t,e,n){var r=!1;return o.each(e,function(e){if(r=r||t.getText(e)===t.getText(n))return!1}),r},t.prototype._getMaxLength=function(t){var e=this.chart,n=o.parsePadding(e.get("appendPadding"));return"right"===t||"left"===t?e.get("height")-(n[0]+n[2]):e.get("width")-(n[1]+n[3])},t.prototype._addCategoryLegend=function(t,e,n,r){var i=this,u=i.legendCfg,c=i.legends,l=i.container,f=i.chart,p=t.field;c[n]=c[n]||[];var h="circle";u[p]&&u[p].marker?h=u[p].marker:u.marker&&(h=u.marker),o.each(e,function(e){o.isPlainObject(h)?o.mix(e.marker,h):e.marker.symbol=h,r&&(e.checked=i._isFiltered(t,r,e.dataValue))}),f.get("legendItems")[p]=e;var d=o.deepMix({},s.legend[n],u[p]||u,{maxLength:i._getMaxLength(n),items:e,field:p,filterVals:r,parent:l});d.showTitle&&o.deepMix(d,{title:t.alias||t.field});var y=new a(d);return c[n].push(y),y},t.prototype._alignLegend=function(t,e,n){var r=this,i=r.plotRange,a=i.tl,s=i.bl,u=r.chart,c=t.offsetX||0,l=t.offsetY||0,f=u.get("width"),p=u.get("height"),h=o.parsePadding(u.get("appendPadding")),d=t.getHeight(),y=t.getWidth(),g=0,v=0;if("left"===n||"right"===n){var m=t.verticalAlign||"middle",x=Math.abs(a.y-s.y);g="left"===n?h[3]:f-y-h[1],v=(x-d)/2+a.y,"top"===m?v=a.y:"bottom"===m&&(v=s.y-d),e&&(v=e.get("y")-d-12)}else{var b=t.align||"left";if(g=h[3],"center"===b?g=f/2-y/2:"right"===b&&(g=f-(y+h[1])),v="top"===n?h[0]+Math.abs(t.container.getBBox().minY):p-d,e){var _=e.getWidth();g=e.x+_+12}}"bottom"===n&&l>0&&(l=0),"right"===n&&c>0&&(c=0),t.moveTo(g+c,v+l)},t.prototype.alignLegends=function(){var t=this,e=t.legends;return o.each(e,function(e,n){o.each(e,function(r,i){var o=e[i-1];t._alignLegend(r,o,n)})}),t},t.prototype.handleEvent=function(t){var e=this,n=e.chart,r=o.createEvent(t,n),i=function(t,n){var r=null,i=e.legends;return o.each(i,function(e){o.each(e,function(e){var i=e.itemsGroup,a=e.legendHitBoxes,s=i.get("children");if(s.length){var u=e.x,c=e.y;o.each(a,function(i,o){if(t>=i.x+u&&t<=i.x+i.width+u&&n>=i.y+c&&n<=i.height+i.y+c)return r={clickedItem:s[o],clickedLegend:e},!1})}})}),r}(r.x,r.y);if(i&&!1!==i.clickedLegend.clickable){var a=i.clickedItem,s=i.clickedLegend;if(s.onClick)t.clickedItem=a,s.onClick(t);else if(!s.custom){var u=a.get("checked"),c=a.get("dataValue"),l=s.filterVals,f=s.field;"single"===s.selectedMode?n.filter(f,function(t){return t===c}):(u?o.Array.remove(l,c):l.push(c),n.filter(f,function(t){return-1!==l.indexOf(t)})),n.repaint()}}},t.prototype.bindEvents=function(){var t=this.legendCfg.triggerOn||"touchstart",e=o.wrapBehavior(this,"handleEvent");o.addEventListener(this.canvasDom,t,e)},t.prototype.unBindEvents=function(){var t=this.legendCfg.triggerOn||"touchstart",e=o.getWrapBehavior(this,"handleEvent");o.removeEventListener(this.canvasDom,t,e)},t}();t.exports={init:function(t){var e=new c({container:t.get("backPlot"),plotRange:t.get("plotRange"),chart:t});t.set("legendController",e),t.legend=function(t,n){var r=e.legendCfg;return e.enable=!0,o.isBoolean(t)?(e.enable=t,r=n||{}):o.isObject(t)?r=t:r[t]=n,e.legendCfg=r,this}},beforeGeomDraw:function(t){var e=t.get("legendController");if(!e.enable)return null;var n=e.legendCfg;if(n&&n.custom)e.addCustomLegend();else{var r=t.getLegendItems(),a=t.get("scales"),s=t.get("filters");o.each(r,function(t,n){var r=a[n],i=r.values,o=void 0;o=s&&s[n]?i.filter(s[n]):i.slice(0),e.addLegend(r,t,o)})}n&&!1!==n.clickable&&e.bindEvents();var u=e.legends,c={top:0,right:0,bottom:0,left:0};o.each(u,function(e,n){var r=0;o.each(e,function(t){var e=t.getWidth(),i=t.getHeight();"top"===n||"bottom"===n?(r=Math.max(r,i),t.offsetY>0&&(r+=t.offsetY)):(r=Math.max(r,e),t.offsetX>0&&(r+=t.offsetX))}),c[n]=r+i(n,t.get("appendPadding"))}),t.set("legendRange",c)},afterGeomDraw:function(t){t.get("legendController").alignLegends()},clearInner:function(t){t.get("legendController").clear(),t.set("legendRange",null)}}},function(t,e,n){var r=n(0),i={appear:{duration:450,easing:"quadraticOut"},update:{duration:300,easing:"quadraticOut"},enter:{duration:300,easing:"quadraticOut"},leave:{duration:350,easing:"quadraticIn"}},o={defaultCfg:{},Action:{},getAnimation:function(t,e,n){var i=this.defaultCfg[t];if(i){var o=i[n];if(r.isFunction(o))return o(e)}return!1},getAnimateCfg:function(t,e){var n=i[e],o=this.defaultCfg[t];return o&&o.cfg&&o.cfg[e]?r.deepMix({},n,o.cfg[e]):n},registerAnimation:function(t,e){this.Action||(this.Action={}),this.Action[t]=e}};t.exports=o},function(t,e,n){var r=n(6),i=r.Shape,o=r.Matrix,a=n(0),s={getCoordInfo:function(t){var e=t.start,n=t.end;return{start:e,end:n,width:n.x-e.x,height:Math.abs(n.y-e.y)}},getScaledMatrix:function(t,e,n){var r=void 0;t.apply(e);var i=e[0],a=e[1];if("x"===n){t.transform([["t",i,a],["s",.01,1],["t",-i,-a]]);var s=t.getMatrix();r=o.transform(s,[["t",i,a],["s",100,1],["t",-i,-a]])}else if("y"===n){t.transform([["t",i,a],["s",1,.01],["t",-i,-a]]);var u=t.getMatrix();r=o.transform(u,[["t",i,a],["s",1,100],["t",-i,-a]])}else if("xy"===n){t.transform([["t",i,a],["s",.01,.01],["t",-i,-a]]);var c=t.getMatrix();r=o.transform(c,[["t",i,a],["s",100,100],["t",-i,-a]])}return r},getClip:function(t){var e=s.getCoordInfo(t),n=e.start,r=e.end,o=e.width,a=e.height,u=void 0;if(t.isPolar){var c=t.circleRadius,l=t.center,f=t.startAngle,p=t.endAngle;(u=new i.Sector({attrs:{x:l.x,y:l.y,r:c+200,r0:0,startAngle:f,endAngle:f}})).endState={endAngle:p}}else u=new i.Rect({attrs:{x:n.x-200,y:r.y-200,width:t.isTransposed?o+400:0,height:t.isTransposed?0:a+400}}),t.isTransposed?u.endState={height:a+400}:u.endState={width:o+400};return u.isClip=!0,u},getAnimateParam:function(t,e,n){var r={};return t.delay&&(r.delay=a.isFunction(t.delay)?t.delay(e,n):t.delay),r.easing=t.easing,r.duration=t.duration,r.delay=t.delay,r},doAnimation:function(t,e,n,r){var i=t._id,o=t.get("index"),a=s.getAnimateParam(n,o,i),u=a.easing,c=a.delay,l=a.duration,f=t.animate().to({attrs:e,duration:l,delay:c,easing:u});r&&f.onEnd(function(){r()})}};t.exports=s},function(t,e,n){var r=n(27);n(89),n(62),n(65),n(72),n(73),n(75);var i=n(82),o=n(84),a=n(85),s=n(94);r.Animate=n(86),r.Chart.plugins.register([i,a,o,s]),t.exports=r},function(t,e,n){var r=n(4);n(68),n(25),n(59),n(70),n(60),n(90),n(92),t.exports=r},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n(0);n(91);var u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e},e.prototype.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e),r=this,i=n.x,o=n.y,a=void 0;if(!s.isArray(i)||!s.isArray(o)){var u=r.getXScale(),c=r.getYScale(),l=.5/(u.values?u.values.length:u.ticks.length),f=.5/(c.values?c.values.length:c.ticks.length);u.isCategory&&c.isCategory?(i=[i-l,i-l,i+l,i+l],o=[o-f,o+f,o+f,o-f]):s.isArray(i)?(i=[(a=i)[0],a[0],a[1],a[1]],o=[o-f/2,o+f/2,o+f/2,o-f/2]):s.isArray(o)&&(o=[(a=o)[0],a[1],a[1],a[0]],i=[i-l/2,i-l/2,i+l/2,i+l/2]),n.x=i,n.y=o}return n},e}(a);a.Polygon=u,t.exports=u},function(t,e,n){var r=n(5),i=n(0),o=r.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){for(var e=[],n=t.x,r=t.y,i=0,o=n.length;i<o;i++)e.push({x:n[i],y:r[i]});return e}});r.registerShape("polygon","polygon",{draw:function(t,e){var n=this.parsePoints(t.points),r=i.mix({fill:t.color,points:n},t.style);return e.addShape("Polygon",{className:"polygon",attrs:r})}}),t.exports=o},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n(0),u=n(26);n(93);var c=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return s.mix(o,u),o}return o(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e},e.prototype.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},e.prototype.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},e}(a);a.Schema=c,t.exports=c},function(t,e,n){function r(t){var e=t.sort(function(t,e){return t<e?1:-1}),n=e.length;if(n<4)for(var r=e[n-1],i=0;i<4-n;i++)e.push(r);return e}function i(t,e,n){var i=r(e);return[{x:t,y:i[0]},{x:t,y:i[1]},{x:t-n/2,y:i[2]},{x:t-n/2,y:i[1]},{x:t+n/2,y:i[1]},{x:t+n/2,y:i[2]},{x:t,y:i[2]},{x:t,y:i[3]}]}var o=n(5),a=n(0),s=o.registerFactory("schema",{});o.registerShape("schema","candle",{getPoints:function(t){return i(t.x,t.y,t.size)},draw:function(t,e){var n=this.parsePoints(t.points),r=a.mix({stroke:t.color,fill:t.color,lineWidth:1},t.style);return e.addShape("Custom",{className:"schema",attrs:r,createPath:function(t){t.beginPath(),t.moveTo(n[0].x,n[0].y),t.lineTo(n[1].x,n[1].y),t.moveTo(n[2].x,n[2].y);for(var e=3;e<6;e++)t.lineTo(n[e].x,n[e].y);t.closePath(),t.moveTo(n[6].x,n[6].y),t.lineTo(n[7].x,n[7].y)}})}}),t.exports=s},function(t,e,n){function r(t,e){var n={};for(var r in e)f.isNumber(t[r])&&t[r]!==e[r]?n[r]=e[r]:f.isArray(t[r])&&JSON.stringify(t[r])!==JSON.stringify(e[r])&&(n[r]=e[r]);return n}function i(t,e){var n=t.get("type"),r="geom-"+n,i=t.getXScale(),o=t.getYScale(),a=i.field||"x",s=o.field||"y",u=e[s],c=void 0;c=i.isIdentity?i.value:e[a],r+="interval"===n||"schema"===n?"-"+c:"line"===n||"area"===n||"path"===n?"-"+n:i.isCategory?"-"+c:"-"+c+"-"+u;var l=t._getGroupScales();return f.each(l,function(t){var n=t.field;"identity"!==t.type&&(r+="-"+e[n])}),r}function o(t,e,n){var r=[];return f.each(t,function(t){var o=t.get("container").get("children"),a=t.get("type"),s=f.isNil(t.get("animateCfg"))?l(a,e):t.get("animateCfg");!1!==s&&f.each(o,function(e,o){e.get("className")===a&&(e._id=i(t,e.get("origin")._origin),e.set("coord",n),e.set("animateCfg",s),e.set("index",o),r.push(e))}),t.set("shapes",o)}),r}function a(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n];if(i._id&&!i.isClip){var o=i._id;e[o]={_id:o,type:i.get("type"),attrs:f.mix({},i._attrs.attrs),className:i.get("className"),geomType:i.get("className"),index:i.get("index"),coord:i.get("coord"),animateCfg:i.get("animateCfg")}}}return e}function s(t,e,n,r){return f.isFunction(r)?r:f.isString(r)?y.Action[r]:y.getAnimation(t,e,n)}function u(t,e,n){if(n&&!1===n[e])return!1;var r=y.getAnimateCfg(t,e);return n&&n[e]?f.deepMix({},r,n[e]):r}function c(t,e,n){var i=void 0,o=void 0,a=[],c=[];f.each(e,function(e){var n=t[e._id];n?(e.set("cacheShape",n),a.push(e),delete t[e._id]):c.push(e)}),f.each(t,function(t){var e=t.className,r=t.coord,a=t._id,c=t.attrs,l=t.index,p=t.type;if(!1===(o=u(e,"leave",t.animateCfg)))return!0;if(i=s(e,r,"leave",o.animation),f.isFunction(i)){var h=n.addShape(p,{attrs:c,index:l,canvas:n,className:e});h._id=a,i(h,o,r)}}),f.each(a,function(t){var e=t.get("className");if(!1===(o=u(e,"update",t.get("animateCfg"))))return!0;var n=t.get("coord"),a=t.get("cacheShape").attrs,c=r(a,t._attrs.attrs);Object.keys(c).length&&(i=s(e,n,"update",o.animation),f.isFunction(i)?i(t,o,n):(t.attr(a),t.animate().to({attrs:c,duration:o.duration,easing:o.easing,delay:o.delay}).onEnd(function(){t.set("cacheShape",null)})))}),f.each(c,function(t){var e=t.get("className"),n=t.get("coord");if(!1===(o=u(e,"enter",t.get("animateCfg"))))return!0;if(i=s(e,n,"enter",o.animation),f.isFunction(i))if("interval"===e&&n.isPolar&&n.transposed){var r=t.get("index"),c=a[r-1];i(t,o,c)}else i(t,o,n)})}function l(t,e){if(!t)return null;var n=e.get("animate");return t.indexOf("guide-tag")>-1&&(t="guide-tag"),n?n[t]:null}var f=n(0),p=n(16),h=n(95),d=n(96),y=n(86),g=n(98),v=n(99),m=n(24),x=void 0;p.prototype.animate=function(){var t=this.get("attrs");return new d(this,t,x)},m.prototype.animate=function(t){return this.set("animate",t),this},y.Action=g,y.defaultCfg={interval:{enter:function(t){return t.isPolar&&t.transposed?function(t){t.set("zIndex",-1),t.get("parent").sort()}:g.fadeIn}},area:{enter:function(t){return t.isPolar?null:g.fadeIn}},line:{enter:function(t){return t.isPolar?null:g.fadeIn}},path:{enter:function(t){return t.isPolar?null:g.fadeIn}}};var b={line:function(t){return t.isPolar?v.groupScaleInXY:v.groupWaveIn},area:function(t){return t.isPolar?v.groupScaleInXY:v.groupWaveIn},path:function(t){return t.isPolar?v.groupScaleInXY:v.groupWaveIn},point:function(){return v.shapesScaleInXY},interval:function(t){var e=void 0;return t.isPolar?(e=v.groupScaleInXY,t.transposed&&(e=v.groupWaveIn)):e=t.transposed?v.groupScaleInX:v.groupScaleInY,e},schema:function(){return v.groupWaveIn}};t.exports={afterCanvasInit:function(){(x=new h).play()},beforeCanvasDraw:function(t){if(!1!==t.get("animate")){var e=t.get("isUpdate"),n=t.get("canvas"),r=t.get("coord"),i=t.get("geoms"),p=n.get("caches")||[];0===p.length&&(e=!1);var h=o(i,t,r),d=t.get("axisController"),g=d.frontPlot,m=d.backPlot,x=g.get("children").concat(m.get("children")),_=[];t.get("guideController")&&(_=t.get("guideController").guideShapes);var w=[];if(x.concat(_).forEach(function(e){var n=l(e.get("className"),t);e.set("coord",r),e.set("animateCfg",n),w.push(e),h.push(e)}),n.set("caches",a(h)),e)c(p,h,n);else{var S=void 0,P=void 0;f.each(i,function(e){var n=e.get("type"),i=f.isNil(e.get("animateCfg"))?l(n,t):e.get("animateCfg");if(!1!==i)if(S=u(n,"appear",i),P=s(n,r,"appear",S.animation),f.isFunction(P)){var o=e.get("shapes");f.each(o,function(t){P(t,S,r)})}else if(b[n]){P=v[S.animation]||b[n](r);var a=e.getYScale(),c=r.convertPoint({x:0,y:a.scale(e.getYMinValue())}),p=e.get("container");P&&P(p,S,r,c)}}),f.each(w,function(t){var e=t.get("animateCfg"),n=t.get("className");if(e&&e.appear){var i=y.getAnimateCfg(n,"appear"),o=f.deepMix({},i,e.appear),a=s(n,r,"appear",o.animation);f.isFunction(a)&&a(t,o,r)}})}}},afterCanvasDestroyed:function(){x.stop()}}},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof(t)},i="object"===("undefined"==typeof window?"undefined":r(window))&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)},o="object"===("undefined"==typeof performance?"undefined":r(performance))&&performance.now?performance:Date,a=function(){function t(){n(this,t),this.anims=[],this.time=null,this.playing=!1,this.canvas=[]}return t.prototype.play=function(){function t(){e.playing&&(i(t),e.update())}var e=this;e.time=o.now(),e.playing=!0,i(t)},t.prototype.stop=function(){
this.playing=!1,this.time=null,this.canvas=[]},t.prototype.update=function(){var t=o.now();this.canvas=[];for(var e=0;e<this.anims.length;e++){var n=this.anims[e];if(!(t<n.startTime||n.hasEnded)){var r=n.shape;if(r.get("destroyed"))this.anims.splice(e,1),e--;else{var i=n.startState,a=n.endState,s=n.interpolate,u=n.duration;t>=n.startTime&&!n.hasStarted&&(n.hasStarted=!0,n.onStart&&n.onStart());var c=(t-n.startTime)/u;if(c=Math.max(0,Math.min(c,1)),c=n.easing(c),n.onFrame)n.onFrame(c);else for(var l in s){var f=(0,s[l])(c),p=void 0;if("points"===l){p=[];for(var h=Math.max(i.points.length,a.points.length),d=0;d<h;d+=2)p.push({x:f[d],y:f[d+1]})}else p=f;r._attrs.attrs[l]=p}var y=r.get("canvas");-1===this.canvas.indexOf(y)&&this.canvas.push(y),n.onUpdate&&n.onUpdate(c),t>=n.endTime&&!n.hasEnded&&(n.hasEnded=!0,n.onEnd&&n.onEnd()),1===c&&(this.anims.splice(e,1),e--)}}}this.canvas.map(function(t){return t.draw(),t}),this.time=o.now()},t}();t.exports=a},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]&&(e.push(t[n].x),e.push(t[n].y));return e}function o(t,e){return t=+t,e-=t,function(n){return t+e*n}}function a(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s=void 0;for(s=0;s<r;++s)i[s]=o(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(t){for(s=0;s<r;++s)a[s]=i[s](t);return a}}var s=n(97),u=function(){function t(e,n,i){r(this,t),this.hasStarted=!1,this.hasEnded=!1,this.shape=e,this.source=n,this.timeline=i,this.animate=null}return t.prototype.to=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.delay||0,n=t.attrs||{},r=t.duration||1e3,u=void 0;u="function"==typeof t.easing?t.easing:s[t.easing]||s.linear;var c={shape:this.shape,startTime:this.timeline.time+e,duration:r,easing:u},l={};for(var f in n){var p=this.source[f],h=n[f];"points"===f?(p=i(p),h=i(h),l.points=a(p,h),this.source.points=p,n.points=h):"matrix"===f?l.matrix=a(p,h):l[f]=o(p,h)}return c.interpolate=l,c.startState=this.source,c.endState=n,c.endTime=c.startTime+r,this.timeline.anims.push(c),this.animate=c,this},t.prototype.onFrame=function(t){return this.animate&&(this.animate.onFrame=function(e){t(e)}),this},t.prototype.onStart=function(t){return this.animate&&(this.animate.onStart=function(){t()}),this},t.prototype.onUpdate=function(t){return this.animate&&(this.animate.onUpdate=function(e){t(e)}),this},t.prototype.onEnd=function(t){return this.animate&&(this.animate.onEnd=function(){t()}),this},t}();t.exports=u},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},elasticIn:function(t){var e=void 0,n=.1,r=.4;return 0===t?0:1===t?1:(r||(r=.3),!n||n<1?(n=1,e=r/4):e=r/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))},elasticOut:function(t){var e=void 0,n=.1,r=.4;return 0===t?0:1===t?1:(r||(r=.3),!n||n<1?(n=1,e=r/4):e=r/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e=void 0,n=.1,r=.4;return 0===t?0:1===t?1:(r||(r=.3),!n||n<1?(n=1,e=r/4):e=r/(2*Math.PI)*Math.asin(1/n),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}};t.exports=n},function(t,e,n){var r=n(0),i=n(87);t.exports={fadeIn:function(t,e){var n=r.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),o=r.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0);var a={fillOpacity:n,strokeOpacity:o};i.doAnimation(t,a,e)}}},function(t,e,n){function r(t,e,n,r,i){var s=o.getCoordInfo(n),u=s.start,c=s.end,l=s.width,f=s.height,p=void 0,h=void 0,d=new a.Rect({attrs:{x:u.x,y:c.y,width:l,height:f}});"y"===i?(p=u.x+l/2,h=r.y<u.y?r.y:u.y):"x"===i?(p=r.x>u.x?r.x:u.x,h=u.y+f/2):"xy"===i&&(n.isPolar?(p=n.center.x,h=n.center.y):(p=(u.x+c.x)/2,h=(u.y+c.y)/2));var y=o.getScaledMatrix(d,[p,h],i);d.isClip=!0,d.endState={matrix:y},d.set("canvas",t.get("canvas")),t.attr("clip",d),o.doAnimation(d,d.endState,e,function(){t.attr("clip",null),d.remove(!0)})}function i(t,e,n){for(var r=t.get("children"),i=void 0,a=void 0,s=void 0,u=0,c=r.length;u<c;u++){var l=r[u],f=l.getBBox();i=(f.minX+f.maxX)/2,a=(f.minY+f.maxY)/2,s=o.getScaledMatrix(l,[i,a],n),o.doAnimation(l,{matrix:s},e)}}var o=n(87),a=n(6).Shape;t.exports={groupWaveIn:function(t,e,n){var r=o.getClip(n);r.set("canvas",t.get("canvas")),t.attr("clip",r),o.doAnimation(r,r.endState,e,function(){t.attr("clip",null),r.remove(!0)})},groupScaleInX:function(t,e,n,i){r(t,e,n,i,"x")},groupScaleInY:function(t,e,n,i){r(t,e,n,i,"y")},groupScaleInXY:function(t,e,n,i){r(t,e,n,i,"xy")},shapesScaleInX:function(t,e){i(t,e,"x")},shapesScaleInY:function(t,e){i(t,e,"y")},shapesScaleInXY:function(t,e){i(t,e,"xy")}}}])}); 
 			}); 
		define("npm/miniprogram-computed/miniprogram_dist/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
module.exports=function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)e.d(n,r,function(e){return t[e]}.bind(null,r));return n},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=Behavior({lifetimes:{created:function(){this._computedCache={},this._originalSetData=this.setData,this.setData=this._setData,this._doingSetData=!1,this._doingSetProps=!1}},definitionFilter:function(t){var e=t.computed||{},o=Object.keys(e),r=t.properties||{},i=Object.keys(r),a=function(t){for(var n={},r=t._computedCache||t.data,i=0,a=o.length;i<a;i++){var s=o[i],u=e[s];if("function"==typeof u){var c=u.call(t);r[s]!==c&&(n[s]=c,r[s]=c)}}return n};!function(){t.data=t.data||{};var e=t.data,o=Object.prototype.hasOwnProperty;i.length&&Object.keys(r).forEach(function(t){var i=r[t],s=void 0;null===i||i===Number||i===String||i===Boolean||i===Object||i===Array?r[t]={type:i}:"object"===(void 0===i?"undefined":n(i))&&(o.call(i,"value")&&(e[t]=i.value),o.call(i,"observer")&&"function"==typeof i.observer&&(s=i.observer)),r[t].observer=function(){for(var t=this._originalSetData,e=arguments.length,o=Array(e),n=0;n<e;n++)o[n]=arguments[n];if(this._doingSetProps)return void(s&&s.apply(this,o));if(this._doingSetData)return void console.warn("can't call setData in computed getter function!");this._doingSetData=!0;var r=a(this);t.call(this,r),this._doingSetData=!1,s&&s.apply(this,o)}}),a(t)}(),t.methods=t.methods||{},t.methods._setData=function(t,o){var n=this._originalSetData;if(this._doingSetData)return void console.warn("can't call setData in computed getter function!");this._doingSetData=!0;for(var r=Object.keys(t),s=0,u=r.length;s<u;s++){var c=r[s];e[c]&&delete t[c],!this._doingSetProps&&i.indexOf(c)>=0&&(this._doingSetProps=!0)}n.call(this,t,o);var l=a(this);n.call(this,l),this._doingSetData=!1,this._doingSetProps=!1}}})}]); 
 			}); 
		define("npm/promise-polyfill/promise.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
!function(e){function n(){}function t(e,n){return function(){e.apply(n,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function i(e,n){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(n);e._handled=!0,o._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null===t)return void(1===e._state?r:u)(n.promise,e._value);var o;try{o=t(e._value)}catch(e){return void u(n.promise,e)}r(n.promise,o)})}function r(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof o)return e._state=3,e._value=n,void f(e);if("function"==typeof i)return void a(t(i,n),e)}e._state=1,e._value=n,f(e)}catch(n){u(e,n)}}function u(e,n){e._state=2,e._value=n,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;n<t;n++)i(e,e._deferreds[n]);e._deferreds=null}function c(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function a(e,n){var t=!1;try{e(function(e){t||(t=!0,r(n,e))},function(e){t||(t=!0,u(n,e))})}catch(e){if(t)return;t=!0,u(n,e)}}var s=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var o=new this.constructor(n);return i(this,new c(e,t,o)),o},o.all=function(e){return new o(function(n,t){function o(e,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,function(n){o(e,n)},t)}i[e]=u,0==--r&&n(i)}catch(e){t(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return n([]);for(var r=i.length,u=0;u<i.length;u++)o(u,i[u])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(n){n(e)})},o.reject=function(e){return new o(function(n,t){t(e)})},o.race=function(e){return new o(function(n,t){for(var o=0,i=e.length;o<i;o++)e[o].then(n,t)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){s(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=o:e.Promise||(e.Promise=o)}(this); 
 			}); 
		define("npm/reduce-reducers/lib/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o="function"!=typeof t[t.length-1]&&t.pop(),n=t;if(void 0===o)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var r=arguments.length,u=Array(r>2?r-2:0),a=2;a<r;a++)u[a-2]=arguments[a];var i=void 0===e,d=void 0===t;return i&&d&&o?o:n.reduce(function(e,r){return r.apply(void 0,[e,t].concat(u))},i&&!d&&o?o:e)}},module.exports=exports.default; 
 			}); 
		define("npm/redux-actions/lib/combineActions.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function isValidActionType(t){return(0,_isString.default)(t)||(0,_isFunction.default)(t)||(0,_isSymbol.default)(t)}function isValidActionTypes(t){return!(0,_isEmpty.default)(t)&&t.every(isValidActionType)}function combineActions(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];(0,_invariant.default)(isValidActionTypes(i),"Expected action types to be strings, symbols, or action creators");var r=i.map(_toString.default).join(_constants.ACTION_TYPE_DELIMITER);return{toString:function(){return r}}}exports.__esModule=!0,exports.default=combineActions;var _invariant=_interopRequireDefault(require("./../../invariant/browser.js")),_isFunction=_interopRequireDefault(require("./utils/isFunction.js")),_isSymbol=_interopRequireDefault(require("./utils/isSymbol.js")),_isEmpty=_interopRequireDefault(require("./utils/isEmpty.js")),_toString=_interopRequireDefault(require("./utils/toString.js")),_isString=_interopRequireDefault(require("./utils/isString.js")),_constants=require("./constants.js"); 
 			}); 
		define("npm/redux-actions/lib/constants.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.ACTION_TYPE_DELIMITER=exports.DEFAULT_NAMESPACE=void 0;var DEFAULT_NAMESPACE="/";exports.DEFAULT_NAMESPACE=DEFAULT_NAMESPACE;var ACTION_TYPE_DELIMITER="||";exports.ACTION_TYPE_DELIMITER=ACTION_TYPE_DELIMITER; 
 			}); 
		define("npm/redux-actions/lib/createAction.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createAction(e,t,i){void 0===t&&(t=_identity.default),(0,_invariant.default)((0,_isFunction.default)(t)||(0,_isNull.default)(t),"Expected payloadCreator to be a function, undefined or null");var r=(0,_isNull.default)(t)||t===_identity.default?_identity.default:function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return e instanceof Error?e:t.apply(void 0,[e].concat(r))},n=(0,_isFunction.default)(i),u=e.toString(),a=function(){var t=r.apply(void 0,arguments),u={type:e};return t instanceof Error&&(u.error=!0),void 0!==t&&(u.payload=t),n&&(u.meta=i.apply(void 0,arguments)),u};return a.toString=function(){return u},a}exports.__esModule=!0,exports.default=createAction;var _invariant=_interopRequireDefault(require("./../../invariant/browser.js")),_isFunction=_interopRequireDefault(require("./utils/isFunction.js")),_identity=_interopRequireDefault(require("./utils/identity.js")),_isNull=_interopRequireDefault(require("./utils/isNull.js")); 
 			}); 
		define("npm/redux-actions/lib/createActions.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function createActions(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var n=(0,_isPlainObject.default)((0,_getLastElement.default)(r))?r.pop():{};return(0,_invariant.default)(r.every(_isString.default)&&((0,_isString.default)(e)||(0,_isPlainObject.default)(e)),"Expected optional object followed by string action types"),(0,_isString.default)(e)?actionCreatorsFromIdentityActions([e].concat(r),n):_objectSpread({},actionCreatorsFromActionMap(e,n),actionCreatorsFromIdentityActions(r,n))}function actionCreatorsFromActionMap(e,t){var r=(0,_flattenActionMap.default)(e,t),i=actionMapToActionCreators(r);return(0,_unflattenActionCreators.default)(i,t)}function actionMapToActionCreators(e,t){function r(e){if((0,_isFunction.default)(e)||(0,_isNil.default)(e))return!0;if((0,_isArray.default)(e)){var t=e[0],r=void 0===t?_identity.default:t,i=e[1];return(0,_isFunction.default)(r)&&(0,_isFunction.default)(i)}return!1}var i=void 0===t?{}:t,n=i.prefix,a=i.namespace,o=void 0===a?_constants.DEFAULT_NAMESPACE:a;return(0,_arrayToObject.default)(Object.keys(e),function(t,i){var a,u=e[i];(0,_invariant.default)(r(u),"Expected function, undefined, null, or array with payload and meta functions for "+i);var c=n?""+n+o+i:i,l=(0,_isArray.default)(u)?_createAction.default.apply(void 0,[c].concat(u)):(0,_createAction.default)(c,u);return _objectSpread({},t,(a={},a[i]=l,a))})}function actionCreatorsFromIdentityActions(e,t){var r=(0,_arrayToObject.default)(e,function(e,t){var r;return _objectSpread({},e,(r={},r[t]=_identity.default,r))}),i=actionMapToActionCreators(r,t);return(0,_arrayToObject.default)(Object.keys(i),function(e,t){var r;return _objectSpread({},e,(r={},r[(0,_camelCase.default)(t)]=i[t],r))})}exports.__esModule=!0,exports.default=createActions;var _invariant=_interopRequireDefault(require("./../../invariant/browser.js")),_isPlainObject=_interopRequireDefault(require("./utils/isPlainObject.js")),_isFunction=_interopRequireDefault(require("./utils/isFunction.js")),_identity=_interopRequireDefault(require("./utils/identity.js")),_isArray=_interopRequireDefault(require("./utils/isArray.js")),_isString=_interopRequireDefault(require("./utils/isString.js")),_isNil=_interopRequireDefault(require("./utils/isNil.js")),_getLastElement=_interopRequireDefault(require("./utils/getLastElement.js")),_camelCase=_interopRequireDefault(require("./utils/camelCase.js")),_arrayToObject=_interopRequireDefault(require("./utils/arrayToObject.js")),_flattenActionMap=_interopRequireDefault(require("./utils/flattenActionMap.js")),_unflattenActionCreators=_interopRequireDefault(require("./utils/unflattenActionCreators.js")),_createAction=_interopRequireDefault(require("./createAction.js")),_constants=require("./constants.js"); 
 			}); 
		define("npm/redux-actions/lib/createCurriedAction.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.default=void 0;var _justCurryIt=_interopRequireDefault(require("./../../just-curry-it/index.js")),_createAction=_interopRequireDefault(require("./createAction.js")),_default=function(e,t){return(0,_justCurryIt.default)((0,_createAction.default)(e,t),t.length)};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/handleAction.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function handleAction(e,t,i){void 0===t&&(t=_identity.default);var n=(0,_toString.default)(e).split(_constants.ACTION_TYPE_DELIMITER);(0,_invariant.default)(!(0,_isUndefined.default)(i),"defaultState for reducer handling "+n.join(", ")+" should be defined"),(0,_invariant.default)((0,_isFunction.default)(t)||(0,_isPlainObject.default)(t),"Expected reducer to be a function or object with next and throw reducers");var r=(0,_isFunction.default)(t)?[t,t]:[t.next,t.throw].map(function(e){return(0,_isNil.default)(e)?_identity.default:e}),u=r[0],a=r[1];return function(e,t){void 0===e&&(e=i);var r=t.type;return r&&-1!==n.indexOf((0,_toString.default)(r))?(!0===t.error?a:u)(e,t):e}}exports.__esModule=!0,exports.default=handleAction;var _invariant=_interopRequireDefault(require("./../../invariant/browser.js")),_isFunction=_interopRequireDefault(require("./utils/isFunction.js")),_isPlainObject=_interopRequireDefault(require("./utils/isPlainObject.js")),_identity=_interopRequireDefault(require("./utils/identity.js")),_isNil=_interopRequireDefault(require("./utils/isNil.js")),_isUndefined=_interopRequireDefault(require("./utils/isUndefined.js")),_toString=_interopRequireDefault(require("./utils/toString.js")),_constants=require("./constants.js"); 
 			}); 
		define("npm/redux-actions/lib/handleActions.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function handleActions(e,t,r){void 0===r&&(r={}),(0,_invariant.default)((0,_isPlainObject.default)(e)||(0,_isMap.default)(e),"Expected handlers to be a plain object.");var i=(0,_flattenReducerMap.default)(e,r),u=(0,_ownKeys.default)(i).map(function(e){return(0,_handleAction.default)(e,(0,_get.default)(e,i),t)}),a=_reduceReducers.default.apply(void 0,u.concat([t]));return function(e,r){return void 0===e&&(e=t),a(e,r)}}exports.__esModule=!0,exports.default=handleActions;var _reduceReducers=_interopRequireDefault(require("./../../reduce-reducers/lib/index.js")),_invariant=_interopRequireDefault(require("./../../invariant/browser.js")),_isPlainObject=_interopRequireDefault(require("./utils/isPlainObject.js")),_isMap=_interopRequireDefault(require("./utils/isMap.js")),_ownKeys=_interopRequireDefault(require("./utils/ownKeys.js")),_flattenReducerMap=_interopRequireDefault(require("./utils/flattenReducerMap.js")),_handleAction=_interopRequireDefault(require("./handleAction.js")),_get=_interopRequireDefault(require("./utils/get.js")); 
 			}); 
		define("npm/redux-actions/lib/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var _combineActions=_interopRequireDefault(require("./combineActions.js"));exports.combineActions=_combineActions.default;var _createAction=_interopRequireDefault(require("./createAction.js"));exports.createAction=_createAction.default;var _createActions=_interopRequireDefault(require("./createActions.js"));exports.createActions=_createActions.default;var _createCurriedAction=_interopRequireDefault(require("./createCurriedAction.js"));exports.createCurriedAction=_createCurriedAction.default;var _handleAction=_interopRequireDefault(require("./handleAction.js"));exports.handleAction=_handleAction.default;var _handleActions=_interopRequireDefault(require("./handleActions.js"));exports.handleActions=_handleActions.default; 
 			}); 
		define("npm/redux-actions/lib/utils/arrayToObject.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(e,t){return e.reduce(function(e,u){return t(e,u)},{})};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/camelCase.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.default=void 0;var _toCamelCase=_interopRequireDefault(require("./../../../to-camel-case/index.js")),namespacer="/",_default=function(e){return-1===e.indexOf(namespacer)?(0,_toCamelCase.default)(e):e.split(namespacer).map(_toCamelCase.default).join(namespacer)};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/flattenActionMap.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.default=void 0;var _isPlainObject=_interopRequireDefault(require("./isPlainObject.js")),_flattenWhenNode=_interopRequireDefault(require("./flattenWhenNode.js")),_default=(0,_flattenWhenNode.default)(_isPlainObject.default);exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/flattenReducerMap.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.default=void 0;var _isPlainObject=_interopRequireDefault(require("./isPlainObject.js")),_isMap=_interopRequireDefault(require("./isMap.js")),_hasGeneratorInterface=_interopRequireDefault(require("./hasGeneratorInterface.js")),_flattenWhenNode=_interopRequireDefault(require("./flattenWhenNode.js")),_default=(0,_flattenWhenNode.default)(function(e){return((0,_isPlainObject.default)(e)||(0,_isMap.default)(e))&&!(0,_hasGeneratorInterface.default)(e)});exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/flattenWhenNode.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.default=void 0;var _constants=require("./../constants.js"),_ownKeys=_interopRequireDefault(require("./ownKeys.js")),_get=_interopRequireDefault(require("./get.js")),_default=function(e){return function t(n,r,u,o){function a(e){var t;if(!o)return e;var n=e.toString().split(_constants.ACTION_TYPE_DELIMITER),r=o.split(_constants.ACTION_TYPE_DELIMITER);return(t=[]).concat.apply(t,r.map(function(e){return n.map(function(t){return""+e+f+t})})).join(_constants.ACTION_TYPE_DELIMITER)}function i(e){return o||!c||c&&new RegExp("^"+c+f).test(e)?e:""+c+f+e}var s=void 0===r?{}:r,_=s.namespace,f=void 0===_?_constants.DEFAULT_NAMESPACE:_,c=s.prefix;return void 0===u&&(u={}),void 0===o&&(o=""),(0,_ownKeys.default)(n).forEach(function(r){var o=i(a(r)),s=(0,_get.default)(r,n);e(s)?t(s,{namespace:f,prefix:c},u,o):u[o]=s}),u}};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/get.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function get(e,t){return(0,_isMap.default)(t)?t.get(e):t[e]}exports.__esModule=!0,exports.default=get;var _isMap=_interopRequireDefault(require("./isMap.js")); 
 			}); 
		define("npm/redux-actions/lib/utils/getLastElement.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(e){return e[e.length-1]};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/hasGeneratorInterface.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function hasGeneratorInterface(e){var r=(0,_ownKeys.default)(e),t=r.every(function(e){return"next"===e||"throw"===e});return r.length&&r.length<=2&&t}exports.__esModule=!0,exports.default=hasGeneratorInterface;var _ownKeys=_interopRequireDefault(require("./ownKeys.js")); 
 			}); 
		define("npm/redux-actions/lib/utils/identity.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(e){return e};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isArray.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(e){return Array.isArray(e)};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isEmpty.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(e){return 0===e.length};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isFunction.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(t){return"function"==typeof t};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isMap.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(e){return"undefined"!=typeof Map&&e instanceof Map};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isNil.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(e){return null===e||void 0===e};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isNull.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(e){return null===e};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isPlainObject.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isString.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(t){return"string"==typeof t};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isSymbol.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(t){return"symbol"==typeof t||"object"==typeof t&&"[object Symbol]"===Object.prototype.toString.call(t)};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/isUndefined.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(e){return void 0===e};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/ownKeys.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(e){if((0,_isMap.default)(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}exports.__esModule=!0,exports.default=ownKeys;var _isMap=_interopRequireDefault(require("./isMap.js")); 
 			}); 
		define("npm/redux-actions/lib/utils/toString.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.__esModule=!0,exports.default=void 0;var _default=function(t){return t.toString()};exports.default=_default; 
 			}); 
		define("npm/redux-actions/lib/utils/unflattenActionCreators.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function unflattenActionCreators(e,t){function r(t,a,n){var s=(0,_camelCase.default)(n.shift());(0,_isEmpty.default)(n)?a[s]=e[t]:(a[s]||(a[s]={}),r(t,a[s],n))}var a=void 0===t?{}:t,n=a.namespace,s=void 0===n?_constants.DEFAULT_NAMESPACE:n,u=a.prefix,i={};return Object.getOwnPropertyNames(e).forEach(function(e){var t=u?e.replace(""+u+s,""):e;return r(e,i,t.split(s))}),i}exports.__esModule=!0,exports.default=unflattenActionCreators;var _constants=require("./../constants.js"),_isEmpty=_interopRequireDefault(require("./isEmpty.js")),_camelCase=_interopRequireDefault(require("./camelCase.js")); 
 			}); 
		define("npm/redux-promise/lib/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){_defineProperty(e,r,t[r])})}return e}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function promiseMiddleware(e){var r=e.dispatch;return function(e){return function(t){return(0,_fluxStandardAction.isFSA)(t)?(0,_isPromise.default)(t.payload)?t.payload.then(function(e){return r(_objectSpread({},t,{payload:e}))}).catch(function(e){return r(_objectSpread({},t,{payload:e,error:!0})),Promise.reject(e)}):e(t):(0,_isPromise.default)(t)?t.then(r):e(t)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=promiseMiddleware;var _isPromise=_interopRequireDefault(require("./../../is-promise/index.js")),_fluxStandardAction=require("./../../flux-standard-action/lib/index.js"); 
 			}); 
		define("npm/redux/lib/applyMiddleware.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function applyMiddleware(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,o){var a=e(r,n,o),u=a.dispatch,p=[],i={getState:a.getState,dispatch:function(e){return u(e)}};return p=t.map(function(e){return e(i)}),u=_compose2.default.apply(void 0,p)(a.dispatch),_extends({},a,{dispatch:u})}}}exports.__esModule=!0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};exports.default=applyMiddleware;var _compose=require("./compose.js"),_compose2=_interopRequireDefault(_compose); 
 			}); 
		define("npm/redux/lib/bindActionCreators.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function bindActionCreator(t,o){return function(){return o(t.apply(void 0,arguments))}}function bindActionCreators(t,o){if("function"==typeof t)return bindActionCreator(t,o);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),n={},e=0;e<r.length;e++){var i=r[e],c=t[i];"function"==typeof c&&(n[i]=bindActionCreator(c,o))}return n}exports.__esModule=!0,exports.default=bindActionCreators; 
 			}); 
		define("npm/redux/lib/combineReducers.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getUndefinedStateErrorMessage(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function getUnexpectedStateShapeWarningMessage(e,t,n,r){var i=Object.keys(t),o=n&&n.type===_createStore.ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===i.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,_isPlainObject2.default)(e))return"The "+o+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+i.join('", "')+'"';var a=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!r[e]});return a.forEach(function(e){r[e]=!0}),a.length>0?"Unexpected "+(a.length>1?"keys":"key")+' "'+a.join('", "')+'" found in '+o+'. Expected to find one of the known reducer keys instead: "'+i.join('", "')+'". Unexpected keys will be ignored.':void 0}function assertReducerShape(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:_createStore.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+_createStore.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function combineReducers(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n),a=void 0;try{assertReducerShape(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],d=n[s],c=e[s],l=d(c,t);if(void 0===l){var f=getUndefinedStateErrorMessage(s,t);throw new Error(f)}i[s]=l,r=r||l!==c}return r?i:e}}exports.__esModule=!0,exports.default=combineReducers;var _createStore=require("./createStore.js"),_isPlainObject=require("./../../lodash/isPlainObject.js"),_isPlainObject2=_interopRequireDefault(_isPlainObject),_warning=require("./utils/warning.js"),_warning2=_interopRequireDefault(_warning); 
 			}); 
		define("npm/redux/lib/compose.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function compose(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return 0===r.length?function(e){return e}:1===r.length?r[0]:r.reduce(function(e,r){return function(){return e(r.apply(void 0,arguments))}})}exports.__esModule=!0,exports.default=compose; 
 			}); 
		define("npm/redux/lib/createStore.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createStore(e,t,r){function n(){p===l&&(p=l.slice())}function o(){return b}function i(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return n(),p.push(e),function(){if(t){t=!1,n();var r=p.indexOf(e);p.splice(r,1)}}}function c(e){if(!(0,_isPlainObject2.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,b=f(b,e)}finally{d=!1}for(var t=l=p,r=0;r<t.length;r++){(0,t[r])()}return e}function s(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");f=e,c({type:ActionTypes.INIT})}function u(){var e,t=i;return e={subscribe:function(e){function r(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return r(),{unsubscribe:t(r)}}},e[_symbolObservable2.default]=function(){return this},e}var a;if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(createStore)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var f=e,b=t,l=[],p=l,d=!1;return c({type:ActionTypes.INIT}),a={dispatch:c,subscribe:i,getState:o,replaceReducer:s},a[_symbolObservable2.default]=u,a}exports.__esModule=!0,exports.ActionTypes=void 0,exports.default=createStore;var _isPlainObject=require("./../../lodash/isPlainObject.js"),_isPlainObject2=_interopRequireDefault(_isPlainObject),_symbolObservable=require("./../../symbol-observable/lib/index.js"),_symbolObservable2=_interopRequireDefault(_symbolObservable),ActionTypes=exports.ActionTypes={INIT:"@@redux/INIT"}; 
 			}); 
		define("npm/redux/lib/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isCrushed(){}exports.__esModule=!0,exports.compose=exports.applyMiddleware=exports.bindActionCreators=exports.combineReducers=exports.createStore=void 0;var _createStore=require("./createStore.js"),_createStore2=_interopRequireDefault(_createStore),_combineReducers=require("./combineReducers.js"),_combineReducers2=_interopRequireDefault(_combineReducers),_bindActionCreators=require("./bindActionCreators.js"),_bindActionCreators2=_interopRequireDefault(_bindActionCreators),_applyMiddleware=require("./applyMiddleware.js"),_applyMiddleware2=_interopRequireDefault(_applyMiddleware),_compose=require("./compose.js"),_compose2=_interopRequireDefault(_compose),_warning=require("./utils/warning.js"),_warning2=_interopRequireDefault(_warning);exports.createStore=_createStore2.default,exports.combineReducers=_combineReducers2.default,exports.bindActionCreators=_bindActionCreators2.default,exports.applyMiddleware=_applyMiddleware2.default,exports.compose=_compose2.default; 
 			}); 
		define("npm/redux/lib/utils/warning.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function warning(o){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(o);try{throw new Error(o)}catch(o){}}exports.__esModule=!0,exports.default=warning; 
 			}); 
		define("npm/regenerator-runtime/runtime.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
!function(t){"use strict";function r(t,r,e,o){var i=r&&r.prototype instanceof n?r:n,a=Object.create(i.prototype),c=new l(o||[]);return a._invoke=u(t,e,c),a}function e(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function c(r){function n(t,o,i,a){var c=e(r[t],r,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&g.call(h,"__await")?Promise.resolve(h.__await).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},a)}a(c.arg)}function o(t,r){function e(){return new Promise(function(e,o){n(t,r,e,o)})}return i=i?i.then(e,e):e()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var i;this._invoke=o}function u(t,r,n){var o=j;return function(i,a){if(o===O)throw new Error("Generator is already running");if(o===k){if("throw"===i)throw a;return y()}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=h(c,n);if(u){if(u===G)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===j)throw o=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=O;var s=e(t,r,n);if("normal"===s.type){if(o=n.done?k:_,s.arg===G)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=k,n.method="throw",n.arg=s.arg)}}}function h(t,r){var n=t.iterator[r.method];if(n===d){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=d,h(t,r),"throw"===r.method))return G;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return G}var o=e(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,G;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=d),r.delegate=null,G):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,G)}function s(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function f(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function l(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(s,this),this.reset(!0)}function p(t){if(t){var r=t[w];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function r(){for(;++e<t.length;)if(g.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=d,r.done=!0,r};return n.next=n}}return{next:y}}function y(){return{value:d,done:!0}}var d,v=Object.prototype,g=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},w=m.iterator||"@@iterator",L=m.asyncIterator||"@@asyncIterator",x=m.toStringTag||"@@toStringTag",b="object"==typeof module,E=t.regeneratorRuntime;if(E)return void(b&&(module.exports=E));E=t.regeneratorRuntime=b?module.exports:{},E.wrap=r;var j="suspendedStart",_="suspendedYield",O="executing",k="completed",G={},N={};N[w]=function(){return this};var P=Object.getPrototypeOf,S=P&&P(P(p([])));S&&S!==v&&g.call(S,w)&&(N=S);var F=i.prototype=n.prototype=Object.create(N);o.prototype=F.constructor=i,i.constructor=o,i[x]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===o||"GeneratorFunction"===(r.displayName||r.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(F),t},E.awrap=function(t){return{__await:t}},a(c.prototype),c.prototype[L]=function(){return this},E.AsyncIterator=c,E.async=function(t,e,n,o){var i=new c(r(t,e,n,o));return E.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},a(F),F[x]="Generator",F[w]=function(){return this},F.toString=function(){return"[object Generator]"},E.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},E.values=p,l.prototype={constructor:l,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(f),!t)for(var r in this)"t"===r.charAt(0)&&g.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=d)},stop:function(){this.done=!0;var t=this.tryEntries[0],r=t.completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(t){function r(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=d),!!n}if(this.done)throw t;for(var e=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),c=g.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,G):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),G},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),f(e),G}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;f(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:p(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=d),G}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this); 
 			}); 
		define("npm/reselect/lib/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function defaultEqualityCheck(e,r){return e===r}function areArgumentsShallowlyEqual(e,r,t){if(null===r||null===t||r.length!==t.length)return!1;for(var n=r.length,o=0;o<n;o++)if(!e(r[o],t[o]))return!1;return!0}function defaultMemoize(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultEqualityCheck,t=null,n=null;return function(){return areArgumentsShallowlyEqual(r,t,arguments)||(n=e.apply(null,arguments)),t=arguments,n}}function getDependencies(e){var r=Array.isArray(e[0])?e[0]:e;if(!r.every(function(e){return"function"==typeof e})){var t=r.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return r}function createSelectorCreator(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var u=0,c=n.pop(),l=getDependencies(n),a=e.apply(void 0,[function(){return u++,c.apply(null,arguments)}].concat(t)),i=e(function(){for(var e=[],r=l.length,t=0;t<r;t++)e.push(l[t].apply(null,arguments));return a.apply(null,e)});return i.resultFunc=c,i.dependencies=l,i.recomputations=function(){return u},i.resetRecomputations=function(){return u=0},i}}function createStructuredSelector(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:createSelector;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var t=Object.keys(e);return r(t.map(function(r){return e[r]}),function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(function(e,r,n){return e[t[n]]=r,e},{})})}exports.__esModule=!0,exports.defaultMemoize=defaultMemoize,exports.createSelectorCreator=createSelectorCreator,exports.createStructuredSelector=createStructuredSelector;var createSelector=exports.createSelector=createSelectorCreator(defaultMemoize); 
 			}); 
		define("npm/symbol-observable/lib/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _ponyfill=require("./ponyfill.js"),_ponyfill2=_interopRequireDefault(_ponyfill),root;root="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var result=(0,_ponyfill2.default)(root);exports.default=result; 
 			}); 
		define("npm/symbol-observable/lib/ponyfill.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function symbolObservablePonyfill(e){var b,l=e.Symbol;return"function"==typeof l?l.observable?b=l.observable:(b=l("observable"),l.observable=b):b="@@observable",b}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=symbolObservablePonyfill; 
 			}); 
		define("npm/to-camel-case/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function toCamelCase(e){return space(e).replace(/\s(\w)/g,function(e,a){return a.toUpperCase()})}var space=require("./../to-space-case/index.js");module.exports=toCamelCase; 
 			}); 
		define("npm/to-no-case/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function toNoCase(e){return hasSpace.test(e)?e.toLowerCase():hasSeparator.test(e)?(unseparate(e)||e).toLowerCase():hasCamel.test(e)?uncamelize(e).toLowerCase():e.toLowerCase()}function unseparate(e){return e.replace(separatorSplitter,function(e,t){return t?" "+t:""})}function uncamelize(e){return e.replace(camelSplitter,function(e,t,a){return t+" "+a.toLowerCase().split("").join(" ")})}module.exports=toNoCase;var hasSpace=/\s/,hasSeparator=/(_|-|\.|:)/,hasCamel=/([a-z][A-Z]|[A-Z][a-z])/,separatorSplitter=/[\W_]+(.|$)/g,camelSplitter=/(.)([A-Z]+)/g; 
 			}); 
		define("npm/to-space-case/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
function toSpaceCase(e){return clean(e).replace(/[\W_]+(.|$)/g,function(e,n){return n?" "+n:""}).trim()}var clean=require("./../to-no-case/index.js");module.exports=toSpaceCase; 
 			}); 
		define("npm/wepy-async-function/global.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
var global=module.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:this||Function("return this")(); 
 			}); 
		define("npm/wepy-async-function/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
var g=require("./global.js");g?(g.Promise||(g.Promise=require("./../promise-polyfill/promise.js")),g.regeneratorRuntime||(g.regeneratorRuntime=require("./../regenerator-runtime/runtime.js"))):console.warn('请确认关闭小程序选项 "关闭ES6转ES5"'); 
 			}); 
		define("npm/wepy-redux/lib/connect/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function connect(t,e){return t=(0,_helpers.mapState)(t||{}),e=(0,_helpers.mapActions)(e||{}),function(o){var n=null,r=o.prototype.onLoad,s=o.prototype.onUnload,i=function(){var e=this,o=((0,_store.getStore)(),!1);Object.keys(t).forEach(function(n){var r=t[n].call(e);e[n]!==r&&(e[n]=r,o=!0)}),o&&this.$apply()};return function(o){function c(){_classCallCheck(this,c);var n=_possibleConstructorReturn(this,o.call(this));return n.computed=Object.assign(n.computed||{},t),n.methods=Object.assign(n.methods||{},e),n}return _inherits(c,o),c.prototype.onLoad=function(){var t=(0,_store.getStore)();n=t.subscribe(i.bind(this)),i.call(this),r&&r.apply(this,arguments)},c.prototype.onUnload=function(){n&&n(),n=null,s&&s.apply(this,arguments)},c}(o)}}exports.__esModule=!0,exports.default=connect;var _store=require("./../store.js"),_helpers=require("./../helpers/index.js"); 
 			}); 
		define("npm/wepy-redux/lib/helpers/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function normalizeMap(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(r){return{key:r,val:t[r]}})}exports.__esModule=!0,exports.mapActions=exports.mapState=void 0;var _store=require("./../store.js"),mapState=exports.mapState=function(t){var r={};return normalizeMap(t).forEach(function(t){var e=t.key,a=t.val;r[e]=function(){var t=(0,_store.getStore)(),r=t.getState();return"function"==typeof a?a.call(this,r):r[a]}}),r},mapActions=exports.mapActions=function(t){var r={};return normalizeMap(t).forEach(function(t){var e=t.key,a=t.val;r[e]=function(){for(var t=(0,_store.getStore)(),r=void 0,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return r="string"==typeof a?{type:a,payload:n.length>1?n:n[0]}:"function"==typeof a?a.apply(t,n):a,t.dispatch.call(t,r)}}),r}; 
 			}); 
		define("npm/wepy-redux/lib/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapActions=exports.mapState=exports.getStore=exports.setStore=exports.connect=void 0;var _connect=require("./connect/index.js"),_connect2=_interopRequireDefault(_connect),_store=require("./store.js"),_helpers=require("./helpers/index.js");exports.connect=_connect2.default,exports.setStore=_store.setStore,exports.getStore=_store.getStore,exports.mapState=_helpers.mapState,exports.mapActions=_helpers.mapActions; 
 			}); 
		define("npm/wepy-redux/lib/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function getStore(){return store}function setStore(t){store=t}exports.__esModule=!0,exports.getStore=getStore,exports.setStore=setStore;var store=null; 
 			}); 
		define("npm/wepy/lib/app.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_native=require("./native.js"),_native2=_interopRequireDefault(_native),RequestMQ={map:{},mq:[],running:[],MAX_REQUEST:5,push:function(e){for(e.t=+new Date;this.mq.indexOf(e.t)>-1||this.running.indexOf(e.t)>-1;)e.t+=10*Math.random()>>0;this.mq.push(e.t),this.map[e.t]=e},next:function(){var e=this;if(0!==this.mq.length&&this.running.length<this.MAX_REQUEST-1){var t=this.mq.shift(),n=this.map[t],r=n.complete;return n.complete=function(){for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];e.running.splice(e.running.indexOf(n.t),1),delete e.map[n.t],r&&r.apply(n,i),e.next()},this.running.push(n.t),wx.request(n)}},request:function(e){return e=e||{},e="string"==typeof e?{url:e}:e,this.push(e),this.next()}},_class=function(){function e(){_classCallCheck(this,e),this.$addons={},this.$interceptors={},this.$pages={}}return _createClass(e,[{key:"$init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$initAPI(e,t.noPromiseAPI),this.$wxapp=getApp()}},{key:"use",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];"string"==typeof e&&this[e]?(this.$addons[e]=1,this[e](n)):this.$addons[e.name]=new e(n)}},{key:"intercept",value:function(e,t){this.$interceptors[e]=t}},{key:"promisify",value:function(){}},{key:"requestfix",value:function(){}},{key:"$initAPI",value:function(e,t){var n=this,r={stopRecord:!0,getRecorderManager:!0,pauseVoice:!0,stopVoice:!0,pauseBackgroundAudio:!0,stopBackgroundAudio:!0,getBackgroundAudioManager:!0,createAudioContext:!0,createInnerAudioContext:!0,createVideoContext:!0,createCameraContext:!0,createMapContext:!0,canIUse:!0,startAccelerometer:!0,stopAccelerometer:!0,startCompass:!0,stopCompass:!0,onBLECharacteristicValueChange:!0,onBLEConnectionStateChange:!0,hideToast:!0,hideLoading:!0,showNavigationBarLoading:!0,hideNavigationBarLoading:!0,navigateBack:!0,createAnimation:!0,pageScrollTo:!0,createSelectorQuery:!0,createCanvasContext:!0,createContext:!0,drawCanvas:!0,hideKeyboard:!0,stopPullDownRefresh:!0,reportAnalytics:!0,arrayBufferToBase64:!0,base64ToArrayBuffer:!0};if(t)if(Array.isArray(t))t.forEach(function(e){return r[e]=!0});else for(var i in t)r[i]=t[i];Object.keys(wx).forEach(function(t){r[t]||"on"===t.substr(0,2)||/\w+Sync$/.test(t)?(Object.defineProperty(_native2.default,t,{get:function(){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return wx[t].apply(wx,n)}}}),e[t]=_native2.default[t]):(Object.defineProperty(_native2.default,t,{get:function(){return function(e){if(e=e||{},n.$interceptors[t]&&n.$interceptors[t].config){var r=n.$interceptors[t].config.call(n,e);if(!1===r)return n.$addons.promisify?Promise.reject("aborted by interceptor"):void(e.fail&&e.fail("aborted by interceptor"));e=r}if("request"===t&&(e="string"==typeof e?{url:e}:e),"string"==typeof e)return wx[t](e);if(n.$addons.promisify){var i=void 0,a=new Promise(function(r,a){var o={};["fail","success","complete"].forEach(function(i){o[i]=e[i],e[i]=function(e){n.$interceptors[t]&&n.$interceptors[t][i]&&(e=n.$interceptors[t][i].call(n,e)),"success"===i?r(e):"fail"===i&&a(e)}}),n.$addons.requestfix&&"request"===t?RequestMQ.request(e):i=wx[t](e)});return"uploadFile"!==t&&"downloadFile"!==t||(a.progress=function(e){return i.onProgressUpdate(e),a},a.abort=function(e){return e&&e(),i.abort(),a}),a}var o={};if(["fail","success","complete"].forEach(function(r){o[r]=e[r],e[r]=function(e){n.$interceptors[t]&&n.$interceptors[t][r]&&(e=n.$interceptors[t][r].call(n,e)),o[r]&&o[r].call(n,e)}}),!n.$addons.requestfix||"request"!==t)return wx[t](e);RequestMQ.request(e)}}}),e[t]=_native2.default[t])})}}]),e}();exports.default=_class; 
 			}); 
		define("npm/wepy/lib/base.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _event=require("./event.js"),_event2=_interopRequireDefault(_event),_util=require("./util.js"),_util2=_interopRequireDefault(_util),PAGE_EVENT=["onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onTabItemTap"],APP_EVENT=["onLaunch","onShow","onHide","onError","onPageNotFound"],$bindEvt=function e(n,t,o){t.$prefix=_util2.default.camelize(o||""),Object.getOwnPropertyNames(t.components||{}).forEach(function(a){var r=t.components[a],i=new r;i.$initMixins(),i.$name=a;var p=o?o+i.$name+"$":"$"+i.$name+"$";t.$com[a]=i,e(n,i,p)}),Object.getOwnPropertyNames(t.constructor.prototype||[]).forEach(function(e){"constructor"!==e&&-1===PAGE_EVENT.indexOf(e)&&(n[e]=function(){t.constructor.prototype[e].apply(t,arguments),t.$apply()})});var a=Object.getOwnPropertyNames(t.methods||[]);return t.$mixins.forEach(function(e){a=a.concat(Object.getOwnPropertyNames(e.methods||[]))}),a.forEach(function(e,o){n[t.$prefix+e]=function(n){for(var o=arguments.length,a=Array(o>1?o-1:0),r=1;r<o;r++)a[r-1]=arguments[r];var i=new _event2.default("system",this,n.type);i.$transfor(n);var p=[],c=0,s=void 0,u=void 0,f=void 0;if(n.currentTarget&&n.currentTarget.dataset){for(s=n.currentTarget.dataset;void 0!==s["wpy"+e.toLowerCase()+(u=String.fromCharCode(65+c++))];)p.push(s["wpy"+e.toLowerCase()+u]);void 0!==s.comIndex&&(f=s.comIndex)}if(void 0!==f){f=(""+f).split("-");for(var l=f.length,h=l;l-- >0;){h=l;for(var d=t;h-- >0;)d=d.$parent;d.$setIndex(f.shift())}}a=a.concat(p);var $=void 0,_=void 0,v=t.methods[e];return v&&($=v.apply(t,a.concat(i))),t.$mixins.forEach(function(n){n.methods[e]&&(_=n.methods[e].apply(t,a.concat(i)))}),t.$apply(),v?$:_}}),n};exports.default={$createApp:function(e,n){var t={},o=new e;return this.$instance||(o.$init(this,n),this.$instance=o,this.$appConfig=n),2===arguments.length&&!0===arguments[1]&&(t.$app=o),o.$wxapp=getApp(),APP_EVENT=APP_EVENT.concat(n.appEvents||[]),PAGE_EVENT=PAGE_EVENT.concat(n.pageEvents||[]),APP_EVENT.forEach(function(e){t[e]=function(){for(var n=arguments.length,t=Array(n),a=0;a<n;a++)t[a]=arguments[a];var r=void 0;return!o.$wxapp&&(o.$wxapp=getApp()),o[e]&&(r=o[e].apply(o,t)),r}}),t},$createPage:function(e,n){var t=this,o={},a=new e;return"string"==typeof n&&(this.$instance.$pages["/"+n]=a),a.$initMixins(),("boolean"==typeof n&&n||3===arguments.length&&!0===arguments[2])&&(o.$page=a),o.onLoad=function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];!("options"in this)&&(this.options=o.length?o[0]:{}),a.$name=e.name||"unnamed",a.$init(this,t.$instance,t.$instance);var i=t.$instance.__prevPage__,p={};p.from=i||void 0,i&&i.$preloadData&&(p.preload=i.$preloadData,i.$preloadData=void 0),a.$prefetchData&&(p.prefetch=a.$prefetchData,a.$prefetchData=void 0),o.push(p),a.$onLoad.apply(a,o),a.$apply()},o.onUnload=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];a.$onUnload.apply(a,n)},o.onShow=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];t.$instance.__prevPage__=a,[].concat(a.$mixins,a).forEach(function(e){e.onShow&&e.onShow.apply(a,n)});var r=getCurrentPages(),i=r[r.length-1].__route__,p=r[r.length-1].__wxWebviewId__;t.$instance.__wxWebviewId__!==p&&(a.$wxpage=this,t.$instance.__route__=i,t.$instance.__wxWebviewId__=p,[].concat(a.$mixins,a).forEach(function(e){e.onRoute&&e.onRoute.apply(a,n)})),a.$apply()},PAGE_EVENT.forEach(function(e){"onLoad"!==e&&"onUnload"!==e&&"onShow"!==e&&(o[e]=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];var r=void 0;return"onShareAppMessage"===e?(a[e]&&(r=a[e].apply(a,t)),r):([].concat(a.$mixins,a).forEach(function(n){n[e]&&n[e].apply(a,t)}),"onPageScroll"!==e&&a.$apply(),r)})}),a.onShareAppMessage||delete o.onShareAppMessage,-1===[].concat(a.$mixins,a).findIndex(function(e){return e.onPageScroll})&&delete o.onPageScroll,$bindEvt(o,a,"")}}; 
 			}); 
		define("npm/wepy/lib/component.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function keyCheck(t,e){return"function"==typeof t[e]?(console.warn('You are not allowed to define a function "'+e+'" in data.'),0):-1!==["data","props","methods","events","mixins"].indexOf(e)?(console.warn('"'+e+'" is reserved word, please fix it.'),0):"$"===e[0]?(console.warn('"'+e+': You can not define a property started with "$"'),0):1}function getEventsFn(t,e){var i=t.events?t.events[e]:t.$events[e]?t.$events[e]:void 0,n=void 0===i?"undefined":_typeof(i),o=void 0;if("string"===n){var a=t.methods&&t.methods[i];"function"==typeof a&&(o=a)}else("function"===n||Array.isArray(i))&&(o=i);return o}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_event=require("./event.js"),_event2=_interopRequireDefault(_event),_util=require("./util.js"),_util2=_interopRequireDefault(_util),Props={check:function(t,e){switch(t){case String:return"string"==typeof e;case Number:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case Function:return"function"==typeof e;case Object:return"object"===(void 0===e?"undefined":_typeof(e));case Array:return"[object Array]"===toString.call(e);default:return e instanceof t}},build:function(t){var e={};return"string"==typeof t?e[t]={}:"[object Array]"===toString.call(t)?t.forEach(function(t){e[t]={}}):Object.keys(t).forEach(function(i){"function"==typeof t[i]?e[i]={type:[t[i]]}:"[object Array]"===toString.call(t[i])?e[i]={type:t[i]}:e[i]=t[i],e[i].type&&"[object Array]"!==toString.call(e[i].type)&&(e[i].type=[e[i].type])}),e},valid:function(t,e,i){var n=this,o=!1;if(t[e]){if(t[e].type)return t[e].type.some(function(t){return n.check(t,i)});o=!0}return o},getValue:function(t,e,i,n){var o;return o=void 0!==i&&this.valid(t,e,i)?i:"function"==typeof t[e].default?t[e].default():t[e].default,t[e].coerce?t[e].coerce.call(n,o):o}},_class=function(){function t(){_classCallCheck(this,t),this.$com={},this.$events={},this.$mixins=[],this.$isComponent=!0,this.$prefix="",this.$mappingProps={},this.data={},this.methods={}}return _createClass(t,[{key:"$init",value:function(t,e,i){var n=this;this.$wxpage=t,this.$isComponent&&(this.$root=e||this.$root,this.$parent=i||this.$parent,this.$wxapp=this.$root.$parent.$wxapp),this.props&&(this.props=Props.build(this.props));var o=void 0,a={},r=this.props,s=void 0,p=void 0,f=void 0,h=!1,c=void 0;if(void 0===this.$initData?this.$initData=_util2.default.$copy(this.data,!0):this.data=_util2.default.$copy(this.$initData,!0),this.$props)for(s in this.$props)for(f in this.$props[s])/\.sync$/.test(f)&&(this.$mappingProps[this.$props[s][f]]||(this.$mappingProps[this.$props[s][f]]={}),this.$mappingProps[this.$props[s][f]][s]=f.substring(7,f.length-5));if(r)for(s in r)keyCheck(this,s)&&(p=void 0,i&&i.$props&&i.$props[this.$name]&&(p=i.$props[this.$name][s],f=i.$props[this.$name]["v-bind:"+s+".once"]||i.$props[this.$name]["v-bind:"+s+".sync"],f?"object"===(void 0===f?"undefined":_typeof(f))?function(){r[s].repeat=f.for,r[s].item=f.item,r[s].index=f.index,r[s].key=f.key,r[s].value=f.value,h=!0;var t=f.for,e=i;t.split(".").forEach(function(t){e=e?e[t]:{}}),!e||"object"!==(void 0===e?"undefined":_typeof(e))&&"string"!=typeof e||(c=Object.keys(e)[0]),n.$mappingProps[s]||(n.$mappingProps[s]={}),n.$mappingProps[s].parent={mapping:f.for,from:s}}():(p=i[f],r[s].twoWay&&(this.$mappingProps[s]||(this.$mappingProps[s]={}),this.$mappingProps[s].parent=f)):"object"===(void 0===p?"undefined":_typeof(p))&&void 0!==p.value&&(this.data[s]=p.value)),this.data[s]||r[s].repeat||(p=Props.getValue(r,s,p,this),this.data[s]=p));"function"==typeof this.data&&(this.data=this.data.apply(this.data));for(o in this.data)keyCheck(this,o)&&(a[""+this.$prefix+o]=this.data[o],this[o]=this.data[o]);if(this.$data=_util2.default.$copy(this.data,!0),h&&void 0!==c&&this.$setIndex(c),this.computed)for(o in this.computed)if(keyCheck(this,o)){var u=this.computed[o];a[""+this.$prefix+o]=u.call(this),this[o]=_util2.default.$copy(a[""+this.$prefix+o],!0)}this.setData(a);var $=Object.getOwnPropertyNames(this.$com);$.length&&$.forEach(function(t){n.$com[t].$init(n.getWxPage(),e,n)})}},{key:"$initMixins",value:function(){var t=this;this.mixins?"function"==typeof this.mixins&&(this.mixins=[this.mixins]):this.mixins=[],this.mixins.forEach(function(e){var i=new e;i.$init(t),t.$mixins.push(i)})}},{key:"$onLoad",value:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];[].concat(this.$mixins,this).forEach(function(e){e.onLoad&&e.onLoad.apply(t,i)});var o=Object.getOwnPropertyNames(this.$com);o.length&&o.forEach(function(e){var i=t.$com[e];i.$onLoad.call(i)})}},{key:"$onUnload",value:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var o=Object.getOwnPropertyNames(this.$com);o.length&&o.forEach(function(e){var i=t.$com[e];i.$onUnload.call(i)}),[].concat(this.$mixins,this).forEach(function(e){e.onUnload&&e.onUnload.apply(t,i)})}},{key:"onLoad",value:function(){}},{key:"onUnload",value:function(){}},{key:"setData",value:function(t,e){if("string"==typeof t){if(e){var i={};i[t]=e,t=i}else{var n={};n[t]=this.data[""+t],t=n}return this.$wxpage.setData(t)}var o=null,a=new RegExp("^"+this.$prefix.replace(/\$/g,"\\$"),"ig");for(o in t){var r=o.replace(a,"");this.$data[r]=_util2.default.$copy(t[o],!0),_util2.default.isImmutable(t[o])&&(t[o]=t[o].toJS()),void 0===t[o]&&delete t[o]}return"function"==typeof e?this.$root.$wxpage.setData(t,e):this.$root.$wxpage.setData(t)}},{key:"getWxPage",value:function(){return this.$wxpage}},{key:"getCurrentPages",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return getCurrentPages()})},{key:"$setIndex",value:function(t){var e=this;this.$index=t;var i=this.props,n=this.$parent,o=void 0,a=void 0,r=void 0;if(i){for(o in i)a=void 0,n&&n.$props&&n.$props[this.$name]&&(a=n.$props[this.$name][o],(r=n.$props[this.$name]["v-bind:"+o+".once"]||n.$props[this.$name]["v-bind:"+o+".sync"])&&"object"===(void 0===r?"undefined":_typeof(r))&&function(){var s=r.for,p=n;if(0===s.indexOf("[")){var f=[];s=s.substr(1,s.length-2).trim(),s.split(",").forEach(function(t){var e=n;t.trim().split(".").forEach(function(t){e=e?e[t]:{}}),f.push(e)}),p=f}else s.split(".").forEach(function(t){p=p?p[t]:{}});t=Array.isArray(p)?+t:t,a=i[o].value===i[o].item?p[t]:i[o].value===i[o].index?t:i[o].value===i[o].key?t:n[i[o].value],e.$index=t,e.data[o]=a,e[o]=a,e.$data[o]=_util2.default.$copy(e[o],!0)}());for(o in this.$com)this.$com[o].$index=void 0}}},{key:"$getComponent",value:function(t){var e=this;if("string"==typeof t){if(-1===t.indexOf("/"))return this.$com[t];if("/"===t)return this.$parent;t.split("/").forEach(function(i,n){0===n?t=""===i?e.$root:"."===i?e:".."===i?e.$parent:e.$getComponent(i):i&&(t=t.$com[i])})}return"object"!==(void 0===t?"undefined":_typeof(t))?null:t}},{key:"$invoke",value:function(t,e){if(!(t=this.$getComponent(t)))throw new Error("Invalid path: "+t);for(var i=t.methods?t.methods[e]:"",n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];if("function"==typeof i){var r=new _event2.default("",this,"invoke"),s=i.apply(t,o.concat(r));return t.$apply(),s}if("function"==typeof(i=t[e]))return i.apply(t,o);throw new Error("Invalid method: "+e)}},{key:"$broadcast",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var o=this,a="string"==typeof t?new _event2.default(t,this,"broadcast"):a,r=[o];r.length&&a.active;){var s=r.shift();for(var p in s.$com){if("break"===function(e){e=s.$com[e],r.push(e);var n=getEventsFn(e,t);if(n&&e.$apply(function(){n.apply(e,i.concat(a))}),!a.active)return"break";p=e}(p))break}}}},{key:"$emit",value:function(t){for(var e=this,i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var a=this,r=this,s=new _event2.default(t,r,"emit");if(n=n.concat(s),this.$parent&&this.$parent.$events&&this.$parent.$events[this.$name]){var p=this.$parent.$events[this.$name]["v-on:"+t];if(p&&this.$parent.methods){var f=this.$parent.methods[p];if("function"==typeof f)return void this.$parent.$apply(function(){f.apply(e.$parent,n)});throw new Error("Invalid method from emit, component is "+this.$parent.$name+", method is "+p+". Make sure you defined it already.\n")}}for(;a&&void 0!==a.$isComponent&&s.active;)!function(){var e=a,i=getEventsFn(e,t);i&&("function"==typeof i?e.$apply(function(){i.apply(e,n)}):Array.isArray(i)&&(i.forEach(function(t){t.apply(e,n)}),e.$apply())),a=e.$parent}()}},{key:"$on",value:function(t,e){var i=this;if("string"==typeof t)(this.$events[t]||(this.$events[t]=[])).push(e);else if(Array.isArray(t))t.forEach(function(t){i.$on(t,e)});else if("object"===(void 0===t?"undefined":_typeof(t)))for(var n in t)this.$on(n,t[n]);return this}},{key:"$once",value:function(t,e){var i=this,n=function n(){i.$off(t,n),e.apply(i,arguments)};n.fn=e,this.$on(t,n)}},{key:"$off",value:function(t,e){var i=this;if(void 0===t)this.$events={};else if("string"==typeof t)if(e){for(var n=this.$events[t],o=n.length;o--;)if(e===n[o]||e===n[o].fn){n.splice(o,1);break}}else this.$events[t]=[];else Array.isArray(t)&&t.forEach(function(t){i.$off(t,e)});return this}},{key:"$apply",value:function(t){"function"==typeof t?(t.call(this),this.$apply()):this.$$phase?this.$$phase="$apply":this.$digest()}},{key:"$digest",value:function(){var t=this,e=void 0,i=this.$data;for(this.$$phase="$digest",this.$$dc=0;this.$$phase;){if(++this.$$dc>=3)throw new Error("Can not call $apply in $apply process");var n={};if(this.computed)for(e in this.computed){var o=this.computed[e],a=o.call(this);_util2.default.$isEqual(this[e],a)||(n[this.$prefix+e]=a,this[e]=_util2.default.$copy(a,!0))}for(e in i)if(!_util2.default.$isEqual(this[e],i[e])){if(this.watch&&this.watch[e]&&("function"==typeof this.watch[e]?this.watch[e].call(this,this[e],i[e]):"string"==typeof this.watch[e]&&"function"==typeof this.methods[e]&&this.methods[e].call(this,this[e],i[e])),n[this.$prefix+e]=this[e],this.data[e]=this[e],i[e]=_util2.default.$copy(this[e],!0),this.$repeat&&this.$repeat[e]){var r=this.$repeat[e];this.$com[r.com].data[r.props]=this[e],this.$com[r.com].$setIndex(0),this.$com[r.com].$apply()}this.$mappingProps[e]&&Object.keys(this.$mappingProps[e]).forEach(function(i){var n=t.$mappingProps[e][i];"object"===(void 0===n?"undefined":_typeof(n))?t.$parent.$apply():"parent"!==i||_util2.default.$isEqual(t.$parent.$data[n],t[e])?"parent"===i||_util2.default.$isEqual(t.$com[i].$data[n],t[e])||(t.$com[i][n]=t[e],t.$com[i].data[n]=t[e],t.$com[i].$apply()):(t.$parent[n]=t[e],t.$parent.data[n]=t[e],t.$parent.$apply())})}if(Object.keys(n).length)this.setData(n,function(){if(t.$$nextTick){var e=t.$$nextTick;t.$$nextTick=null,e.promise?e():e.call(t)}});else if(this.$$nextTick){var s=this.$$nextTick;this.$$nextTick=null,s.promise?s():s.call(this)}this.$$phase="$apply"===this.$$phase&&"$digest"}}},{key:"$nextTick",value:function(t){var e=this;if(void 0===t)return new Promise(function(t,i){e.$$nextTick=function(){t()},e.$$nextTick.promise=!0});this.$$nextTick=t}}]),t}();exports.default=_class; 
 			}); 
		define("npm/wepy/lib/event.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_class=function(){function e(t,n,a){_classCallCheck(this,e),this.active=!0,this.name=t,this.source=n,this.type=a}return _createClass(e,[{key:"$destroy",value:function(){this.active=!1}},{key:"$transfor",value:function(e){var t=0;for(t in e)this[t]=e[t]}}]),e}();exports.default=_class; 
 			}); 
		define("npm/wepy/lib/mixin.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),_class=function(){function t(){_classCallCheck(this,t),this.data={},this.computed={},this.components={},this.methods={},this.events={}}return _createClass(t,[{key:"$init",value:function(t){var e=this;Object.getOwnPropertyNames(this).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(this))).forEach(function(n){n[0]+n[1]!=="on"&&"constructor"!==n&&(t[n]||(t[n]=e[n]))}),["data","computed","events","components"].forEach(function(n){Object.getOwnPropertyNames(e[n]).forEach(function(o){"init"===o||t[n][o]||(t[n][o]=e[n][o])})})}}]),t}();exports.default=_class; 
 			}); 
		define("npm/wepy/lib/native.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={}; 
 			}); 
		define("npm/wepy/lib/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function t(e,r,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,o)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(o)},_native=require("./native.js"),_native2=_interopRequireDefault(_native),_component2=require("./component.js"),_component3=_interopRequireDefault(_component2),_util=require("./util.js"),_util2=_interopRequireDefault(_util),_class=function(t){function e(){var t,r,o,n;_classCallCheck(this,e);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return r=o=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),o.$isComponent=!1,o.$preloadData=void 0,o.$prefetchData=void 0,n=r,_possibleConstructorReturn(o,n)}return _inherits(e,t),_createClass(e,[{key:"$init",value:function(t,r){this.$parent=r,this.$root=this,r.$wxapp||(r.$wxapp=getApp()),this.$wxapp=r.$wxapp,_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"$init",this).call(this,t,this)}},{key:"onLoad",value:function(){_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onLoad",this).call(this)}},{key:"onUnload",value:function(){_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onUnload",this).call(this)}},{key:"$preload",value:function(t,e){if("object"===(void 0===t?"undefined":_typeof(t))){var r=void 0;for(r in t)this.$preload(r,t[r])}else(this.$preloadData?this.$preloadData:this.$preloadData={})[t]=e}},{key:"$route",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e){var o=e+"?";if(r){var n=void 0;for(n in r)o+=n+"="+r[n]+"&"}o=o.substring(0,o.length-1),e={url:o}}else r=_util2.default.$getParams(e.url);this.$parent.__route__||(this.$parent.__route__=getCurrentPages()[0].__route__,this.$parent.__wxWebviewId__=getCurrentPages()[0].__wxWebviewId__);var a="/"!==this.$parent.__route__[0]?"/"+this.$parent.__route__:this.$parent.__route__,i=_util2.default.$resolvePath(a,e.url.split("?")[0]),u=this.$parent.$pages[i];if(u&&u.onPrefetch){var l=this.$parent.__prevPage__,p=void 0;l&&l.$preloadData&&(p=l.$preloadData),u.$prefetchData=u.onPrefetch(r,{from:this,preload:p})}return _native2.default[t](e)}},{key:"$redirect",value:function(t,e){return this.$route("redirectTo",t,e)}},{key:"$navigate",value:function(t,e){return this.$route("navigateTo",t,e)}},{key:"$switch",value:function(t){return"string"==typeof t&&(t={url:t}),_native2.default.switchTab(t)}},{key:"$back",value:function(t){var e=t||{};return"number"==typeof e&&(e={delta:e}),e.delta||(e.delta=1),_native2.default.navigateBack(e)}}]),e}(_component3.default);exports.default=_class; 
 			}); 
		define("npm/wepy/lib/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function isImmutable(t){return!(!t||"object"!==(void 0===t?"undefined":_typeof(t)))&&!!["@@__IMMUTABLE_ITERABLE__@@","@@__IMMUTABLE_KEYED__@@","@@__IMMUTABLE_INDEXED__@@","@@__IMMUTABLE_ORDERED__@@","@@__IMMUTABLE_RECORD__@@"].filter(function(e){return t[e]}).length}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};exports.default={$isEmpty:function(t){return 0===Object.keys(t).length},$isEqual:function(t,e,r,n){if(isImmutable(t))return t.equals(e);if(isImmutable(e))return e.equals(t);if(t===e)return 0!==t||1/t==1/e;if(t!==t)return e!==e;if(!t||!e)return t===e;var o=void 0===t?"undefined":_typeof(t);return("function"===o||"object"===o||"object"===(void 0===e?"undefined":_typeof(e)))&&this.$isDeepEqual(t,e,r,n)},$isDeepEqual:function(t,e,r,n){isImmutable(t)&&(t=t.toJS()),isImmutable(e)&&(e=e.toJS());var o=this,i=toString.call(t);if(i!==toString.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":var u="undefined"!=typeof Symbol?Symbol.prototype:null;return u.valueOf.call(t)===u.valueOf.call(e)}var c="[object Array]"===i;if(!c){if("object"!==(void 0===t?"undefined":_typeof(t))||"object"!==(void 0===e?"undefined":_typeof(e)))return t===e;var a=t.constructor,l=e.constructor;if(a!==l&&!("function"==typeof a&&a instanceof a&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var f=r.length;f--;)if(r[f]===t)return n[f]===e;if(r.push(t),n.push(e),c){if((f=t.length)!==e.length)return!1;for(;f--;)if(!o.$isEqual(t[f],e[f],r,n))return!1}else{var s,p=Object.keys(t);if(f=p.length,Object.keys(e).length!==f)return!1;for(;f--;)if(s=p[f],!o.$has(e,s)||!o.$isEqual(t[s],e[s],r,n))return!1}return r.pop(),n.pop(),!0},$has:function(t,e){if("[object Array]"!==toString.call(e))return t&&hasOwnProperty.call(t,e);for(var r=e.length,n=0;n<r;n++){var o=e[n];if(!t||!hasOwnProperty.call(t,o))return!1;t=t[o]}return!!r},$extend:function(){var t,e,r,n,o,i,u=arguments[0]||{},c=1,a=arguments.length,l=!1,f=this;for("boolean"==typeof u&&(l=u,u=arguments[c]||{},c++),"object"!==(void 0===u?"undefined":_typeof(u))&&"function"!=typeof u&&(u={}),c===a&&(u=this,c--);c<a;c++)if(t=arguments[c])for(e in t)r=u[e],n=t[e],u!==n&&(l&&n&&(f.$isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,i=r&&Array.isArray(r)?r:[]):i=r&&f.$isPlainObject(r)?r:{},u[e]=f.$extend(l,i,n)):u[e]=n);return u},$copy:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)?this.$extend(e,[],t):""+t=="null"?t:"object"===(void 0===t?"undefined":_typeof(t))?isImmutable(t)?t:this.$extend(e,{},t):t},$isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==Object.prototype.toString.call(t))&&(!(e=Object.getPrototypeOf(t))||"function"==typeof(r=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor)&&Object.prototype.hasOwnProperty.toString.call(r)===Object.prototype.hasOwnProperty.toString.call(Object))},$resolvePath:function(t,e){if(!e)return t;if("/"===e[0])return e=e.substr(1),this.$resolvePath("",e);if("."!==e[0])return this.$resolvePath(t,"./"+e);var r=t.split("/");return"."===e[0]&&"/"===e[1]?(e=e.substr(2),"."!==e[0]?(r.length?r[r.length-1]=e:r=[e],1===r.length?"/"+r[0]:r.join("/")):this.$resolvePath(r.join("/"),e)):"."===e[0]&&"."===e[1]&&"/"===e[2]?(e=e.replace(/^\.*/gi,""),r.pop(),this.$resolvePath(r.join("/"),"."+e)):"."===e[0]?this.$resolvePath(t,e.substr(1)):void 0},$getParams:function(t){var e={},r=t.indexOf("?");if(-1!==r){var n=t.substr(r+1),o=void 0;n.split("&").forEach(function(t){o=t.split("="),e[o[0]]=decodeURIComponent(o[1])})}return e},isImmutable:isImmutable,hyphenate:function(t){return t.replace(/([^-])([A-Z])/g,"$1-$2").replace(/([^-])([A-Z])/g,"$1-$2").toLowerCase()},camelize:function(t){return t.replace(/-(\w)/g,function(t,e){return e?e.toUpperCase():""})}}; 
 			}); 
		define("npm/wepy/lib/wepy.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _app=require("./app.js"),_app2=_interopRequireDefault(_app),_page=require("./page.js"),_page2=_interopRequireDefault(_page),_component=require("./component.js"),_component2=_interopRequireDefault(_component),_event=require("./event.js"),_event2=_interopRequireDefault(_event),_base=require("./base.js"),_base2=_interopRequireDefault(_base),_util=require("./util.js"),_util2=_interopRequireDefault(_util),_mixin=require("./mixin.js"),_mixin2=_interopRequireDefault(_mixin);exports.default={event:_event2.default,app:_app2.default,component:_component2.default,page:_page2.default,mixin:_mixin2.default,$createApp:_base2.default.$createApp,$createPage:_base2.default.$createPage,$isEmpty:_util2.default.$isEmpty,$isEqual:_util2.default.$isEqual,$isDeepEqual:_util2.default.$isDeepEqual,$has:_util2.default.$has,$extend:_util2.default.$extend,$isPlainObject:_util2.default.$isPlainObject,$copy:_util2.default.$copy}; 
 			}); 
		define("npm/wolfy87-eventemitter/EventEmitter.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
!function(e){"use strict";function t(){}function n(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function r(e){return function(){return this[e].apply(this,arguments)}}function i(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&i(e.listener)}var s=t.prototype,o=e.EventEmitter;s.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},s.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},s.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},s.addListener=function(e,t){if(!i(t))throw new TypeError("listener must be a function");var r,s=this.getListenersAsObject(e),o="object"==typeof t;for(r in s)s.hasOwnProperty(r)&&-1===n(s[r],t)&&s[r].push(o?t:{listener:t,once:!1});return this},s.on=r("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=r("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&-1!==(r=n(s[i],t))&&s[i].splice(r,1);return this},s.off=r("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},s.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},s.removeAllListeners=r("removeEvent"),s.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(s in o)if(o.hasOwnProperty(s))for(n=o[s].slice(0),i=0;i<n.length;i++)r=n[i],!0===r.once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},s.trigger=r("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return e.EventEmitter=o,t},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.EventEmitter=t}("undefined"!=typeof window?window:this||{}); 
 			}); 
		define("store/actions/announcement.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,t){function r(u,o){try{var i=n[u](o),a=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchAnnouncement=exports.FETCH_ANNOUNCEMENT=void 0;var _reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_ANNOUNCEMENT=exports.FETCH_ANNOUNCEMENT="FETCH_ANNOUNCEMENT",fetchAnnouncement=exports.fetchAnnouncement=(0,_reduxActions.createAction)(FETCH_ANNOUNCEMENT,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.announcement.detail.url,data:{announcement_id:n}});case 2:return t=e.sent,e.abrupt("return",new Promise(function(e){e(t&&t.data&&t.data.cmd?t.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}));return function(n){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/answer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(u,a){try{var i=r[u](a),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchAnswerList=exports.fetchAnswer=exports.UPDATE_ANSWER_LOAD_ALL=exports.FETCH_ANSWER_LIST=exports.FETCH_ANSWER=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_ANSWER=exports.FETCH_ANSWER="FETCH_ANSWER",FETCH_ANSWER_LIST=exports.FETCH_ANSWER_LIST="FETCH_ANSWER_LIST",UPDATE_ANSWER_LOAD_ALL=exports.UPDATE_ANSWER_LOAD_ALL="UPDATE_ANSWER_LOAD_ALL",fetchAnswer=exports.fetchAnswer=(0,_reduxActions.createAction)(FETCH_ANSWER,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n=r.aid;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.answer.detail.url,data:{aid:n}});case 2:return t=e.sent,e.abrupt("return",t.data&&t.data.cmd?t.data.result:null);case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),fetchAnswerList=exports.fetchAnswerList=(0,_reduxActions.createAction)(FETCH_ANSWER_LIST,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,u=r.hid,a=r.child;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,(0,_request2.default)({url:_config.api.answer.list.url,data:{hid:u,child:a}});case 4:n=e.sent,t=n.data&&n.data.cmd?n.data.result:[],_wepy2.default.$store.dispatch({type:"UPDATE_ANSWER_LOAD_ALL",payload:null==a}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",new Promise(function(e){e(t)}));case 12:case"end":return e.stop()}},e,void 0,[[1,9]])}));return function(r){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/answer_supplement.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(u,a){try{var i=t[u](a),o=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchSupplementDetail=exports.FETCH_SUPPLEMENT_DETAIL=exports.fetchSupplementList=exports.FETCH_SUPPLEMENT_LIST=void 0;var _reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_SUPPLEMENT_LIST=exports.FETCH_SUPPLEMENT_LIST="FETCH_SUPPLEMENT_LIST",fetchSupplementList=exports.fetchSupplementList=(0,_reduxActions.createAction)(FETCH_SUPPLEMENT_LIST,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,u,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.answerSupplement.list.url,data:t||{}});case 2:return r=e.sent,n=[],u={current:1,pageSize:20,total:null},r&&r.data&&r.data.cmd&&(a=r.data.result,n=a.list,u=a.pagination),e.abrupt("return",new Promise(function(e){e({items:n,pagination:u})}));case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),FETCH_SUPPLEMENT_DETAIL=exports.FETCH_SUPPLEMENT_DETAIL="FETCH_SUPPLEMENT_DETAIL",fetchSupplementDetail=exports.fetchSupplementDetail=(0,_reduxActions.createAction)(FETCH_SUPPLEMENT_DETAIL,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.answerSupplement.detail.url,data:{supplement_id:t}});case 2:return r=e.sent,e.abrupt("return",new Promise(function(e){e(r&&r.data&&r.data.cmd?r.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/audio.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.stopAudio=exports.STOP_AUDIO=exports.seekAudio=exports.SEEK_AUDIO=exports.pauseAudio=exports.PAUSE_AUDIO=exports.resumeAudio=exports.RESUME_AUDIO=exports.playAudio=exports.PLAY_AUDIO=exports.setAudioSrc=exports.UPDATE_AUDIO_STATE=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_delay=require("./../../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_common=require("./../../utils/common.js"),_clientUtil=require("./../../utils/clientUtil.js"),getAudioState=function(e){var t=_wepy2.default.$store.getState();return e?t.audio.audio[e]:t.audio.audio},setAudioState=function(e){_wepy2.default.$store.dispatch({type:"UPDATE_AUDIO_STATE",payload:e||{}})},_player=null,getPlayer=function(){var e=_wepy2.default.createInnerAudioContext();return(0,_clientUtil.setInnerAudioOption)({obeyMuteSwitch:!1},e),e.onPlay(function(){setAudioState({playing:!0,duration:e.duration,paused:e.paused})}),e.onTimeUpdate((0,_common.throttle)(function(){setAudioState({duration:e.duration,paused:e.paused,currentTime:e.currentTime})},700)),e.onSeeking(function(){}),e.onSeeked(function(){}),e.onPause(function(){getAudioState("paused")||setAudioState({duration:e.duration,paused:e.paused,currentTime:e.currentTime})}),e.onStop(function(){getAudioState("playing")&&setAudioState({paused:!0,currentTime:e.currentTime,playing:!1,url:""})}),e.onEnded(function(){setAudioState({paused:!1,currentTime:0,playing:!1})}),e.onError(function(t){console.log("onError",t,e.src),setAudioState({duration:0,paused:!0,playing:!1,currentTime:e.currentTime,url:""}),_player&&e.src&&(e.destroy(),_player=null,_wepy2.default.showModal({title:"提示",content:t.errMsg||"播放音频出错"+(null!=t.errCode?"("+t.errCode+")":"")}))}),_player=e,e},player=null,UPDATE_AUDIO_STATE=exports.UPDATE_AUDIO_STATE="UPDATE_AUDIO_STATE",setAudioSrc=exports.setAudioSrc=(0,_reduxActions.createAction)(UPDATE_AUDIO_STATE,function(e){return console.log("url",e),player=_player&&player||getPlayer(),new Promise(function(t){setAudioState({url:e,src:"",isSilkFormat:/\.silk$/.test(e),loading:!0,duration:0,currentTime:0,playing:!1});var r=e;if(e.startsWith(_config.CDN_HOST)||e.startsWith(_config.SSLCDN_HOST))return wx.downloadFile({url:e,fail:function(e){return _wepy2.default.showModal({title:"提示",content:e.errMsg||"音频加载异常",showCancel:!1})},success:function(o){var u=o.tempFilePath,i=o.statusCode;if(200!=i)return t({url:"",src:"",isSilkFormat:!1,loading:!1}),_wepy2.default.showModal({title:"提示",content:"音频加载异常(状态码:"+i+")",showCancel:!1});r=u,player.src=r,t({url:e,src:e,loading:!1})}});player.src=r,t({url:e,src:e,loading:!1})})}),PLAY_AUDIO=exports.PLAY_AUDIO="PLAY_AUDIO",playAudio=exports.playAudio=(0,_reduxActions.createAction)(PLAY_AUDIO,function(){player=_player&&player||getPlayer(),getAudioState("url")&&getAudioState("src")&&player.play()}),RESUME_AUDIO=exports.RESUME_AUDIO="RESUME_AUDIO",resumeAudio=exports.resumeAudio=(0,_reduxActions.createAction)(RESUME_AUDIO,function(){player.play()}),PAUSE_AUDIO=exports.PAUSE_AUDIO="PAUSE_AUDIO",pauseAudio=exports.pauseAudio=(0,_reduxActions.createAction)(PAUSE_AUDIO,function(){player.pause()}),SEEK_AUDIO=exports.SEEK_AUDIO="SEEK_AUDIO",seekAudio=exports.seekAudio=(0,_reduxActions.createAction)(SEEK_AUDIO,function(e){var t=getAudioState(),r=t.paused,o=t.playing;r||!o?(0,_delay2.default)(0).then(function(){player.seek(e)}):player.seek(e)}),STOP_AUDIO=exports.STOP_AUDIO="STOP_AUDIO",stopAudio=exports.stopAudio=(0,_reduxActions.createAction)(STOP_AUDIO,function(){player.paused?setAudioState({playing:!1,url:""}):player.stop()}); 
 			}); 
		define("store/actions/base.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(u,o){try{var i=r[u](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchConfigs=exports.FETCH_APP_CONFIGS=exports.fetchAdConfigs=exports.FETCH_AD_CONFIGS=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_AD_CONFIGS=exports.FETCH_AD_CONFIGS="FETCH_AD_CONFIGS",fetchAdConfigs=exports.fetchAdConfigs=(0,_reduxActions.createAction)(FETCH_AD_CONFIGS,_asyncToGenerator(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.util.adConfigs.url});case 2:return r=e.sent,e.abrupt("return",new Promise(function(e){e(r&&r.data&&r.data.cmd?r.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}))),FETCH_APP_CONFIGS=exports.FETCH_APP_CONFIGS="FETCH_APP_CONFIGS",fetchConfigs=exports.fetchConfigs=(0,_reduxActions.createAction)(FETCH_APP_CONFIGS,_asyncToGenerator(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.util.configs.url});case 2:return r=e.sent,e.abrupt("return",new Promise(function(e){e(r&&r.data&&r.data.cmd?r.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}))); 
 			}); 
		define("store/actions/dialog.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteDialog=exports.deleteDialogMessage=exports.sendDialogMessage=exports.fetchDialogMessageList=exports.fetchDialogList=exports.fetchDialogDetail=exports.DELETE_DIALOG_MESSAGE=exports.DELETE_DIALOG=exports.SEND_DIALOG_MESSAGE=exports.FETCH_DIALOG_MESSAGE_LIST=exports.FETCH_DIALOG_LIST=exports.FETCH_DIALOG_DETAIL=void 0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_DIALOG_DETAIL=exports.FETCH_DIALOG_DETAIL="FETCH_DIALOG_DETAIL",FETCH_DIALOG_LIST=exports.FETCH_DIALOG_LIST="FETCH_DIALOG_LIST",FETCH_DIALOG_MESSAGE_LIST=exports.FETCH_DIALOG_MESSAGE_LIST="FETCH_DIALOG_MESSAGE_LIST",SEND_DIALOG_MESSAGE=exports.SEND_DIALOG_MESSAGE="SEND_DIALOG_MESSAGE",DELETE_DIALOG=exports.DELETE_DIALOG="DELETE_DIALOG",DELETE_DIALOG_MESSAGE=exports.DELETE_DIALOG_MESSAGE="DELETE_DIALOG_MESSAGE",fetchDialogDetail=exports.fetchDialogDetail=(0,_reduxActions.createAction)(FETCH_DIALOG_DETAIL,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n=t.dialog_id,a=t.gid,i=t.friend_uid;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.dialog.detail.url,data:{dialog_id:n,gid:a,friend_uid:i}});case 2:return r=e.sent,e.abrupt("return",r&&r.data&&r.data.cmd?r.data.result:null);case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),fetchDialogList=exports.fetchDialogList=(0,_reduxActions.createAction)(FETCH_DIALOG_LIST,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,o,u,s,c,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||{},n=r.page,a=void 0===n?1:n,i=r.pageSize,o=void 0===i?20:i,e.next=3,(0,_request2.default)({url:_config.api.dialog.list.url,data:_extends({},t,{page:a,pageSize:o})});case 3:return u=e.sent,s=[],c={current:1,pageSize:20,total:null},u&&u.data&&u.data.cmd&&(_=u.data.result,s=_.list,c=_.pagination),e.abrupt("return",new Promise(function(e){e({items:s,pagination:c})}));case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),fetchDialogMessageList=exports.fetchDialogMessageList=(0,_reduxActions.createAction)(FETCH_DIALOG_MESSAGE_LIST,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,o,u,s,c,_,d,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||{},n=r.dialog_id,a=r.gid,i=r.friend_uid,o=r.end_at,u=r.start_at,s=r.count,c=void 0===s?30:s,e.next=3,(0,_request2.default)({url:_config.api.dialog.messages.url,data:{dialog_id:n,gid:a,friend_uid:i,end_at:o,start_at:u,count:c}});case 3:return _=e.sent,d=[],l=!1,_&&_.data&&_.data.cmd&&(p=_.data.result,d=p.list,l=p.has_more),e.abrupt("return",new Promise(function(e){e({items:d,has_more:l,dialog_id:n})}));case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),sendDialogMessage=exports.sendDialogMessage=(0,_reduxActions.createAction)(SEND_DIALOG_MESSAGE,_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.dialog.send.url,data:n});case 2:if(t=e.sent,!(r=t.data)||!r.cmd){e.next=8;break}return e.abrupt("return",r.result);case 8:return e.next=10,_wepy2.default.showModal({title:"提示",content:r.msg||"发送私信出错",showCancel:!1});case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}},e,void 0)}))),deleteDialogMessage=exports.deleteDialogMessage=(0,_reduxActions.createAction)(DELETE_DIALOG_MESSAGE,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.dialog.deleteMessage.url,data:{dialog_message_id:t}});case 2:if(r=e.sent,!(n=r.data)||!n.cmd){e.next=8;break}return e.abrupt("return",n.result);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),deleteDialog=exports.deleteDialog=(0,_reduxActions.createAction)(DELETE_DIALOG,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.dialog.delete.url,data:{dialog_id:t}});case 2:if(r=e.sent,!(n=r.data)||!n.cmd){e.next=8;break}return e.abrupt("return",n.result);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/enroll.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,a){try{var u=r[o](a),i=u.value}catch(e){return void t(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteEnroll=exports.DELETE_ENROLL=exports.closeEnroll=exports.CLOSE_ENROLL=exports.fetchEnrollList=exports.FETCH_ENROLL_LIST=exports.fetchEnrollDetail=exports.FETCH_ENROLL_DETAIL=exports.saveEnroll=exports.SAVE_ENROLL=void 0;var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),SAVE_ENROLL=exports.SAVE_ENROLL="SAVE_ENROLL",saveEnroll=exports.saveEnroll=(0,_reduxActions.createAction)(SAVE_ENROLL,_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.enroll.save.url,data:t});case 2:return r=e.sent,e.abrupt("return",r&&r.data);case 4:case"end":return e.stop()}},e,void 0)}))),FETCH_ENROLL_DETAIL=exports.FETCH_ENROLL_DETAIL="FETCH_ENROLL_DETAIL",fetchEnrollDetail=exports.fetchEnrollDetail=(0,_reduxActions.createAction)(FETCH_ENROLL_DETAIL,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.enroll.detail.url,data:{enroll_id:r}});case 2:return t=e.sent,e.abrupt("return",t&&t.data);case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),FETCH_ENROLL_LIST=exports.FETCH_ENROLL_LIST="FETCH_ENROLL_LIST",fetchEnrollList=exports.fetchEnrollList=(0,_reduxActions.createAction)(FETCH_ENROLL_LIST,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,o,a,u=r.status,i=r.page,s=void 0===i?1:i,l=r.pageSize,c=void 0===l?20:l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.enroll.list.url,data:{status:u,page:s,pageSize:c}});case 2:return t=e.sent,n=[],o={current:1,pageSize:20,total:null},t&&t.data&&t.data.cmd&&(a=t.data.result,n=a.list,o=a.pagination),e.abrupt("return",_extends({},t&&t.data,{result:{items:n,pagination:o}}));case 7:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),CLOSE_ENROLL=exports.CLOSE_ENROLL="CLOSE_ENROLL",closeEnroll=exports.closeEnroll=(0,_reduxActions.createAction)(CLOSE_ENROLL,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.enroll.close.url,data:{enroll_id:r}});case 2:return t=e.sent,e.abrupt("return",t&&t.data);case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),DELETE_ENROLL=exports.DELETE_ENROLL="DELETE_ENROLL",deleteEnroll=exports.deleteEnroll=(0,_reduxActions.createAction)(DELETE_ENROLL,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.enroll.delete.url,data:{enroll_id:r}});case 2:return t=e.sent,e.abrupt("return",t&&t.data);case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/enroll_member.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(a,o){try{var u=r[a](o),i=u.value}catch(e){return void t(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteEnrollMemberImage=exports.DELETE_ENROLL_MEMBER_IMAGE=exports.uploadEnrollMemberImage=exports.UPLOAD_ENROLL_MEMBER_IMAGE=exports.fetchEnrollMemberList=exports.FETCH_ENROLL_MEMBER_LIST=exports.fetchEnrollMemberDetail=exports.FETCH_ENROLL_MEMBER_DETAIL=exports.deleteEnrollMember=exports.DELETE_ENROLL_MEMBER=exports.saveEnrollMember=exports.SAVE_ENROLL_MEMBER=void 0;var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),_upload=require("./../../utils/upload.js"),_upload2=_interopRequireDefault(_upload),SAVE_ENROLL_MEMBER=exports.SAVE_ENROLL_MEMBER="SAVE_ENROLL_MEMBER",saveEnrollMember=exports.saveEnrollMember=(0,_reduxActions.createAction)(SAVE_ENROLL_MEMBER,_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.enrollMember.save.url,data:t});case 2:return r=e.sent,e.abrupt("return",r&&r.data);case 4:case"end":return e.stop()}},e,void 0)}))),DELETE_ENROLL_MEMBER=exports.DELETE_ENROLL_MEMBER="DELETE_ENROLL_MEMBER",deleteEnrollMember=exports.deleteEnrollMember=(0,_reduxActions.createAction)(DELETE_ENROLL_MEMBER,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.enrollMember.delete.url,data:{member_id:r}});case 2:return t=e.sent,e.abrupt("return",t&&t.data);case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),FETCH_ENROLL_MEMBER_DETAIL=exports.FETCH_ENROLL_MEMBER_DETAIL="FETCH_ENROLL_MEMBER_DETAIL",fetchEnrollMemberDetail=exports.fetchEnrollMemberDetail=(0,_reduxActions.createAction)(FETCH_ENROLL_MEMBER_DETAIL,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n=r.member_id,a=r.enroll_id,o=r.uid;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.enrollMember.detail.url,data:{enroll_id:a,member_id:n,uid:o}});case 2:return t=e.sent,e.abrupt("return",t&&t.data);case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),FETCH_ENROLL_MEMBER_LIST=exports.FETCH_ENROLL_MEMBER_LIST="FETCH_ENROLL_MEMBER_LIST",fetchEnrollMemberList=exports.fetchEnrollMemberList=(0,_reduxActions.createAction)(FETCH_ENROLL_MEMBER_LIST,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,a,o,u=r.enroll_id,i=r.gid,E=void 0===i?null:i,l=r.page,_=void 0===l?1:l,s=r.pageSize,c=void 0===s?20:s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.enrollMember.list.url,data:{enroll_id:u,gid:E,page:_,pageSize:c}});case 2:return t=e.sent,n=[],a={current:1,pageSize:20,total:null},t&&t.data&&t.data.cmd&&(o=t.data.result,n=o.list,a=o.pagination),e.abrupt("return",_extends({},t&&t.data,{result:{items:n,pagination:a}}));case 7:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),UPLOAD_ENROLL_MEMBER_IMAGE=exports.UPLOAD_ENROLL_MEMBER_IMAGE="UPLOAD_ENROLL_MEMBER_IMAGE",uploadEnrollMemberImage=exports.uploadEnrollMemberImage=(0,_reduxActions.createAction)(UPLOAD_ENROLL_MEMBER_IMAGE,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n=r.enroll_id,a=r.member_id,o=r.url;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="enroll/"+n+"/member/"+a+"/image/"+Date.now(),e.prev=1,e.next=4,(0,_upload2.default)({url:_config.qiniu,filePath:o,name:"file",formData:{url:_config.qiniu,flag:"enroll_member",type:"image",key:t,member_id:a}});case 4:return e.abrupt("return",{cmd:!0,result:{enroll_id:n,member_id:a,key:t}});case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.next=12,(0,_request2.default)({url:_config.api.enrollMember.deleteFile.url,data:{member_id:a,type:"image",key:t}});case 12:return e.abrupt("return",{cmd:!1,msg:e.t0.message});case 13:case"end":return e.stop()}},e,void 0,[[1,7]])}));return function(r){return e.apply(this,arguments)}}()),DELETE_ENROLL_MEMBER_IMAGE=exports.DELETE_ENROLL_MEMBER_IMAGE="DELETE_ENROLL_MEMBER_IMAGE",deleteEnrollMemberImage=exports.deleteEnrollMemberImage=(0,_reduxActions.createAction)(DELETE_ENROLL_MEMBER_IMAGE,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,a,o,u,i=r.member_id,E=r.key;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.enrollMember.deleteFile.url,data:{member_id:i,type:"image",key:E}});case 2:return t=e.sent,n=t.data,a=n.cmd,o=n.result,u=n.msg,e.abrupt("return",{cmd:a,result:o,msg:u});case 8:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/exam_report.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(u,a){try{var o=r[u](a),i=o.value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchExamReportList=exports.FETCH_EXAM_REPORT_LIST=exports.fetchExamReport=exports.FETCH_EXAM_REPORT=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_EXAM_REPORT=exports.FETCH_EXAM_REPORT="FETCH_EXAM_REPORT",fetchExamReport=exports.fetchExamReport=(0,_reduxActions.createAction)(FETCH_EXAM_REPORT,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.examReport.detail.url,data:{exam_report_id:r}});case 2:return t=e.sent,e.abrupt("return",new Promise(function(e){e(t.data&&t.data.cmd?t.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),FETCH_EXAM_REPORT_LIST=exports.FETCH_EXAM_REPORT_LIST="FETCH_EXAM_REPORT_LIST",fetchExamReportList=exports.fetchExamReportList=(0,_reduxActions.createAction)(FETCH_EXAM_REPORT_LIST,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n=r.gid,u=r.page,a=void 0===u?1:u,o=r.pageSize,i=void 0===o?20:o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.examReport.list.url,data:{gid:n,page:a,pageSize:i}});case 2:return t=e.sent,e.abrupt("return",new Promise(function(e){e(t.data&&t.data.cmd?t.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/group.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(u,a){try{var o=r[u](a),i=o.value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchPartner=exports.FETCH_PARTNER=exports.fetchGroupPartnerList=exports.FETCH_GROUP_PARTNER_LIST=exports.fetchGroupList=exports.getOrFetchGroup=exports.fetchGroup=exports.FETCH_GROUP_LIST=exports.FETCH_GROUP=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_GROUP=exports.FETCH_GROUP="FETCH_GROUP",FETCH_GROUP_LIST=exports.FETCH_GROUP_LIST="FETCH_GROUP_LIST",fetchGroup=exports.fetchGroup=(0,_reduxActions.createAction)(FETCH_GROUP,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("班级编号不正确");case 2:return e.next=4,(0,_request2.default)({url:""+_config.api.group.detail.url+r});case 4:return t=e.sent,e.abrupt("return",t&&t.data&&t.data.cmd?t.data.result:null);case 6:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),getOrFetchGroup=exports.getOrFetchGroup=(0,_reduxActions.createAction)(FETCH_GROUP,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,u,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("班级编号不正确");case 2:if(t=_wepy2.default.$store.getState,(n=t().group.detail)&&n.gid==r&&!a){e.next=9;break}return e.next=7,(0,_request2.default)({url:""+_config.api.group.detail.url+r});case 7:return u=e.sent,e.abrupt("return",u&&u.data&&u.data.cmd?u.data.result:null);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),fetchGroupList=exports.fetchGroupList=(0,_reduxActions.createAction)(FETCH_GROUP_LIST,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,u,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.group.list.url,data:r||{}});case 2:return t=e.sent,n=[],u={current:1,pageSize:20,total:null},t&&t.data&&t.data.cmd&&(a=t.data.result,n=a.list,u=a.pagination),e.abrupt("return",new Promise(function(e){e({items:n,pagination:u})}));case 7:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),FETCH_GROUP_PARTNER_LIST=exports.FETCH_GROUP_PARTNER_LIST="FETCH_GROUP_PARTNER_LIST",fetchGroupPartnerList=exports.fetchGroupPartnerList=(0,_reduxActions.createAction)(FETCH_GROUP_PARTNER_LIST,function(e){return new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(t){var n,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,_request2.default)({url:""+_config.api.group.users.url+e});case 2:n=r.sent,u=n.data,t(u&&u.cmd&&u.result||[]);case 5:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}())}),FETCH_PARTNER=exports.FETCH_PARTNER="FETCH_PARTNER",fetchPartner=exports.fetchPartner=(0,_reduxActions.createAction)(FETCH_PARTNER,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t=r.gid,n=r.uid;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var u,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.group.partner.url,data:{gid:t,uid:n}});case 2:u=e.sent,a=u.data,r(a&&a.cmd&&a.result||null);case 5:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/homework.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(a,o){try{var u=r[a](o),s=u.value}catch(e){return void t(e)}if(!u.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchAssignTeams=exports.FETCH_ASSIGN_TEAMS=exports.fetchAssignPartners=exports.FETCH_ASSIGN_PARTNERS=exports.getOrFetchHomework=exports.fetchHomework=exports.FETCH_HOMEWORK=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),_homework_answer=require("./homework_answer.js"),FETCH_HOMEWORK=exports.FETCH_HOMEWORK="FETCH_HOMEWORK",fetchHomework=exports.fetchHomework=(0,_reduxActions.createAction)(FETCH_HOMEWORK,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,a=r.hid;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.homework.detail.url,data:{hid:a,isNew:!0}});case 2:return t=e.sent,n=t.data&&t.data.cmd?t.data.result:null,n&&n.homework_anwer&&_wepy2.default.$store.dispatch({type:"FETCH_HOMEWORK_ANSWER",payload:n.homework_anwer}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),getOrFetchHomework=exports.getOrFetchHomework=(0,_reduxActions.createAction)(FETCH_HOMEWORK,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,a,o,u,s,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_wepy2.default.$store,n=t.getState,a=t.dispatch,(o=n().homework.detail)&&o.hid==r&&!i){e.next=9;break}return e.next=5,(0,_request2.default)({url:""+_config.api.homework.detail.url,data:{hid:r,isNew:!0}});case 5:return u=e.sent,s=u.data&&u.data.cmd?u.data.result:null,s&&s.homework_anwer&&_wepy2.default.$store.dispatch({type:"FETCH_HOMEWORK_ANSWER",payload:s.homework_anwer}),e.abrupt("return",s);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()),FETCH_ASSIGN_PARTNERS=exports.FETCH_ASSIGN_PARTNERS="FETCH_ASSIGN_PARTNERS",fetchAssignPartners=exports.fetchAssignPartners=(0,_reduxActions.createAction)(FETCH_ASSIGN_PARTNERS,_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,(0,_request2.default)({url:_config.api.homework.assignInfo.url});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{cmd:!1,msg:e.t0.errMsg||e.t0.message});case 11:case"end":return e.stop()}},e,void 0,[[1,8]])}))),FETCH_ASSIGN_TEAMS=exports.FETCH_ASSIGN_TEAMS="FETCH_ASSIGN_TEAMS",fetchAssignTeams=exports.fetchAssignTeams=(0,_reduxActions.createAction)(FETCH_ASSIGN_TEAMS,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,(0,_request2.default)({url:_config.api.team.list.url,data:{gid:r}});case 4:n=e.sent,t=n.data&&n.data.cmd?n.data.result:[],e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.abrupt("return",new Promise(function(e){e(t)}));case 11:case"end":return e.stop()}},e,void 0,[[1,8]])}));return function(r){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/homework_answer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,u){try{var i=r[o](u),a=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});e(a)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchHomeworkAnswer=exports.FETCH_HOMEWORK_ANSWER=void 0;var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),_homework=require("./homework.js"),FETCH_HOMEWORK_ANSWER=exports.FETCH_HOMEWORK_ANSWER="FETCH_HOMEWORK_ANSWER",fetchHomeworkAnswer=exports.fetchHomeworkAnswer=(0,_reduxActions.createAction)(FETCH_HOMEWORK_ANSWER,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,o,u,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.homeworkAnswer.detail.url,data:{hid:r}});case 2:return t=e.sent,n=t.data&&t.data.cmd?t.data.result:null,o=_wepy2.default.$store,u=o.getState,i=o.dispatch,a=u().homework.detail,a&&i({type:_homework.FETCH_HOMEWORK,payload:{detail:_extends({},a,{homework_answer:n})}}),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _homework=require("./homework.js");Object.keys(_homework).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _homework[e]}})});var _user=require("./user.js");Object.keys(_user).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _user[e]}})});var _lesson=require("./lesson.js");Object.keys(_lesson).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _lesson[e]}})});var _group=require("./group.js");Object.keys(_group).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _group[e]}})});var _announcement=require("./announcement.js");Object.keys(_announcement).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _announcement[e]}})});var _base=require("./base.js");Object.keys(_base).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _base[e]}})});var _answer_supplement=require("./answer_supplement.js");Object.keys(_answer_supplement).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _answer_supplement[e]}})});var _dialog=require("./dialog.js");Object.keys(_dialog).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _dialog[e]}})});var _template=require("./template.js");Object.keys(_template).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _template[e]}})});var _enroll=require("./enroll.js");Object.keys(_enroll).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _enroll[e]}})});var _enroll_member=require("./enroll_member.js");Object.keys(_enroll_member).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _enroll_member[e]}})});var _audio=require("./audio.js");Object.keys(_audio).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _audio[e]}})});var _answer=require("./answer.js");Object.keys(_answer).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _answer[e]}})});var _homework_answer=require("./homework_answer.js");Object.keys(_homework_answer).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _homework_answer[e]}})});var _question_answer=require("./question_answer.js");Object.keys(_question_answer).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _question_answer[e]}})});var _question_set=require("./question_set.js");Object.keys(_question_set).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _question_set[e]}})}); 
 			}); 
		define("store/actions/lesson.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,a){try{var u=r[o](a),s=u.value}catch(e){return void t(e)}if(!u.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateCourseEvaluation=exports.fetchCourseRecord=exports.fetchCourseRecords=exports.FETCH_COURSE_RECORDS=exports.fetchLessonList=exports.FETCH_LESSON_LIST=void 0;var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_LESSON_LIST=exports.FETCH_LESSON_LIST="FETCH_LESSON_LIST",fetchLessonList=exports.fetchLessonList=(0,_reduxActions.createAction)(FETCH_LESSON_LIST,function(e){return console.log("fetchLessonList"),new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,_request2.default)({url:""+_config.api.course.list.url+e,data:{pageSize:999}});case 2:n=r.sent,t(n.data&&n.data.cmd&&n.data.result&&n.data.result.list||[]);case 4:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}())}),FETCH_COURSE_RECORDS=exports.FETCH_COURSE_RECORDS="FETCH_COURSE_RECORDS",fetchCourseRecords=exports.fetchCourseRecords=(0,_reduxActions.createAction)(FETCH_COURSE_RECORDS,function(e){var r=e.gid,t=e.page,n=void 0===t?1:t,o=e.pageSize,a=void 0===o?20:o;return new Promise(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.courseRecord.list.url,data:{gid:r,page:n,pageSize:a}});case 2:o=e.sent,t(o.data&&o.data.cmd&&o.data.result?{items:o.data.result.list,pagination:o.data.result.pagination}:{items:[],pagination:{current:1,pageSize:a,total:null}});case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}())}),fetchCourseRecord=exports.fetchCourseRecord=(0,_reduxActions.createAction)("REFRESH_COURSE_RECORD",function(e){return new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,_request2.default)({url:""+_config.api.courseRecord.detail.url,data:{course_record_id:e}});case 2:n=r.sent,t(n.data&&n.data.cmd&&n.data.result||null);case 4:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}())}),updateCourseEvaluation=exports.updateCourseEvaluation=(0,_reduxActions.createAction)("REFRESH_EVALUATION",function(e,r){return new Promise(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(n){var o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,_request2.default)({url:_config.api.courseRecord.saveEvaluation.url,data:_extends({},r,{course_evaluation_id:e})});case 2:o=t.sent,a=o.data,n(a&&a.cmd&&a.result||null);case 5:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}())}); 
 			}); 
		define("store/actions/question_answer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(u,i){try{var s=r[u](i),o=s.value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchQuestionAnswer=exports.FETCH_QUESTION_ANSWER=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_QUESTION_ANSWER=exports.FETCH_QUESTION_ANSWER="FETCH_QUESTION_ANSWER",fetchQuestionAnswer=exports.fetchQuestionAnswer=(0,_reduxActions.createAction)(FETCH_QUESTION_ANSWER,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n=r.question_answer_id,u=r.hid,i=r.question_set_id,s=r.answer_num,o=r.child;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.questionAnswer.detail.url,data:{question_answer_id:n,hid:u,question_set_id:i,answer_num:s,child:o}});case 2:return t=e.sent,e.abrupt("return",t.data&&t.data.cmd?t.data.result:null);case 4:case"end":return e.stop()}},e,void 0)}));return function(r){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/question_set.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(u,i){try{var o=t[u](i),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchQuestionSet=exports.FETCH_QUESTION_SET=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_QUESTION_SET=exports.FETCH_QUESTION_SET="FETCH_QUESTION_SET",fetchQuestionSet=exports.fetchQuestionSet=(0,_reduxActions.createAction)(FETCH_QUESTION_SET,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.questionSet.detail.url,data:{question_set_id:t}});case 2:return r=e.sent,e.abrupt("return",r.data&&r.data.cmd?r.data.result:null);case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/template.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,u){try{var o=t[a](u),i=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteTemplate=exports.updateTemplate=exports.createTemplate=exports.fetchTemplateList=exports.FETCH_TEMPLATE_LIST=exports.DELETE_TEMPLATE=exports.UPDATE_TEMPLATE=exports.CREATE_TEMPLATE=void 0;var _reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),CREATE_TEMPLATE=exports.CREATE_TEMPLATE="CREATE_TEMPLATE",UPDATE_TEMPLATE=exports.UPDATE_TEMPLATE="UPDATE_TEMPLATE",DELETE_TEMPLATE=exports.DELETE_TEMPLATE="DELETE_TEMPLATE",FETCH_TEMPLATE_LIST=exports.FETCH_TEMPLATE_LIST="FETCH_TEMPLATE_LIST",fetchTemplateList=exports.fetchTemplateList=(0,_reduxActions.createAction)(FETCH_TEMPLATE_LIST,_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.template.list.url});case 2:return t=e.sent,e.abrupt("return",new Promise(function(e){e(t&&t.data&&t.data.cmd?t.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}))),createTemplate=exports.createTemplate=(0,_reduxActions.createAction)(CREATE_TEMPLATE,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.template.create.url,data:{content:t}});case 2:return r=e.sent,e.abrupt("return",new Promise(function(e){e(r&&r.data&&r.data.cmd?r.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),updateTemplate=exports.updateTemplate=(0,_reduxActions.createAction)(UPDATE_TEMPLATE,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.template.update.url,data:{template_id:t,content:r}});case 2:return n=e.sent,e.abrupt("return",new Promise(function(e){e(n&&n.data&&n.data.cmd?n.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),deleteTemplate=exports.deleteTemplate=(0,_reduxActions.createAction)(DELETE_TEMPLATE,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:""+_config.api.template.delete.url,data:{template_id:t}});case 2:return r=e.sent,e.abrupt("return",new Promise(function(e){e(r&&r.data&&r.data.cmd?r.data.result:null)}));case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()); 
 			}); 
		define("store/actions/user.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(u,o){try{var i=r[u](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchUser=exports.FETCH_USER=void 0;var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),FETCH_USER=exports.FETCH_USER="FETCH_USER",fetchUser=exports.fetchUser=(0,_reduxActions.createAction)(FETCH_USER,_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)}))); 
 			}); 
		define("store/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function configStore(){return(0,_redux.createStore)(_reducers2.default,(0,_redux.applyMiddleware)(_reduxPromise2.default))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=configStore;var _redux=require("./../npm/redux/lib/index.js"),_reduxPromise=require("./../npm/redux-promise/lib/index.js"),_reduxPromise2=_interopRequireDefault(_reduxPromise),_reducers=require("./reducers/index.js"),_reducers2=_interopRequireDefault(_reducers); 
 			}); 
		define("store/reducers/announcement.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_announcement=require("./../actions/announcement.js");exports.default=(0,_reduxActions.handleActions)(_defineProperty({},_announcement.FETCH_ANNOUNCEMENT,function(e,n){return _extends({},e,{detail:n.payload})}),{detail:null}); 
 			}); 
		define("store/reducers/answer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_answer=require("./../actions/answer.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_answer.FETCH_ANSWER,function(e,n){return _extends({},e,{detail:n.payload})}),_defineProperty(_handleActions,_answer.FETCH_ANSWER_LIST,function(e,n){return _extends({},e,{list:n.payload||[]})}),_defineProperty(_handleActions,"UPDATE_ANSWER",function(e,n){var t=e.list,r=n.payload;if(t){var i=t.findIndex(function(e){return e.aid===r.aid});i>-1?t.splice(i,1,r):t.push(r)}return _extends({},e,{list:t})}),_defineProperty(_handleActions,"REMOVE_ANSWER",function(e,n){var t=e.list,r=n.payload;if(t&&t){var i=t.findIndex(function(e){return e.aid===r});t.splice(i,1)}return _extends({},e,{list:t})}),_defineProperty(_handleActions,_answer.UPDATE_ANSWER_LOAD_ALL,function(e,n){var t=n.payload;return _extends({},e,{loadAll:t})}),_handleActions),{detail:null,list:[],loadAll:!1}); 
 			}); 
		define("store/reducers/answer_supplement.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_answer_supplement=require("./../actions/answer_supplement.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_answer_supplement.FETCH_SUPPLEMENT,function(e,n){return _extends({},e,{detail:n.payload})}),_defineProperty(_handleActions,_answer_supplement.FETCH_SUPPLEMENT_LIST,function(e,n){var t=n.payload,r=t.items,i=t.pagination,a=t.pagination.current,s=e.list.items||[];return _extends({},e,{list:{items:1==a?r:s.concat(r),pagination:i}})}),_handleActions),{detail:null,list:{items:[],pagination:{current:1,pageSize:20,total:null}}}); 
 			}); 
		define("store/reducers/audio.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js");exports.default=(0,_reduxActions.handleActions)({UPDATE_AUDIO_STATE:function(e,r){return{audio:_extends({},e.audio,r.payload)}}},{audio:{url:"",src:"",paused:!0,loading:!1,playing:!0,currentTime:0,duration:0,isSilkFormat:!1}}); 
 			}); 
		define("store/reducers/base.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_base=require("./../actions/base.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_base.FETCH_APP_CONFIGS,function(e,n){return _extends({},e,{adConfigs:n.payload&&n.payload.ad,configs:n.payload})}),_defineProperty(_handleActions,"GET_SYSTEM_INFO",function(e,n){var o=_wepy2.default.getSystemInfoSync();return console.log("info",o),_extends({},e,{systemInfo:o,isWindow:o&&"windows"===o.platform,isIPad:o&&o.model&&(o.model.indexOf("iPad")>-1||o.model.indexOf("ipad")>-1),isIPhone:o&&o.model&&(o.model.indexOf("iPhone")>-1||o.model.indexOf("iphone")>-1)})}),_handleActions),{adConfigs:null,systemInfo:null,configs:null,isWindow:!1,isIPad:!1,isIPhone:!1}); 
 			}); 
		define("store/reducers/dialog.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_dialog=require("./../actions/dialog.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_dialog.FETCH_DIALOG_DETAIL,function(e,t){return _extends({},e,{detail:t.payload})}),_defineProperty(_handleActions,_dialog.FETCH_DIALOG_LIST,function(e,t){var n=t.payload,a=n.items,i=n.pagination,r=n.pagination.current,s=e.list.items||[];return _extends({},e,{list:{items:1==r?a:s.concat(a),pagination:i}})}),_defineProperty(_handleActions,_dialog.FETCH_DIALOG_MESSAGE_LIST,function(e,t){var n=t.payload,a=n.items,i=n.has_more,r=n.dialog_id,s=e.messages.dialog_id===r&&e.messages.items||[];if(a=a&&a.map(function(e){return _extends({},e,{createdTime:new Date(e.created_at).getTime()})}),s.length){var o=s[0];if(a.length){var d=(a[0],a[a.length-1]);a=new Date(d.created_at)>new Date(o.created_at)?[].concat(_toConsumableArray(a),_toConsumableArray(s)):[].concat(_toConsumableArray(s),_toConsumableArray(a))}else a=s}return _extends({},e,{messages:{items:a,has_more:i,dialog_id:r}})}),_defineProperty(_handleActions,_dialog.SEND_DIALOG_MESSAGE,function(e,t){var n=e.messages||{},a=n.items,i=void 0===a?[]:a,r=t.payload||null;return r&&(r.createdTime=new Date(r.created_at),i=[r].concat(_toConsumableArray(i))),_extends({},e,{messages:_extends({},e.messages,{items:i})})}),_defineProperty(_handleActions,"CLEAR_DIALOG_MESSAGE_LIST",function(e,t){return _extends({},e,{messages:{items:[],has_more:!1,dialog_id:null}})}),_defineProperty(_handleActions,_dialog.DELETE_DIALOG_MESSAGE,function(e,t){var n=t.payload,a=e.messages,i=e.messages.items,r=void 0===i?[]:i,s=r.findIndex(function(e){return e.id===n});return s>-1&&r.splice(s,1),_extends({},e,{messages:_extends({},a,{items:r})})}),_defineProperty(_handleActions,_dialog.DELETE_DIALOG,function(e,t){var n=t.payload,a=e.list,i=e.list.items,r=void 0===i?[]:i,s=r.findIndex(function(e){return e.id===n});return s>-1&&r.splice(s,1),_extends({},e,{list:_extends({},a,{items:r})})}),_handleActions),{detail:null,list:{items:[],pagination:{current:1,pageSize:20,total:null}},messages:{items:[],has_more:!1,dialog_id:null}}); 
 			}); 
		define("store/reducers/enroll.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_enroll=require("./../actions/enroll.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_enroll.FETCH_ENROLL_LIST,function(e,n){var t=n.payload.result,r=t||{},i=r.items,o=void 0===i?[]:i,l=r.pagination,a=void 0===l?{current:1,pageSize:20,total:null}:l,s=a.current,u=void 0===s?1:s,d=e.list.items||[];return _extends({},e,{list:{items:1==u?o:d.concat(o),pagination:a}})}),_defineProperty(_handleActions,_enroll.FETCH_ENROLL_DETAIL,function(e,n){var t=n.payload.result;return _extends({},e,{detail:t})}),_handleActions),{detail:null,list:{items:[],pagination:{current:1,pageSize:20,total:null}}}); 
 			}); 
		define("store/reducers/enroll_member.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_enroll_member=require("./../actions/enroll_member.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_enroll_member.FETCH_ENROLL_MEMBER_LIST,function(e,n){var t=n.payload.result,r=t||{},i=r.items,o=void 0===i?[]:i,l=r.pagination,a=void 0===l?{current:1,pageSize:20,total:null}:l,s=a.current,u=void 0===s?1:s,_=e.list.items||[];return _extends({},e,{list:{items:1==u?o:_.concat(o),pagination:a}})}),_defineProperty(_handleActions,_enroll_member.FETCH_ENROLL_MEMBER_DETAIL,function(e,n){var t=n.payload.result;return _extends({},e,{detail:t})}),_handleActions),{detail:null,list:{items:[],pagination:{current:1,pageSize:20,total:null}}}); 
 			}); 
		define("store/reducers/exam_report.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_exam_report=require("./../actions/exam_report.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_exam_report.FETCH_EXAM_REPORT,function(e,t){return _extends({},e,{detail:t.payload})}),_defineProperty(_handleActions,_exam_report.FETCH_EXAM_REPORT_LIST,function(e,t){var n=e.items,r=void 0===n?[]:n,i=t.payload||{},a=i.list,o=void 0===a?[]:a,l=i.pagination,s=void 0===l?{current:1,total:null,pageSize:20}:l;return _extends({},e,{list:{items:1==current?o:r.concat(r),pagination:s}})}),_handleActions),{detail:null,list:{items:[],pagination:{current:1,pageSize:20,total:null}}}); 
 			}); 
		define("store/reducers/group.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_group=require("./../actions/group.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_group.FETCH_GROUP,function(e,n){return _extends({},e,{detail:n.payload})}),_defineProperty(_handleActions,_group.FETCH_GROUP_LIST,function(e,n){var r=n.payload||{},t=r.items;return _extends({},e,{list:t||[]})}),_defineProperty(_handleActions,_group.FETCH_GROUP_PARTNER_LIST,function(e,n){return _extends({},e,{partners:n.payload||[]})}),_defineProperty(_handleActions,_group.FETCH_PARTNER,function(e,n){return _extends({},e,{partner:n.payload||null})}),_handleActions),{detail:null,list:[],group:[],partners:[],partner:null}); 
 			}); 
		define("store/reducers/homework.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_homework=require("./../actions/homework.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_homework.FETCH_HOMEWORK,function(e,n){return _extends({},e,{detail:n.payload})}),_defineProperty(_handleActions,_homework.FETCH_ASSIGN_PARTNERS,function(e,n){var r=n.payload,t=r&&r.cmd&&r.result||[];return _extends({},e,{assign_partners:t})}),_defineProperty(_handleActions,_homework.FETCH_ASSIGN_TEAMS,function(e,n){return _extends({},e,{assign_teams:n.payload||[]})}),_defineProperty(_handleActions,"UPDATE_HOMEWORK_ANSWER",function(e,n){var r=e.detail,t=n.payload;if(r)if(r.answers){var a=r.answers.findIndex(function(e){return e.aid===t.aid});a>-1?r.answers.splice(a,1,t):r.answers.push(t)}else r.answers=[n.payload];return _extends({},e,{detail:r})}),_defineProperty(_handleActions,"REMOVE_HOMEWORK_ANSWER",function(e,n){var r=e.detail,t=n.payload;if(r&&r.answers){var a=r.answers.findIndex(function(e){return e.aid===t});r.answers.splice(a,1)}return _extends({},e,{detail:r})}),_handleActions),{detail:null,assign_partners:[],assign_teams:[]}); 
 			}); 
		define("store/reducers/homework_answer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_homework_answer=require("./../actions/homework_answer.js");exports.default=(0,_reduxActions.handleActions)(_defineProperty({},_homework_answer.FETCH_HOMEWORK_ANSWER,function(e,r){return _extends({},e,{detail:r.payload})}),{detail:null}); 
 			}); 
		define("store/reducers/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _redux=require("./../../npm/redux/lib/index.js"),_homework=require("./homework.js"),_homework2=_interopRequireDefault(_homework),_user=require("./user.js"),_user2=_interopRequireDefault(_user),_lesson=require("./lesson.js"),_lesson2=_interopRequireDefault(_lesson),_group=require("./group.js"),_group2=_interopRequireDefault(_group),_announcement=require("./announcement.js"),_announcement2=_interopRequireDefault(_announcement),_base=require("./base.js"),_base2=_interopRequireDefault(_base),_answer_supplement=require("./answer_supplement.js"),_answer_supplement2=_interopRequireDefault(_answer_supplement),_dialog=require("./dialog.js"),_dialog2=_interopRequireDefault(_dialog),_template=require("./template.js"),_template2=_interopRequireDefault(_template),_enroll=require("./enroll.js"),_enroll2=_interopRequireDefault(_enroll),_enroll_member=require("./enroll_member.js"),_enroll_member2=_interopRequireDefault(_enroll_member),_audio=require("./audio.js"),_audio2=_interopRequireDefault(_audio),_answer=require("./answer.js"),_answer2=_interopRequireDefault(_answer),_homework_answer=require("./homework_answer.js"),_homework_answer2=_interopRequireDefault(_homework_answer),_question_answer=require("./question_answer.js"),_question_answer2=_interopRequireDefault(_question_answer),_question_set=require("./question_set.js"),_question_set2=_interopRequireDefault(_question_set);exports.default=(0,_redux.combineReducers)({homework:_homework2.default,user:_user2.default,lesson:_lesson2.default,group:_group2.default,announcement:_announcement2.default,base:_base2.default,answer_supplement:_answer_supplement2.default,dialog:_dialog2.default,template:_template2.default,enroll:_enroll2.default,enroll_member:_enroll_member2.default,audio:_audio2.default,answer:_answer2.default,homework_answer:_homework_answer2.default,question_answer:_question_answer2.default,question_set:_question_set2.default}); 
 			}); 
		define("store/reducers/lesson.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_lesson=require("./../actions/lesson.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_lesson.FETCH_LESSON_LIST,function(e,n){return _extends({},e,{lessonList:n.payload})}),_defineProperty(_handleActions,_lesson.FETCH_COURSE_RECORDS,function(e,n){var t=n.payload,o=t.items,r=t.pagination,i=t.pagination.current,s=e.courseRecords.items||[];return _extends({},e,{courseRecords:{items:1==i?o:s.concat(o),pagination:r}})}),_defineProperty(_handleActions,"REFRESH_COURSE_RECORD",function(e,n){return _extends({},e,{courseRecord:n.payload,evaluations:n.payload?n.payload.evaluations:[]})}),_defineProperty(_handleActions,"REFRESH_EVALUATION",function(e,n){var t=n.payload,o=e.evaluations||[],r=o.findIndex(function(e){return e.id==t.id});return r>-1&&o.splice(r,1,t),_extends({},e,{evaluations:o})}),_handleActions),{lessonList:[],courseRecords:{items:[],pagination:{current:1,pageSize:20,total:null}},courseRecord:null,evaluations:[]}); 
 			}); 
		define("store/reducers/question_answer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_question_answer=require("./../actions/question_answer.js");exports.default=(0,_reduxActions.handleActions)(_defineProperty({},_question_answer.FETCH_QUESTION_ANSWER,function(e,r){return _extends({},e,{detail:r.payload})}),{detail:null}); 
 			}); 
		define("store/reducers/question_set.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_question_set=require("./../actions/question_set.js");exports.default=(0,_reduxActions.handleActions)(_defineProperty({},_question_set.FETCH_QUESTION_SET,function(e,t){return _extends({},e,{detail:t.payload})}),{detail:null}); 
 			}); 
		define("store/reducers/template.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0});var _handleActions,_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_template=require("./../actions/template.js");exports.default=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_template.FETCH_TEMPLATE_LIST,function(e,t){return _extends({},e,{list:t.payload})}),_defineProperty(_handleActions,_template.CREATE_TEMPLATE,function(e,t){var r=e.list,n=t.payload;return _extends({},e,{list:n?[n].concat(_toConsumableArray(r)):r})}),_defineProperty(_handleActions,_template.DELETE_TEMPLATE,function(e,t){var r=e.list,n=t.payload;if(console.log(n,[].concat(_toConsumableArray(r))),n){var a=r.findIndex(function(e){return e.id===n.id});a>-1&&r.splice(a,1)}return _extends({},e,{list:[].concat(_toConsumableArray(r))})}),_handleActions),{list:[]}); 
 			}); 
		define("store/reducers/user.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_reduxActions=require("./../../npm/redux-actions/lib/index.js"),_user=require("./../actions/user.js");exports.default=(0,_reduxActions.handleActions)(_defineProperty({},_user.FETCH_USER,function(e,r){return _extends({},e,{detail:r.payload})}),{detail:null}); 
 			}); 
		define("utils/avatar.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){if(!e||e.length<10||!t&&0!=t)return e;var r=e.lastIndexOf("/");return e.substr(0,r)+"/"+t}; 
 			}); 
		define("utils/cdnurl.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=i?r?BIG_FILE_SSLCDN:BIG_FILE_CDN:r?SSLCDN:CDN;if(Array.isArray(t)){for(var o=[],u=0;u<t.length;u++)o[u]=n+t[u],e&&(o[u]+="-"+e);return o}return e?n+t+"-"+e:n+t};var CDN="http://files.fujin8.com/",SSLCDN="https://cdn.fujin8.com/",BIG_FILE_CDN="http://media.fujin8.com/",BIG_FILE_SSLCDN="https://media.fujin8.com/"; 
 			}); 
		define("utils/clientUtil.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_exceptions=require("./../exceptions/index.js"),showActionSheet=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=r,e.next=4,_wepy2.default.showActionSheet(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 8:if(e.prev=8,e.t2=e.catch(0),"showActionSheet:fail cancel"!==e.t2.errMsg){e.next=12;break}return e.abrupt("return",r({tapIndex:-1}));case 12:n(e.t2);case 13:case"end":return e.stop()}},e,void 0,[[0,8]])}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),setStorageSync=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",_wepy2.default.setStorageSync(t,r));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",new Promise(function(e,n){wx.setStorage({key:t,data:r,success:function(t){e(t)},fail:function(e){n(e.errMsg)}})}));case 7:case"end":return e.stop()}},e,void 0,[[0,4]])}));return function(t,r){return e.apply(this,arguments)}}(),chooseImage=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=["拍摄","从手机相册选择"],wx.chooseMessageFile&&t.push("从微信聊天会话中选择"),r=-1,e.prev=3,e.next=6,showActionSheet({itemList:t});case 6:n=e.sent,r=n.tapIndex,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:if(0!=r&&1!=r){e.next=26;break}return a=[],e.prev=14,e.next=17,_wepy2.default.chooseImage(_extends({},o,{sourceType:[0==r?"camera":"album"]}));case 17:return e.abrupt("return",e.sent);case 20:if(e.prev=20,e.t1=e.catch(14),"chooseImage:fail cancel"!==e.t1.errMsg){e.next=24;break}return e.abrupt("return",{tempFilePaths:[]});case 24:e.next=32;break;case 26:if(2!=r){e.next=30;break}return e.abrupt("return",new Promise(function(e,t){wx.chooseMessageFile({count:o.count,type:"image",success:function(t){var r=t.tempFiles;e({tempFilePaths:r.map(function(e){return e.path})})},fail:function(t){e({tempFilePaths:[]})}})}));case 30:if(-1!=r){e.next=32;break}return e.abrupt("return",{tempFilePaths:[]});case 32:case"end":return e.stop()}},e,void 0,[[3,10],[14,20]])}));return function(){return e.apply(this,arguments)}}(),_chooseVideo=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=["拍摄","从手机相册选择"],wx.chooseMessageFile&&t.push("从微信聊天会话中选择"),r=-1,e.prev=3,e.next=6,showActionSheet({itemList:t});case 6:n=e.sent,r=n.tapIndex,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:if(0!=r&&1!=r){e.next=18;break}return e.next=15,_wepy2.default.chooseVideo(_extends({sourceType:[0==r?"camera":"album"]},a));case 15:return e.abrupt("return",e.sent);case 18:if(2!=r){e.next=22;break}return e.abrupt("return",new Promise(function(e,t){wx.chooseMessageFile({count:1,type:"video",success:function(r){var n=r.tempFiles,a=n[0];if(!a)return t({errMsg:"视频未选择"});e({tempFilePath:a.path,duration:null,size:a.size,width:null,height:null,name:a.name})},fail:function(e){t(_extends({},e,{errMsg:e.errMsg||"选择视频出错"}))}})}));case 22:if(-1!=r){e.next=24;break}throw new Error("视频未选择");case 24:case"end":return e.stop()}},e,void 0,[[3,10]])}));return function(){return e.apply(this,arguments)}}(),chooseVideo=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,o,i,u,c,s,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,r=!0,n=null,a=null,o=_wepy2.default.$store.getState(),o&&(n=o.group.detail,(a=o.user.detail)&&n&&(i=n.vips||[],i.some(function(e){return e.uid===a.uid})&&(r=!1),n.partner&&"T"===n.partner.type&&(r=!1))),e.prev=6,e.next=9,_chooseVideo(p);case 9:t=e.sent,e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(6),u=e.t0.errMsg||e.t0.message,u.indexOf("cancel")>-1&&(u="视频未选择"),new Error(u);case 17:if(!(r&&t&&null!=t.size&&t.size>1024*f*1024)){e.next=29;break}if(c="上传的视频不能超过"+f+"M",!n||!n.partner){e.next=28;break}return e.next=22,_wepy2.default.showModal({title:"提示",content:c+", 购买VIP服务即可享受更优质服务",confirmText:"去购买"});case 22:if(s=e.sent,!s.confirm){e.next=28;break}if(n){e.next=26;break}throw new Error("获取班级信息出错");case 26:return e.next=28,_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+n.gid});case 28:throw new _exceptions.ValidationError(c,_exceptions.ValidationError.CHOOSE_VIDEO_EXCEED_SIZE_LIMIT);case 29:return e.abrupt("return",t);case 30:case"end":return e.stop()}},e,void 0,[[6,12]])}));return function(){return e.apply(this,arguments)}}(),downloadFile=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_wepy2.default.downloadFile(t);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!(e.t0.errMsg&&e.t0.errMsg.indexOf("exceed")>-1)){e.next=13;break}return e.next=11,_wepy2.default.showModal({title:"提示",content:"文件储存空间不足",confrimText:"去清理",cancelText:"取消"});case 11:r=e.sent,r.confirm&&_wepy2.default.navigateTo({url:"/sp1/pages/personal"});case 13:throw new Error(e.t0.errMsg||e.t0.message);case 14:case"end":return e.stop()}},e,void 0,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),setInnerAudioOption=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n=t.obeyMuteSwitch;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"function"!=typeof _wepy2.default.setInnerAudioOption){e.next=6;break}return e.next=4,_wepy2.default.setInnerAudioOption({obeyMuteSwitch:n});case 4:e.next=7;break;case 6:r&&null!=n&&(r.obeyMuteSwitch=n);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,void 0,[[0,9]])}));return function(t,r){return e.apply(this,arguments)}}(),setKeepScreenOn=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_wepy2.default.setKeepScreenOn({keepScreenOn:t});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,void 0,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),hideLoading=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){wx.hideLoading()},300);case 1:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}();module.exports={setStorageSync:setStorageSync,chooseVideo:chooseVideo,downloadFile:downloadFile,setInnerAudioOption:setInnerAudioOption,setKeepScreenOn:setKeepScreenOn,hideLoading:hideLoading,chooseImage:chooseImage,showActionSheet:showActionSheet}; 
 			}); 
		define("utils/common.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function throttle(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,o=!0;return function(){var r=this,n=arguments;o&&(o=!1,setTimeout(function(){t.apply(r,n),o=!0},e))}}module.exports={throttle:throttle}; 
 			}); 
		define("utils/constances.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var WISH_LIST_APPID=exports.WISH_LIST_APPID="wxb251981d899d5c23",MEMBER_STATUS_REMARK=exports.MEMBER_STATUS_REMARK={0:"转班",1:"转学",2:"休学",3:"暂缺"},HOMEWORK_CONFIRM_TYPE_TEXTS=exports.HOMEWORK_CONFIRM_TYPE_TEXTS={0:"文字确认",1:"拍照确认",2:"语音确认",3:"视频确认"},HOMEWORK_RATING_CRITERION_TEXTS=exports.HOMEWORK_RATING_CRITERION_TEXTS={0:"等第制",1:"十分制",2:"百分制",3:"自定义"},WEEKDAY_TEXTS=exports.WEEKDAY_TEXTS={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},HOMEWORK_DEFAULT_COURSE_TEXTS=exports.HOMEWORK_DEFAULT_COURSE_TEXTS=["语文","数学","英语","科学","书法","音乐","体育","美术","兴趣小组","通知","其它"],HOMEWORK_REWARDED_AD_INTERVAL_MS=exports.HOMEWORK_REWARDED_AD_INTERVAL_MS=9e5,CALENDAR_REWARDED_AD_INTERVAL_MS=exports.CALENDAR_REWARDED_AD_INTERVAL_MS=9e5; 
 			}); 
		define("utils/createInterstitialAd.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var u=t[a](i),o=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_clientUtil=require("./clientUtil.js"),INTERSTITIAL_AD_INTERVAL=18e5,LS_INTERSTITIAL_AD_PREFIX="ls_interstitial_ad_";exports.default=function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,u,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_wepy2.default.$store.getState()||{base:{}},n=r.base.adConfigs,t&&n&&n[t]&&wx.createInterstitialAd){e.next=3;break}return e.abrupt("return");case 3:if(!((a=_wepy2.default.getStorageSync(LS_INTERSTITIAL_AD_PREFIX+t))&&new Date-new Date(a)<INTERSTITIAL_AD_INTERVAL)){e.next=6;break}return e.abrupt("return");case 6:if(i=_wepy2.default.getSystemInfoSync(),!(u=i.SDKVersion)){e.next=21;break}if(o=u.split("."),!(o[0]>2||2==o[0]&&o[1]>=6)){e.next=21;break}return e.prev=10,s=wx.createInterstitialAd({adUnitId:n[t]}),e.next=14,s.show();case 14:return e.next=16,(0,_clientUtil.setStorageSync)(LS_INTERSTITIAL_AD_PREFIX+t,(new Date).getTime());case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.log(e.t0);case 21:case"end":return e.stop()}},e,this,[[10,18]])}));return e}(); 
 			}); 
		define("utils/createRewardedVideoAd.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var u=t[a](o),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_clientUtil=require("./clientUtil.js"),REWARDED_VIDEO_AD_INTERVAL=18e5,LS_REWARDED_VIDEO_AD_PREFIX="ls_rewarded_video_ad_";exports.default=function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,u,i,c,s,_=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_wepy2.default.$store.getState()||{base:{}},n=r.base.adConfigs,t&&n&&n[t]&&wx.createRewardedVideoAd){e.next=3;break}return e.abrupt("return");case 3:if(!((a=_wepy2.default.getStorageSync(LS_REWARDED_VIDEO_AD_PREFIX+t))&&new Date(a)-new Date<REWARDED_VIDEO_AD_INTERVAL)){e.next=6;break}return e.abrupt("return");case 6:if(o=_wepy2.default.getSystemInfoSync(),!(u=o.SDKVersion)){e.next=20;break}if(i=u.split("."),!(i[0]>2||2==i[0]&&i[1]>=6)){e.next=20;break}return c=wx.createRewardedVideoAd({adUnitId:n[t]}),s=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.offClose(),c.onError(r),e.next=4,c.load();case 4:return e.next=6,c.show();case 6:return e.next=8,(0,_clientUtil.setStorageSync)(LS_REWARDED_VIDEO_AD_PREFIX+t,new Date);case 8:case"end":return e.stop()}},e,_)}));return function(){return e.apply(this,arguments)}}(),e.prev=12,e.next=15,s(s);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[12,17]])}));return e}(); 
 			}); 
		define("utils/dateUtil.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _formatNumber(t){return t=t.toString(),t[1]?t:"0"+t}function future(t){if(t instanceof Date)return getDateStr(t);var e=new Date,n=new Date(e.getTime()+86400*t*1e3);return getDateStr(n)}var getDateStart=function(t){return t=t?new Date(t):new Date,t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},getDateEnd=function(t){return t=t?new Date(t):new Date,t.setHours(23),t.setMinutes(59),t.setSeconds(59),t.setMilliseconds(999),t},getWeekStart=function(t){t=getDateStart(t);var e=t.getDay();return t.setDate(t.getDate()-e),t},getMonthStart=function(t){return t=getDateStart(t),t.setDate(1),t},getMonthEnd=function(t){return t=getMonthStart(t),t.setMonth(t.getMonth()+1),t.setMilliseconds(-1),t},getDayDiff=function(t,e){var n=getDateStart(t),r=getDateStart(e||new Date);return Math.ceil((n.getTime()-r.getTime())/86400/1e3)},getSecondDiff=function(t,e){var n=getDateStart(t),r=getDateStart(e||new Date);return n.getTime()-r.getTime()},getDateText=function(t){var e=getDayDiff(t);return 0==e?"今天":1==e?"明天":2==e?"后天":3==e?"大后天":e+"天后"},getTimeStr=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=new Date(t);var n=t.getHours(),r=t.getMinutes();if(e){var a=new Date,g=t-a,o=g/1e3/60/60;if(o>1)return Math.floor(o)+"小时后";var i=g/1e3/60;return i>1?Math.floor(i)+"分钟后":"即将"}return[n,r].map(_formatNumber).join(":")},getDateStr=function(t){return t=new Date(t),[t.getFullYear(),t.getMonth()+1,t.getDate()].map(_formatNumber).join("-")},getDatetimeStr=function(t){return t=new Date(t),getDateStr(t)+" "+getTimeStr(t)},getDeadlineText=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=getSecondDiff(t);return r<0?"已过期":0===r?e?getTimeStr(t,n)+"截止":"今天截止":getDateText(t)+"截止"},dateBeforeOrAfter=function(t,e,n){t instanceof Date||(t=new Date(t));var r=t.getFullYear(),a=t.getMonth(),g=t.getDate(),o=t.getHours(),i=t.getMinutes(),D=new Date(r,a,g);return D.setDate(t.getDate()+e),[D.getFullYear(),D.getMonth()+1,D.getDate()].map(_formatNumber).join("-")+(n?" "+[o,i].map(_formatNumber).join(":"):"")},monthAfter=function(t,e,n){t instanceof Date||(t=new Date(t));var r=t.getFullYear(),a=t.getMonth(),g=t.getDate(),o=t.getHours(),i=t.getMinutes(),D=new Date(r,a,g);return D.setMonth(D.getMonth()+e),12*D.getFullYear()+D.getMonth()>12*r+a+e&&(D=new Date(D.getFullYear(),D.getMonth(),0)),[D.getFullYear(),D.getMonth()+1,D.getDate()].map(_formatNumber).join("-")+(n?" "+[o,i].map(_formatNumber).join(":"):"")},WEEK_DAYS=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],weekText=function(t){t instanceof Date||(t=getDateStart(t));var e=t.getDay();return WEEK_DAYS[e-1]},getStartTimeTips=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!t||new Date(t)<=new Date?getDeadlineText(e,n,r):0===getSecondDiff(t)?n?getTimeStr(t,r)+"发布":"今天发布":getDateText(t)+"发布"};module.exports={getDateStart:getDateStart,getDateEnd:getDateEnd,getWeekStart:getWeekStart,getMonthStart:getMonthStart,getMonthEnd:getMonthEnd,getDayDiff:getDayDiff,getSecondDiff:getSecondDiff,getDateText:getDateText,getTimeStr:getTimeStr,getDateStr:getDateStr,getDatetimeStr:getDatetimeStr,getDeadlineText:getDeadlineText,dateBeforeOrAfter:dateBeforeOrAfter,monthAfter:monthAfter,future:future,weekText:weekText,getStartTimeTips:getStartTimeTips}; 
 			}); 
		define("utils/dateformat.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function formatNumber(t){return t=t.toString(),t[1]?t:"0"+t}module.exports=function(t,e){t instanceof Date||(t=new Date(t));var r=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),a=t.getHours(),u=t.getMinutes();return e?[r,n,o].map(formatNumber).join("-")+" "+[a,u].map(formatNumber).join(":"):[r,n,o].map(formatNumber).join("-")}; 
 			}); 
		define("utils/deadline.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e instanceof Date||(e=new Date(e),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0));var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);var r=e.getTime()-t.getTime();if(r<0)return"已过期";if(0==r)return"今天截止";var s=r/1e3;if(s<=DAYSECONDS)return"明天截止";if(s<=2*DAYSECONDS)return"后天截止";if(s<=3*DAYSECONDS)return"大后天截止";var n=s/DAYSECONDS;return Math.ceil(n)+"天后截止"};var DAYSECONDS=86400; 
 			}); 
		define("utils/deepclone.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};module.exports=function o(t){if("object"!==(void 0===t?"undefined":_typeof(t))||null===t)return t;if(Array.isArray(t))return t.map(function(t){return"object"===(void 0===t?"undefined":_typeof(t))&&null!==t?o(t):t});var e={};return Object.keys(t).forEach(function(n){"object"===_typeof(t[n])&&null!==t[n]?e[n]=o(t[n]):e[n]=t[n]}),e}; 
 			}); 
		define("utils/delay.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function delay(e){return new Promise(function(t,n){setTimeout(function(){return t()},e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=delay; 
 			}); 
		define("utils/download.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var u=t[a](o),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_interfaces=require("./../interfaces/index.js"),_interfaces2=_interopRequireDefault(_interfaces);exports.default=function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function t(r){var n,a,o,u,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.header?(r.header["x-wechat-session"]=_wepy2.default.getStorageSync("_session"),r.header.authorazition=_wepy2.default.getStorageSync("_token")):r.header={"x-wechat-session":_wepy2.default.getStorageSync("_session"),authorazition:_wepy2.default.getStorageSync("_token")},t.next=3,_wepy2.default.downloadFile(r);case 3:if(n=t.sent,401!==n.statusCode){t.next=15;break}return t.next=7,_interfaces2.default.login();case 7:if(a=t.sent,o=a||[],u=_slicedToArray(o,2),i=u[0],s=u[1],!i&&!s){t.next=13;break}return t.next=12,e(r);case 12:return t.abrupt("return",t.sent);case 13:t.next=20;break;case 15:if(500!==n.statusCode){t.next=19;break}_wepy2.default.showModal({title:"提示",content:"服务器错误: "+n.data.errmsg}),t.next=20;break;case 19:return t.abrupt("return",n);case 20:case"end":return t.stop()}},t,this)}));return e}(); 
 			}); 
		define("utils/exportExcelOrDownload.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,u){try{var o=t[a](u),i=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./request.js"),_request2=_interopRequireDefault(_request);exports.default=function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,u=t.type,o=t.attach_id,i=t.file_path,c=t.download;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"提示",content:"您可以直接打开，或者复制链接到浏览器下载（链接15分钟内有效）",confirmText:"复制链接",cancelText:"直接打开"});case 2:if(r=e.sent,!r.cancel){e.next=7;break}"function"==typeof c&&c(),e.next=23;break;case 7:if(!r.confirm){e.next=23;break}return e.prev=8,e.next=11,(0,_request2.default)({url:_config.api.util.getExportTempPath.url,data:{type:u,attach_id:o,file_path:i}});case 11:if(n=e.sent,(a=n.data)&&a.cmd){e.next=15;break}throw new Error(a.msg);case 15:return e.next=17,_wepy2.default.setClipboardData({data:_config.HOST+"/"+a.result});case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(8),e.next=23,_wepy2.default.showModal({title:"提示",content:e.t0.message||"  复制链接失败",showCancel:!1});case 23:case"end":return e.stop()}},e,this,[[8,19]])}));return e}(); 
 			}); 
		define("utils/fileUtil.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ROOT=wx.env.USER_DATA_PATH,accessOrMkdir=function(e){e=e.startsWith("/")?e.replace("/",""):e;var r=ROOT+"/"+e,t=wx.getFileSystemManager();try{t.accessSync(r)}catch(e){t.mkdirSync(r,!0)}},computeSpace=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ROOT,t=0,a=wx.getFileSystemManager(),n=a.statSync(r);if(n.isDirectory()){var i=a.readdirSync(r),c=!0,l=!1,o=void 0;try{for(var s,y=i[Symbol.iterator]();!(c=(s=y.next()).done);c=!0){t+=e(r+"/"+s.value)}}catch(e){l=!0,o=e}finally{try{!c&&y.return&&y.return()}finally{if(l)throw o}}}else t+=n.size;return t},getFileList=function e(r){var t=[],a=wx.getFileSystemManager(),n=a.statSync(r);if(n.isDirectory()){if(-1===r.lastIndexOf("miniprogramLog")){var i=a.readdirSync(r),c=!0,l=!1,o=void 0;try{for(var s,y=i[Symbol.iterator]();!(c=(s=y.next()).done);c=!0){var f=s.value;t=t.concat(e(r+"/"+f))}}catch(e){l=!0,o=e}finally{try{!c&&y.return&&y.return()}finally{if(l)throw o}}}}else-1===r.lastIndexOf(".nomedia")&&t.push(_extends({path:r},n));return t.sort(function(e,r){return e.lastAccessedTime-r.lastAccessedTime})},clearSpaceIfLessThan=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ROOT,t=computeSpace(r),a=10485760-t,n=0;if(a<=e){var i=getFileList(r),c=wx.getFileSystemManager(),l=!0,o=!1,s=void 0;try{for(var y,f=i[Symbol.iterator]();!(l=(y=f.next()).done);l=!0){var u=y.value;if(!(a<=e))break;console.log(u.path,u.size),c.unlinkSync(u.path),a+=u.size,n+=u.size}}catch(e){o=!0,s=e}finally{try{!l&&f.return&&f.return()}finally{if(o)throw s}}}if(a=e)throw new Error("文件储存空间不足");return n},clearSpace=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ROOT;try{var r=getFileList(e),t=wx.getFileSystemManager(),a=!0,n=!1,i=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var o=c.value;t.unlinkSync(o.path)}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}}catch(e){}};module.exports={accessOrMkdir:accessOrMkdir,computeSpace:computeSpace,getFileList:getFileList,clearSpaceIfLessThan:clearSpaceIfLessThan,clearSpace:clearSpace}; 
 			}); 
		define("utils/getRewardedVideoAd.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,a){try{var u=r[o](a),i=u.value}catch(e){return void t(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_realTimeLog=require("./realTimeLog.js"),_realTimeLog2=_interopRequireDefault(_realTimeLog);exports.default=function(){function e(e){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,o,a,u,i,s=this,c=r.key,f=r.onLoad,p=r.onError;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_wepy2.default.$store.getState()||{base:{}},n=t.base.adConfigs,c&&n&&n[c]&&wx.createRewardedVideoAd){e.next=3;break}return e.abrupt("return");case 3:if(o=_wepy2.default.getSystemInfoSync(),!(a=o.SDKVersion)){e.next=14;break}if(u=a.split("."),!(u[0]>2||2==u[0]&&u[1]>=6)){e.next=14;break}return i=wx.createRewardedVideoAd({adUnitId:n[c]}),i.offError(),i.offClose(),i.onLoad(f),i.onError(function(e){_realTimeLog2.default.error("激励视频加载出错: "+e.errMsg+"(错误码"+e.errCode+")"),p(e)}),i.loadAndShow=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.show();case 3:e.next=18;break;case 5:return e.prev=5,e.t0=e.catch(0),e.prev=7,e.next=10,i.load();case 10:return e.next=12,i.show();case 12:e.next=18;break;case 14:throw e.prev=14,e.t1=e.catch(7),console.log("激励视频拉取失败："+e.t1.errMsg),e.t1;case 18:case"end":return e.stop()}},e,s,[[0,5],[7,14]])})),e.abrupt("return",i);case 14:case"end":return e.stop()}},e,this)}));return e}(); 
 			}); 
		define("utils/polyfill.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function polyfill(){Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}),Object.values||(Object.values=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=polyfill; 
 			}); 
		define("utils/rating.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(!e)return"";switch(e){case 1:return"优";case 2:return"优-";case 3:return"良";case 4:return"良-";case 5:return"中";case 6:return"差";case 7:return"不及格";default:return""}}; 
 			}); 
		define("utils/realTimeLog.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var log=wx.getRealtimeLogManager?wx.getRealtimeLogManager():null;module.exports={info:function(){log&&log.info.apply(log,arguments)},warn:function(){log&&log.warn.apply(log,arguments)},error:function(){log&&log.error.apply(log,arguments)},setFilterMsg:function(o){log&&log.setFilterMsg&&"string"==typeof o&&log.setFilterMsg(o)}}; 
 			}); 
		define("utils/request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,u){try{var o=t[a](u),i=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,t){var r=[],n=!0,a=!1,u=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,u=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_interfaces=require("./../interfaces/index.js"),_interfaces2=_interopRequireDefault(_interfaces);exports.default=function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function t(r){var n,a,u,o,i,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.method||(r.method="POST"),r.header?(r.header["x-wechat-session"]=_wepy2.default.getStorageSync("_session"),r.header.authorazition=_wepy2.default.getStorageSync("_token")||""):r.header={"x-wechat-session":_wepy2.default.getStorageSync("_session"),authorazition:_wepy2.default.getStorageSync("_token")||""},t.next=4,_wepy2.default.request(r);case 4:if(n=t.sent,401!==n.statusCode){t.next=16;break}return t.next=8,_interfaces2.default.login();case 8:if(a=t.sent,u=a||[],o=_slicedToArray(u,2),i=o[0],s=o[1],!i&&!s){t.next=14;break}return t.next=13,e(r);case 13:return t.abrupt("return",t.sent);case 14:t.next=26;break;case 16:if(500!==n.statusCode){t.next=20;break}_wepy2.default.showModal({title:"提示",content:"服务器错误: "+n.data.errmsg}),t.next=26;break;case 20:if(403!==n.statusCode){t.next=25;break}c=getCurrentPages(),0!==c.length&&"pages/index"==c[c.length-1].route||_wepy2.default.reLaunch({url:"/pages/index"}),t.next=26;break;case 25:return t.abrupt("return",n);case 26:case"end":return t.stop()}},t,this)}));return e}(); 
 			}); 
		define("utils/sdk/ald-stat-conf.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";exports.app_key="032a8d244ff841967ab3e8405062713d",exports.getLocation=!1,exports.plugin=!1,exports.useOpen=!1; 
 			}); 
		define("utils/sdk/ald-stat.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,n){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Ald=n()}(void 0,function(){function t(){this.concurrency=4,this.queue=[],this.tasks=[],this.activeCount=0;var t=this;this.push=function(n){this.tasks.push(new Promise(function(e,o){var r=function(){t.activeCount++,n().then(function(t){e(t)}).then(function(){t.next()})};t.activeCount<t.concurrency?r():t.queue.push(r)}))},this.all=function(){return Promise.all(this.tasks)},this.next=function(){t.activeCount--,t.queue.length>0&&t.queue.shift()()}}function n(){this.request=[],this.updata=!1,this.push=function(t){this.request.length>=8&&!this.updata&&(this.updata=!0,e()),this.request.length>=10?(this.request.shift(),this.request.push(t)):this.request.push(t)},this.concat=function(){this.request.map(function(t){wx.Queue.push(t)}),this.request=[]}}function e(){"function"==typeof wt&&""===G&&wt().then(function(t){28===t.length&&(G=t,wx.setStorageSync("aldstat_op",t))})}function o(t){this.app=t}function r(t){T=S(),W=t,ht=t.scene,this.aldstat=new o(this)}function i(t){e();var n;n=t.scene!=ht,ht=t.scene,V=0,W=t,F=t.query.ald_share_src,X=t.query.aldsrc||"",Y=t.query.ald_share_src,ct||($=!1),ct=!1,(0!==Q&&Date.now()-Q>3e4||n)&&(ft||(B=S(),N=Date.now(),dt=0)),0!==Q&&Date.now()-Q<3e4&&(rt=!0),t.query.ald_share_src&&"1044"==t.scene&&t.shareTicket?wx.getShareInfo({shareTicket:t.shareTicket,success:function(t){tt=t,A("event","ald_share_click",JSON.stringify(t))}}):t.query.ald_share_src&&A("event","ald_share_click",1),""===nt&&wx.getSetting({withCredentials:!0,success:function(t){t.authSetting["scope.userInfo"]&&wx.getUserInfo({withCredentials:!0,success:function(t){var n=v();nt=t,n.ufo=m(t),K=y(t.userInfo.avatarUrl.split("/")),g(n)}})}}),q("app","show")}function s(){e(),Q=Date.now(),""===nt&&wx.getSetting({success:function(t){t.authSetting["scope.userInfo"]&&wx.getUserInfo({withCredentials:!0,success:function(t){nt=t,K=y(t.userInfo.avatarUrl.split("/"));var n=v();n.ufo=m(t),g(n)}})}}),q("app","hide")}function a(t){Z++,A("event","ald_error_message",t)}function u(t){at=t}function c(){pt=Date.now(),it=j?this.$mp.page.route:this.route,D("page","show"),rt=!1}function f(){st=it,dt=Date.now()-pt}function h(){st=it,dt=Date.now()-pt}function l(){A("event","ald_pulldownrefresh",1)}function p(){A("event","ald_reachbottom",1)}function d(t){ft=!0;var n=_(t.path),e={};for(var o in W.query)"ald_share_src"===o&&(e[o]=W.query[o]);var r="";if(r=-1==t.path.indexOf("?")?t.path+"?":t.path.substr(0,t.path.indexOf("?"))+"?",""!==n)for(var o in n)e[o]=n[o];e.ald_share_src?-1==e.ald_share_src.indexOf(z)&&e.ald_share_src.length<200&&(e.ald_share_src=e.ald_share_src+","+z):e.ald_share_src=z;for(var i in e)-1==i.indexOf("ald")&&(r+=i+"="+e[i]+"&");return t.path=r+"ald_share_src="+e.ald_share_src,A("event","ald_share_status",t),t}function w(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()+t()+t()+t()+t()}function g(t){function n(){return new Promise(function(n,e){var o={AldStat:"MiniApp-Stat",se:J||"",op:G||"",img:K};""===E||(o.ai=E),wx.request({url:"https://"+C+".aldwx.com/d.html",data:t,header:o,method:"GET",success:function(t){n(200==t.statusCode?"":"status error")},fail:function(){n("fail")}})})}V++,t.at=B,t.uu=z,t.v=H,t.ak=k.app_key.replace(/(\t)|(\s)/g,""),t.wsr=W,t.ifo=$,t.rq_c=V,t.ls=T,t.te=U,t.et=Date.now(),t.st=Date.now(),k.useOpen?""===G?lt.push(n):(wx.Queue.push(n),lt.concat()):wx.Queue.push(n)}function v(){var t={};for(var n in et)t[n]=et[n];return t}function y(t){for(var n="",e=0;e<t.length;e++)t[e].length>n.length&&(n=t[e]);return n}function S(){return""+Date.now()+Math.floor(1e7*Math.random())}function m(t){var n={};for(var e in t)"rawData"!=e&&"errMsg"!=e&&(n[e]=t[e]);return n}function _(t){if(-1==t.indexOf("?"))return"";var n={};return t.split("?")[1].split("&").forEach(function(t){var e=t.split("=")[1];n[t.split("=")[0]]=e}),n}function x(t){for(var n in t)if("object"==_typeof(t[n])&&null!==t[n])return!0;return!1}function q(t,n){var e=v();e.ev=t,e.life=n,e.ec=Z,e.dr=Date.now()-N,X&&(e.qr=X,e.sr=X),F&&(e.usr=F),g(e)}function D(t,n){var e=v();e.ev=t,e.life=n,e.pp=it,e.pc=st,e.dr=Date.now()-N,ft&&(e.so=1),ft=!1,at&&"{}"!=JSON.stringify(at)&&(e.ag=at),X&&(e.qr=X,e.sr=X),F&&(e.usr=F),rt&&(e.ps=1),ot?e.pdr=dt:(ut=it,ot=!0,e.ifp=ot,e.fp=it,e.pdr=0),g(e)}function A(t,n,e){var o=v();o.ev=t,o.tp=n,o.dr=Date.now()-N,e&&(o.ct=e),g(o)}function b(t,n,e){if(t[n]){var o=t[n];t[n]=function(t){e.call(this,t,n),o.call(this,t)}}else t[n]=function(t){e.call(this,t,n)}}function M(t){var n={};for(var e in t)"onLaunch"!==e&&"onShow"!==e&&"onHide"!==e&&"onError"!==e&&(n[e]=t[e]);return n.onLaunch=function(n){r.call(this,n),"function"==typeof t.onLaunch&&t.onLaunch.call(this,n)},n.onShow=function(n){i.call(this,n),t.onShow&&"function"==typeof t.onShow&&t.onShow.call(this,n)},n.onHide=function(){s.call(this),t.onHide&&"function"==typeof t.onHide&&t.onHide.call(this)},n.onError=function(n){a.call(this,n),t.onError&&"function"==typeof t.onError&&t.onError.call(this,n)},n}function I(t){var n={};for(var e in t)"onLoad"!==e&&"onShow"!==e&&"onHide"!==e&&"onUnload"!==e&&"onPullDownRefresh"!==e&&"onReachBottom"!==e&&"onShareAppMessage"!==e&&(n[e]=t[e]);return n.onLoad=function(n){u.call(this,n),"function"==typeof t.onLoad&&t.onLoad.call(this,n)},n.onShow=function(n){c.call(this),"function"==typeof t.onShow&&t.onShow.call(this,n)},n.onHide=function(n){f.call(this),"function"==typeof t.onHide&&t.onHide.call(this,n)},n.onUnload=function(n){h.call(this),"function"==typeof t.onUnload&&t.onUnload.call(this,n)},n.onReachBottom=function(n){p(),t.onReachBottom&&"function"==typeof t.onReachBottom&&t.onReachBottom.call(this,n)},n.onPullDownRefresh=function(n){l(),t.onPullDownRefresh&&"function"==typeof t.onPullDownRefresh&&t.onPullDownRefresh.call(this,n)},t.onShareAppMessage&&"function"==typeof t.onShareAppMessage&&(n.onShareAppMessage=function(n){var e=t.onShareAppMessage.call(this,n);return void 0===e?(e={},e.path=this.route):void 0===e.path&&(e.path=this.route),d.call(this,e)}),n}function P(t){return App(M(t))}function L(t){return Page(I(t))}function O(t){return j=!0,M(t)}function R(t){return I(t)}var k=require("./ald-stat-conf.js");void 0===wx.Queue&&(wx.Queue=new t,wx.Queue.all()),k.useOpen&&console.warn("提示：开启了useOpen配置后，如果不上传用户opendId则不会上报数据。");var H="7.3.2",C="log",U="wx",E=function(){return void 0===wx.getAccountInfoSync?"":wx.getAccountInfoSync().miniProgram.appId.split("").map(function(t){return t.charCodeAt(0)+9}).join("-")}(),j=!1,B=S(),T="",N=Date.now(),Q=0,J="",G=function(){var t="";try{t=wx.getStorageSync("aldstat_op")}catch(t){}return t}(),K="",V=0,W="",$="",z=function(){var t="";try{t=wx.getStorageSync("aldstat_uuid")}catch(n){t="uuid_getstoragesync"}if(t)$=!1;else{t=w();try{wx.setStorageSync("aldstat_uuid",t),$=!0}catch(t){wx.setStorageSync("aldstat_uuid","uuid_getstoragesync")}}return t}(),F="",X="",Y="",Z=0,tt="",nt="",et={},ot=!1,rt=!1,it="",st="",at="",ut="",ct=!0,ft=!1,ht="",lt=new n,pt=0,dt=0,wt="";!function(){wx.request({url:"https://"+C+".aldwx.com/config/app.json",header:{AldStat:"MiniApp-Stat"},method:"GET",success:function(t){200===t.statusCode&&(H<t.data.version&&console.warn("您的SDK不是最新版本，请尽快升级！"),t.data.warn&&console.warn(t.data.warn),t.data.error&&console.error(t.data.error))}})}(),wx.aldstat=new o("");try{var gt=wx.getSystemInfoSync();et.br=gt.brand,et.pm=gt.model,et.pr=gt.pixelRatio,et.ww=gt.windowWidth,et.wh=gt.windowHeight,et.lang=gt.language,et.wv=gt.version,et.wvv=gt.platform,et.wsdk=gt.SDKVersion,et.sv=gt.system}catch(t){}return wx.getNetworkType({success:function(t){et.nt=t.networkType}}),wx.getSetting({success:function(t){t.authSetting["scope.userLocation"]?wx.getLocation({type:"wgs84",success:function(t){et.lat=t.latitude,et.lng=t.longitude,et.spd=t.speed}}):k.getLocation&&wx.getLocation({type:"wgs84",success:function(t){et.lat=t.latitude,et.lng=t.longitude,et.spd=t.speed}})}}),o.prototype.sendEvent=function(t,n){if(""!==t&&"string"==typeof t&&t.length<=255)if("string"==typeof n&&n.length<=255)A("event",t,n);else if("object"==(void 0===n?"undefined":_typeof(n))){if(JSON.stringify(n).length>=255)return void console.error("自定义事件参数不能超过255个字符");if(x(n))return void console.error("事件参数，参数内部只支持Number,String等类型，请参考接入文档");for(var e in n)"number"==typeof n[e]&&(n[e]=n[e]+"s##");A("event",t,JSON.stringify(n))}else void 0===n?A("event",t,!1):console.error("事件参数必须为String,Object类型,且参数长度不能超过255个字符");else console.error("事件名称必须为String类型且不能超过255个字符")},o.prototype.sendSession=function(t){if(""===t||!t)return void console.error("请传入从后台获取的session_key");J=t;var n=v();n.tp="session",n.ct="session",n.ev="event",""===nt?wx.getSetting({success:function(t){t.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(t){n.ufo=m(t),K=y(t.userInfo.avatarUrl.split("/")),""!==tt&&(n.gid=tt),g(n)}}):""!==tt&&(n.gid=tt,g(n))}}):(n.ufo=nt,""!==tt&&(n.gid=tt),g(n))},o.prototype.sendOpenid=function(t){if(""===t||!t||28!==t.length)return void console.error("openID不能为空");G=t,wx.setStorageSync("aldstat_op",t);var n=v();n.tp="openid",n.ev="event",n.ct="openid",g(n)},o.prototype.setOpenid=function(t){"function"==typeof t&&(wt=t,e())},k.plugin?{App:P,Page:L,MpvueApp:O,MpvuePage:R}:function(t){!function(){var t=App,n=Page,e=Component;App=function(n){b(n,"onLaunch",r),b(n,"onShow",i),b(n,"onHide",s),b(n,"onError",a),t(n)},Page=function(t){var e=t.onShareAppMessage;b(t,"onLoad",u),b(t,"onUnload",h),b(t,"onShow",c),b(t,"onHide",f),b(t,"onReachBottom",p),b(t,"onPullDownRefresh",l),void 0!==e&&null!==e&&(t.onShareAppMessage=function(t){if(void 0!==e){var n=e.call(this,t);return void 0===n?(n={},n.path=it):void 0===n.path&&(n.path=it),d(n)}}),n(t)},Component=function(t){try{var n=t.methods.onShareAppMessage;b(t.methods,"onLoad",u),b(t.methods,"onUnload",h),b(t.methods,"onShow",c),b(t.methods,"onHide",f),b(t.methods,"onReachBottom",p),b(t.methods,"onPullDownRefresh",l),void 0!==n&&null!==n&&(t.methods.onShareAppMessage=function(t){if(void 0!==n){var e=n.call(this,t);return void 0===e?(e={},e.path=it):void 0===e.path&&(e.path=it),d(e)}}),e(t)}catch(n){e(t)}}}()}()}); 
 			}); 
		define("utils/sensitiveWordChecker.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(n){return new RegExp(sensitiveWord.replace(/\n/g,"|")).test(n)};var sensitiveWord="习近平\n平近习\nxjp\n习太子\n习明泽\n老习\n温家宝\n温加宝\n温x\n温jia宝\n温宝宝\n温加饱\n温加保\n张培莉\n温云松\n温如春\n温jb\n胡温\n胡x\n胡jt\n胡boss\n胡总\n胡王八\nhujintao\n胡jintao\n胡j涛\n胡惊涛\n胡景涛\n胡紧掏\n湖紧掏\n胡紧套\n锦涛\nhjt\n胡派\n胡主席\n刘永清\n胡海峰\n胡海清\n江泽民\n民泽江\n江胡\n江哥\n江主席\n江书记\n江浙闽\n江沢民\n江浙民\n择民\n则民\n茳泽民\nzemin\nze民\n老江\n老j\n江core\n江x\n江派\n江zm\njzm\n江戏子\n江蛤蟆\n江某某\n江贼\n江猪\n江氏集团\n江绵恒\n江绵康\n王冶坪\n江泽慧\n邓小平\n平小邓\nxiao平\n邓xp\n邓晓平\n邓朴方\n邓榕\n邓质方\n毛泽东\n猫泽东\n猫则东\n猫贼洞\n毛zd\n毛zx\nz东\nze东\n泽d\nzedong\n毛太祖\n毛相\n主席画像\n改革历程\n朱镕基\n朱容基\n朱镕鸡\n朱容鸡\n朱云来\n李鹏\n李peng\n里鹏\n李月月鸟\n李小鹏\n李小琳\n华主席\n华国\n国锋\n国峰\n锋同志\n白春礼\n薄熙来\n薄一波\n蔡赴朝\n蔡武\n曹刚川\n常万全\n陈炳德\n陈德铭\n陈建国\n陈良宇\n陈绍基\n陈同海\n陈至立\n戴秉国\n丁一平\n董建华\n杜德印\n杜世成\n傅锐\n郭伯雄\n郭金龙\n贺国强\n胡春华\n耀邦\n华建敏\n黄华华\n黄丽满\n黄兴国\n回良玉\n贾庆林\n贾廷安\n靖志远\n李长春\n李春城\n李建国\n李克强\n李岚清\n李沛瑶\n李荣融\n李瑞环\n李铁映\n李先念\n李学举\n李源潮\n栗智\n梁光烈\n廖锡龙\n林树森\n林炎志\n林左鸣\n令计划\n柳斌杰\n刘奇葆\n刘少奇\n刘延东\n刘云山\n刘志军\n龙新民\n路甬祥\n罗箭\n吕祖善\n马飚\n马恺\n孟建柱\n欧广源\n强卫\n沈跃跃\n宋平顺\n粟戎生\n苏树林\n孙家正\n铁凝\n屠光绍\n王东明\n汪东兴\n王鸿举\n王沪宁\n王乐泉\n王洛林\n王岐山\n王胜俊\n王太华\n王学军\n王兆国\n王振华\n吴邦国\n吴定富\n吴官正\n无官正\n吴胜利\n吴仪\n奚国华\n习仲勋\n徐才厚\n许其亮\n徐绍史\n杨洁篪\n叶剑英\n由喜贵\n于幼军\n俞正声\n袁纯清\n曾培炎\n曾庆红\n曾宪梓\n曾荫权\n张德江\n张定发\n张高丽\n张立昌\n张荣坤\n张志国\n赵洪祝\n紫阳\n周生贤\n周永康\n朱海仑\n中南海\n大陆当局\n中国当局\n北京当局\n共产党\n党产共\n共贪党\n阿共\n产党共\n公产党\n工产党\n共c党\n共x党\n共铲\n供产\n共惨\n供铲党\n供铲谠\n供铲裆\n共残党\n共残主义\n共产主义的幽灵\n拱铲\n老共\n中共\n中珙\n中gong\ngc党\n贡挡\ngong党\ng产\n狗产蛋\n共残裆\n恶党\n邪党\n共产专制\n共产王朝\n裆中央\n土共\n土g\n共狗\ng匪\n共匪\n仇共\n政府\n症腐\n政腐\n政付\n正府\n政俯\n政f\nzhengfu\n政zhi\n挡中央\n档中央\n中央领导\n中国zf\n中央zf\n国wu院\n中华帝国\ngong和\n大陆官方\n北京政权\n江泽民\n胡锦涛\n温家宝\n习近平\n习仲勋\n贺国强\n贺子珍\n周永康\n李长春\n李德生\n王岐山\n姚依林\n回良玉\n李源潮\n李干成\n戴秉国\n黄镇\n刘延东\n刘瑞龙\n俞正声\n黄敬\n薄熙\n薄一波\n周小川\n周建南\n温云松\n徐明\n江泽慧\n江绵恒\n江绵康\n李小鹏\n李鹏\n李小琳\n朱云来\n朱容基\n法轮功\n李洪志\n新疆骚乱\n爱液\n按摩棒\n拔出来\n爆草\n包二奶\n暴干\n暴奸\n暴乳\n爆乳\n暴淫\n被操\n被插\n被干\n逼奸\n仓井空\n插暴\n操逼\n操黑\n操烂\n肏你\n肏死\n操死\n操我\n厕奴\n插比\n插b\n插逼\n插进\n插你\n插我\n插阴\n潮吹\n潮喷\n成人电影\n成人论坛\n成人色情\n成人网站\n成人文学\n成人小说\n艳情小说\n成人游戏\n吃精\n抽插\n春药\n大波\n大力抽送\n大乳\n荡妇\n荡女\n盗撮\n发浪\n放尿\n肥逼\n粉穴\n风月大陆\n干死你\n干穴\n肛交\n肛门\n龟头\n裹本\n国产av\n好嫩\n豪乳\n黑逼\n后庭\n后穴\n虎骑\n换妻俱乐部\n黄片\n几吧\n鸡吧\n鸡巴\n鸡奸\n妓女\n奸情\n叫床\n脚交\n精液\n就去日\n巨屌\n菊花洞\n菊门\n巨奶\n巨乳\n菊穴\n开苞\n口爆\n口活\n口交\n口射\n口淫\n裤袜\n狂操\n狂插\n浪逼\n浪妇\n浪叫\n浪女\n狼友\n聊性\n凌辱\n漏乳\n露b\n乱交\n乱伦\n轮暴\n轮操\n轮奸\n裸陪\n买春\n美逼\n美少妇\n美乳\n美腿\n美穴\n美幼\n秘唇\n迷奸\n密穴\n蜜穴\n蜜液\n摸奶\n摸胸\n母奸\n奈美\n奶子\n男奴\n内射\n嫩逼\n嫩女\n嫩穴\n捏弄\n女优\n炮友\n砲友\n喷精\n屁眼\n前凸后翘\n强jian\n强暴\n强奸处女\n情趣用品\n情色\n拳交\n全裸\n群交\n人妻\n人兽\n日逼\n日烂\n肉棒\n肉逼\n肉唇\n肉洞\n肉缝\n肉棍\n肉茎\n肉具\n揉乳\n肉穴\n肉欲\n乳爆\n乳房\n乳沟\n乳交\n乳头\n骚逼\n骚比\n骚女\n骚水\n骚穴\n色逼\n色界\n色猫\n色盟\n色情网站\n色区\n色色\n色诱\n色欲\n色b\n少年阿宾\n射爽\n射颜\n食精\n释欲\n兽奸\n兽交\n手淫\n兽欲\n熟妇\n熟母\n熟女\n爽片\n双臀\n死逼\n丝袜\n丝诱\n松岛枫\n酥痒\n汤加丽\n套弄\n体奸\n体位\n舔脚\n舔阴\n调教\n偷欢\n推油\n脱内裤\n文做\n舞女\n无修正\n吸精\n夏川纯\n相奸\n小逼\n校鸡\n小穴\n小xue\n性感妖娆\n性感诱惑\n性虎\n性饥渴\n性技巧\n性交\n性奴\n性虐\n性息\n性欲\n胸推\n穴口\n穴图\n亚情\n颜射\n阳具\n杨思敏\n要射了\n夜勤病栋\n一本道\n一夜欢\n一夜情\n一ye情\n阴部\n淫虫\n阴唇\n淫荡\n阴道\n淫电影\n阴阜\n淫妇\n淫河\n阴核\n阴户\n淫贱\n淫叫\n淫教师\n阴茎\n阴精\n淫浪\n淫媚\n淫糜\n淫魔\n淫母\n淫女\n淫虐\n淫妻\n淫情\n淫色\n淫声浪语\n淫兽学园\n淫书\n淫术炼金士\n淫水\n淫娃\n淫威\n淫亵\n淫样\n淫液\n淫照\n阴b\n应召\n幼交\n欲火\n欲女\n玉乳\n玉穴\n援交\n原味内衣\n援助交际\n招鸡\n招妓\n抓胸\n自慰\n作爱\na片\nfuck\ngay片\ng点\nh动画\nh动漫\n失身粉\n淫荡自慰器"; 
 			}); 
		define("utils/setDataSync.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function setDataSync(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n){e.setData(t,n)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=setDataSync; 
 			}); 
		define("utils/shallowEqual.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function is(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function shallowEqual(t,e){if(is(t,e))return!0;if("object"!==(void 0===t?"undefined":_typeof(t))||null===t||"object"!==(void 0===e?"undefined":_typeof(e))||null===e)return!1;var o=Object.keys(t),r=Object.keys(e);if(o.length!==r.length)return!1;for(var n=0;n<o.length;n++)if(!Object.prototype.hasOwnProperty.call(e,o[n])||!is(t[o[n]],e[o[n]]))return!1;return!0}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};exports.default=shallowEqual; 
 			}); 
		define("utils/shouldShowAd.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function shouldShowAd(e,t,a){var r=new Date,u=(0,_dateformat2.default)(e),o=(0,_dateformat2.default)(r.getTime()),d=o.split("-"),_=u.split("-");return(new Date(d[0],d[1],d[2])-new Date(_[0],_[1],_[2]))/864e5>SHOW_AD_AFTER_DAYS&&null!=t&&"T"!=t&&(!a||r>new Date(a))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=shouldShowAd;var _dateformat=require("./dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),SHOW_AD_AFTER_DAYS=15; 
 			}); 
		define("utils/showVipRenewalIfNearExpired.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function showVipRenewalIfNearExpired(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".vip-renewal-modal",r=_wepy2.default.$store.getState(),a=r||{},i=a.group,n=a.user,u=i||{},o=u.detail,d=n||{},l=d.detail,p=o||{},f=p.gid,_=p.vips,s=void 0===_?[]:_,w=(_wepy2.default.getStorageSync("GROUPS_SHOWED_VIP_RENEWAL")||[]).filter(function(e){return new Date(e.expired_at)>=new Date}).map(function(e){return e.gid});if(l&&f&&s&&-1===w.indexOf(f)){var y=s.find(function(e){return e.uid===l.uid});if(y){var c=e.$wxpage.selectComponent(t);c&&(c.showIfNear(y.expired_at),_wepy2.default.setStorageSync("GROUPS_SHOWED_VIP_RENEWAL",[].concat(_toConsumableArray(w),[f]).map(function(e){return{gid:e,expired_at:_dateUtil2.default.getDateEnd(new Date)}})))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=showVipRenewalIfNearExpired;var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_dateUtil=require("./dateUtil.js"),_dateUtil2=_interopRequireDefault(_dateUtil); 
 			}); 
		define("utils/timeformat.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function formatNumber(t){return t=t.toString(),t[1]?t:"0"+t}module.exports=function(t){return t instanceof Date||(t=new Date(t)),[t.getHours(),t.getMinutes()].map(formatNumber).join(":")}; 
 			}); 
		define("utils/upload.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,o){try{var u=t[n](o),f=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(f).then(function(e){a("next",e)},function(e){a("throw",e)});e(f)}return a("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_request=require("./request.js"),_request2=_interopRequireDefault(_request),_config=require("./../config.js");exports.default=function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,console.log("七牛上传: ",t),!t.formData||!t.formData.key){e.next=68;break}if(t.formData.token){e.next=66;break}if(a=null,"collection"!=t.formData.flag){e.next=11;break}return e.next=8,(0,_request2.default)({url:_config.api.file.token.url,data:t.formData});case 8:a=e.sent,e.next=62;break;case 11:if("ledger"!=t.formData.flag){e.next=17;break}return e.next=14,(0,_request2.default)({url:_config.api.ledger.token.url,data:t.formData});case 14:a=e.sent,e.next=62;break;case 17:if("group"!=t.formData.flag){e.next=23;break}return e.next=20,(0,_request2.default)({url:_config.api.group.token.url,data:t.formData});case 20:a=e.sent,e.next=62;break;case 23:if("exam_result"!=t.formData.flag){e.next=29;break}return e.next=26,(0,_request2.default)({url:_config.api.examination.token.url,data:t.formData});case 26:a=e.sent,e.next=62;break;case 29:if("announcement"!=t.formData.flag){e.next=35;break}return e.next=32,(0,_request2.default)({url:_config.api.announcement.token.url,data:t.formData});case 32:a=e.sent,e.next=62;break;case 35:if("course_evaluation"!=t.formData.flag){e.next=41;break}return e.next=38,(0,_request2.default)({url:_config.api.courseRecord.token.url,data:t.formData});case 38:a=e.sent,e.next=62;break;case 41:if("daily_homework"!=t.formData.flag){e.next=47;break}return e.next=44,(0,_request2.default)({url:_config.api.dailyHomework.token.url,data:t.formData});case 44:a=e.sent,e.next=62;break;case 47:if("enroll_member"!=t.formData.flag){e.next=53;break}return e.next=50,(0,_request2.default)({url:_config.api.enrollMember.token.url,data:t.formData});case 50:a=e.sent,e.next=62;break;case 53:if("homework_answer"!=t.formData.flag){e.next=59;break}return e.next=56,(0,_request2.default)({url:_config.api.homeworkAnswer.token.url,data:t.formData});case 56:a=e.sent,e.next=62;break;case 59:return e.next=61,(0,_request2.default)({url:_config.api.homework.token.url,data:t.formData});case 61:a=e.sent;case 62:if(console.log("返回token结果: ",a),a.data.cmd&&a.data.result.token){e.next=65;break}throw new Error("获取文件上传令牌失败");case 65:t.formData.token=a.data.result.token;case 66:e.next=69;break;case 68:throw new Error("上传文件必须有key路径");case 69:return e.next=71,_wepy2.default.uploadFile(t);case 71:if(n=e.sent,console.log("上传成功: ",n),200!=n.statusCode){e.next=83;break}if(!t.formData||"voice"!==t.formData.type){e.next=80;break}if(o=_wepy2.default.$store.getState(),console.log(o.base.systemInfo),!(o&&o.base&&o.base.isWindow)){e.next=80;break}return e.next=80,(0,_request2.default)({url:_config.api.util.changeFileMime.url,data:{key:t.formData.key,mime:"audio/mp3"}});case 80:return e.abrupt("return",!0);case 83:throw u={default:"文件",image:"图片",voice:"录音",video:"视频",file:"文件"},new Error("上传"+u[t.formData.type||"default"]+"出错(状态码:"+n.statusCode+")"+(n.errMsg?": "+n.errMsg:""));case 85:case"end":return e.stop()}},e,this)}));return e}(); 
 			}); 
		define("utils/voice.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,n){function t(a,o){try{var i=r[a](o),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then(function(e){t("next",e)},function(e){t("throw",e)});e(u)}return t("next")})}}var play=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,t,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!playing){e.next=3;break}return console.log("playing,请勿重复点击"),e.abrupt("return");case 3:if(playing=!0,n=r.filePath,usingPlayVoice=/\.silk$/.test(n),console.log("选择播放组件",usingPlayVoice),!usingPlayVoice){e.next=13;break}return console.log("playing"),e.next=11,_wepy2.default.playVoice({filePath:n});case 11:return t=e.sent,e.abrupt("return","play");case 13:return e.prev=13,e.next=16,newPlay(r);case 16:a=e.sent,e.next=27;break;case 19:return e.prev=19,e.t0=e.catch(13),usingPlayVoice=!0,console.log("new API error:",e.t0),e.next=25,_wepy2.default.playVoice({filePath:n});case 25:return o=e.sent,e.abrupt("return","play");case 27:case"end":return e.stop()}},e,this,[[13,19]])}));return function(r){return e.apply(this,arguments)}}(),newPlay=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.filePath,player=_wepy2.default.createInnerAudioContext(),(0,_clientUtil.setInnerAudioOption)({obeyMuteSwitch:!1},player),e.abrupt("return",new Promise(function(e,r){var t=function(){playing=!1,console.log("stop-play"),a(),e("play")},a=function(){player&&(player.destroy(),player=null)};player.src=n,player.onStop(t),player.onEnded(t),player.onError(function(e){playing=!1,console.log("error",e.errMsg),console.log("error",e.errCode),a(),r({errMsg:e.errMsg,errCode:e.errCode}),r(new Error(e.errMsg+",errcode:"+e.errCode))}),player.play()}));case 4:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),stop=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(playing=!1,!usingPlayVoice){e.next=6;break}return e.next=4,_wepy2.default.stopVoice();case 4:e.next=15;break;case 6:if(!player){e.next=15;break}if(!r){e.next=10;break}return e.next=10,player.offStop();case 10:return e.next=12,player.stop();case 12:return e.next=14,player.destroy();case 14:player=null;case 15:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_clientUtil=require("./clientUtil.js"),player=null,usingPlayVoice=!1,playing=!1;console.log("module voice loaded"),module.exports={play:play,stop:stop}; 
 			}); 
		define("wx_behaviors/common.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}module.exports=Behavior({behaviors:[],properties:{},data:{},created:function(){var e=this;this.setDataSync=_asyncToGenerator(regeneratorRuntime.mark(function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){e.setData(r,t)}));case 1:case"end":return t.stop()}},t,e)})).bind(this)},methods:{}}); 
 			}); 
		define("wx_behaviors/getConnectedBehavior.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function getConnectedBehavior(e,t){e=(0,_wepyRedux.mapState)(e||{}),t=(0,_wepyRedux.mapActions)(t||{});var i=null,s=function(){var t=this,i=((0,_wepyRedux.getStore)(),!1),s=this.data,a={};Object.keys(e).forEach(function(o){var r=e[o].call(t);s[o]!==r&&(a[o]=r,i=!0)}),i&&this.setData(a)};return Behavior({behaviors:[],properties:{},data:{},methods:{},attached:function(){this.computed=Object.assign(this.computed||{},e),this.methods=Object.assign(this.methods||{},t);var a=(0,_wepyRedux.getStore)();i=a.subscribe(s.bind(this)),s.call(this)},detached:function(){i&&i(),i=null}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getConnectedBehavior;var _wepyRedux=require("./../npm/wepy-redux/lib/index.js"); 
 			}); 
		define("wx_behaviors/store_behavior.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),unSubscribe=null,that=null;module.exports=Behavior({behaviors:[],properties:{},data:{},methods:{},lifetimes:{attached:function(){this._initStore()},detached:function(){unSubscribe&&unSubscribe(),unSubscribe=null}},definitionFilter:function(e,t){var n=(0,_wepyRedux.mapState)(e.store||{}),i=(0,_wepyRedux.mapActions)(e.actions||{}),r=function(){var e=this,t=!1,i={};Object.keys(n).forEach(function(r){var a=e.data||{},s=n[r].call(e);a[r]!==s&&(i[r]=s,t=!0)}),t&&this.setData.call(this,i)};e.data=Object.assign(e.data||{},Object.keys(n).reduce(function(t,i){return _extends({},t,_defineProperty({},i,n[i].call(e)))},{})),e.methods=Object.assign(e.methods||{},i),e.methods._initStore=function(){var e=(0,_wepyRedux.getStore)();unSubscribe=e.subscribe(r.bind(this)),r.call(this)}}}); 
 			}); 
		define("app.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,s){try{var o=t[n](s),i=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}return a("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_wepy=require("./npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy);require("./npm/wepy-async-function/index.js");var _interfaces=require("./interfaces/index.js"),_interfaces2=_interopRequireDefault(_interfaces),_config=require("./config.js"),_request=require("./utils/request.js"),_request2=_interopRequireDefault(_request),_delay=require("./utils/delay.js"),_delay2=_interopRequireDefault(_delay),_clientUtil=require("./utils/clientUtil.js"),_polyfill=require("./utils/polyfill.js"),_polyfill2=_interopRequireDefault(_polyfill),_wepyRedux=require("./npm/wepy-redux/lib/index.js"),_store=require("./store/index.js"),_store2=_interopRequireDefault(_store);require("./utils/sdk/ald-stat.js");var _actions=require("./store/actions/index.js");(0,_polyfill2.default)();var store=(0,_store2.default)();(0,_wepyRedux.setStore)(store),_wepy2.default.$store=store;var _default=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.config={pages:["pages/index","pages/group","pages/homework","pages/answer","pages/help","pages/video","pages/configure","pages/authorization","pages/qrcode","pages/albumlist","pages/album","pages/album_edit","pages/file","pages/lessons","pages/examinations","pages/exam","pages/upload_file","pages/vip_feature","pages/purchaseMembers","pages/exam_select","pages/exam_comment","pages/homework_report","pages/announcement_list","pages/announcement_edit","pages/announcement","pages/wish_list","pages/success","pages/vip_success","pages/rating_template"],subPackages:[{root:"sp1",pages:["pages/graduated","pages/store","pages/credit","pages/creditstate","pages/invitation","pages/notification_setting","pages/ledger","pages/ledgerlist","pages/createAdward","pages/update_info","pages/personal","pages/webpage"]},{root:"sp2",pages:["pages/course_record_edit","pages/course_evaluation_edit","pages/course_record_list","pages/course_evaluation_list","pages/course_record"]},{root:"sp3",pages:["pages/daily_homework_list","pages/daily_homework_records","pages/daily_homework_statistic"]},{root:"sp4",pages:["pages/statistics","pages/bulk_rating","pages/image_editor","pages/new_image_editor","pages/image_bulk_editor","pages/answers","pages/supplementary","pages/calendar","pages/homework_answer"]},{root:"sp5",pages:["pages/exam_report","pages/team_list","pages/team_edit"]},{root:"sp6",pages:["pages/dialogs","pages/dialog_detail","pages/partner_list"]},{root:"sp7",pages:["pages/group_edit","pages/group_mode","pages/join_confirm","pages/profile"]},{root:"sp8",pages:["pages/enroll_edit","pages/enroll","pages/enroll_join","pages/add_to_group"]},{root:"sp9",pages:["pages/question_set_list","pages/question_set_edit","pages/question_edit","pages/question_answer_edit","pages/homework_question_edit","pages/question_set_report"]},{root:"sp10",pages:["pages/excellent_student"]},{root:"sp11",pages:["pages/daily_assign","pages/weekdays","pages/assign","pages/external_url"]}],window:{enablePullDownRefresh:!0,backgroundTextStyle:"light",backgroundColor:"#dcdcdc",navigationBarBackgroundColor:"#F8F8F8",navigationBarTitleText:"作业登记簿",navigationBarTextStyle:"black"},networkTimeout:{request:1e4,connectSocket:1e4,uploadFile:2e4,downloadFile:2e4},permission:{"scope.userLocation":{desc:"您的位置信息将用于小程序位置接口的效果展示"}},cloud:!0,navigateToMiniProgramAppIdList:["wxb251981d899d5c23","wx7bb576902363f4ff","wx77773ade9a2d7055"],plugins:{TxvVideo:{version:"1.3.12",provider:"wxa75efa648b60994b"},contactPlugin:{version:"1.3.0",provider:"wx104a1a20c3f81ec2"}},usingComponents:{"txv-video":"plugin://TxvVideo/video","wechat-work-cell":"plugin://contactPlugin/cell"}},e.globalData={loginedQ:null,user:null,group:null,groups:[],SERVER_WXA_VERSION:null},e.use("requestfix"),e.use("promisify"),e}return _inherits(t,e),_createClass(t,[{key:"onShow",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.bindOnUpdateReady(),console.log("新打开页面时: ",JSON.stringify(t)),store.dispatch((0,_actions.fetchConfigs)());case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"onLoad",value:function(e){e.suid&&(_wepy2.default.$instance.globalData.shareUid=e.suid),_wepy2.default.removeStorageSync("NEED_REDIRECT_TO"),store.dispatch({type:"GET_SYSTEM_INFO"})}},{key:"onShareAppMessage",value:function(e){_wepy2.default.$instance.globalData.user||(_wepy2.default.$instance.globalData.user={});var t=_wepy2.default.$instance.globalData.user,r=t.uid,a=t.nickname;return{nickname:a||"",suid:r,title:(a||"")+"告诉您当前的作业",url:"/pages/index"}}},{key:"getUser",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:_config.api.user.simple.url},e.next=4,(0,_request2.default)(t);case 4:if(!(r=e.sent)||!r.data.cmd){e.next=9;break}_wepy2.default.$instance.globalData.user=r.data.result;try{store.dispatch({type:"FETCH_USER",payload:r.data.result})}catch(e){console.log(e)}return e.abrupt("return",{user:r.data.result});case 9:e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),(0,_clientUtil.hideLoading)(),(e.t0.errMsg||e.t0.message||"").indexOf("timeout")>-1?_wepy2.default.showModal({title:"温馨提示",content:"亲, 网络超时了, 请切换网络试试",showCancel:!1}):_wepy2.default.showModal({title:"温馨提示",content:"获取用户信息出错了, 请稍后再试试",showCancel:!1}),console.log("读取用户信息出错: ",e.t0);case 16:case"end":return e.stop()}},e,this,[[0,11]])}));return e}()},{key:"logined",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,r.globalData.loginedQ&&!t||(r.globalData.loginedQ=new Promise(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getUser();case 2:s=e.sent,s?t(s):n(null);case 4:case"end":return e.stop()}},e,a)}));return function(t,r){return e.apply(this,arguments)}}())),e.abrupt("return",r.globalData.loginedQ);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getGroup",value:function(){function e(e,r){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var a,n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.globalData.group||this.globalData.group.gid!=t||r){e.next=2;break}return e.abrupt("return",this.globalData.group);case 2:return e.prev=2,a={url:_config.api.group.detail.url+t},e.next=6,(0,_request2.default)(a);case 6:return n=e.sent,s=n.data.result,this.globalData.group=s,e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(2),console.log("刷新页面数据出错: ",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[2,12]])}));return e}()},{key:"bindOnUpdateReady",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=wx.getUpdateManager(),t.onUpdateReady(_asyncToGenerator(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"提示",content:"版本更新啦！马上体验",showCancel:!1});case 2:a=e.sent,a.confirm&&t.applyUpdate();case 4:case"end":return e.stop()}},e,r)})));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"isTestVersion",value:function(){var e=function(e){return e?e.replace(/[vV]/g,"").split("."):[]},t=e(_wepy2.default.$instance.globalData.SERVER_WXA_VERSION),r=e(_config.VERSION);if(t.length<r.length)return!1;for(var a=0;a<r.length;a++){if(parseInt(r[a])>parseInt(t[a]))return!0}return!1}},{key:"onPageNotFound",value:function(e){var t=e||{},r=t.path,a=t.query;if(r){var n={"pages/course_record":"/sp2/pages/course_record"};if(n[r])return console.log("preparing for redirecting to "+n[r],a),wx.redirectTo({url:n[r]+(a?"?"+Object.keys(a).map(function(e){return e+"="+(a[e]||"")}).join("&"):"")})}wx.redirectTo({url:"/pages/index"})}}]),t}(_wepy2.default.app);App(require("./npm/wepy/lib/wepy.js").default.$createApp(_default,{noPromiseAPI:["createSelectorQuery"]})); 
 			}); 	require("app.js");
 		__wxRoute = 'wx_components/answer_detail/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/answer_detail/index.js';	define("wx_components/answer_detail/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,i){try{var u=t[n](i),s=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./../../wx_behaviors/common.js"),_common2=_interopRequireDefault(_common),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),_clientUtil=require("./../../utils/clientUtil.js"),_dateUtil=require("./../../utils/dateUtil.js"),_delay=require("./../../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_avatar=require("./../../utils/avatar.js"),_avatar2=_interopRequireDefault(_avatar),_cdnurl=require("./../../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_actions=require("./../../store/actions/index.js"),_rating=require("./../../utils/rating.js"),_rating2=_interopRequireDefault(_rating),_shallowEqual=require("./../../utils/shallowEqual.js"),_shallowEqual2=_interopRequireDefault(_shallowEqual),_store_behavior=require("./../../wx_behaviors/store_behavior.js"),_store_behavior2=_interopRequireDefault(_store_behavior),OPERATIONS={TO_DETAIL:"查看提交详情",SEND_TO_DIALOG:"发送到私信",SHOW_ANSWER:"取消仅批改人可见(VIP功能)",HIDE_ANSWER:"设置仅批改人可见(VIP功能)",DOWNLOAD_VIDEO:"下载视频"};Component({observers:{"answer.created_at, homework":function(e,t){var r=t||{},a=r.deadline,n=e&&a&&new Date(e)>new Date(a);n!==this.data.isSupplement&&this.setData({isSupplement:n})},"answer.uid, group":function(e,t){var r=t||{},a=r.vips,n=a&&a.some(function(t){return t.uid===e});n!==this.data.isVipUser&&this.setData({isVipUser:n})},"answer.child, group":function(e,t){var r=t||{},a=r.members,n="";a&&e&&(n=a[e-1]||""),n!=this.data.answerChildName&&this.setData({answerChildName:n})},"answer.rating, homework":function(e,t){var r=t||{},a=r.rating_criterion,n="";(e||0==e)&&(0==a?n=(0,_rating2.default)(e):[1,2,3].indexOf(a)>-1&&(n=""+e)),n!=this.data.ratingValue&&this.setData({ratingValue:n})},supplements:function(e){if(!(0,_shallowEqual2.default)(e,this.data._supplements)){var t=e.map(function(e){return _extends({},e,{submitDate:e.created_at?(0,_dateUtil.getDatetimeStr)(e.created_at).slice(new Date(e.created_at).getFullYear()===(new Date).getFullYear()?5:2):null,userAvatar:(0,_avatar2.default)(e.user.avatar,64),voiceUrls:e.voices&&(0,_cdnurl2.default)(e.voices,null,!0)||[],imageUrls:e.files&&(0,_cdnurl2.default)(e.files,128)||[],videoInfo:e.video?{raw:e.video,url:(0,_cdnurl2.default)(e.video,null,null,!0),cover:(0,_cdnurl2.default)(e.video,null)}:null})});this.setData({supplementList:t,_supplements:e})}},answer:function(e){var t={},r=e||{},a=r.created_at,n=r.user,i=r.files,u=r.voices,s=r.video,o=r.rating_voice,l=r.rating_images,c=!!a&&new Date(a).getFullYear()===(new Date).getFullYear();t.submitDate=a?(0,_dateUtil.getDatetimeStr)(a).slice(c?5:2):null,t.userAvatar=n&&(0,_avatar2.default)(n.avatar,64)||null,t.answerImages=i?(0,_cdnurl2.default)(i,128):[],t.answerVoices=u?(0,_cdnurl2.default)(u,null,!0):[],t.answerVideo=s?{raw:s,url:(0,_cdnurl2.default)(s,null,null,!0),cover:""+(0,_cdnurl2.default)(s,null)}:null,t.ratingVoice=o?(0,_cdnurl2.default)(o,null,!0):null,t.ratingImages=l?(0,_cdnurl2.default)(l,128):[],(0,_shallowEqual2.default)(t,this.data._answer)||this.setData(_extends({},t,{_miniAnswer:t}))}},behaviors:[_common2.default,_store_behavior2.default],store:{audioUrl:function(e){return e.audio.audio.url},audioLoading:function(e){return e.audio.audio.loading}},actions:{setAudioSrc:_actions.setAudioSrc,playAudio:_actions.playAudio},options:{addGlobalClass:!0,multipleSlots:!0},properties:{answer:{type:Object,value:null},homework:{type:Object,value:null},group:{type:Object,value:null},aid:{type:String,value:""},rawHomework:{type:Object,value:null},rawAnswer:{type:Object,value:null},tempVideoKey:{type:String,value:""},sortIndex:{type:Number,value:1},showHomeworkBtn:{type:Boolean,value:!1},showAnswerContent:{type:Boolean,value:!1},showOptionBtn:{type:Boolean,value:!1},showRateBtn:{type:Boolean,value:!1},showSupplementBtn:{type:Boolean,value:!1},showRating:{type:Boolean,value:!0},showRatingResult:{type:Boolean,value:!1},showRatingContent:{type:Boolean,value:!1},isDetailPage:{type:Boolean,value:!1},showImageEditBtn:{type:Boolean,value:!1},checkBeforeViewMedia:{type:Boolean,value:!1},supplements:{type:Array,value:[]},questionSet:{type:Object,value:null}},data:{authModalId:"",ratingValue:"",answerChildName:"",isVipUser:!1,isSupplement:!1,_supplements:[],_miniAnswer:{},hideSupplements:!1},methods:{toggleHideSupplements:function(){this.setData({hideSupplements:!this.data.hideSupplements})},backToHomework:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},a=r.hid,e.abrupt("return",_wepy2.default.redirectTo({url:"/pages/homework?hid="+a}));case 2:case"end":return e.stop()}},e,this)}));return e}(),startAudio:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},a=r.url){e.next=3;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"音频链接不正确",showCancel:!1}));case 3:return e.next=5,this.setAudioSrc.call(this,a);case 5:this.playAudio.call(this);case 6:case"end":return e.stop()}},e,this)}));return e}(),toEditImage:function(){function e(e,r){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var a,n,i,u,s,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.data,n=a.answer,i=a.answerChildName,u=t.currentTarget.dataset||{},s=u.url,o=u.list,_wepy2.default.setStorageSync("HOMEWORK_RATING_TMP_FILES",o.map(function(e){return{source:e,value:""}})),l=_wepy2.default.$store.getState(),r=!0===r||l.base&&l.base.isWindow||1==_wepy2.default.getStorageSync("LS_USE_OLD_IMAGE_EDITOR"),e.abrupt("return",_wepy2.default.navigateTo({url:"/sp4/pages/"+(r?"image_editor":"new_image_editor")+"?aid="+n.aid+"&path="+s+"&title="+n.child+"."+i}));case 6:case"end":return e.stop()}},e,this)}));return e}(),showImageOption:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data.answer,e.prev=1,a=["查看大图"],this.data.showImageEditBtn&&(a.push("新版批改"),a.push("旧版批改")),e.next=6,(0,_clientUtil.showActionSheet)({itemList:a});case 6:n=e.sent,0==n.tapIndex?this.previewImage.call(this,t):1==n.tapIndex?this.toEditImage.call(this,t,!1):2==n.tapIndex&&this.toEditImage.call(this,t,!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return e}(),showOptionList:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.data.answer,this.triggerEvent("showOptionList",{answer:r,OPERATIONS:OPERATIONS,component:this});case 2:case"end":return e.stop()}},e,this)}));return e}(),onOptionChoosen:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.data,a=r.group,n=r.answer,e.t0=t,e.next=e.t0===OPERATIONS.TO_DETAIL?4:e.t0===OPERATIONS.SHOW_ANSWER?5:e.t0===OPERATIONS.HIDE_ANSWER?5:e.t0===OPERATIONS.SEND_TO_DIALOG?6:e.t0===OPERATIONS.DOWNLOAD_VIDEO?7:8;break;case 4:return e.abrupt("return",_wepy2.default.navigateTo({url:"/pages/answer?aid="+n.aid+"&hid="+n.hid}));case 5:return e.abrupt("return",this.toggleAnswer.call(this));case 6:return e.abrupt("return",_wepy2.default.navigateTo({url:"/sp6/pages/partner_list?gid="+a.gid+"&aid="+n.aid+"&type=CREATE_DIALOG"}));case 7:return e.abrupt("return",this.downloadVideo.call(this));case 8:case"end":return e.stop()}},e,this)}));return e}(),showSupplementOptions:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data.answer,e.prev=1,a=["删除此提交，重新上传"],this.data.showSupplementBtn&&a.push("不删除，继续提交"),e.next=6,(0,_clientUtil.showActionSheet)({itemList:a});case 6:n=e.sent,0==n.tapIndex?this.deleteAnswer.call(this):1==n.tapIndex&&this.triggerEvent("showSupplementForm",{answer:r}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}},e,this,[[1,10]])}));return e}(),playVoiceUrl:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},a=r.url,n=r.isRating,i=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setAudioSrc.call(u,a);case 2:u.playAudio.call(u);case 3:case"end":return e.stop()}},e,u)}));return function(){return e.apply(this,arguments)}}(),!this.data.checkBeforeViewMedia||n){e.next=6;break}return e.abrupt("return",this.triggerEvent("viewMedia",{key:"playVoice",data:a,callback:i}));case 6:i();case 7:case"end":return e.stop()}},e,this)}));return e}(),copyAnswerText:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},(a=r.answer)&&a.text){e.next=3;break}return e.abrupt("return");case 3:return n={itemList:["拷贝提交文字"]},e.prev=4,e.next=7,(0,_clientUtil.showActionSheet)(n);case 7:if(i=e.sent,0!=i.tapIndex){e.next=11;break}return e.next=11,wx.setClipboardData({data:a.text});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:case"end":return e.stop()}},e,this,[[4,13]])}));return e}(),toRating:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},a=r.answer,e.abrupt("return",this.triggerEvent("toRating",a));case 2:case"end":return e.stop()}},e,this)}));return e}(),toDialog:function(e){var t=e.currentTarget.dataset||{},r=t.answer,a=this.data.group;return _wepy2.default.navigateTo({url:"/sp6/pages/partner_list?aid="+r.aid+"&hid="+r.hid+"&gid="+a.gid+"&type=CREATE_DIALOG"})},toDetail:function(e){var t=e.currentTarget.dataset||{},r=t.answer;_wepy2.default.navigateTo({url:"/pages/answer?aid="+r.aid+"&hid="+r.hid})},previewImage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},a=r.url,n=r.list,i=r.isRating,a=_config.CDN_HOST+a,n=n.map(function(e){return _config.CDN_HOST+e}),!this.data.checkBeforeViewMedia||i){e.next=5;break}return e.abrupt("return",this.triggerEvent("viewMedia",{key:"previewImage",data:{current:a,list:n}}));case 5:return e.next=7,_wepy2.default.previewImage({current:a,urls:n});case 7:case"end":return e.stop()}},e,this)}));return e}(),playVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},a=r.video,!this.data.checkBeforeViewMedia){e.next=3;break}return e.abrupt("return",this.triggerEvent("viewMedia",{key:"playVideo",data:a}));case 3:return e.next=5,_wepy2.default.navigateTo({url:"/pages/video?video="+a});case 5:case"end":return e.stop()}},e,this)}));return e}(),deleteAnswer:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data.aid,e.next=3,_wepy2.default.showModal({title:"温馨提示",content:"确定取消提交作业么？"});case 3:if(a=e.sent,n=a.confirm){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 9:return e.next=11,(0,_request2.default)({url:_config.api.homework.cancel.url+r});case 11:if(i=e.sent,u=i.data,(0,_clientUtil.hideLoading)(),!u||!u.cmd){e.next=23;break}return e.next=17,_wepy2.default.$store.dispatch({type:"REMOVE_ANSWER",payload:r});case 17:return _wepy2.default.showToast({title:"取消成功",icon:"success",duration:1500}),e.next=20,(0,_delay2.default)(1500);case 20:this.triggerEvent("deleteAnswer"),e.next=25;break;case 23:return e.next=25,_wepy2.default.showModal({title:"提示",content:u.msg||"取消作业提交失败!",showCancel:!1});case 25:return e.next=27,(0,_clientUtil.setStorageSync)("CALENDAR_NEED_REFRESH",!0);case 27:return e.abrupt("return");case 28:case"end":return e.stop()}},e,this)}));return e}(),downloadVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=Date.now(),a=function(){n.setData({authModalId:""})},this.setData({authModalId:r},_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,i,u,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.data.answer,i=t.video,u=n.selectComponent("#auth-modal-answer-detail-"+r),e.t0=!u,e.t0){e.next=8;break}return e.next=7,u.authorize("scope.writePhotosAlbum");case 7:e.t0=!e.sent;case 8:if(!e.t0){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,_wepy2.default.showLoading({title:"正在下载...",mask:!0});case 13:return e.next=15,_wepy2.default.downloadFile({url:(0,_cdnurl2.default)(i,null,!0)});case 15:if(s=e.sent,o=s.tempFilePath,(0,_clientUtil.hideLoading)(),o){e.next=20;break}throw new Error("下载视频失败");case 20:return e.next=22,_wepy2.default.saveVideoToPhotosAlbum({filePath:o});case 22:return e.next=24,_wepy2.default.showToast({title:"保存成功",icon:"success",duration:2e3,mask:!0});case 24:e.next=31;break;case 26:return e.prev=26,e.t1=e.catch(10),(0,_clientUtil.hideLoading)(),e.next=31,_wepy2.default.showModal({title:"提示",content:e.t1.message||"下载视频失败",showCancel:!1});case 31:return e.prev=31,a(),e.finish(31);case 34:case"end":return e.stop()}},e,n,[[10,26,31,34]])})));case 3:case"end":return e.stop()}},e,this)}));return e}(),toQuestionAnswer:function(){var e=this.data,t=e.group,r=e.answer,a=e.answerChildName,n=r.question_answer,i=t||{},u=i.partner,s=u&&(u.child==r.child||u.uid===r.uid),o=u&&("T"==u.type||u.proxy);if(n&&(o||s)){var l=n.id,c=n.hid;_wepy2.default.navigateTo({url:"/sp9/pages/question_answer_edit?question_answer_id="+l+"&hid="+c+"&child="+r.child+"&child_name="+a})}},toggleAnswer:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,a,n,i,u,s,o,l,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.data,r=t.group,a=t.answer,n=r||{},i=n.vips,u=n.partner,s=n.vip_expired_at,o=u&&("T"===u.type||i&&i.find(function(e){return e.uid===u.uid})||s&&new Date(s)>=new Date)){e.next=9;break}return e.next=6,_wepy2.default.showModal({title:"提示",content:"该功能需购买VIP服务方可使用",confirmText:"去购买"});case 6:return l=e.sent,l.confirm&&_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+r.gid}),e.abrupt("return");case 9:return c=a.extras&&!a.extras.hide_answer,e.next=12,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 12:return e.next=14,(0,_request2.default)({url:_config.api.homework.updateAnswer.url,data:{aid:a.aid,hide_answer:Boolean(c)}});case 14:if(d=e.sent,(0,_clientUtil.hideLoading)(),!d.data||!d.data.cmd){e.next=30;break}return e.t0=_wepy2.default.$store,e.t1=_extends,e.t2={},e.next=22,(0,_actions.fetchAnswer)({aid:a.aid});case 22:return e.t3=e.sent,e.t4={type:"UPDATE_ANSWER"},e.t5=(0,e.t1)(e.t2,e.t3,e.t4),e.next=27,e.t0.dispatch.call(e.t0,e.t5);case 27:return e.abrupt("return",e.sent);case 30:return e.next=32,_wepy2.default.showModal({title:"提示",content:d.data.msg||"更新作业提交出错!",showCancel:!1});case 32:case"end":return e.stop()}},e,this)}));return e}()},lifetimes:{attached:function(){}}}); 
 			}); 	require("wx_components/answer_detail/index.js");
 		__wxRoute = 'wx_components/audio_player/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/audio_player/index.js';	define("wx_components/audio_player/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,o){try{var a=t[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_actions=require("./../../store/actions/index.js"),_store_behavior=require("./../../wx_behaviors/store_behavior.js"),_store_behavior2=_interopRequireDefault(_store_behavior),_reselect=require("./../../npm/reselect/lib/index.js");Component({externalClasses:["cls"],behaviors:[_store_behavior2.default],store:{audioUrl:function(e){return e.audio.audio.url},duration:function(e){return e.audio.audio.duration},currentTime:function(e){return e.audio.audio.currentTime},loading:function(e){return e.audio.audio.loading},paused:function(e){return e.audio.audio.paused},playing:function(e){return e.audio.audio.playing},startTime:function(e){var t=e.audio.audio.currentTime,r=Math.floor((t||0)/60),n=Math.round((t||0)%60);return(r>=10?r:"0"+r)+":"+(n>=10?n:"0"+n)},endTime:function(e){var t=e.audio.audio.duration,r=Math.floor((t||0)/60),n=Math.round((t||0)%60);return(r>=10?r:"0"+r)+":"+(n>=10?n:"0"+n)}},actions:{setAudioSrc:_actions.setAudioSrc,playAudio:_actions.playAudio,pauseAudio:_actions.pauseAudio,seekAudio:_actions.seekAudio,stopAudio:_actions.stopAudio,resumeAudio:_actions.resumeAudio},options:{addGlobalClass:!0},properties:{url:{type:String,value:""},width:{type:String,value:""},height:{type:String,value:""}},data:{visible:!0},methods:{onProgressChange:function(e){console.log("onProgressChange",e),this.seekAudio.call(this,parseFloat((e.detail.value/1e4).toFixed(3)))},start:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.data.url){e.next=3;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"音频链接不正确",showCancel:!1}));case 3:return e.next=5,this.setAudioSrc.call(this,r);case 5:this.playAudio.call(this);case 6:case"end":return e.stop()}},e,this)}));return e}(),resume:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.playAudio.call(this);case 1:case"end":return e.stop()}},e,this)}));return e}(),pause:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.pauseAudio.call(this);case 1:case"end":return e.stop()}},e,this)}));return e}(),stop:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.stopAudio.call(this);case 1:case"end":return e.stop()}},e,this)}));return e}()},lifetimes:{created:function(){},detached:function(){this.data.url&&this.data.url===this.data.audioUrl&&(console.log("audio-player dettached"),this.stopAudio.call(this))}},pageLifetimes:{hide:function(){this.data.url&&this.data.url===this.data.audioUrl&&(console.log("audio-player hide"),this.stopAudio.call(this))}}}); 
 			}); 	require("wx_components/audio_player/index.js");
 		__wxRoute = 'wx_components/auth_modal/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/auth_modal/index.js';	define("wx_components/auth_modal/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,o){try{var a=t[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_clientUtil=require("./../../utils/clientUtil.js");Component({externalClasses:["cls"],options:{addGlobalClass:!0},properties:{},data:{SCOPES:{"scope.userInfo":{tips:"想获取您的用户信息"},"scope.record":{tips:"想访问您的录音功能"},"scope.writePhotosAlbum":{tips:"想保存文件到相册"}},currentScope:null},methods:{authorize:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_wepy2.default.showLoading();case 3:return e.next=5,_wepy2.default.authorize({scope:t});case 5:return(0,_clientUtil.hideLoading)(),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),this.showModal(t),(0,_clientUtil.hideLoading)(),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[0,9]])}));return e}(),show:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.showModal(t);case 1:case"end":return e.stop()}},e,this)}));return e}(),hide:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.hideModal();case 1:case"end":return e.stop()}},e,this)}));return e}(),openSetting:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.triggerEvent("afterAuthorized"),this.hideModal();case 2:case"end":return e.stop()}},e,this)}));return e}()},lifetimes:{created:function(){var e=this;this.showModal=function(t){t&&-1!==Object.keys(e.data.SCOPES).indexOf(t)&&e.setData({currentScope:t})},this.hideModal=function(){e.setData({currentScope:null})}}}}); 
 			}); 	require("wx_components/auth_modal/index.js");
 		__wxRoute = 'wx_components/base_modal/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/base_modal/index.js';	define("wx_components/base_modal/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy);Component({externalClasses:["cls"],options:{addGlobalClass:!0},properties:{showClose:{type:Boolean,value:!0},showLogo:{type:Boolean,value:!0},mask:{type:Boolean,value:!0}},data:{visible:!1},methods:{show:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setData({visible:!0});case 1:case"end":return e.stop()}},e,this)}));return e}(),hide:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setData({visible:!1});case 1:case"end":return e.stop()}},e,this)}));return e}()},lifetimes:{created:function(){}}}); 
 			}); 	require("wx_components/base_modal/index.js");
 		__wxRoute = 'wx_components/drawer/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/drawer/index.js';	define("wx_components/drawer/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,t){function r(a,o){try{var i=n[a](o),u=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy);Component({externalClasses:["cls"],options:{addGlobalClass:!0},properties:{canvasWidth:{type:Number,value:!0},canvasHeight:{type:Number,value:!0},isWindow:{type:Boolean,value:!1},isIPad:{type:Boolean,value:!1}},data:{canvasId:"cmpt__drawer-canvas"},methods:{show:function(){function e(){return n.apply(this,arguments)}var n=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setData({visible:!0});case 1:case"end":return e.stop()}},e,this)}));return e}(),draw:function(){function e(){return n.apply(this,arguments)}var n=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},lifetimes:{created:function(){this.setData({canvasId:"cmpt__drawer-canvas-"+Date.now()+"-"+Math.floor(100*Math.random())}),this._createImage=function(e,n){return new Promise(function(t,r){var a=n.createImage();a.onload=function(){console.log("onload",a),t(a)},a.onerror=function(e){r("errMsg")},a.src=e})},this._draw2DImage=function(){}}}}); 
 			}); 	require("wx_components/drawer/index.js");
 		__wxRoute = 'wx_components/follow_modal/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/follow_modal/index.js';	define("wx_components/follow_modal/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_getConnectedBehavior=require("./../../wx_behaviors/getConnectedBehavior.js"),_getConnectedBehavior2=_interopRequireDefault(_getConnectedBehavior),ComputedBehavior=require("./../../npm/miniprogram-computed/miniprogram_dist/index.js"),storeBehavior=(0,_getConnectedBehavior2.default)({user:function(e){return e.user.detail||null}});Component({externalClasses:["cls"],behaviors:[ComputedBehavior,storeBehavior],options:{addGlobalClass:!0},properties:{content:{type:String,value:""}},computed:{contactSession:function(){var e=this.data.user;return e&&JSON.stringify({nickName:e.nickname,avatarUrl:e.avatar})||""}},data:{modalId:null},methods:{show:function(){var e=this.data.modalId,t=this.selectComponent("#cmpt__modal-"+e);t&&t.show()&&this.triggerEvent("onShow")},hide:function(){var e=this.data.modalId,t=this.selectComponent("#cmpt__modal-"+e);t&&t.hide()&&this.triggerEvent("onHide")}},lifetimes:{attached:function(){this.setData({modalId:""+Date.now()+Math.random().toString().slice(2,6)})}}}); 
 			}); 	require("wx_components/follow_modal/index.js");
 		__wxRoute = 'wx_components/footer_input/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/footer_input/index.js';	define("wx_components/footer_input/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function o(r,i){try{var a=t[r](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){o("next",e)},function(e){o("throw",e)});e(s)}return o("next")})}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),ComputedBehavior=require("./../../npm/miniprogram-computed/miniprogram_dist/index.js");Component({externalClasses:["cls"],behaviors:[ComputedBehavior],options:{addGlobalClass:!1},properties:{content:{type:String,value:""},showClose:{type:Boolean,value:!0},disabled:{type:Boolean,value:!1},autoFocus:{type:Boolean,value:!0}},data:{visible:!1},methods:{onClose:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setData({visible:!1},function(){t.triggerEvent("onClose")});case 1:case"end":return e.stop()}},e,this)}));return e}(),send:function(e){var t=e.detail&&e.detail.value||{},n=t.content,o=void 0===n?"":n;this.triggerEvent("send",{content:o}),console.log(e,o)},onContentChange:function(e){var t=e.detail.value;this.triggerEvent("change",{content:t})},show:function(){this.setData({visible:!0,content:""})}},lifetimes:{created:function(){}}}); 
 			}); 	require("wx_components/footer_input/index.js");
 		__wxRoute = 'wx_components/group_picker/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/group_picker/index.js';	define("wx_components/group_picker/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a),s=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_actions=require("./../../store/actions/index.js"),_store_behavior=require("./../../wx_behaviors/store_behavior.js"),_store_behavior2=_interopRequireDefault(_store_behavior);Component({externalClasses:["cls"],behaviors:["wx://form-field",_store_behavior2.default],options:{addGlobalClass:!0},properties:{initGid:{type:String,value:""},disabled:{type:Boolean,value:!1},showLabel:{type:Boolean,value:!0},alignLeft:{type:Boolean,value:!1}},data:{selected:null,groupIdx:0,loading:!1,loaded:!1,errMsg:"",_initialed:!1},store:{groups:function(e){var t=e.homework.assign_partners||[],r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;("P"==u.type&&u.proxy||"S"==u.type&&u.proxy||"T"==u.type)&&r.push(u.group)}}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r||[]}},actions:{fetchAssignPartners:_actions.fetchAssignPartners},observers:{"initGid, groups":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!this.data._initialed&&e&&t&&t.length){var r=e?t.findIndex(function(t){return t.gid===e}):0;this.setData({groupIdx:r,_initialed:!0})}}},methods:{toGroupEdit:function(e){_wepy2.default.redirectTo({url:"/sp7/pages/group_edit"})},groupChange:function(e){var t=this;this.setData({groupIdx:parseInt(e.detail.value)},function(){return t.triggerEvent("onChange",{selected:t.getSelected(),count:t.data.groups.length})})}},lifetimes:{created:function(){var e=this;this.getSelected=function(){var t=e.data,r=t.groupIdx,n=t.groups;return r<=-1||!n.length?null:n[r]}},attached:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,o,a,i,s,u,d,l,g,c,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.data,r=t.loaded,n=t.groups,o=t.groupIdx,a=t.initGid,r&&n.length){e.next=16;break}return this.setData({loading:!0}),e.next=5,this.fetchAssignPartners();case 5:if(i=e.sent,s=i.payload,u=s.cmd,d=s.result,l=s.msg,u){e.next=12;break}return e.abrupt("return",this.setData({groupIdx:-1,errMsg:l||"加载班级出错",loading:!1,loaded:!1},function(){p.triggerEvent("onLoad",{count:0,selected:null,msg:l||"加载班级出错"})}));case 12:if(d&&d.length){e.next=14;break}return e.abrupt("return",this.setData({groupIdx:-1,errMsg:"暂无可选班级",loaded:!0,loading:!1},function(){p.triggerEvent("onLoad",{count:0,selected:null,msg:"暂无可选班级"})}));case 14:return g=a?d.findIndex(function(e){return e.group&&e.group.gid===a}):0,e.abrupt("return",this.setData({groupIdx:-1===g?0:g,errMsg:"",loading:!1,loaded:Boolean(u)},function(){p.triggerEvent("onLoad",{count:d.length,selected:p.getSelected()})}));case 16:c=-1==o?0:o,this.triggerEvent("onLoad",{count:n.length,selected:n[c]}),this.setData({groupIdx:c,loaded:!0});case 19:case"end":return e.stop()}},e,this)}));return e}()},pageLifetimes:{}}); 
 			}); 	require("wx_components/group_picker/index.js");
 		__wxRoute = 'wx_components/homework_answer/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/homework_answer/index.js';	define("wx_components/homework_answer/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,i){try{var u=t[n](i),s=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_common=require("./../../wx_behaviors/common.js"),_common2=_interopRequireDefault(_common),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),_clientUtil=require("./../../utils/clientUtil.js"),_dateUtil=require("./../../utils/dateUtil.js"),_delay=require("./../../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_avatar=require("./../../utils/avatar.js"),_avatar2=_interopRequireDefault(_avatar),_cdnurl=require("./../../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_actions=require("./../../store/actions/index.js"),_rating=require("./../../utils/rating.js"),_rating2=_interopRequireDefault(_rating),_shallowEqual=require("./../../utils/shallowEqual.js"),_shallowEqual2=_interopRequireDefault(_shallowEqual),_store_behavior=require("./../../wx_behaviors/store_behavior.js"),_store_behavior2=_interopRequireDefault(_store_behavior),OPERATIONS={TO_DETAIL:"查看提交详情",SEND_TO_DIALOG:"发送到私信",SHOW_ANSWER:"取消仅批改人可见(VIP功能)",HIDE_ANSWER:"设置仅批改人可见(VIP功能)",DOWNLOAD_VIDEO:"下载视频"};Component({observers:{"answer.created_at, homework":function(e,t){var r=t||{},a=r.deadline,n=e&&a&&new Date(e)>new Date(a);n!==this.data.isSupplement&&this.setData({isSupplement:n})},"answer.uid, group":function(e,t){var r=t||{},a=r.vips,n=a&&a.some(function(t){return t.uid===e});n!==this.data.isVipUser&&this.setData({isVipUser:n})},"answer.child, group":function(e,t){var r=t||{},a=r.members,n="";a&&e&&(n=a[e-1]||""),n!=this.data.answerChildName&&this.setData({answerChildName:n})},"answer.rating, homework":function(e,t){var r=t||{},a=r.rating_criterion,n="";(e||0==e)&&(0==a?n=(0,_rating2.default)(e):[1,2,3].indexOf(a)>-1&&(n=""+e)),n!=this.data.ratingValue&&this.setData({ratingValue:n})},supplements:function(e){if(!(0,_shallowEqual2.default)(e,this.data._supplements)){var t=e.map(function(e){return _extends({},e,{submitDate:e.created_at?(0,_dateUtil.getDatetimeStr)(e.created_at).slice(new Date(e.created_at).getFullYear()===(new Date).getFullYear()?5:2):null,userAvatar:(0,_avatar2.default)(e.user.avatar,64),voiceUrls:e.voices&&(0,_cdnurl2.default)(e.voices,null,!0)||[],imageUrls:e.files&&(0,_cdnurl2.default)(e.files,128)||[],videoInfo:e.video?{raw:e.video,url:(0,_cdnurl2.default)(e.video,null,null,!0),cover:(0,_cdnurl2.default)(e.video,null)}:null})});this.setData({supplementList:t,_supplements:e})}},answer:function(e){var t={},r=e||{},a=r.created_at,n=r.user,i=r.files,u=r.voices,s=r.video,o=r.rating_voice,l=r.rating_images,c=!!a&&new Date(a).getFullYear()===(new Date).getFullYear();t.submitDate=a?(0,_dateUtil.getDatetimeStr)(a).slice(c?5:2):null,t.userAvatar=n&&(0,_avatar2.default)(n.avatar,64)||null,t.answerImages=i?(0,_cdnurl2.default)(i,128):[],t.answerVoices=u?(0,_cdnurl2.default)(u,null,!0):[],t.answerVideo=s?{raw:s,url:(0,_cdnurl2.default)(s,null,null,!0),cover:""+(0,_cdnurl2.default)(s,null)}:null,t.ratingVoice=o?(0,_cdnurl2.default)(o,null,!0):null,t.ratingImages=l?(0,_cdnurl2.default)(l,128):[],(0,_shallowEqual2.default)(t,this.data._answer)||this.setData(_extends({},t,{_miniAnswer:t}))}},behaviors:[_common2.default,_store_behavior2.default],store:{audioUrl:function(e){return e.audio.audio.url},audioLoading:function(e){return e.audio.audio.loading}},actions:{setAudioSrc:_actions.setAudioSrc,playAudio:_actions.playAudio},options:{addGlobalClass:!0,multipleSlots:!0},properties:{answer:{type:Object,value:null},homework:{type:Object,value:null},group:{type:Object,value:null},aid:{type:String,value:""},rawHomework:{type:Object,value:null},rawAnswer:{type:Object,value:null},tempVideoKey:{type:String,value:""},sortIndex:{type:Number,value:1},showHomeworkBtn:{type:Boolean,value:!1},showAnswerContent:{type:Boolean,value:!1},showOptionBtn:{type:Boolean,value:!1},showRateBtn:{type:Boolean,value:!1},showSupplementBtn:{type:Boolean,value:!1},showRating:{type:Boolean,value:!0},showRatingResult:{type:Boolean,value:!1},showRatingContent:{type:Boolean,value:!1},isDetailPage:{type:Boolean,value:!1},showImageEditBtn:{type:Boolean,value:!1},checkBeforeViewMedia:{type:Boolean,value:!1},supplements:{type:Array,value:[]},questionSet:{type:Object,value:null}},data:{authModalId:"",ratingValue:"",answerChildName:"",isVipUser:!1,isSupplement:!1,_supplements:[],_miniAnswer:{}},methods:{backToHomework:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},a=r.hid,e.abrupt("return",_wepy2.default.redirectTo({url:"/pages/homework?hid="+a}));case 2:case"end":return e.stop()}},e,this)}));return e}(),startAudio:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},a=r.url){e.next=3;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"音频链接不正确",showCancel:!1}));case 3:return e.next=5,this.setAudioSrc.call(this,a);case 5:this.playAudio.call(this);case 6:case"end":return e.stop()}},e,this)}));return e}(),toEditImage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i,u,s,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data,a=r.answer,n=r.answerChildName,i=t.currentTarget.dataset||{},u=i.url,s=i.list,_wepy2.default.setStorageSync("HOMEWORK_RATING_TMP_FILES",s.map(function(e){return{source:e,value:""}})),o=_wepy2.default.$store.getState(),l=o.base&&o.base.isWindow||1==_wepy2.default.getStorageSync("LS_USE_OLD_IMAGE_EDITOR"),e.abrupt("return",_wepy2.default.navigateTo({url:"/sp4/pages/"+(l?"image_editor":"new_image_editor")+"?aid="+a.aid+"&path="+u+"&title="+a.child+"."+n}));case 6:case"end":return e.stop()}},e,this)}));return e}(),showOptionList:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.data.answer,this.triggerEvent("showOptionList",{answer:r,OPERATIONS:OPERATIONS,component:this});case 2:case"end":return e.stop()}},e,this)}));return e}(),onOptionChoosen:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.data,a=r.group,n=r.answer,e.t0=t,e.next=e.t0===OPERATIONS.TO_DETAIL?4:e.t0===OPERATIONS.SHOW_ANSWER?5:e.t0===OPERATIONS.HIDE_ANSWER?5:e.t0===OPERATIONS.SEND_TO_DIALOG?6:e.t0===OPERATIONS.DOWNLOAD_VIDEO?7:8;break;case 4:return e.abrupt("return",_wepy2.default.navigateTo({url:"/pages/answer?aid="+n.aid+"&hid="+n.hid}));case 5:return e.abrupt("return",this.toggleAnswer.call(this));case 6:return e.abrupt("return",_wepy2.default.navigateTo({url:"/sp6/pages/partner_list?gid="+a.gid+"&aid="+n.aid+"&type=CREATE_DIALOG"}));case 7:return e.abrupt("return",this.downloadVideo.call(this));case 8:case"end":return e.stop()}},e,this)}));return e}(),showSupplementOptions:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data.answer,e.prev=1,a=["删除此提交，重新上传"],this.data.showSupplementBtn&&a.push("不删除，继续提交"),e.next=6,(0,_clientUtil.showActionSheet)({itemList:a});case 6:n=e.sent,0==n.tapIndex?this.deleteAnswer.call(this):1==n.tapIndex&&this.triggerEvent("showSupplementForm",{answer:r}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}},e,this,[[1,10]])}));return e}(),playVoiceUrl:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},a=r.url,n=r.isRating,i=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.setAudioSrc.call(u,a);case 2:u.playAudio.call(u);case 3:case"end":return e.stop()}},e,u)}));return function(){return e.apply(this,arguments)}}(),!this.data.checkBeforeViewMedia||n){e.next=6;break}return e.abrupt("return",this.triggerEvent("viewMedia",{key:"playVoice",data:a,callback:i}));case 6:i();case 7:case"end":return e.stop()}},e,this)}));return e}(),copyAnswerText:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},(a=r.answer)&&a.text){e.next=3;break}return e.abrupt("return");case 3:return n={itemList:["拷贝提交文字"]},e.prev=4,e.next=7,(0,_clientUtil.showActionSheet)(n);case 7:if(i=e.sent,0!=i.tapIndex){e.next=11;break}return e.next=11,wx.setClipboardData({data:a.text});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:case"end":return e.stop()}},e,this,[[4,13]])}));return e}(),toRating:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},a=r.answer,e.abrupt("return",this.triggerEvent("toRating",a));case 2:case"end":return e.stop()}},e,this)}));return e}(),toDialog:function(e){var t=e.currentTarget.dataset||{},r=t.answer,a=this.data.group;return _wepy2.default.navigateTo({url:"/sp6/pages/partner_list?aid="+r.aid+"&hid="+r.hid+"&gid="+a.gid+"&type=CREATE_DIALOG"})},toDetail:function(e){var t=e.currentTarget.dataset||{},r=t.answer;_wepy2.default.navigateTo({url:"/pages/answer?aid="+r.aid+"&hid="+r.hid})},previewImage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},a=r.url,n=r.list,i=r.isRating,a=_config.CDN_HOST+a,n=n.map(function(e){return _config.CDN_HOST+e}),!this.data.checkBeforeViewMedia||i){e.next=5;break}return e.abrupt("return",this.triggerEvent("viewMedia",{key:"previewImage",data:{current:a,list:n}}));case 5:return e.next=7,_wepy2.default.previewImage({current:a,urls:n});case 7:case"end":return e.stop()}},e,this)}));return e}(),showImageOption:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data.answer,e.prev=1,a=["查看大图"],this.data.showImageEditBtn&&(a.push("新版批改"),a.push("旧版批改")),e.next=6,(0,_clientUtil.showActionSheet)({itemList:a});case 6:n=e.sent,0==n.tapIndex?this.previewImage.call(this,t):1==n.tapIndex?this.toEditImage.call(this,t,!1):2==n.tapIndex&&this.toEditImage.call(this,t,!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return e}(),playVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},a=r.video,!this.data.checkBeforeViewMedia){e.next=3;break}return e.abrupt("return",this.triggerEvent("viewMedia",{key:"playVideo",data:a}));case 3:return e.next=5,_wepy2.default.navigateTo({url:"/pages/video?video="+a});case 5:case"end":return e.stop()}},e,this)}));return e}(),deleteAnswer:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data.aid,e.next=3,_wepy2.default.showModal({title:"温馨提示",content:"确定取消提交作业么？"});case 3:if(a=e.sent,n=a.confirm){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 9:return e.next=11,(0,_request2.default)({url:_config.api.homework.cancel.url+r});case 11:if(i=e.sent,u=i.data,(0,_clientUtil.hideLoading)(),!u||!u.cmd){e.next=23;break}return e.next=17,_wepy2.default.$store.dispatch({type:"REMOVE_ANSWER",payload:r});case 17:return _wepy2.default.showToast({title:"取消成功",icon:"success",duration:1500}),e.next=20,(0,_delay2.default)(1500);case 20:this.triggerEvent("deleteAnswer"),e.next=25;break;case 23:return e.next=25,_wepy2.default.showModal({title:"提示",content:u.msg||"取消作业提交失败!",showCancel:!1});case 25:return e.next=27,(0,_clientUtil.setStorageSync)("CALENDAR_NEED_REFRESH",!0);case 27:return e.abrupt("return");case 28:case"end":return e.stop()}},e,this)}));return e}(),downloadVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=Date.now(),a=function(){n.setData({authModalId:""})},this.setData({authModalId:r},_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,i,u,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.data.answer,i=t.video,u=n.selectComponent("#auth-modal-answer-detail-"+r),e.t0=!u,e.t0){e.next=8;break}return e.next=7,u.authorize("scope.writePhotosAlbum");case 7:e.t0=!e.sent;case 8:if(!e.t0){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,_wepy2.default.showLoading({title:"正在下载...",mask:!0});case 13:return e.next=15,_wepy2.default.downloadFile({url:(0,_cdnurl2.default)(i,null,!0)});case 15:if(s=e.sent,o=s.tempFilePath,(0,_clientUtil.hideLoading)(),o){e.next=20;break}throw new Error("下载视频失败");case 20:return e.next=22,_wepy2.default.saveVideoToPhotosAlbum({filePath:o});case 22:return e.next=24,_wepy2.default.showToast({title:"保存成功",icon:"success",duration:2e3,mask:!0});case 24:e.next=31;break;case 26:return e.prev=26,e.t1=e.catch(10),(0,_clientUtil.hideLoading)(),e.next=31,_wepy2.default.showModal({title:"提示",content:e.t1.message||"下载视频失败",showCancel:!1});case 31:return e.prev=31,a(),e.finish(31);case 34:case"end":return e.stop()}},e,n,[[10,26,31,34]])})));case 3:case"end":return e.stop()}},e,this)}));return e}(),toQuestionAnswer:function(){var e=this.data,t=e.group,r=e.answer,a=r.question_answer,n=t||{},i=n.partner,u=i&&(i.child==r.child||i.uid===r.uid),s=i&&("T"==i.type||i.proxy);if(a&&(s||u)){var o=a.id,l=a.hid;_wepy2.default.navigateTo({url:"/sp9/pages/question_answer_edit?question_answer_id="+o+"&hid="+l})}},toggleAnswer:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,a,n,i,u,s,o,l,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.data,r=t.group,a=t.answer,n=r||{},i=n.vips,u=n.partner,s=n.vip_expired_at,o=u&&("T"===u.type||i&&i.find(function(e){return e.uid===u.uid})||s&&new Date(s)>=new Date)){e.next=9;break}return e.next=6,_wepy2.default.showModal({title:"提示",content:"该功能需购买VIP服务方可使用",confirmText:"去购买"});case 6:return l=e.sent,l.confirm&&_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+r.gid}),e.abrupt("return");case 9:return c=a.extras&&!a.extras.hide_answer,e.next=12,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 12:return e.next=14,(0,_request2.default)({url:_config.api.homework.updateAnswer.url,data:{aid:a.aid,hide_answer:Boolean(c)}});case 14:if(d=e.sent,(0,_clientUtil.hideLoading)(),!d.data||!d.data.cmd){e.next=30;break}return e.t0=_wepy2.default.$store,e.t1=_extends,e.t2={},e.next=22,(0,_actions.fetchAnswer)({aid:a.aid});case 22:return e.t3=e.sent,e.t4={type:"UPDATE_ANSWER"},e.t5=(0,e.t1)(e.t2,e.t3,e.t4),e.next=27,e.t0.dispatch.call(e.t0,e.t5);case 27:return e.abrupt("return",e.sent);case 30:return e.next=32,_wepy2.default.showModal({title:"提示",content:d.data.msg||"更新作业提交出错!",showCancel:!1});case 32:case"end":return e.stop()}},e,this)}));return e}()},lifetimes:{attached:function(){}}}); 
 			}); 	require("wx_components/homework_answer/index.js");
 		__wxRoute = 'wx_components/homework_media/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/homework_media/index.js';	define("wx_components/homework_media/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_cdnurl=require("./../../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_config=require("./../../config.js"),_clientUtil=require("./../../utils/clientUtil.js"),_exportExcelOrDownload=require("./../../utils/exportExcelOrDownload.js"),_exportExcelOrDownload2=_interopRequireDefault(_exportExcelOrDownload),_common=require("./../../wx_behaviors/common.js"),_common2=_interopRequireDefault(_common),_actions=require("./../../store/actions/index.js"),_getConnectedBehavior=require("./../../wx_behaviors/getConnectedBehavior.js"),_getConnectedBehavior2=_interopRequireDefault(_getConnectedBehavior),ComputedBehavior=require("./../../npm/miniprogram-computed/miniprogram_dist/index.js"),StoreBehavior=(0,_getConnectedBehavior2.default)({audio:function(e){return e.audio.audio},isWindow:function(e){return e.base.isWindow}},{playAudio:_actions.playAudio,pauseAudio:_actions.pauseAudio,seekAudio:_actions.seekAudio,stopAudio:_actions.stopAudio,resumeAudio:_actions.resumeAudio,setAudioSrc:_actions.setAudioSrc});Component({behaviors:[_common2.default,ComputedBehavior,StoreBehavior],options:{addGlobalClass:!0,multipleSlots:!0},properties:{inset:{type:Boolean,value:!1},media:{type:Object,value:null},checkBeforeViewMedia:{type:Boolean,value:!1}},computed:{imageList:function(){return((this.data.media||{}).images||[]).map(function(e){return(0,_cdnurl2.default)(e,128)})},voiceList:function(){return((this.data.media||{}).voices||[]).map(function(e){return(0,_cdnurl2.default)(e,null,!0)})},videoUrl:function(){var e=this.data.media,t=e||{},r=t.video;return r?(0,_cdnurl2.default)(r,null,null,!0):null},videoCoverUrl:function(){var e=this.data.media,t=e||{},r=t.video;return r?(0,_cdnurl2.default)(r,null):null},fileList:function(){var e=this.data.media,t=e||{},r=t.files;return Object.entries(r?_extends({},r):{}).map(function(e){var t=e[1].match(/[^.]+$/i),r="",n="",a=null;if(t&&t[0]){var o={doc:{className:"icon-word",color:"#305791"},docx:{className:"icon-word",color:"#305791"},xls:{className:"icon-excel",color:"#217349"},xlsx:{className:"icon-excel",color:"#217349"},ppt:{className:"icon-PPT",color:"#cc4c29"},pptx:{className:"icon-PPT",color:"#cc4c29"},pdf:{className:"icon-pdf",color:"#ff5a5a"}};a=t[0].toLowerCase();var i=o[a];i&&(r=i.className,n=i.color)}return{key:e[0],url:_config.SSLCDN_HOST+e[0],name:e[1],fileType:a,iconClassName:r,iconColor:n}})}},data:{playingVoiceUrl:"",playingVoiceState:"",playingVoiceIconIdx:1,playingVoiceTimer:null},methods:{startAudio:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},n=r.url){e.next=3;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"音频链接不正确",showCancel:!1}));case 3:return e.next=5,this.methods.setAudioSrc.call(this,n);case 5:this.methods.playAudio.call(this);case 6:case"end":return e.stop()}},e,this)}));return e}(),previewImage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},n=r.current,a=r.list,e.next=3,_wepy2.default.previewImage({current:(0,_cdnurl2.default)(n,null),urls:(0,_cdnurl2.default)(a,null)});case 3:case"end":return e.stop()}},e,this)}));return e}(),playVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},n=r.url,!this.data.checkBeforeViewMedia){e.next=3;break}return e.abrupt("return",this.triggerEvent("viewMedia",{key:"playVideo",data:n}));case 3:return e.next=5,_wepy2.default.navigateTo({url:"/pages/video?video="+n});case 5:case"end":return e.stop()}},e,this)}));return e}(),onCopyUrl:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},n=r.url,e.prev=1,e.next=4,_wepy2.default.setClipboardData({data:n});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,this,[[1,6]])}));return e}(),openFileOrCopyLink:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.currentTarget.dataset||{},n=r.item,a=n.name||"",o=a.lastIndexOf("."),i=a.slice(o+1,a.length),u=a.slice(0,o),(0,_exportExcelOrDownload2.default)({type:"homework_file",file_path:n.key+"?attname="+encodeURIComponent(u)+"."+i,download:this.openFile.bind(this,t)});case 6:case"end":return e.stop()}},e,this)}));return e}(),openFile:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,u,c,s,l,d,p,f,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.dataset||{},n=r.item,e.prev=1,a=n.name||"",o=a.lastIndexOf("."),i=a.slice(o+1,a.length),u=a.slice(0,o),"mp3"!==i){e.next=8;break}return e.abrupt("return",this.triggerEvent("playVoice",n.url));case 8:return _wepy2.default.showLoading({title:"加载中...",mask:!0}),e.next=11,_wepy2.default.downloadFile({url:n.url});case 11:c=e.sent,s=c.tempFilePath,l=null,d=wx.getFileSystemManager(),p=0;do{f=0==p?u:u+"("+p+")";try{d.accessSync(wx.env.USER_DATA_PATH+"/"+f+"."+i)}catch(e){l=f}p>30&&(l=u+"_"+(new Date).getTime()),p++}while(!l);m=null,e.prev=18,m=d.saveFileSync(s,wx.env.USER_DATA_PATH+"/"+l+"."+i),e.next=32;break;case 22:if(e.prev=22,e.t0=e.catch(18),!(e.t0.message&&e.t0.message.indexOf("exceed")>-1)){e.next=31;break}return(0,_clientUtil.hideLoading)(),e.next=28,_wepy2.default.showModal({title:"提示",content:"文件缓存空间不足",confirmText:"去清理",cancelText:"取消"});case 28:return h=e.sent,h.confirm&&_wepy2.default.navigateTo({url:"/sp1/pages/personal"}),e.abrupt("return");case 31:throw new Error(e.t0.errMsg||e.t0.message);case 32:return e.next=34,_wepy2.default.openDocument({filePath:m,fileType:i});case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(1),_wepy2.default.showModal({title:"提示",content:e.t1.message||"加载失败",showCancel:!1});case 39:(0,_clientUtil.hideLoading)();case 40:case"end":return e.stop()}},e,this,[[1,36],[18,22]])}));return e}()},lifetimes:{created:function(){}},pageLifetimes:{hide:function(){}}}); 
 			}); 	require("wx_components/homework_media/index.js");
 		__wxRoute = 'wx_components/join_group_footer/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/join_group_footer/index.js';	define("wx_components/join_group_footer/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_getConnectedBehavior=require("./../../wx_behaviors/getConnectedBehavior.js"),_getConnectedBehavior2=_interopRequireDefault(_getConnectedBehavior),ComputedBehavior=require("./../../npm/miniprogram-computed/miniprogram_dist/index.js"),StoreBehavior=(0,_getConnectedBehavior2.default)({groupDetail:function(e){return e.group.detail||null}});Component({externalClasses:["cls"],behaviors:[ComputedBehavior,StoreBehavior],options:{addGlobalClass:!0},properties:{gid:{type:String,value:""},isExample:{type:Boolean,value:!1}},computed:{group:function(){var e=this.data,o=e.gid,t=e.groupDetail;return o&&t&&t.gid===o?t:null}},data:{showModal:!1},methods:{toIndex:function(){_wepy2.default.reLaunch({url:"/pages/index"})},toJoinConfirm:function(){var e=this.data,o=e.gid,t=e.isExample;if(o)return t?_wepy2.default.showModal({title:"提示",content:"该班级是示例班级，无法加入",showCancel:!1}):void _wepy2.default.navigateTo({url:"/sp7/pages/join_confirm?gid="+o})},showSubscribeHint:function(){var e=this;this.setData({showModal:!0},function(){var o=e.selectComponent("#cmpt__join-group-footer__follow-modal");o&&o.show()})}},lifetimes:{}}); 
 			}); 	require("wx_components/join_group_footer/index.js");
 		__wxRoute = 'wx_components/lesson_selector/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/lesson_selector/index.js';	define("wx_components/lesson_selector/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,s){try{var o=t[a](s),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_actions=require("./../../store/actions/index.js"),_store_behavior=require("./../../wx_behaviors/store_behavior.js"),_store_behavior2=_interopRequireDefault(_store_behavior),defaultCourses=["语文","数学","英语","科学","书法","音乐","体育","美术","兴趣小组","通知"];Component({externalClasses:["cls"],behaviors:[_store_behavior2.default],options:{addGlobalClass:!0},properties:{source:{type:String,value:""},disabled:{type:Boolean,value:!1},showLabel:{type:Boolean,value:!0},gid:{type:String,value:""},type:{type:Number,value:0},showBorderTop:{type:Boolean,value:!1}},data:{COURSES:{0:defaultCourses,10:["通知"],20:["语文","数学","英语","道德与法治","体育","科学","音乐","美术","综合实践","通知"],30:["语文","数学","英语","政治","地理","历史","生物","物理","化学","体育","音乐","美术","通知"],40:["语文","数学","英语","政治","地理","历史","生物","物理","化学","体育","信息技术","通知"],50:["通知"],60:defaultCourses,70:["语文","数学","英语","通知"],80:["通知"],100:defaultCourses},courseIndex:0,courseName:"",_courseName:"",_initCourseName:"",_gid:"",courses:[]},store:{lessons:function(e){return e.lesson.lessonList||[]}},actions:{fetchLessonList:_actions.fetchLessonList},observers:{gid:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t==this.data._gid){e.next=3;break}return e.next=3,this.fetchLessonList(t);case 3:case"end":return e.stop()}},e,this)}));return e}(),courseName:function(e){var t=this,n=this.data.courses;e!=this.data._courseName&&this.setData({courseIndex:n.findIndex(function(t){return t.name===e}),_courseName:e},function(){t.triggerEvent("onChange",{value:e})})},"lessons, type, source":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASSIGN_HOMEWORK",a=this.data.COURSES,s=void 0===a?[]:a,o=s[n].map(function(e){return{name:e}});"PUBLISH_EXAM"!==r&&"COURSE_RECORD"!==r||(o=o.filter(function(e){return"通知"!=e.name})),e.forEach(function(e){var t=o.findIndex(function(t){return t.name===e.name}),n={id:e.id,name:e.name};-1===t?o.push(n):o[t]=n});var i={courses:o};this.data._initCourseName&&(o.length!=this.data.courses.length||o.some(function(e){return t.data.courses.every(function(t){return t.name!==e.name})}))&&(i.courseIndex=o.findIndex(function(e){return e.name===t.data._initCourseName})),this.setData(i)}},methods:{showNameInput:function(){this.setData({courseIndex:-1,courseName:""})},bindCourseChange:function(e){var t=this.data,n=t.courses,r=(t.courseIndex,parseInt(e.detail.value));n[r]&&this.setData({courseIndex:r,courseName:n[r].name,_initCourseName:n[r].name})},bindCourseNameChange:function(e){this.setData({courseName:e.detail.value})}},lifetimes:{created:function(){var e=this;this.getSelected=function(){return e.data.courseName},this.update=function(t){e.setData({courseName:t,_initCourseName:t})},this.setCourse=function(){var t=e.data,n=t.courses,r=t.courseIndex,a=t.source,s="";n.length&&n[r]&&(s=n[r].name);var o={ASSIGN_HOMEWORK:"LAST_COURSE_NAME",PUBLISH_EXAM:"LAST_EXAM_LESSON_NAME",COURSE_RECORD:"LAST_COURSE_RECORD_NAME"},i=_wepy2.default.getStorageSync(o[a]);i&&(s=i),e.setData({courseName:s,_initCourseName:s})}},attached:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setCourse();case 1:case"end":return e.stop()}},e,this)}));return e}()},pageLifetimes:{}}); 
 			}); 	require("wx_components/lesson_selector/index.js");
 		__wxRoute = 'wx_components/media_selector/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/media_selector/index.js';	define("wx_components/media_selector/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_cdnurl=require("./../../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_config=require("./../../config.js"),_fileUtil=require("./../../utils/fileUtil.js"),_clientUtil=require("./../../utils/clientUtil.js"),_upload=require("./../../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),_exceptions=require("./../../exceptions/index.js"),_common=require("./../../wx_behaviors/common.js"),_common2=_interopRequireDefault(_common),_getConnectedBehavior=require("./../../wx_behaviors/getConnectedBehavior.js"),_getConnectedBehavior2=_interopRequireDefault(_getConnectedBehavior),ComputedBehavior=require("./../../npm/miniprogram-computed/miniprogram_dist/index.js"),StoreBehavior=(0,_getConnectedBehavior2.default)({audio:function(e){return e.audio.audio},isWindow:function(e){return e.base.isWindow}});Component({behaviors:[_common2.default,ComputedBehavior,StoreBehavior],externalClasses:["cls"],options:{addGlobalClass:!0,pureDataPattern:/^_/},properties:{fileAttach:{type:String,value:"homework"},maxImageCount:{type:Number,value:0},maxVoiceCount:{type:Number,value:0},maxVideoCount:{type:Number,value:0},maxFileCount:{type:Number,value:0},maxTencentVideoCount:{type:Number,value:0},maxExternalUrlCount:{type:Number,value:0},showTemplateBtn:{type:Boolean,value:!1},showQuestionSetBtn:{type:Boolean,value:!1},allowDelete:{type:Boolean,value:!0}},computed:{voiceList:function(){return(this.data.voices||[]).filter(function(e){return!e.deleted})},imageList:function(){return(this.data.images||[]).filter(function(e){return!e.deleted})},fileList:function(){return(this.data.files||[]).filter(function(e){return!e.deleted})},videoList:function(){return(this.data.videos||[]).filter(function(e){return!e.deleted})},notDeletedQuestionSet:function(){return this.data.questionSets.filter(function(e){return!e.deleted})}},data:{videos:[],tencent_videos:[],external_urls:[],images:[],voices:[],files:[],questionSets:[],_isRecording:!1},methods:{submitQuestionSets:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,o,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.data.questionSets,n=r.find(function(e){return!e.deleted&&!e.bound}),a=r.find(function(e){return e.bound&&e.deleted}),!n&&!a){e.next=24;break}if(e.prev=4,!a){e.next=12;break}return e.next=8,(0,_request2.default)({url:_config.api.homeworkQuestionSet.delete.url,data:{hid:t}});case 8:if(i=e.sent,o=i.data,o.cmd||o.result){e.next=12;break}throw new Error(o.msg||"取消关联答题卡出错");case 12:if(!n){e.next=19;break}return e.next=15,(0,_request2.default)({url:_config.api.homeworkQuestionSet.create.url,data:{question_set_id:n.id,hid:t}});case 15:if(u=e.sent,s=u.data,s.cmd||s.result){e.next=19;break}throw new Error(s.msg||"关联答题卡出错");case 19:e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(4),e.t0;case 24:case"end":return e.stop()}},e,this,[[4,21]])}));return e}(),toQuestionEdit:function(e){var t=(e.currentTarget.dataset,this.data.questionSets),r=t.find(function(e){return e.bound});if(r)if(1==t.length){var n=r.hid;_wepy2.default.navigateTo({url:"/sp9/pages/homework_question_edit?hid="+n})}else r&&r.deleted&&_wepy2.default.navigateTo({url:"/sp9/pages/question_edit?question_set_id="+t[1].id});else _wepy2.default.navigateTo({url:"/sp9/pages/question_edit?question_set_id="+t[0].id})},toQuestionSetList:function(){_wepy2.default.navigateTo({url:"/sp9/pages/question_set_list?selectable=true"})},deleteQuestionSet:function(e){var t=e.currentTarget.dataset||{},r=t.id,n=this.data.questionSets,a=n.findIndex(function(e){return e.id===r});console.log(r,n,a,n[a]),n[a].bound?this.setData(_defineProperty({},"questionSets["+a+"].deleted",!0)):(n.splice(a,1),this.setData({questionSets:n}))},toTemplate:function(){this.triggerEvent("toTemplate")},deleteVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.currentTarget.dataset||{},n=r.url,a=this.data.videos,i=void 0===a?[]:a,o=i.findIndex(function(e){return e.url===n}),u=i[o],u.temp||u.local?i.splice(o,1):u.deleted=!0,this.setData({videos:i});case 6:case"end":return e.stop()}},e,this)}));return e}(),deleteTencentVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},n=r.vid,a=this.data.tencent_videos,i=void 0===a?[]:a,i=i.filter(function(e){return e!=n}),this.setData({tencent_videos:i}),e.next=6,(0,_clientUtil.setStorageSync)("HOMEWORK_ASSIGN_TENCENT_VIDEOS",i);case 6:case"end":return e.stop()}},e,this)}));return e}(),onCopyUrl:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},n=r.url,e.next=3,_wepy2.default.setClipboardData({data:n});case 3:a=e.sent;case 4:case"end":return e.stop()}},e,this)}));return e}(),deleteUrl:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},n=r.index,a=this.data.external_urls,i=void 0===a?[]:a,i.splice(n,1),this.setData({external_urls:i}),e.next=6,(0,_clientUtil.setStorageSync)("HOMEWORK_ASSIGN_EXTERNAL_URLS",i);case 6:case"end":return e.stop()}},e,this)}));return e}(),previewImage:function(e){var t=e.currentTarget.dataset||{},r=t.url,n=this.data.images,a=void 0===n?[]:n;_wepy2.default.previewImage({current:r,urls:a.filter(function(e){return!e.deleted}).map(function(e){return e.url})})},deleteImage:function(e){var t=e.currentTarget.dataset||{},r=t.url,n=this.data.images,a=void 0===n?[]:n,i=a.findIndex(function(e){return e.url==r}),o=a[i];o&&(o.local||o.temp?a.splice(i,1):o.deleted=!0,this.setData({images:a}))},deleteVoice:function(e){var t=e.currentTarget.dataset||{},r=t.url,n=this.data.voices,a=void 0===n?[]:n,i=a.findIndex(function(e){return e.url==r}),o=a[i];o.temp||o.local?a.splice(i,1):o.deleted=!0,a.sort(function(e,t){return(e.deleted?1:0)-(t.deleted?1:0)}),this.setData({voices:a})},openFile:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,o,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentTarget.dataset||{},n=r.index,a=this.data,i=a.files,o=void 0===i?[]:i,u=a.isWindow,s=o[n].key,_wepy2.default.showLoading({title:"加载中...",mask:!0}),(0,_fileUtil.clearSpace)(),e.next=7,_wepy2.default.downloadFile({url:_config.SSLCDN_HOST+s});case 7:if(c=e.sent,l=c.tempFilePath,!u){e.next=16;break}return e.next=12,_wepy2.default.saveFile({tempFilePath:l});case 12:(0,_clientUtil.hideLoading)(),_wepy2.default.showToast({title:"下载成功！",icon:"success",duration:1500,mask:!0}),e.next=18;break;case 16:_wepy2.default.openDocument({filePath:l}),(0,_clientUtil.hideLoading)();case 18:case"end":return e.stop()}},e,this)}));return e}(),deleteFile:function(e){var t=e.currentTarget.dataset||{},r=t.url,n=this.data.files,a=void 0===n?[]:n,i=a.findIndex(function(e){return e.url==r}),o=a[i];o.temp||o.local?a.splice(i,1):o.deleted=!0,a.sort(function(e,t){return(e.deleted?1:0)-(t.deleted?1:0)}),this.setData({files:a})},chooseImage:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.data,r=t.maxImageCount,n=t.images,a=void 0===n?[]:n,e.next=3,(0,_clientUtil.chooseImage)({count:r-a.filter(function(e){return!e.deleted}).length});case 3:i=e.sent,o=i.tempFilePaths,a.push.apply(a,_toConsumableArray(o.map(function(e){return{key:null,url:e,local:!0,temp:!1,deleted:!1,type:"images"}}))),this.setData({images:a});case 7:case"end":return e.stop()}},e,this)}));return e}(),startRecord:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.selectComponent("#media-selector-recorder"),e.abrupt("return",r&&r.start());case 2:case"end":return e.stop()}},e,this)}));return e}(),onRecorderStop:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=this.data.voices,n=void 0===r?[]:r,a=t.detail||{},i=a.tempFilePath,o=a.duration,n.push({key:null,url:i,dura:o,temp:!1,local:!0,deleted:!1,type:"voices"}),this.setData({voices:n}),e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("startRecord",e.t0),e.next=12,_wepy2.default.showModal({title:"录音失败",content:e.t0.message||"录音初始化失败",showCancel:!1});case 12:case"end":return e.stop()}},e,this,[[0,7]])}));return e}(),chooseVideo:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.data.videos,r=void 0===t?[]:t,e.next=4,(0,_clientUtil.chooseVideo)({maxDuration:60,compressed:!0});case 4:n=e.sent,r.push({key:null,url:n.tempFilePath,temp:!1,local:!0,deleted:!1,type:"video"}),this.setData({videos:r}),e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),e.t0.errCode!==_exceptions.ValidationError.CHOOSE_VIDEO_EXCEED_SIZE_LIMIT){e.next=13;break}return e.abrupt("return");case 13:return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:e.t0.message,showCancel:!1}));case 14:case"end":return e.stop()}},e,this,[[0,9]])}));return e}(),toUploadFile:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.data.fileAttach,r=function(){_wepy2.default.navigateTo({url:"/pages/upload_file?attach="+t+"&type=file"})},e.prev=2,!wx.chooseMessageFile){e.next=28;break}return n=-1,e.prev=5,e.next=8,(0,_clientUtil.showActionSheet)({itemList:["直接上传","从微信聊天会话中选择"]});case 8:a=e.sent,n=a.tapIndex,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:if(0!=n){e.next=18;break}return e.abrupt("return",r());case 18:if(1!=n){e.next=24;break}return e.next=21,new Promise(function(e,t){wx.chooseMessageFile({count:1,type:"file",extension:["doc","docx","xls","xlsx","ppt","pptx","pdf","mp3"],success:function(){function e(e){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,a,o,u=r.tempFiles;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u[0]){e.next=3;break}return e.abrupt("return",t({errMsg:"文件未选择"}));case 3:if(console.log(n),!(n.size/1024/1024>10)){e.next=6;break}return e.abrupt("return",t("文件不能大于10M"));case 6:if(a=n.path.substring(n.path.lastIndexOf(".")+1).toLowerCase(),-1!=["doc","docx","xls","xlsx","ppt","pptx","pdf","mp3"].indexOf(a)){e.next=9;break}return e.abrupt("return",t("暂不支持上传"+a+"格式文件"));case 9:return _wepy2.default.showLoading({title:"加载中...",mask:!0}),e.prev=10,o="tmp/homework/file/"+Date.now(),e.next=14,(0,_upload2.default)({url:_config.qiniu,filePath:n.path,name:"file",formData:{key:o,type:"file"}});case 14:i.setData({files:[{name:n.name,key:o,url:_config.SSLCDN_HOST+o,local:!1,temp:!0,deleted:!1,type:"files"}]}),_wepy2.default.hideLoading(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(10),_wepy2.default.hideLoading(),t(e.t0.message||"上传失败");case 22:return e.abrupt("return");case 23:case"end":return e.stop()}},e,i,[[10,18]])}));return e}(),fail:function(e){t(_extends({},e,{errMsg:e.errMsg||"选择文件出错"}))}})});case 21:return e.abrupt("return",e.sent);case 24:if(-1!=n){e.next=26;break}throw new Error("文件未选择");case 26:e.next=29;break;case 28:return e.abrupt("return",r());case 29:e.next=35;break;case 31:return e.prev=31,e.t1=e.catch(2),console.log(e.t1),e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"string"==typeof e.t1?e.t1:e.t1.message||"选择或上传文件出错",showCancel:!1}));case 35:case"end":return e.stop()}},e,this,[[2,31],[5,12]])}));return e}(),showUrlOperations:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=["添加网址链接","添加腾讯视频"],e.prev=1,e.next=4,(0,_clientUtil.showActionSheet)({itemList:t});case 4:r=e.sent,n=r.tapIndex,e.t0=n,e.next=0===e.t0?9:1===e.t0?11:13;break;case 9:return _wepy2.default.navigateTo({url:"/sp11/pages/external_url?type=url"}),e.abrupt("break",14);case 11:return _wepy2.default.navigateTo({url:"/sp11/pages/external_url?type=video"}),e.abrupt("break",14);case 13:return e.abrupt("return");case 14:e.next=21;break;case 16:if(e.prev=16,e.t1=e.catch(1),"showActionSheet:fail cancel"===e.t1.errMsg||"fail cancel"===e.t1.errMsg){e.next=21;break}return e.next=21,_wepy2.default.showModal({title:"提示",content:e.t1.errMsg,showCancel:!1});case 21:case"end":return e.stop()}},e,this,[[1,16]])}));return e}(),extend:function(e,t){var r=this.data[e];this.setData(_defineProperty({},e,[].concat(_toConsumableArray(r),[t])))},init:function(e){var t=this.data,r=t.images,n=void 0===r?[]:r,a=t.voices,i=void 0===a?[]:a,o=t.videos,u=void 0===o?[]:o,s=t.files,c=void 0===s?[]:s,l=t.external_urls,d=void 0===l?[]:l,p=t.tencent_videos,f=void 0===p?[]:p;for(var _ in e||{}){var m=e[_];"images"===_?n=(m||[]).map(function(e){return{key:e,url:(0,_cdnurl2.default)(e,null),local:!1,temp:!1,deleted:!1,type:"images"}}):"voices"===_?i=(m||[]).map(function(e){return{key:e,url:(0,_cdnurl2.default)(e,null,!0),local:!1,temp:!1,deleted:!1,type:"voices",dura:e.match(/\/d\d+$/)&&e.match(/\/d\d+$/)[0]&&e.match(/\/d\d+$/)[0].replace("/d","")}}):"videos"===_?u=(m||[]).map(function(e){return{key:e,url:(0,_cdnurl2.default)(e,null),local:!1,temp:!1,deleted:!1,type:"video"}}):"files"===_?c=m?m.map(function(e){return{name:e.name,key:e.key,url:_config.SSLCDN_HOST+e.key,local:!1,temp:e.temp,deleted:!1,type:"files"}}):[]:"external_urls"===_?d=m||[]:"tencent_videos"===_&&(f=m||[])}this.setData({images:n,voices:i,videos:u,files:c,external_urls:d,tencent_videos:f,questionSets:e.questionSets||[]})},getValues:function(){var e=this.data,t=e.images,r=void 0===t?[]:t,n=e.voices,a=void 0===n?[]:n,i=e.videos,o=void 0===i?null:i,u=e.files,s=void 0===u?[]:u,c=e.external_urls,l=void 0===c?[]:c,d=e.tencent_videos,p=void 0===d?[]:d,f=e.questionSets;return{images:r,voices:a,videos:o,files:s,external_urls:l,tencent_videos:p,questionSets:void 0===f?[]:f}}},lifetimes:{created:function(){}},pageLifetimes:{show:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o,u,s,c,l,d,p,f,_,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.data,r=t.files,n=void 0===r?[]:r,a=t.external_urls,i=void 0===a?[]:a,o=t.tencent_videos,u=void 0===o?[]:o,s=t.questionSets,c=t.fileAttach,l={homework:"HOMEWORK_ASSIGN_FILES",daily_homework:"HOMEWORK_ASSIGN_FILES",homework_answer:"HOMEWORK_ANSWER_FILES"},d=l[c],p=d&&_wepy2.default.getStorageSync(d),f=_wepy2.default.getStorageSync("HOMEWORK_ASSIGN_EXTERNAL_URLS"),_=_wepy2.default.getStorageSync("HOMEWORK_ASSIGN_TENCENT_VIDEOS"),m=_wepy2.default.getStorageSync("SELECTED_HOMEWORK_QUESTION_SET"),n=[].concat(_toConsumableArray(n),_toConsumableArray((p?p.map(function(e){return _extends({},e,{temp:!0})}):[]).map(function(e){return{name:e.name,key:e.key,url:_config.SSLCDN_HOST+e.key,local:!1,temp:e.temp,deleted:!1,type:"files"}}))),i=[].concat(_toConsumableArray(i),_toConsumableArray(f||[])),u=[].concat(_toConsumableArray(u),_toConsumableArray(_||[])),d&&_wepy2.default.removeStorageSync(d),_wepy2.default.removeStorageSync("HOMEWORK_ASSIGN_EXTERNAL_URLS"),_wepy2.default.removeStorageSync("HOMEWORK_ASSIGN_TENCENT_VIDEOS"),_wepy2.default.removeStorageSync("SELECTED_HOMEWORK_QUESTION_SET"),this.setData({files:n,external_urls:i,tencent_videos:u,questionSets:m?s.length?[].concat(_toConsumableArray(s),[m]):[m]:s});case 15:case"end":return e.stop()}},e,this)}));return e}()}}); 
 			}); 	require("wx_components/media_selector/index.js");
 		__wxRoute = 'wx_components/rating_form/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/rating_form/index.js';	define("wx_components/rating_form/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,i){try{var o=t[n](i),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}var _slicedToArray=function(){function e(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../../config.js"),_request=require("./../../utils/request.js"),_request2=_interopRequireDefault(_request),_upload=require("./../../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_cdnurl=require("./../../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_delay=require("./../../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_clientUtil=require("./../../utils/clientUtil.js"),_actions=require("./../../store/actions/index.js"),_getConnectedBehavior=require("./../../wx_behaviors/getConnectedBehavior.js"),_getConnectedBehavior2=_interopRequireDefault(_getConnectedBehavior),_store_behavior=require("./../../wx_behaviors/store_behavior.js"),_store_behavior2=_interopRequireDefault(_store_behavior);Component({externalClasses:["cls"],behaviors:[_store_behavior2.default],options:{addGlobalClass:!0,pureDataPattern:/^_/},store:{group:function(e){return e.group.detail||null},homework:function(e){return e.homework.detail||null},answers:function(e){return e.answer.list||[]}},actions:{fetchAnswer:_actions.fetchAnswer},properties:{aids:{type:Array,value:[]},hid:{type:String,value:""},hasRated:{type:Boolean,value:!1},isBulkRating:{type:Boolean,value:!1},restCount:{type:Number,value:0},inline:{type:Boolean,value:!1}},data:{ratingValue:1,rateItems:["优","优-","良","良-","中","差","不及格"],isOpen:!1,isExcellent:!1,shouldReject:!1,remark:"",_firstShow:!0,autoSwitchNext:!0,lastRatedAt:null},methods:{exitRating:function(e){this.triggerEvent("onExitRating",{aids:this.data.aids})},changeAutoSwitchNext:function(e){this.setData({autoSwitchNext:e.detail.value})},toHomework:function(){if(1==getCurrentPages().length){var e=this.data.hid;if(!e)return;_wepy2.default.redirectTo({url:"/pages/homework?hid="+e})}else _wepy2.default.navigateBack()},toTemplate:function(){_wepy2.default.navigateTo({url:"/pages/rating_template?remark="+(this.data.remark||"")})},ratingChange:function(e){var t=this.data.homework.rating_criterion,r=e.detail.value;r=0==t?parseInt(e.detail.value)+1:parseFloat(e.detail.value),this.setData({ratingValue:r})},starClick:function(e){var t=e.target.dataset.item,r=this.data.ratingValue;r=1==r&&1==t?0:t,this.setData({ratingValue:r})},shouldRejectChange:function(e){this.setData({shouldReject:e.detail.value})},openChange:function(e){this.setData({isOpen:!e.detail.value})},excellentChange:function(e){this.setData({isExcellent:e.detail.value})},bindDescChange:function(e){this.setData({remark:e.detail.value})},cancelRating:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,a,n,i,o,s,u,l,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.data,r=t.homework,a=t.aids,!(a.length>1)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_wepy2.default.showModal({title:"提示",content:"确定要取消打分吗"});case 5:if(n=e.sent,i=n.confirm){e.next=9;break}return e.abrupt("return");case 9:return o=_slicedToArray(a,1),s=o[0],e.prev=10,e.next=13,_wepy2.default.showLoading({title:"提交中...",mask:!0});case 13:return e.next=15,(0,_request2.default)({url:_config.api.homework.cancelRating.url+s});case 15:if(u=e.sent,!u.data||!u.data.cmd){e.next=27;break}return l=this.selectComponent("#media-selector-rating"),l&&l.init({images:[],voices:[]}),this.setData({remark:"",isExcellent:!1,isOpen:!0}),e.next=22,this.updateAnswer(s);case 22:c=e.sent,d=c.payload,this.resetForm(d),e.next=28;break;case 27:throw new Error(u.data.msg);case 28:return(0,_clientUtil.hideLoading)(),e.next=31,_wepy2.default.showToast({title:"取消打分成功",icon:"success",duration:2e3,mask:!0});case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(10),(0,_clientUtil.hideLoading)(),_wepy2.default.showModal({title:"提示",content:e.t0.message||"取消打分出错",showCancel:!1});case 37:case"end":return e.stop()}},e,this,[[10,33]])}));return e}(),save:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,a,n,i,o,s,u,l,c,d,h,f,p,g,_,m,w,v,x,y,k,b,R,T,q,D,C;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.data,a=r.homework,n=r.ratingValue,i=r.remark,o=r.isOpen,s=r.isExcellent,u=r.shouldReject,l=r.aids,c=void 0===l?[]:l,d=this.selectComponent("#media-selector-rating"),h=d&&d.getValues()||{},f=h.voices,p=h.images,!u){e.next=8;break}n=null,s=!1,e.next=19;break;case 8:if(g=a.rating_criterion,_=a.full_rating,!(2==g&&n>100)){e.next=15;break}return e.next=12,_wepy2.default.showModal({title:"提示",content:"评分不能大于100分",showCancel:!1});case 12:return e.abrupt("return",e.sent);case 15:if(!(3==g&&n>_)){e.next=19;break}return e.next=18,_wepy2.default.showModal({title:"提示",content:"评分不能大于"+_+"分",showCancel:!1});case 18:return e.abrupt("return",e.sent);case 19:if(!(i&&i.length>1e3)){e.next=23;break}return e.next=22,_wepy2.default.showModal({title:"提示",content:"评语不能多于1000字"});case 22:return e.abrupt("return",e.sent);case 23:m=!0,w=!1,v=void 0,e.prev=26,x=c[Symbol.iterator]();case 28:if(m=(y=x.next()).done){e.next=75;break}return k=y.value,b={remark:i,rating:n,aid:k,isPrivate:!o,isExcellent:s,rejected:u},e.next=33,_wepy2.default.showLoading({title:"提交中...",mask:!0});case 33:return e.prev=33,e.next=36,(0,_request2.default)({url:_config.api.homework.rating.url,data:b});case 36:if(R=e.sent,!R.data||!R.data.cmd){e.next=61;break}if(1!==c.length){e.next=53;break}return(0,_clientUtil.hideLoading)(),e.next=42,_wepy2.default.showToast({title:"提交成功",icon:"success",duration:1500,mask:!0});case 42:if(T=f&&f.filter(function(e){return e.deleted}),q=p&&p.filter(function(e){return e.deleted}),!q.length&&!T.length){e.next=47;break}return e.next=47,(0,_request2.default)({url:_config.api.homework.cancelRatingFiles.url,data:{aid:k,rating_images:q.map(function(e){return e.key}),rating_voice:T.map(function(e){return e.key})[0]}});case 47:if(!f||!f.length){e.next=50;break}return e.next=50,this.uploadVoices(k,f);case 50:if(!p||!p.length){e.next=53;break}return e.next=53,this.uploadImages(k,p);case 53:return _wepy2.default.showLoading({title:"刷新中...",mask:!0}),e.next=56,this.updateAnswer(k);case 56:D=e.sent,C=D.payload,this.resetForm(C),e.next=62;break;case 61:throw new Error(R.data.msg||"批改作业失败");case 62:(0,_clientUtil.hideLoading)(),e.next=72;break;case 65:return e.prev=65,e.t0=e.catch(33),console.log("批注作业出错: ",e.t0),(0,_clientUtil.hideLoading)(),e.next=71,_wepy2.default.showModal({title:"提示",content:e.t0.message||"上传批改信息出错",showCancel:!1});case 71:return e.abrupt("return",e.sent);case 72:m=!0,e.next=28;break;case 75:e.next=81;break;case 77:e.prev=77,e.t1=e.catch(26),w=!0,v=e.t1;case 81:e.prev=81,e.prev=82,!m&&x.return&&x.return();case 84:if(e.prev=84,!w){e.next=87;break}throw v;case 87:return e.finish(84);case 88:return e.finish(81);case 89:this.triggerEvent("onSubmitted",{autoSwitchNext:this.data.autoSwitchNext});case 90:case"end":return e.stop()}},e,this,[[26,77,81,89],[33,65],[82,,84,88]])}));return e}(),reset:function(e){this.resetForm(e),this.setData({_firstShow:!1})}},lifetimes:{created:function(){var e=this;this.updateAnswer=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(r){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchAnswer({aid:r});case 2:return a=t.sent,n=a.payload,t.next=6,_wepy2.default.$store.dispatch({type:"UPDATE_ANSWER",payload:n});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.resetForm=function(t){var r=t.rating,a=t.rating_remark,n=void 0===a?"":a,i=t.rejected,o=void 0!==i&&i,s=t.rating_voice,u=void 0===s?null:s,l=t.rating_images,c=void 0===l?[]:l,d=t.rating_date,h=void 0===d?null:d,f=t.extras,p=void 0===f?null:f,g=e.data.homework,_=g.rating_criterion,m=g.full_rating,w=1==_?10:2==_?100:m||0;r?w=r:0==_?w=1:0==r&&(w=r),e.setData({ratingValue:w,remark:n||"",isExcellent:Boolean(p&&p.is_excellent),isOpen:!(p&&p.hide_rating),shouldReject:o,lastRatedAt:h});var v=e.selectComponent("#media-selector-rating");v&&v.init({voices:u?[u]:[],images:c||[]})},this.uploadVoices=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(r,a){var n,i,o,s,u,l,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.data,i=n.homework,o=n.group,s=i.hid,u=o.gid,l=0;case 4:if(!(l<a.length)){t.next=29;break}if(c=a[l],c.local){t.next=8;break}return t.abrupt("continue",26);case 8:return d=u+"/homework/"+s+"/answer/"+r+"/rating/voice/"+(l+1)+"/"+Date.now()+"/d"+(c.duration||c.dura),t.prev=9,t.next=12,_wepy2.default.showLoading({title:"录音上传中...",mask:!0});case 12:return t.next=14,(0,_upload2.default)({url:_config.qiniu,filePath:c.url,name:"file",formData:{key:d,aid:r,type:"voice",attach:"rating"}});case 14:return t.next=16,_wepy2.default.showToast({title:"上传成功",icon:"success",duration:2e3,mask:!0});case 16:t.next=26;break;case 18:return t.prev=18,t.t0=t.catch(9),console.log(t.t0),t.next=23,(0,_request2.default)({url:_config.api.homework.cancelRatingFiles.url,data:{aid:r,rating_voice:d}});case 23:return(0,_clientUtil.hideLoading)(),t.next=26,_wepy2.default.showModal({title:"提示",content:"上传录音出错，请稍后再试！",showCancel:!1});case 26:l++,t.next=4;break;case 29:case"end":return t.stop()}},t,e,[[9,18]])}));return function(e,r){return t.apply(this,arguments)}}(),this.uploadImages=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(r,a){var n,i,o,s,u,l,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.data,i=n.homework,o=n.group,s=i.hid,u=o.gid,l="",c=0;case 5:if(!(c<a.length)){t.next=33;break}if(d=a[c],d.temp||d.local){t.next=9;break}return t.abrupt("continue",30);case 9:return t.prev=9,t.next=12,_wepy2.default.showLoading({title:"上传中...",mask:!0});case 12:if(l=u+"/homework/"+s+"/answer/"+r+"/rating/image/"+(c+1)+"/"+Date.now(),!d.temp){t.next=18;break}return t.next=16,(0,_request2.default)({url:_config.api.homework.attachTmpFile.url,data:{src:d.key,dest:l,aid:r,type:"image",attach:"rating"}});case 16:t.next=20;break;case 18:return t.next=20,(0,_upload2.default)({url:_config.qiniu,filePath:d.url,name:"file",formData:{key:l,aid:r,type:"image",attach:"rating"}});case 20:t.next=28;break;case 22:return t.prev=22,t.t0=t.catch(9),console.log(t.t0),t.next=27,(0,_request2.default)({url:_config.api.homework.cancelRatingFiles.url,data:{aid:r,rating_images:[l]}});case 27:(0,_clientUtil.hideLoading)();case 28:return t.next=30,_wepy2.default.showToast({title:"上传成功",icon:"success",duration:2e3,mask:!0});case 30:c++,t.next=5;break;case 33:case"end":return t.stop()}},t,e,[[9,22]])}));return function(e,r){return t.apply(this,arguments)}}()},ready:function(){this.triggerEvent("onLoad",{aids:this.data.aids})},detached:function(){}},pageLifetimes:{show:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,a,n,i,o,s,u,l,c,d,h,f,p,g,_,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.selectComponent("#media-selector-rating"),e.next=3,_wepy2.default.getStorageSync("HOMEWORK_RATING_TMP_FILES");case 3:if(r=e.sent,r=r&&r.filter(function(e){return e.target})||[],!r.length||!t){e.next=25;break}for(a=!0,n=!1,i=void 0,e.prev=9,o=r[Symbol.iterator]();!(a=(s=o.next()).done);a=!0)u=s.value,t.extend("images",{key:u.target,url:(0,_cdnurl2.default)(u.target,null),local:!1,temp:!0,deleted:!1,type:"images"});e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),n=!0,i=e.t0;case 17:e.prev=17,e.prev=18,!a&&o.return&&o.return();case 20:if(e.prev=20,!n){e.next=23;break}throw i;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return _wepy2.default.removeStorageSync("HOMEWORK_RATING_TMP_FILES"),e.next=28,_wepy2.default.getStorageSync("RATING_TEMPLATE_CONTENT");case 28:l=e.sent,l&&this.setData({remark:l}),_wepy2.default.removeStorageSync("RATING_TEMPLATE_CONTENT"),c=this.data,d=c.homework,h=c.answers,f=c.aids,p=c._firstShow,console.log(p,d,h.length),p&&d&&h.length&&(f.length>1?this.resetForm({rating:1==d.rating_criterion?6:0==d.rating_criterion?1:60,rating_remark:"",is_excellent:!1,is_private:!1,rejected:!1,rating_voice:null,rating_images:[],lastRatedAt:null,extras:null}):1===f.length&&(g=_slicedToArray(f,1),_=g[0],m=h.find(function(e){return e.aid===_}),console.log("answer",m),m&&this.resetForm(m))),this.setData({_firstShow:!1});case 35:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return e}()}}); 
 			}); 	require("wx_components/rating_form/index.js");
 		__wxRoute = 'wx_components/recorder/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/recorder/index.js';	define("wx_components/recorder/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_clientUtil=require("./../../utils/clientUtil.js"),ComputedBehavior=require("./../../npm/miniprogram-computed/miniprogram_dist/index.js");Component({behaviors:[ComputedBehavior],externalClasses:["cls"],options:{addGlobalClass:!0,pureDataPattern:/^_/},properties:{},data:{visible:!1,interval:0,recording:!1,pausing:!1,_textTimerId:null,_startTime:null,_lastPauseTime:null,_pauseMilliseconds:0},computed:{timerText:function(){var e=this.data.interval,t=Math.floor(e/60).toString(),r=(e%60).toString();return(t.length>1?t:"0"+t)+":"+(r.length>1?r:"0"+r)}},methods:{start:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.selectComponent("#recorder-auth-modal"),e.t0=!t,e.t0){e.next=6;break}return e.next=5,t.authorize("scope.record");case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return");case 8:if(this._manager=this.getRecorderManager(),!this.data.recording){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,_clientUtil.setKeepScreenOn)(!0);case 13:this._forceStop=!1,this.setData({visible:!0,interval:0,recording:!1,pausing:!1,_textTimerId:null,_startTime:null,_lastPauseTime:null,_pauseMilliseconds:0},function(){r._manager.start({duration:6e5,format:"mp3"})});case 15:case"end":return e.stop()}},e,this)}));return e}(),resume:function(){(this.data.recording||this.data.pausing)&&this._manager.resume()},pause:function(){console.log("pause tap"),console.log("pausing",this.data.pausing),console.log("recording",this.data.recording);var e=this.data,t=e.pausing;e.recording&&!t&&(this.setData({_lastPauseTime:Date.now()}),this._manager.pause())},stop:function(){this.data.recording&&this._manager.stop()},hide:function(){if(!this.data.recording)return this.setData({visible:!1});this._forceStop=!0,this._manager.stop(),this.setData({visible:!1})}},lifetimes:{created:function(){},attached:function(){var e=this;this._forceStop=!1,this.setData({recording:!1}),this.reset=function(){e._forceStop=!1,e.setData({interval:0,pausing:!1,recording:!1,_startTime:null,_lastPauseTime:null,_pauseMilliseconds:0})},this.addTimer=function(){var t=e.data._textTimerId;return null!=t&&clearInterval(t),t=setInterval(function(){e.setData({interval:Math.floor(e.countIntervalMilliseconds()/1e3)})},1e3),e.setData({_textTimerId:t}),t},this.removeTimer=function(){var t=e.data._textTimerId;null!=t&&(clearInterval(t),e.setData({_textTimerId:null}))},this.countIntervalMilliseconds=function(){var t=Date.now(),r=e.data,n=r._startTime,a=r._pauseMilliseconds;return t-(n||0)-(a||0)},this.getRecorderManager=function(){var t=_wepy2.default.getRecorderManager();return t.onStart(function(){e.data.recording||(e.setData({recording:!0,_startTime:Date.now()}),e.addTimer())}),t.onResume(function(){var t=Date.now(),r=e.data,n=r._lastPauseTime,a=r._pauseMilliseconds;n&&(e.setData({pausing:!1,_lastPauseTime:null,_pauseMilliseconds:t-(n||0)+(a||0)}),e.addTimer())}),t.onPause(function(){console.log("onPause"),console.log("pausing",e.data.pausing),console.log("recording",e.data.recording),e.removeTimer(),e.setData({_lastPauseTime:Date.now(),pausing:!0,interval:Math.floor(e.countIntervalMilliseconds()/1e3)})}),t.onStop(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(r){var n,a,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((0,_clientUtil.setKeepScreenOn)(!1),n=e._forceStop,a=e.data.interval,e.removeTimer(),e.reset(),!n){t.next=7;break}return t.abrupt("return",e.triggerEvent("complete"));case 7:if(!(a<3)){t.next=13;break}return t.next=10,_wepy2.default.showModal({title:"提示",content:"录音不能短于3秒!",showCancel:!1});case 10:return t.abrupt("return",e.triggerEvent("complete"));case 13:if(console.log("recorder stop",r),i=r.tempFilePath,o=r.duration,o){t.next=19;break}return t.next=18,_wepy2.default.showModal({title:"提示",content:"录音异常",showCancel:!1});case 18:return t.abrupt("return",e.triggerEvent("complete"));case 19:return e.triggerEvent("success",{tempFilePath:i,duration:Math.round(o)}),e.setData({visible:!1}),t.abrupt("return",e.triggerEvent("complete"));case 22:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()),t.onError(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("errMsg",r),console.log("pausing",e.data.pausing),console.log("recording",e.data.recording),n=e._forceStop,e.removeTimer(),e.reset(),!n){t.next=8;break}return t.abrupt("return");case 8:try{e._forceStop=!0,e._manager&&e._manager.stop()}catch(e){console.log("强制停止录音")}return t.next=11,_wepy2.default.showModal({title:"提示",content:"object"==(void 0===r?"undefined":_typeof(r))?JSON.stringify(r):r,showCancel:!1});case 11:return t.abrupt("return",e.triggerEvent("complete"));case 12:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()),t},this._manager=null},detached:function(){this.removeTimer(),this.data.recording&&(this._forceStop=!0,this._manager&&this._manager.stop())}},pageLifetimes:{hide:function(){console.log("pageLifetimes hide"),console.log("pausing",this.data.pausing),console.log("recording",this.data.recording);var e=this.data,t=e.pausing,r=e.recording;this._manager&&r&&!t?this._manager.pause():this.removeTimer()}}}); 
 			}); 	require("wx_components/recorder/index.js");
 		__wxRoute = 'wx_components/video_cover/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/video_cover/index.js';	define("wx_components/video_cover/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function throttle(e){var t=!0,n=800,o=0;return function(){var i=this,a=arguments;console.log("canRun",t),!t||o>6||(t=!1,setTimeout(function(){e.apply(i,a),t=!0,n+=600,o+=1},n))}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy);Component({externalClasses:["cls"],options:{addGlobalClass:!0},properties:{src:{type:String,value:""}},data:{loading:!0,timestamp:Date.now()},methods:{toPlayVideo:function(e){var t=this.data.src;t&&_wepy2.default.navigateTo({url:"/pages/video?video="+t})},deleteVideo:function(e){this.triggerEvent("delete")},onLoad:function(){this.setData({loading:!1})},onError:throttle(function(){this.setData({timestamp:Date.now()})})},lifetimes:{created:function(){}}}); 
 			}); 	require("wx_components/video_cover/index.js");
 		__wxRoute = 'wx_components/vip_renewal_modal/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'wx_components/vip_renewal_modal/index.js';	define("wx_components/vip_renewal_modal/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _wepy=require("./../../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_cdnurl=require("./../../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_config=require("./../../config.js"),_dateUtil=require("./../../utils/dateUtil.js"),_dateUtil2=_interopRequireDefault(_dateUtil);Component({options:{addGlobalClass:!0,multipleSlots:!0,styleIsolation:"isolated"},properties:{avatar:{type:String,value:""},gid:{type:String,value:""}},data:{visible:!1,expiredDateText:"",expiredDateCount:""},methods:{showIfNear:function(e){e&&_dateUtil2.default.getDayDiff(e)<=14&&this.setData({visible:!0,expiredDateText:e&&_dateUtil2.default.getDateStr(e),expiredDateCount:e&&_dateUtil2.default.getDayDiff(e)})},hide:function(){this.setData({visible:!1,expiredDateText:"",expiredDateCount:""})},toVipFeature:function(){_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+this.data.gid})}}}); 
 			}); 	require("wx_components/vip_renewal_modal/index.js");
 		__wxRoute = 'pages/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index.js';	define("pages/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),s=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_interfaces=require("./../interfaces/index.js"),_interfaces2=_interopRequireDefault(_interfaces),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_clientUtil=require("./../utils/clientUtil.js"),_base_modal=require("./../components/base_modal.js"),_base_modal2=_interopRequireDefault(_base_modal),_fileUtil=require("./../utils/fileUtil.js"),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),IndexPage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null},groupList:function(e){return e.group.list||[]},enrollList:function(e){return e.enroll.list.items||[]}},{getOrFetchGroup:_actions.getOrFetchGroup,fetchEnrollList:_actions.fetchEnrollList,fetchConfigs:_actions.fetchConfigs}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.config={navigationBarTitleText:"作业登记簿"},n.$repeat={},n.$props={tipsmodal:{showLogo:"false",showClose:"true",className:"tips-modal"}},n.$events={},n.components={tipsmodal:_base_modal2.default},n.data={APP_VERSION:_config.VERSION,CDN_HOST:_config.CDN_HOST,userInfo:null,groups:[],graduatedGroups:[],showTipsModal:!1,_loadingConfigs:!1},n.computed={contactSession:function(){var e=this.userInfo;return e&&JSON.stringify({nickName:e.nickname,avatarUrl:e.avatar})}},n.methods={toEnroll:function(e){_wepy2.default.navigateTo({url:"/sp8/pages/enroll?enroll_id="+e})},toUpdateInfo:function(){_wepy2.default.navigateTo({url:"/sp1/pages/update_info"})},toggleTipsModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];arguments[1];this.showTipsModal=e,this.$invoke("tipsmodal",e?"show":"hide")},toGroupMode:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._loadingConfigs){e.next=2;break}return e.abrupt("return");case 2:return this._loadingConfigs=!0,t=!1,e.prev=4,e.next=7,this.methods.fetchConfigs();case 7:r=e.sent,n=r.payload,t=n&&(null==n.allowCreateGroup||!0===n.allowCreateGroup),this._loadingConfigs=!1,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),this._loadingConfigs=!1;case 16:if(t){e.next=18;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"为更好服务现有班级，暂不开放创建新班级功能",showCancel:!1}));case 18:return e.next=20,_wepy2.default.navigateTo({url:"/sp7/pages/group_edit"});case 20:this.showTipsModal=!1,this.$invoke("tipsmodal","hide"),this.$apply();case 23:case"end":return e.stop()}},e,this,[[4,13]])}));return e}(),toGraduated:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/sp1/pages/graduated"});case 2:case"end":return e.stop()}},e,this)}));return e}(),toHelp:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/sp1/pages/webpage?url="+encodeURIComponent(_config.PXX_ARTICLE_URL)});case 2:case"end":return e.stop()}},e,this)}));return e}(),onShareAppMessage:function(e){var t=_wepy2.default.$instance.onShareAppMessage();return{title:t.nickname+"邀请你来用作业登记簿啦",path:"/pages/index?suid="+t.suid+"&from=index"}},toPersonal:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/sp1/pages/personal"});case 2:case"end":return e.stop()}},e,this)}));return e}(),viewGroup:function(e){this.joinOrViewGroup(e)},showJoinTips:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"提示",content:"请让已进入班级的成员点击“邀请成员”按钮分享给你，你点击此链接设置身份，申请加入",showCancel:!1});case 2:case"end":return e.stop()}},e,this)}));return e}(),clearStorage:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,_fileUtil.clearSpace)(),_wepy2.default.showToast({title:"清理成功",icon:"success",duration:1500,mask:!0});case 2:case"end":return e.stop()}},e,this)}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"joinOrViewGroup",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _wepy2.default.showLoading({title:"跳转中...",mask:!0}),e.prev=1,e.next=4,this.methods.getOrFetchGroup(t,!0);case 4:if(r=e.sent,n=r.payload){e.next=18;break}return e.next=9,_wepy2.default.getSetting();case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:if(a=e.t0,o=a.authSetting,i=void 0===o?{}:o,i["scope.userInfo"]){e.next=17;break}return e.abrupt("return");case 17:throw new Error("找不到此班级");case 18:s=n.partner,s&&s.name?s.type!=s.apply||"V"===s.apply?_wepy2.default.navigateTo({url:"/sp7/pages/profile?pid="+s.id}):_wepy2.default.redirectTo({url:"group?gid="+t}):_wepy2.default.navigateTo({url:"/sp7/pages/join_confirm?gid="+n.gid}),e.next=26;break;case 22:e.prev=22,e.t1=e.catch(1),console.log(e.t1),_wepy2.default.showModal({title:"提示",content:e.t1.message||"跳转出错",showCancel:!1});case 26:return e.abrupt("return",(0,_clientUtil.hideLoading)());case 27:case"end":return e.stop()}},e,this,[[1,22]])}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.$instance.onLoad(t);case 2:this.$apply(),_wepy2.default.hideShareMenu(),t.gid&&this.joinOrViewGroup(t.gid);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData(!0);case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"onRoute",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.showTipsModal=!1,e.next=3,this.refreshData(!0);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.$instance.logined(Boolean(t));case 2:return r=e.sent,n=r.user,this.userInfo=n,e.next=7,_wepy2.default.$store.dispatch((0,_actions.fetchGroupList)({pageSize:999}));case 7:return a=e.sent,o=a.payload,i=o.items,i.forEach(function(e){var t=e.partner;e.memberCount=Object.keys(e.members).length,e.publish=t&&("T"==t.type||("P"==t.type||"S"==t.type)&&t.proxy)}),this.groups=i.filter(function(e){return 2!=e.status}),this.graduatedGroups=i.filter(function(e){return 2==e.status}),e.next=15,_wepy2.default.stopPullDownRefresh();case 15:this.$apply();case 16:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(IndexPage,"pages/index")); 
 			}); 	require("pages/index.js");
 		__wxRoute = 'pages/group';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/group.js';	define("pages/group.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var s=t[a](i),o=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_dateUtil=require("./../utils/dateUtil.js"),_clientUtil=require("./../utils/clientUtil.js"),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_group2=require("./../mixins/group.js"),_group3=_interopRequireDefault(_group2),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_advertisement=require("./../components/advertisement.js"),_advertisement2=_interopRequireDefault(_advertisement),_shouldShowAd=require("./../utils/shouldShowAd.js"),_shouldShowAd2=_interopRequireDefault(_shouldShowAd),_showVipRenewalIfNearExpired=require("./../utils/showVipRenewalIfNearExpired.js"),_showVipRenewalIfNearExpired2=_interopRequireDefault(_showVipRenewalIfNearExpired),GroupPage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.config={navigationBarTitleText:"班级",usingComponents:{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index"}},n.$repeat={},n.$props={advertisement:{class:"ad",bannerKey:"group_banner"}},n.$events={},n.components={advertisement:_advertisement2.default},n.events={afterUpgrade:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},n.data={CDN_HOST:_config.CDN_HOST,user:{},users:[],homeworks:[],myVip:null,showVipIcon:!1,needConfirmedCount:0,announcementList:[],announcementTotal:0,activeIndex:0},n.mixins=[_group3.default],n.computed={myVip:function(){var e=this.group||{},t=e.vips,r=void 0===t?[]:t,n=e.partner;return n&&r.find(function(e){return e.uid===n.uid})||null},isVipOrTeacher:function(){var e=this.myVip,t=this.group,r=(this.user,t||{}),n=r.partner,a=r.vip_expired_at;return n&&"T"===n.type||e||a&&new Date(a)>=new Date},notAnsweredList:function(){var e=this.homeworks,t=this.group,r=t||{},n=r.partner,a=(e||[]).filter(function(e){return!e.answer});return!n||"T"===n.type||n.proxy?a:a.filter(function(e){return!e.team||e.team.members.indexOf(n.child)>-1})},answeredList:function(){var e=this.homeworks,t=this.group,r=t||{},n=r.partner,a=(e||[]).filter(function(e){return e.answer});return!n||"T"===n.type||n.proxy?a:a.filter(function(e){return!e.team||e.team.members.indexOf(n.child)>-1})}},n.methods={toIndex:function(e){getCurrentPages().length>1?_wepy2.default.reLaunch({url:"/pages/index"}):_wepy2.default.redirectTo({url:"/pages/index"})},tabClick:function(e,t){this.activeIndex=parseInt(e)||0},toAnnouncementList:function(){_wepy2.default.navigateTo({url:"announcement_list?gid="+this.gid})},changeAvatar:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.group,r=this.user,t&&r&&t.admin_uid==r.uid){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,_clientUtil.chooseImage)({count:1});case 5:if(n=e.sent,a=n.tempFilePaths,a[0]){e.next=9;break}return e.abrupt("return");case 9:return i=this.gid+"/avatar/"+Date.now(),e.prev=10,e.next=13,(0,_upload2.default)({url:_config.qiniu,filePath:a[0],name:"file",formData:{gid:this.gid,key:i,flag:"group"}});case 13:return this.group.avatar=i,this.$apply(),e.next=17,this.methods.getOrFetchGroup(this.gid,!0);case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(10),e.next=23,_wepy2.default.showModal({title:"提示",content:e.t0.message,showCancel:!1});case 23:this.$apply();case 24:case"end":return e.stop()}},e,this,[[10,19]])}));return e}(),show:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/pages/homework?hid="+t});case 2:case"end":return e.stop()}},e,this)}));return e}(),toVipInfo:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+this.gid});case 2:case"end":return e.stop()}},e,this)}));return e}(),toPage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.gid,n={PARTNERS:"/pages/configure?gid="+r,COLLECTION:"/pages/albumlist?gid="+r,LEDGER:"/sp1/pages/ledgerlist?gid="+r,CALENDAR:"/sp4/pages/calendar?gid="+r,ASSIGN:"/sp11/pages/assign?gid="+r,SURVEY:"/pages/surveyList?gid="+r,LESSON:"/pages/lessons?gid="+r,ANNOUNCEMENT:"/pages/announcement_list?gid="+r,TEAM:"/sp5/pages/team_list?gid="+r,EXAMS:"/pages/examinations?gid="+r,DAILY_HOMEWORK:"/sp3/pages/daily_homework_list?gid="+r,WISH_LIST:"/pages/wish_list?gid="+r,COURSE_EVALUATION:"/sp2/pages/course_record_list?gid="+r,DIALOG:"/sp6/pages/dialogs?gid="+r,HELP:"/sp1/pages/webpage?url="+encodeURIComponent(_config.PXX_ARTICLE_URL)},e.next=4,_wepy2.default.navigateTo({url:n[t]});case 4:case"end":return e.stop()}},e,this)}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.$instance.onLoad(t);case 2:return this.gid=t.gid,e.next=5,_wepy2.default.showShareMenu({withShareTicket:!0});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"onRoute",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData();case 2:this.$apply(),t=this.group,r=t.created_at,n=t.partner,this.$invoke("advertisement",(0,_shouldShowAd2.default)(r,n&&n.type)&&!this.isVipOrTeacher?"show":"hide"),(0,_showVipRenewalIfNearExpired2.default)(this);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShareAppMessage",value:function(){var e=_wepy2.default.$instance.onShareAppMessage();return{title:e.title,path:"/pages/index?suid="+e.suid+"&gid="+this.gid,success:e.success,fail:function(e){console.log("fail res: ",e)}}}},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData(!0);case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,u,p=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 2:return e.next=4,_wepy2.default.$instance.logined(p);case 4:return t=e.sent,r=t.user,this.user=r,e.next=9,this.methods.getOrFetchGroup(this.gid,p);case 9:return n=e.sent,a=n.payload,this.needConfirmedCount=a.partners.filter(function(e){return e.type!=e.apply}).length,this.isAdmin=r&&r.uid==a.admin_uid,this.isTeacher="T"==a.partner.type||"P"==a.partner.type&&a.partner.proxy||"S"==a.partner.type&&a.partner.proxy,this.$apply(),e.next=17,_wepy2.default.stopPullDownRefresh();case 17:return(0,_clientUtil.hideLoading)(),e.next=20,(0,_request2.default)({url:_config.api.homework.list.url+a.gid,data:{isNew:!0,gid:a.gid}});case 20:for(i=e.sent,s=i.data.result||[],this.isTeacher||(s=s.filter(function(e){return!e.started_at||new Date(e.started_at)<=new Date})),o=0;o<s.length;o++)u=s[o],u.deadlineText=this.isTeacher?(0,_dateUtil.getStartTimeTips)(u.started_at,u.deadline,!0,!0):(0,_dateUtil.getDeadlineText)(u.deadline,!0,!0),u.team&&(u.isMine=u.team.members.some(function(e){return e===a.partner.child}));s=s.sort(function(e,t){return Boolean(e.answer)?1:new Date(e.deadline)-new Date(t.deadline)}),this.homeworks=s,this.$apply(),this.getAnnouncement();case 28:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAnnouncement",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.gid,e.next=4,(0,_request2.default)({url:_config.api.announcement.toplist.url,data:{page:1,pageSize:3,gid:t}});case 4:r=e.sent,n=r.data,n&&n.cmd&&n.result&&(this.announcementList=n.result.list||[],this.announcementTotal=n.result.pagination?n.result.pagination.total:0,this.$apply()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(GroupPage,"pages/group")); 
 			}); 	require("pages/group.js");
 		__wxRoute = 'pages/homework';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/homework.js';	define("pages/homework.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var s=t[a](i),o=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_download=require("./../utils/download.js"),_download2=_interopRequireDefault(_download),_deepclone=require("./../utils/deepclone.js"),_deepclone2=_interopRequireDefault(_deepclone),_dateUtil=require("./../utils/dateUtil.js"),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_avatar=require("./../utils/avatar.js"),_avatar2=_interopRequireDefault(_avatar),_rating=require("./../utils/rating.js"),_rating2=_interopRequireDefault(_rating),_share=require("./../components/share.js"),_share2=_interopRequireDefault(_share),_base_modal=require("./../components/base_modal.js"),_base_modal2=_interopRequireDefault(_base_modal),_pxx_follow_tips=require("./../components/pxx_follow_tips.js"),_pxx_follow_tips2=_interopRequireDefault(_pxx_follow_tips),_temp_file=require("./../mixins/temp_file.js"),_temp_file2=_interopRequireDefault(_temp_file),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_canvasdrawer=require("./../components/canvasdrawer/canvasdrawer.js"),_canvasdrawer2=_interopRequireDefault(_canvasdrawer),_homework_model=require("./../components/canvasdrawer/homework_model.js"),_homework_model2=_interopRequireDefault(_homework_model),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_shouldShowAd=require("./../utils/shouldShowAd.js"),_shouldShowAd2=_interopRequireDefault(_shouldShowAd),_createInterstitialAd=require("./../utils/createInterstitialAd.js"),_createInterstitialAd2=_interopRequireDefault(_createInterstitialAd),_rewarded_video_ad=require("./../mixins/rewarded_video_ad.js"),_rewarded_video_ad2=_interopRequireDefault(_rewarded_video_ad),_actions=require("./../store/actions/index.js"),_advertisement=require("./../components/advertisement.js"),_advertisement2=_interopRequireDefault(_advertisement),_constances=require("./../utils/constances.js"),_clientUtil=require("./../utils/clientUtil.js"),_exceptions=require("./../exceptions/index.js"),_showVipRenewalIfNearExpired=require("./../utils/showVipRenewalIfNearExpired.js"),_showVipRenewalIfNearExpired2=_interopRequireDefault(_showVipRenewalIfNearExpired),_shallowEqual=require("./../utils/shallowEqual.js"),_shallowEqual2=_interopRequireDefault(_shallowEqual),_exportExcelOrDownload=require("./../utils/exportExcelOrDownload.js"),_exportExcelOrDownload2=_interopRequireDefault(_exportExcelOrDownload),store=(0,_wepyRedux.getStore)(),parseDuration=function(e){var t=e.match(/\/d\d+$/);if(!t)return null;var r=t[0].replace("/d","");return Math.round(r/1e3)},shouldShowFiles=function(e){var t=e||{},r=t.images,n=t.voices,a=t.video,i=t.files,s=t.tencent_videos,o=t.external_urls;return r&&r.length||n&&n.length||a||i&&Object.keys(i).length||s&&s.length||o&&o.length},HomeworkPage=(_dec=(0,_wepyRedux.connect)({audio:function(e){return e.audio.audio||null},homeworkDetail:function(e){return e.homework.detail||null},group:function(e){return e.group.detail||null},isFinished:function(e){var t=e.homework.detail,r=e.group.detail,n=e.answer.list;return r&&r.partner&&t&&(n||[]).some(function(e){return e.child==r.partner.child})},adConfigs:function(e){return e.base.adConfigs},shouldAnswerCount:function(e){var t=e.homework.detail,r=e.group.detail,n=t&&t.team&&t.team.members||[],a=r&&_extends({},r.members),i=r&&_extends({},r.members_remark),s=function(e){for(var t in i)e(t)},o=0;return n.length?(s(function(e){var t=n.indexOf(parseInt(e)+1);t>-1&&n.splice(t,1)}),o=n.length):a&&(s(function(e){delete a[e]}),o=Object.keys(a).length),o},waitSubmitNames:function(e){var t=e.homework.detail,r=e.group.detail,n=e.answer.list||[];if(r&&t){var a=t.team,i=r.members,s=r.members_remark,o=(r.partner,Object.assign({},i)),u=[],c=!0,h=!1,l=void 0;try{for(var p,d=n[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){delete o[p.value.child-1]}}catch(e){h=!0,l=e}finally{try{!c&&d.return&&d.return()}finally{if(h)throw l}}for(var f in o)a&&!(a.members.length&&a.members.indexOf(parseInt(f)+1)>-1)||s&&null!=s[f]||u.push(o[f]);return u.join(",")}return""},excellenceName:function(e){var t=e.homework.detail,r=e.group.detail,n=e.answer.list||[];if(r&&t){var a=r.members,i=(r.members_remark,r.partner,n.map(function(e){return e.child}),n.length?n.filter(function(e){return e.extras&&e.extras.is_excellent}).map(function(e){return a[e.child-1]}):[]);if(i&&0!=i.length)return i}return""},needSubmit:function(e){var t=e.homework.detail,r=e.group.detail,n=this.isFinished;if(r&&t){var a=r.partner,i=t.team;return a&&["P","S"].indexOf(a.type)>-1&&!n&&(!i||i.members.indexOf(a.child)>-1)}return!1},answers:function(e){return e.answer.list||[]},supplements:function(e){var t=e.answer_supplement.list.items||[],r=e.group.detail,n=r||{},a=n.vips,i=void 0===a?[]:a;return t.map(function(e){return _extends({},e,{childName:r.members&&r.members[e.child-1]||null,isVipUser:i.some(function(t){return t.uid===e.uid})})}).reduce(function(e,t){return e[t.aid]?e[t.aid].push(t):e[t.aid]=[t],e},{})},questionAnswer:function(e){var t=e.question_answer.detail||null,r=e.group.detail&&e.group.detail.partner;return t&&r&&t.child==r.child?t:null}},{getOrFetchGroup:_actions.getOrFetchGroup,getOrFetchHomework:_actions.getOrFetchHomework,fetchAnswer:_actions.fetchAnswer,fetchAnswerList:_actions.fetchAnswerList,fetchSupplementList:_actions.fetchSupplementList,fetchQuestionAnswer:_actions.fetchQuestionAnswer}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.mixins=[_temp_file2.default,_rewarded_video_ad2.default],n.$repeat={},n.$props={remindmodal:{showClose:"true"},canvasdrawer:{"xmlns:v-bind":"","v-bind:painting.sync":"painting","xmlns:v-on":""},advertisement1:{class:"ad",bannerKey:"homework_banner_1"}},n.$events={shareModal:{"v-on:createShareImg":"createShareImg"},canvasdrawer:{"v-on:getImage":"eventGetImage"}},n.components={shareModal:_share2.default,remindmodal:_base_modal2.default,followtips:_pxx_follow_tips2.default,canvasdrawer:_canvasdrawer2.default,advertisement1:_advertisement2.default},n.config={navigationBarTitleText:"详情",enablePullDownRefresh:!0,usingComponents:{homeworkmedia:"/wx_components/homework_media/index","txv-video":"plugin://TxvVideo/video","vip-renewal-modal":"/wx_components/vip_renewal_modal/index","answer-detail":"/wx_components/answer_detail/index","rating-form":"/wx_components/rating_form/index","join-group-footer":"/wx_components/join_group_footer/index","auth-modal":"/wx_components/auth_modal/index",recorder:"/wx_components/recorder/index","audio-player":"/wx_components/audio_player/index","follow-modal":"/wx_components/follow_modal/index","video-cover":"/wx_components/video_cover/index"}},n.data={activeTabIndex:0,tabs:["未批改","已批改","未更正","已更正","优秀"],answerMap:{},pageLoaded:!1,hid:null,gid:null,user:{},homework:{},remark:null,submitDate:null,submitDate1:null,releaseDate:null,isPublisher:!1,timeout:!1,visitCount:0,images:[],voices:[],video:null,showing:!1,sortingList:["最早提交优先","最近提交优先","学号从低到高","评分从高到低"],sortIndex:0,painting:{},shareImage:"",shareCardShowing:!1,shareImageWidth:0,shareImageHeight:0,showReply:!1,isSystemAdmin:!1,textareaFocus:!1,isExample:!1,showHomeworkFiles:!1,showDailyFiles:!1,tempVideoKey:null,answerListSize:10,hideAnswer:!1,showAllAnswersIfNotTeacher:!1,contactSession:"",currentRatingAid:"",nextRatingAid:"",showCustomAd:!1,hAnswerVisibleTimingTypes:["作业过期后可见","提交后直接看"]},n.watch={answers:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=this.answerMap,n=!0,a=!1,i=void 0,e.prev=4,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)u=o.value,r[u.aid]=u;e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),a=!0,i=e.t0;case 12:e.prev=12,e.prev=13,!n&&s.return&&s.return();case 15:if(e.prev=15,!a){e.next=18;break}throw i;case 18:return e.finish(15);case 19:return e.finish(12);case 20:this.$apply();case 21:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}));return e}(),user:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t&&JSON.stringify({nickName:t.nickname,avatarUrl:t.avatar}),this.contactSession!=r&&this.setData({contactSession:r});case 2:case"end":return e.stop()}},e,this)}));return e}()},n.computed={canRating:function(){var e=this.homeworkDetail,t=this.group,r=this.user;return e&&r&&(e.rating_uid==r.uid||e.publisher&&e.publisher.partner&&e.uid==r.uid)||t&&t.partner&&"T"===t.partner.type},myAnswerList:function(){var e=this.homework,t=this.user,r=this.answers,n=this.group||{},a=n.partner;return a&&"T"!=a.type&&a?(e&&r||[]).filter(function(e){return e.uid===t.uid||e.child==a.child}).map(function(e){return e.aid}):[]},otherAnswerList:function(){var e=this.homework,t=this.group,r=(this.user,this.isSystemAdmin),n=this.canRating,a=this.answers,i=this.sortIndex,s=this.myAnswerList,o=this.activeTabIndex;a=a||[];var u=t||{},c=u.partner,h=null;return h=r||c&&"T"==c.type?a:!t||!e||e.is_private&&!n?[]:c&&s.length?a.filter(function(e){return-1===s.indexOf(e.aid)}):a,0==o?h=h.filter(function(e){return null==e.rating&&!e.rejected}):1==o?h=h.filter(function(e){return null!=e.rating||e.rejected}):2==o?h=h.filter(function(e){return e.rejected&&0==e.supplement_count}):3==o?h=h.filter(function(e){return e.supplement_count>0}):4==o&&(h=h.filter(function(e){return e.is_excellent})),h=JSON.parse(JSON.stringify(h)),e&&h.length&&(0==i?h.sort(function(e,t){return new Date(e.created_at)-new Date(t.created_at)}):1==i?h.sort(function(e,t){return new Date(t.created_at)-new Date(e.created_at)}):2==i?h.sort(function(e,t){return e.child-t.child}):3==i&&(0==e.rating_criterion?h.sort(function(e,t){return e.rating-t.rating}):3==e.rating_criterion?h.sort(function(e,t){return null==t.rating?1:t.rating-e.rating}):h.sort(function(e,t){return t.rating-e.rating}))),h.map(function(e){return e.aid})}},n.methods={toAdApp:function(){var e=this.adConfigs&&this.adConfigs.homework_custom_banner||{},t=e.appid,r=e.path;t&&r&&_wepy2.default.navigateToMiniProgram({appId:t,path:r})},toQuestionSetReport:function(e){this.homework.question_set;_wepy2.default.navigateTo({url:"/sp9/pages/question_set_report?hid="+this.hid})},toQuestionAnswer:function(e){var t=this.questionAnswer;_wepy2.default.navigateTo({url:"/sp9/pages/question_answer_edit?hid="+this.hid+"&question_answer_id="+(t&&t.id||"")})},toShareExcellence:function(){var e=this.homework;e.deadline,e.name;_wepy2.default.navigateTo({url:"/sp10/pages/excellent_student?excellenceName="+this.excellenceName+"&hid="+this.hid})},onSubmitted:function(e){_wepy2.default.showToast({title:"批注成功",icon:"success",duration:1e3,mask:!0});var t=this.nextRatingAid,r=this.myAnswerList,n=this.otherAnswerList;if(t){var a=n.indexOf(t)>-1?n:r,i=a.indexOf(t);this.nextRatingAid=a[i+1]||""}else this.nextRatingAid="";this.currentRatingAid=t||"",this.$nextTick(function(){wx.pageScrollTo({selector:"#answer-detail-"+t})})},onExitRating:function(e){var t=e.detail&&e.detail.aids||[],r=this.currentRatingAid;t.indexOf(r)>-1&&(this.currentRatingAid="",this.nextRatingAid="")},onRatingFormLoad:function(e){var t=e.detail&&e.detail.aids||[],r=this.currentRatingAid,n=this.answerMap;if(t.indexOf(r)>-1){var a=this.$wxpage.selectComponent("#rating-form-"+r);a&&a.reset(n[r])}},tabClick:function(e){this.activeTabIndex=e,this.answerListSize=10},toHomeworkAnswer:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.canRating,r=this.group,n=this.homework,a=this.isSystemAdmin,i=this.myAnswerList,s=n.homework_answer,o=r||{},u=o.partner,t){e.next=10;break}if(!(0==s.visible_timing&&new Date(n.deadline)>new Date)){e.next=8;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"作业过期后才能查看答案",showCancel:!1}));case 8:if(1!=s.visible_timing||i.length){e.next=10;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"作业提交后才能查看答案",showCancel:!1}));case 10:_wepy2.default.navigateTo({url:"/sp4/pages/homework_answer?hid="+this.hid});case 11:case"end":return e.stop()}},e,this)}));return e}(),showAllAnswers:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _wepy2.default.showLoading({title:"加载中",mask:!0}),e.prev=1,e.next=4,this.methods.fetchAnswerList({hid:this.hid});case 4:this.showAllAnswersIfNotTeacher=!0,this.$apply(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),_wepy2.default.showModal({title:"提示",content:e.t0.message,showCancel:!1});case 11:_wepy2.default.hideLoading();case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return e}(),toSupplement:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.detail.answer,e.next=3,_wepy2.default.navigateTo({url:"/pages/answer?aid="+r.aid+"&rating=false&supplement=true&hid="+r.hid});case 3:case"end":return e.stop()}},e,this)}));return e}(),onShowOptions:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o,u,c,h,l,p,d,f,m,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.detail,n=r.answer,a=r.OPERATIONS,i=this.group,s=this.user,o=this.canRating,u=i&&i.partner||{},c=s&&n.uid===s.uid,h=u&&n.child===u.child,l="T"===u.type,p=u.proxy,d=[a.TO_DETAIL],(l||p)&&d.push(a.SEND_TO_DIALOG),(c||h)&&d.push(n.extras&&n.extras.hide_answer?a.SHOW_ANSWER:a.HIDE_ANSWER),o&&n.video&&d.push(a.DOWNLOAD_VIDEO),e.next=13,(0,_clientUtil.showActionSheet)({itemList:d});case 13:if(f=e.sent,m=d[f.tapIndex]){e.next=17;break}return e.abrupt("return");case 17:w=this.$wxpage.selectComponent("#answer-detail-"+n.aid),w&&w.onOptionChoosen(m);case 19:case"end":return e.stop()}},e,this)}));return e}(),toRating:function(e){var t=this.myAnswerList,r=this.otherAnswerList,n=e.detail&&e.detail.aid;this.currentRatingAid=n;var a=r.indexOf(n)>-1?r:t,i=a.indexOf(n);this.nextRatingAid=a[i+1]||""},onRecorderStop:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.detail||{},n=r.tempFilePath,a=r.duration,e.next=4,this.getTempKey("voice",null,a);case 4:i=e.sent,e.prev=5,this.uploadTempFile(n,i,"voice"),this.getTmpPathManager().set(this.hid,"voice",i),this.voices.push({path:i,temp:!0,local:!1,cdnPath:(0,_cdnurl2.default)(i,null,!0)}),this.$apply(),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(5),new Error(e.t0.errMsg||e.t0.message||"录音上传失败");case 15:e.next=22;break;case 17:return e.prev=17,e.t1=e.catch(0),console.log(e.t1),e.next=22,_wepy2.default.showModal({title:"录音失败",content:e.t1.message||"录音初始化失败",showCancel:!1});case 22:case"end":return e.stop()}},e,this,[[0,17],[5,12]])}));return e}(),onHideAnswerChange:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isVipOrTeacher()){e.next=5;break}this.hideAnswer="true"===t.detail.value[0],this.$apply(),e.next=11;break;case 5:return this.hideAnswer=!1,this.$apply(),e.next=9,_wepy2.default.showModal({title:"温馨提示",content:"该功能需购买VIP服务方可使用",confirmText:"去购买"});case 9:r=e.sent,r.confirm&&_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+this.gid});case 11:case"end":return e.stop()}},e,this)}));return e}(),toIndex:function(){_wepy2.default.reLaunch({url:"/pages/index"})},toBulkEdit:function(){0!==this.answers.length&&_wepy2.default.navigateTo({url:"/sp4/pages/answers?hid="+this.hid})},toAddFile:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_wepy2.default.navigateTo({url:"upload_file?hid="+this.hid});case 1:case"end":return e.stop()}},e,this)}));return e}(),toStatistics:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.toStatistics();case 1:case"end":return e.stop()}},e,this)}));return e}(),previewMixedImage:function(e,t,r){var n=function(e){return e.local?e.path:(0,_cdnurl2.default)(e.path)+"-rating"};_wepy2.default.previewImage({current:n(e),urls:t.map(n)})},previewUploadedImage:function(e,t){_wepy2.default.previewImage({current:(0,_cdnurl2.default)(e)+"-rating",urls:t.map(function(e){return(0,_cdnurl2.default)(e)+"-rating"})})},copyHandler:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o,u,c,h,l,p,d,f,m,w,g,_,v,x,y,k,b,R,T;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=this.answers||[],n=this.group,a=n.members,i=n.members_remark,s=n.partner,o=this.homework,u=o.team,c=o.deadline,h=o.name,l=r.map(function(e){return e.child}),p={EXCELLENT:"优秀作业名单",SUBMITTED:"已提交名单",NOT_SUBMIT:"未提交名单",REJECTED:"需更正名单",CORRECTED:"已更正名单"},d=[],f=[],m=r.length?r.filter(function(e){return e.extras&&e.extras.is_excellent}).map(function(e){return a[e.child-1]}):[],w=r.filter(function(e){return e.rejected}).map(function(e){return a[e.child-1]}),g=r.filter(function(e){return e.supplement_count>0}).map(function(e){return a[e.child-1]});for(_ in a)v=parseInt(_)+1,u&&!(u.members.length&&u.members.indexOf(v)>-1)||i&&null!=i[_]||(x=a[_],l.indexOf(v)>-1?d.push(x):f.push(x));return y=[],m.length&&y.push(p.EXCELLENT),d.length&&y.push(p.SUBMITTED),f.length&&y.push(p.NOT_SUBMIT),w.length&&y.push(p.REJECTED),g.length&&y.push(p.CORRECTED),k="",b="",e.next=22,(0,_clientUtil.showActionSheet)({itemList:y});case 22:R=e.sent,T=y[R.tapIndex],e.t0=T,e.next=e.t0===p.EXCELLENT?27:e.t0===p.SUBMITTED?30:e.t0===p.NOT_SUBMIT?33:e.t0===p.REJECTED?36:e.t0===p.CORRECTED?39:42;break;case 27:return k=m.join("\n"),b="优秀",e.abrupt("break",43);case 30:return k=d.join("\n"),b="已提交",e.abrupt("break",43);case 33:return k=f.join("\n"),b="未提交",e.abrupt("break",43);case 36:return k=w.join("\n"),b="需更正",e.abrupt("break",43);case 39:return k=g.join("\n"),b="已更正",e.abrupt("break",43);case 42:return e.abrupt("return");case 43:if(k){e.next=45;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"暂无可复制的名单",showCancel:!1}));case 45:return e.next=47,wx.setClipboardData({data:(c?(0,_dateUtil.getDateStr)(c):"")+" "+h+"\n本次"+b+"作业的学生名单如下"+(T==p.EXCELLENT?"（排名不分先后）":"")+"：\n-------------------------------------------"+(T==p.EXCELLENT?"-----":"")+"\n"+k+"\n"});case 47:e.next=51;break;case 49:e.prev=49,e.t1=e.catch(0);case 51:case"end":return e.stop()}},e,this,[[0,49]])}));return e}(),downloadVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.detail,n=this.$wxpage.selectComponent("#auth-modal"),e.t0=!n,e.t0){e.next=7;break}return e.next=6,n.authorize("scope.writePhotosAlbum");case 6:e.t0=!e.sent;case 7:if(!e.t0){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,e.next=12,_wepy2.default.showLoading({title:"正在下载...",mask:!0});case 12:return e.next=14,_wepy2.default.downloadFile({url:(0,_cdnurl2.default)(r,null,!0)});case 14:if(a=e.sent,i=a.tempFilePath,(0,_clientUtil.hideLoading)(),i){e.next=19;break}throw new Error("下载视频失败");case 19:return e.next=21,_wepy2.default.saveVideoToPhotosAlbum({filePath:i});case 21:return e.next=23,_wepy2.default.showToast({title:"保存成功",icon:"success",duration:2e3,mask:!0});case 23:e.next=30;break;case 25:return e.prev=25,e.t1=e.catch(9),(0,_clientUtil.hideLoading)(),e.next=30,_wepy2.default.showModal({title:"提示",content:e.t1.message||"下载视频失败",showCancel:!1});case 30:case"end":return e.stop()}},e,this,[[9,25]])}));return e}(),onGroupUpgrade:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.group){e.next=4;break}return e.next=3,this.methods.getOrFetchGroup(this.group.gid,!0);case 3:this.$apply();case 4:case"end":return e.stop()}},e,this)}));return e}(),bindSortingChange:function(e){this.sortIndex=e.detail.value,this.nextRatingAid="",this.currentRatingAid=""},playVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/pages/video?video="+t});case 2:case"end":return e.stop()}},e,this)}));return e}(),deleteVoice:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.voices[t],e.next=3,_wepy2.default.showModal({title:"温馨提示",content:"确定删除此录音"});case 3:n=e.sent,n.confirm&&(this.getTmpPathManager().remove(this.hid,"voice",r.path),this.voices.splice(t,1),this.$apply());case 5:case"end":return e.stop()}},e,this)}));return e}(),showMoreAction:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,u,c,h,l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hid,r=this.isPublisher,n=this.user,a=this.group,i=this.timeout,s=this.homework,o=this.answers,u=this.canRating,c={STATUS:"统计",EDIT:"编辑作业",DELETE:"删除作业",EXPORT:"导出作业详情",SUBMIT:"帮学生提交作业",SEND_TO_DIALOG:"发送到私信"},h=[c.STATUS],(r||s.rating_uid==n.uid||u)&&h.push(c.EXPORT),a&&h.push(c.SEND_TO_DIALOG),r&&h.push(c.EDIT),(r||n.uid&&a.admin_uid&&n.uid==a.admin_uid)&&h.push(c.DELETE),u&&a.partner&&"T"===a.partner.type&&(s.team&&o.length<s.team.members.length?h.push(c.SUBMIT):!s.team&&o.length<Object.keys(a.members).length&&h.push(c.SUBMIT)),l={itemList:h},e.prev=9,e.next=12,(0,_clientUtil.showActionSheet)(l);case 12:p=e.sent,d=h[p.tapIndex],e.t0=d,e.next=e.t0===c.STATUS?17:e.t0===c.SEND_TO_DIALOG?18:e.t0===c.EDIT?19:e.t0===c.DELETE?20:e.t0===c.EXPORT?21:e.t0===c.SUBMIT?22:23;break;case 17:return e.abrupt("return",this.toStatistics());case 18:return e.abrupt("return",_wepy2.default.navigateTo({url:"/sp6/pages/partner_list?hid="+t+"&gid="+a.gid+"&type=CREATE_DIALOG"}));case 19:return e.abrupt("return",this.editHomework());case 20:return e.abrupt("return",this.deleteHomework());case 21:return e.abrupt("return",this.exports());case 22:return e.abrupt("return",this.submitHomework());case 23:e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(9),e.abrupt("return");case 28:case"end":return e.stop()}},e,this,[[9,25]])}));return e}(),copyDetail:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={itemList:["拷贝作业详情"]},e.prev=1,e.next=4,(0,_clientUtil.showActionSheet)(t);case 4:if(r=e.sent,0!=r.tapIndex){e.next=8;break}return e.next=8,wx.setClipboardData({data:this.homework.detail});case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}},e,this,[[1,10]])}));return e}(),copyNotAnswer:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wx.setClipboardData({data:this.waitSubmitNames});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}));return e}(),copyExcellenceName:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.homework,r=t.team,n=t.deadline,a=t.name,e.prev=1,i=this.excellenceName.join("\n"),e.next=5,wx.setClipboardData({data:(n?(0,_dateUtil.getDateStr)(n):"")+" "+a+"\n本次优秀作业的学生名单如下（排名不分先后）:\n              \n-------------------------------------------\n"+i});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,this,[[1,7]])}));return e}(),bindRemarkChange:function(e){this.remark=e.detail.value,this.textareaFocus=!1},bindFoucs:function(e){this.textareaFocus=!0},save:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o,u,c,h,l,p,d,f,m,w,g,_,v,x,y=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.detail.formId,2!=this.homework.confirm||0!=this.images.length){e.next=5;break}return e.next=4,_wepy2.default.showModal({title:"提示",content:"本次作业要求提交图片",showCancel:!1});case 4:return e.abrupt("return");case 5:if(3!=this.homework.confirm||0!=this.voices.length){e.next=9;break}return e.next=8,_wepy2.default.showModal({title:"提示",content:"本次作业要求提交录音",showCancel:!1});case 8:return e.abrupt("return");case 9:if(4!=this.homework.confirm||this.video){e.next=13;break}return e.next=12,_wepy2.default.showModal({title:"提示",content:"本次作业要求提交视频",showCancel:!1});case 12:return e.abrupt("return");case 13:if(!this.homework.question_set||this.questionAnswer){e.next=17;break}return e.next=16,_wepy2.default.showModal({title:"提示",content:"请先填涂答题卡",showCancel:!1});case 16:return e.abrupt("return");case 17:return e.next=19,_wepy2.default.showLoading({title:"提交中...",mask:!0});case 19:return n={url:_config.api.homework.confirm.url+this.hid,data:{remark:this.remark,formId:r,hide_answer:this.hideAnswer,question_answer_id:this.questionAnswer?this.questionAnswer.id:null}},e.next=22,(0,_request2.default)(n);case 22:if(a=e.sent,!a.data||!a.data.cmd){e.next=107;break}i=a.data.result.aid,s=this.homework.hid,e.prev=26,o=!0,u=!1,c=void 0,e.prev=30,h=this.images.filter(function(e){return e.temp})[Symbol.iterator]();case 32:if(o=(l=h.next()).done){e.next=41;break}return p=l.value,d=this.getUploadKey(p.path,i),e.next=37,(0,_request2.default)({url:_config.api.homework.attachTmpFile.url,data:{aid:i,src:p.path,dest:d,type:"image",attach:"answer"}});case 37:this.getTmpPathManager().remove(s,"image",p.path);case 38:o=!0,e.next=32;break;case 41:e.next=47;break;case 43:e.prev=43,e.t0=e.catch(30),u=!0,c=e.t0;case 47:e.prev=47,e.prev=48,!o&&h.return&&h.return();case 50:if(e.prev=50,!u){e.next=53;break}throw c;case 53:return e.finish(50);case 54:return e.finish(47);case 55:f=!0,m=!1,w=void 0,e.prev=58,g=this.voices.filter(function(e){return e.temp})[Symbol.iterator]();case 60:if(f=(_=g.next()).done){e.next=69;break}return v=_.value,d=this.getUploadKey(v.path,i),e.next=65,(0,_request2.default)({url:_config.api.homework.attachTmpFile.url,data:{aid:i,src:v.path,dest:d,type:"voice",attach:"answer"}});case 65:this.getTmpPathManager().remove(s,"voice",v.path);case 66:f=!0,e.next=60;break;case 69:e.next=75;break;case 71:e.prev=71,e.t1=e.catch(58),m=!0,w=e.t1;case 75:e.prev=75,e.prev=76,!f&&g.return&&g.return();case 78:if(e.prev=78,!m){e.next=81;break}throw w;case 81:return e.finish(78);case 82:return e.finish(75);case 83:if(!this.video){e.next=91;break}return d=this.getUploadKey(this.video.path,i),e.next=87,(0,_request2.default)({url:_config.api.homework.attachTmpFile.url,data:{aid:i,src:this.video.path,dest:d,type:"video",attach:"answer",createCover:!0}});case 87:this.tempVideoKey=d,this.$apply(),setTimeout(function(){y.tempVideoKey=null,y.$apply()},5e3),this.getTmpPathManager().remove(s,"video",this.video.path);case 91:e.next=103;break;case 93:return e.prev=93,e.t2=e.catch(26),console.log(e.t2),e.next=98,(0,_request2.default)({url:_config.api.homework.cancel.url+i});case 98:return x=e.sent,(0,_clientUtil.hideLoading)(),e.next=102,_wepy2.default.showModal({title:"提交完成作业失败",content:e.t2.message||"上传作业文件出错!",showCancel:!1});case 102:return e.abrupt("return",e.sent);case 103:return e.next=105,this.updateAnswer(i);case 105:e.next=109;break;case 107:return(0,_clientUtil.hideLoading)(),e.abrupt("return",_wepy2.default.showModal({title:"提示",content:a.data.msg||"提交完成作业失败!",showCancel:!1}));case 109:return e.next=111,(0,_clientUtil.setStorageSync)("CALENDAR_NEED_REFRESH",!0);case 111:return this.initSubmitFormData(),e.next=114,_wepy2.default.stopPullDownRefresh();case 114:return(0,_clientUtil.hideLoading)(),e.abrupt("return",_wepy2.default.navigateTo({url:"/pages/success?type=HOMEWORK_ANSWERED&hid="+this.homework.hid}));case 116:case"end":return e.stop()}},e,this,[[26,93],[30,43,47,55],[48,,50,54],[58,71,75,83],[76,,78,82]])}));return e}(),onAnswerDeleted:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.detail,this.initSubmitFormData();case 2:case"end":return e.stop()}},e,this)}));return e}(),chooseVideo:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,(0,_clientUtil.chooseVideo)({maxDuration:60,compressed:!0});case 4:t=e.sent,e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.errCode!==_exceptions.ValidationError.CHOOSE_VIDEO_EXCEED_SIZE_LIMIT){
e.next=11;break}return e.abrupt("return");case 11:return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:e.t0.message,showCancel:!1}));case 12:return e.next=14,this.getTempKey("video");case 14:return r=e.sent,this.coverPath=r+"-cover",e.prev=16,e.next=19,_wepy2.default.showLoading({title:"上传中...",mask:!0});case 19:return e.next=21,(0,_upload2.default)({url:_config.qiniu,filePath:t.tempFilePath,name:"file",formData:{key:r,type:"video",coverless:!1}});case 21:this.video={id:(new Date).getTime(),path:r,loadingCover:!0,cdnPath:(0,_cdnurl2.default)(r,null)},this.getTmpPathManager().set(this.hid,"video",r),(0,_clientUtil.hideLoading)(),this.$apply(),e.next=32;break;case 27:return e.prev=27,e.t1=e.catch(16),(0,_clientUtil.hideLoading)(),e.next=32,_wepy2.default.showModal({title:"提示",content:"视频上传失败",showCancel:!1});case 32:case"end":return e.stop()}},e,this,[[1,7],[16,27]])}));return e}(),deleteVideo:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"温馨提示",content:"确定删除此视频"});case 2:t=e.sent,t.confirm&&(this.getTmpPathManager().remove(this.hid,"video",this.video.path),this.video=null,this.$apply());case 4:case"end":return e.stop()}},e,this)}));return e}(),chooseAndUploadImage:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_clientUtil.chooseImage)({count:9-this.images.length});case 2:t=e.sent,r=t.tempFilePaths,n=[],a=[],i=0;case 7:if(!(i<r.length)){e.next=26;break}return s=r[i],e.prev=9,e.next=12,this.getTempKey("image",i+1);case 12:return o=e.sent,e.next=15,this.uploadTempFile(s,o,"image");case 15:this.getTmpPathManager().set(this.hid,"image",o),n.push(o),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(9),a.push(e.t0.errMsg||e.t0.message),console.log("上传图片出错",e.t0);case 23:i++,e.next=7;break;case 26:if(!(a.length>0)){e.next=30;break}return u=a.find(function(e){return Boolean(e)})||"未知错误",e.next=30,_wepy2.default.showModal({title:a.length+"张图片上传失败",content:u,showCancel:!1});case 30:this.images=[].concat(_toConsumableArray(this.images),_toConsumableArray(n.map(function(e){return{path:e,temp:!0}}))),this.$apply();case 32:case"end":return e.stop()}},e,this,[[9,19]])}));return e}(),deleteImage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.images[t],e.next=3,_wepy2.default.showModal({title:"温馨提示",content:"确定删除此图片"});case 3:n=e.sent,n.confirm&&(this.getTmpPathManager().remove(this.hid,"image",r.path),this.images.splice(t,1),this.$apply());case 5:case"end":return e.stop()}},e,this)}));return e}(),previewImage:function(){function e(e,r){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.previewImage({current:t,urls:r});case 2:case"end":return e.stop()}},e,this)}));return e}(),share:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.homework,r=this.group,n=this.user,e.next=3,this.$invoke("shareModal","showModal",{homework:t,gid:r.gid,user:n});case 3:case"end":return e.stop()}},e,this)}));return e}(),startRecord:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.$wxpage.selectComponent("#answer-recorder"),e.t0=r,!e.t0){e.next=5;break}return e.next=5,r.start();case 5:case"end":return e.stop()}},e,this)}));return e}(),remindConfirm:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.waitSubmitNames){e.next=2;break}return e.abrupt("return");case 2:if(!(this.homework.remind_count>=3)){e.next=4;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"催交次数已达3次, 无法再次催交!",showCancel:!1}));case 4:this.$invoke("remindmodal","show");case 5:case"end":return e.stop()}},e,this)}));return e}(),remind:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 2:return t={url:_config.api.homework.remind.url,data:{hid:this.hid,childs:Object.keys(this.group.members).filter(function(e){return n.answers.every(function(t){return parseInt(t.child)!=parseInt(e)+1})}).map(function(e){return parseInt(e)+1})}},e.next=5,(0,_request2.default)(t);case 5:if(r=e.sent,(0,_clientUtil.hideLoading)(),!r.data||!r.data.cmd){e.next=15;break}return e.next=10,_wepy2.default.showToast({title:"催交成功",icon:"success",duration:2e3,mask:!0});case 10:this.homework.remind_count+=1,this.$apply(),this.$invoke("remindmodal","hide"),e.next=17;break;case 15:return e.next=17,_wepy2.default.showModal({title:"提示",content:r.data.msg||"催交作业失败!",showCancel:!1});case 17:case"end":return e.stop()}},e,this)}));return e}(),eventGetImage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,_clientUtil.hideLoading)(),this.shareCardShowing=!0,r=t.tempFilePath,n=t.errMsg,"canvasdrawer:ok"!==n){e.next=8;break}this.shareImage=r,this.$apply(),e.next=12;break;case 8:return console.log(n),e.next=11,_wepy2.default.showModal({title:"提示",content:"生成分享图片失败",showCancel:!1});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)}));return e}(),createShareImg:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$invoke("shareModal","hideModal");case 2:return e.next=4,_wepy2.default.showLoading({title:"绘制分享图片中",mask:!0});case 4:t=_config.api.util.wxacode.url+"?scene="+this.hid.split("-").join("")+"&is_hyaline=true&page=pages/homework",r=Math.ceil(((new Date).getTime()-new Date(this.user.created_at).getTime())/864e5),n=this.answers.sort(function(e,t){return new Date(e.created_at)>new Date(t.created_at)?1:-1}),a=n.map(function(e){return e.uid}).indexOf(this.user.uid)+1,i={groupAvatar:this.group.avatar?(0,_cdnurl2.default)(this.group.avatar,null,!0):"",homeworkName:this.homework.name,school:this.group.school,groupName:this.group.name,userAvatar:this.user.avatar,userNickname:this.user.nickname,type:this.isPublisher||this.canRating?"teacher":"student",done:this.isFinished,homeworkCount:this.answers.length,groupMembers:this.shouldAnswerCount,homeworkPosition:a,wxacode:t,remark:"我已加入作业登记簿"+r+"天"},this.painting=(0,_homework_model2.default)(i),this.$apply();case 11:case"end":return e.stop()}},e,this)}));return e}(),saveShareImage:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_wepy2.default.saveImageToPhotosAlbum({filePath:this.shareImage});case 3:if(t=e.sent,"saveImageToPhotosAlbum:ok"!=t.errMsg){e.next=7;break}return e.next=7,_wepy2.default.showModal({title:"提示",content:"图片保存成功",showCancel:!1});case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),"saveImageToPhotosAlbum:fail cancel"===e.t0.errMsg){e.next=14;break}return e.next=14,_wepy2.default.showModal({title:"提示",content:"图片保存失败",showCancel:!1});case 14:return e.prev=14,this.painting={},this.shareCardShowing=!1,this.$apply(),e.finish(14);case 19:case"end":return e.stop()}},e,this,[[0,9,14,19]])}));return e}(),imageLoad:function(e){var t=function(e){var t={},r=e.detail.width,n=e.detail.height,a=n/r;return wx.getSystemInfo({success:function(e){var i=e.windowWidth-30,s=e.windowHeight-80;a<s/i?(t.imageWidth=i,t.imageHeight=i*n/r):(t.imageHeight=s,t.imageWidth=s*r/n)}}),t}(e);this.shareImageWidth=t.imageWidth-15,this.shareImageHeight=t.imageHeight,this.$apply()},cancelShare:function(){this.painting="",this.shareCardShowing=!1,this.$apply()},checkBeforePreview:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.group.partner||this.isSystemAdmin){e.next=2;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"只有班级成员才能查看作业文件",showCancel:!1,confirmText:"好的"}));case 2:if(r=t.detail,n=r.key,a=r.data,i=r.callback,s={playVideo:function(e){return _wepy2.default.navigateTo({url:"/pages/video?video="+e})},previewImage:function(e){var t=e.current,r=e.list;return _wepy2.default.previewImage({current:t,urls:r})},playVoice:i}[n],this.canRating||this.isSystemAdmin||this.isVipOrTeacher()||!this.isRewardedVideoAdExpired()){e.next=10;break}return e.next=7,this.promptVipOrRewardedAd(s,a);case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,s(a);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"isVipUser",value:function(){var e=this.group||{},t=e.vips,r=void 0===t?[]:t,n=e.partner;return n&&r.find(function(e){return e.uid===n.uid})}},{key:"isVipOrTeacher",value:function(){var e=this.group,t=(this.user,e||{}),r=t.partner,n=t.vip_expired_at,a=this.isVipUser();return r&&"T"===r.type||a||n&&new Date(n)>=new Date}},{key:"getTempKey",value:function(){function e(e,r,n){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||1,a=this.hid,i=this.group.gid,e.abrupt("return","tmp/"+i+"/homework/"+a+"/answer/"+t+"/"+r+"/"+Date.now()+(n?"/d"+n:""));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUploadKey",value:function(e,t){var r=this.hid;this.group.gid;return e.replace(/^tmp\//,"").replace(r+"/answer",r+"/answer/"+t)}},{key:"exports",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_exportExcelOrDownload2.default)({type:"homework",attach_id:this.hid,download:this.exportHomework.bind(this)});case 2:t=e.sent;case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"exportHomework",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.homework,e.prev=1,e.next=4,(0,_download2.default)({url:_config.api.homework.exportHomework.url+this.hid});case 4:r=e.sent,n=r.tempFilePath,a=wx.getFileSystemManager(),i=null,e.prev=8,i=a.saveFileSync(n,wx.env.USER_DATA_PATH+"/"+(t.name&&t.name.replace(/[\/:*?"<>|]/g,""))+"_"+(new Date).getTime()+".xlsx"),e.next=22;break;case 12:if(e.prev=12,e.t0=e.catch(8),!(e.t0.message&&e.t0.message.indexOf("exceed")>-1)){e.next=21;break}return(0,_clientUtil.hideLoading)(),e.next=18,_wepy2.default.showModal({title:"提示",content:"文件缓存空间不足",confirmText:"去清理",cancelText:"取消"});case 18:return s=e.sent,s.confirm&&_wepy2.default.navigateTo({url:"/sp1/pages/personal"}),e.abrupt("return");case 21:throw new Error(e.t0.errMsg||e.t0.message);case 22:return e.next=24,_wepy2.default.openDocument({filePath:i,fileType:"xlsx"});case 24:e.next=30;break;case 26:return e.prev=26,e.t1=e.catch(1),e.next=30,_wepy2.default.showModal({title:"提示",content:"导出作业详情失败",showCancel:!1});case 30:case"end":return e.stop()}},e,this,[[1,26],[8,12]])}));return e}()},{key:"deleteHomework",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPublisher&&this.group.admin_uid!=this.user.uid){e.next=20;break}return e.next=3,_wepy2.default.showModal({title:"确认删除作业?",content:this.homework.homework_template?"删除后，不会影响系统自动生成本期剩余的打卡作业":"作业以及相关图片和批改将不可恢复"});case 3:if(t=e.sent,!t.confirm){e.next=20;break}return e.next=7,_wepy2.default.showLoading({title:"删除中...",mask:!0});case 7:return r={url:_config.api.homework.delete.url+this.hid},e.next=10,(0,_request2.default)(r);case 10:return n=e.sent,(0,_clientUtil.hideLoading)(),e.next=14,_wepy2.default.showToast({title:"删除成功",icon:"success",duration:2e3,mask:!0});case 14:return e.next=16,(0,_clientUtil.setStorageSync)("CALENDAR_NEED_REFRESH",!0);case 16:return e.next=18,(0,_clientUtil.setStorageSync)("DAILY_HOMEWORK_RECORDS_NEED_REFRESH",!0);case 18:return e.next=20,_wepy2.default.navigateBack();case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"editHomework",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPublisher){e.next=2;break}return e.abrupt("return");case 2:if(this.hid){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,_wepy2.default.redirectTo({url:"/sp11/pages/assign?hid="+this.hid});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"toStatistics",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/sp4/pages/statistics?hid="+this.hid});case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"submitHomework",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/sp4/pages/supplementary?hid="+this.hid});case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"toggleFollowModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$wxpage.selectComponent("#follow-modal");if(t)return e?t.show():t.hide()}},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$data.homeworkDetail=null,this.$data.answers=[],e.next=4,_wepy2.default.$instance.onLoad(t);case 4:return this.suid=t.suid,t.hid?this.hid=t.hid:t.scene&&(this.hid=decodeURIComponent(t.scene)),this.isExample="help"===t.from,this.isSystemAdmin="admin"===t.from||this.isExample,this.$apply(),e.next=11,_wepy2.default.showShareMenu({withShareTicket:!1});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"onHide",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShareAppMessage",value:function(){var e=_wepy2.default.$instance.onShareAppMessage();return{title:"快看看'作业登记簿'啦!",path:"/pages/homework?hid="+this.hid+"&suid="+e.suid+"&gid="+this.gid}}},{key:"onReachBottom",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.answerListSize+=10,this.$apply();case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"onRoute",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.pageLoaded){e.next=12;break}return e.next=4,_wepy2.default.$instance.logined(Boolean(this.user));case 4:return r=e.sent,n=r.user,this.user=n,this.$apply(),e.next=10,this.refreshData();case 10:e.next=16;break;case 12:if(!_wepy2.default.getStorageSync("HOMEWORK_DETAIL_NEED_REFRESH")){e.next=16;break}return _wepy2.default.removeStorageSync("HOMEWORK_DETAIL_NEED_REFRESH"),e.next=16,this.refreshData();case 16:if(this.pageLoaded=!0,this.$apply(),this.$invoke("followtips","refresh"),t||this.user.pxx_subscribed||this.isVipUser()||this.toggleFollowModal(!0),a=this.group||{},i=a.created_at,s=a.partner,o=this.isVipOrTeacher(),(0,_shouldShowAd2.default)(i,s&&s.type)&&!o&&(this.showCustomAd=!0,this.$apply(),this.$invoke("advertisement1","show"),(0,_createInterstitialAd2.default)("homework_interstitial")),this.canRating||o||this.isSystemAdmin||!this.isRewardedVideoAdExpired()){e.next=26;break}return e.next=26,this.initRewardedVideoAd("homework_rewarded","HOMEWORK_"+this.hid+"_CONSULT_EXPIRATION");case 26:(0,_showVipRenewalIfNearExpired2.default)(this);case 27:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData(!0);case 2:return e.next=4,_wepy2.default.stopPullDownRefresh();case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateAnswer",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.methods.fetchAnswer({aid:t});case 2:return r=e.sent,n=r.payload,e.next=6,_wepy2.default.$store.dispatch({type:"UPDATE_ANSWER",payload:n});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"initSubmitFormData",value:function(){this.images=this.getTmpPathManager().get(this.hid,"image").map(function(e){return{path:e.path,local:!1,temp:!0}}),this.voices=this.getTmpPathManager().get(this.hid,"voice").map(function(e){return{path:e.path,local:!1,temp:!0,cdnPath:(0,_cdnurl2.default)(e.path,null,!0)}});var e=this.getTmpPathManager().get(this.hid,"video")[0]||null;this.video=e?{id:(new Date).getTime(),path:e.path,cdnCoverpath:(0,_cdnurl2.default)(e.path+"-cover"),cdnPath:(0,_cdnurl2.default)(e.path,null,!0)}:null,this.$apply()}},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i=this,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initSubmitFormData(),e.next=3,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 3:return e.prev=3,e.next=6,this.methods.getOrFetchHomework(this.hid,!0);case 6:if(t=e.sent,r=t.payload){e.next=10;break}throw new Error("找不到该作业");case 10:return this.hid=r.hid,this.gid=r.gid,this.homework=r,this.submitDate=(0,_dateUtil.getDeadlineText)(r.deadline),this.submitDate1=(0,_dateUtil.getDatetimeStr)(r.deadline),this.releaseDate=(0,_dateUtil.getDatetimeStr)(r.started_at||r.created_at),this.isPublisher=this.user&&r&&r.uid==this.user.uid,this.timeout=(new Date).getTime()>new Date(r.deadline).getTime(),this.visitCount=(r.visits||[]).length,this.showHomeworkFiles=shouldShowFiles(r),this.showDailyFiles=!r.hide_daily_files&&shouldShowFiles(r.homework_template),this.$apply(),e.next=24,this.methods.getOrFetchGroup(r.gid,s);case 24:n=e.sent,a=n.payload,a&&(this.methods.fetchAnswerList({hid:this.hid,child:!a.partner||"T"===a.partner.type||a.partner.proxy||this.showAllAnswersIfNotTeacher?null:a.partner.child}).then(function(e){var t=e||{},r=t.payload;r&&r.length&&i.methods.fetchSupplementList({hid:i.hid,page:1,pageSize:200})}),r.question_set&&a.partner&&a.partner.child&&this.methods.fetchQuestionAnswer({hid:r.question_set.hid,question_set_id:r.question_set.question_set_id,child:a.partner.child,answer_num:1})),e.next=44;break;case 29:return e.prev=29,e.t0=e.catch(3),console.log(e.t0),(0,_clientUtil.hideLoading)(),e.next=35,_wepy2.default.showModal({title:"提示",content:"加载作业信息出错: "+e.t0.message,showCancel:!1});case 35:if(!(getCurrentPages().length>1)){e.next=41;break}return e.next=38,_wepy2.default.navigateBack();case 38:return e.abrupt("return",e.sent);case 41:return e.next=43,_wepy2.default.reLaunch({url:"index"});case 43:return e.abrupt("return",e.sent);case 44:(0,_clientUtil.hideLoading)();case 45:case"end":return e.stop()}},e,this,[[3,29]])}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(HomeworkPage,"pages/homework")); 
 			}); 	require("pages/homework.js");
 		__wxRoute = 'pages/answer';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/answer.js';	define("pages/answer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var s=t[a](i),o=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function debounce(e,t){var r;return function(n){var a=this,i=arguments;if(!r)return e.apply(a,i);console.log("清除",r),clearTimeout(r),console.log("新的",r),r=setTimeout(function(){console.log("----"),e.apply(a,i)},t)}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_interfaces=require("./../interfaces/index.js"),_interfaces2=_interopRequireDefault(_interfaces),_config=require("./../config.js"),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_clientUtil=require("./../utils/clientUtil.js"),_exceptions=require("./../exceptions/index.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_rating=require("./../utils/rating.js"),_rating2=_interopRequireDefault(_rating),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_constances=require("./../utils/constances.js"),_shouldShowAd=require("./../utils/shouldShowAd.js"),_shouldShowAd2=_interopRequireDefault(_shouldShowAd),_createInterstitialAd=require("./../utils/createInterstitialAd.js"),_createInterstitialAd2=_interopRequireDefault(_createInterstitialAd),_temp_file=require("./../mixins/temp_file.js"),_temp_file2=_interopRequireDefault(_temp_file),_getRewardedVideoAd=require("./../utils/getRewardedVideoAd.js"),_getRewardedVideoAd2=_interopRequireDefault(_getRewardedVideoAd),AnswerPage=(_dec=(0,_wepyRedux.connect)({audio:function(e){return e.audio.audio||null},user:function(e){return e.user.detail||null},homeworkDetail:function(e){return e.homework.detail||null},group:function(e){return e.group.detail||null},answers:function(e){return e.answer.list||[]},answerDetail:function(e){var t=e.group.detail,r=e.user.detail,n=(e.answer.list,this.data.isSystemAdmin),a=this.checkCanRating(),i=e.answer.detail;if(i){var s=t&&t.partner,o=s&&"T"===t.partner.type,u=s&&("P"===t.partner.type||"S"===t.partner.type),c=s&&i.child===t.partner.child,p=r&&i.uid===r.uid;return _extends({},i,{showSupplementBtn:p||c,showAnswerContent:p||c||a||!i.extras||!i.extras.hide_answer,showOptionBtn:p||c||a&&i.video,showRateBtn:a,showRatingResult:c||p||n||a||u&&!(i.extras&&i.extras.hide_rating),showRatingContent:c||p||n||o||!(i.extras&&i.extras.hide_rating)||a})}return null},canSubmit:function(e){var t=e.group.detail,r=e.homework.detail;if(t&&r){var n=t.partner,a=r.team;return n&&["P","S"].indexOf(n.type)>-1&&(!a||a.members.indexOf(n.child)>-1)}return!1},supplements:function(e){var t=e.answer_supplement.list.items||[],r=e.group.detail,n=(e.homework.detail,r||{}),a=n.vips,i=void 0===a?[]:a;return t.map(function(e){return _extends({},e,{childName:r.members&&r.members[e.child-1]||null,isVipUser:i.some(function(t){return t.uid===e.uid})})})}},{getOrFetchGroup:_actions.getOrFetchGroup,getOrFetchHomework:_actions.getOrFetchHomework,fetchAnswer:_actions.fetchAnswer,fetchAnswerList:_actions.fetchAnswerList,fetchSupplementList:_actions.fetchSupplementList}))(_class=function(e){function t(){var e,r,n,a,i,s=this;_classCallCheck(this,t);for(var o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];return n=a=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.config={navigationBarBackgroundColor:"#fff",enablePullDownRefresh:!0,navigationBarTitleText:"作业提交",usingComponents:{"answer-detail":"/wx_components/homework_answer/index","auth-modal":"/wx_components/auth_modal/index",recorder:"/wx_components/recorder/index","rating-form":"/wx_components/rating_form/index","audio-player":"/wx_components/audio_player/index","video-cover":"/wx_components/video_cover/index"}},a.mixins=[_temp_file2.default],a.components={},a.data=(r={hid:null,aid:null,isSystemAdmin:!1,tempVideoKey:null,showReply:!1,images:[],voices:[],video:null,videoAd:null,hasAd:!1,remark:""},_defineProperty(r,"video",null),_defineProperty(r,"images",[]),_defineProperty(r,"voices",[]),_defineProperty(r,"coverPath",null),_defineProperty(r,"showSupplementForm",!1),_defineProperty(r,"isRating",!1),_defineProperty(r,"sortedAnswerList",[]),_defineProperty(r,"showHomeworkBtn",!1),_defineProperty(r,"_pageLoaded",!1),_defineProperty(r,"_answerListLoaded",!1),_defineProperty(r,"restAnswerCount",0),r),a.switchAnswer=debounce(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _wepy2.default.pageScrollTo({scrollTop:0}),e.next=3,a.refreshData();case 3:t=e.sent,a.$nextTick(_asyncToGenerator(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_delay2.default)(600);case 2:r=a.$wxpage.selectComponent("#rating-form"),t&&r&&r.reset(t);case 4:case"end":return e.stop()}},e,s)})));case 5:case"end":return e.stop()}},e,s)})),1500),a.computed={canRating:function(){var e=this.group,t=this.user,r=this.homeworkDetail;return r&&t&&(r.rating_uid==t.uid||r.publisher&&r.publisher.partner&&r.uid==t.uid)||e&&e.partner&&"T"===e.partner.type}},a.methods={onSubmitted:function(e){var t=this;_wepy2.default.showToast({title:"批注成功",icon:"success",duration:1e3,mask:!0});var r=this.sortedAnswerList,n=e.detail||{},a=n.autoSwitchNext;if(r.length<=1||r.length>1&&!a)return this.isRating=!1,void this.$apply();var i=r.findIndex(function(e){return e.aid===t.aid});this.sortedAnswerList=this.sortedAnswerList.slice(i+1),this.sortedAnswerList[0]&&(this.aid=this.sortedAnswerList[0].aid),this.switchAnswer(this.aid)},switchToRating:function(){var e=this;this.isRating=!0,this.$nextTick(function(){var t=e.$wxpage.selectComponent("#rating-form");t&&t.reset(e.answerDetail)})},onShowOptions:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o,u,c,p,l,h,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.detail,n=r.answer,a=r.OPERATIONS,i=this.group,s=this.user,o=i&&i.partner||{},u=this.checkCanRating(),c=s&&n.uid===s.uid,p=o&&n.child===o.child,l=[],(u||c||p)&&l.push(a.SEND_TO_DIALOG),(c||p)&&l.push(n.extras&&n.extras.hide_answer?a.SHOW_ANSWER:a.HIDE_ANSWER),u&&n.video&&l.push(a.DOWNLOAD_VIDEO),e.next=12,(0,_clientUtil.showActionSheet)({itemList:l});case 12:if(h=e.sent,d=l[h.tapIndex]){e.next=16;break}return e.abrupt("return");case 16:f=this.$wxpage.selectComponent("#answer-detail-"+n.aid),f&&f.onOptionChoosen(d);case 18:case"end":return e.stop()}},e,this)}));return e}(),onAnswerDelete:function(){_wepy2.default.navigateBack()},onShowSupplementForm:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.showSupplementForm=!0,this.isRating=!1,this.$apply(),e.next=5,(0,_delay2.default)(100);case 5:wx.pageScrollTo({selector:"#pageBottom"});case 6:case"end":return e.stop()}},e,this)}));return e}(),checkBeforePreview:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o,u,c,p,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.group.partner||this.isSystemAdmin){e.next=2;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"只有班级成员才能查看作业文件",showCancel:!1,confirmText:"好的"}));case 2:if(r=this.answerDetail.hid,n=this.user.uid,a=this.group.partner,i=t.detail,s=i.key,o=i.data,u=i.callback,c={playVideo:function(e){return _wepy2.default.navigateTo({url:"/pages/video?video="+e})},previewImage:function(e){var t=e.current,r=e.list;return _wepy2.default.previewImage({current:t,urls:r})},playVoice:u}[s],e.t0=!(this.isMyAnswer()||this.checkCanRating()||this.isSystemAdmin||this.isVipOrTeacher()),!e.t0){e.next=12;break}return e.next=11,this.isAdRewardExpired();case 11:e.t0=e.sent;case 12:if(!(p=e.t0)){e.next=20;break}return this.videoAd&&(this.videoAd.offClose(),this.videoAd.onClose(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.isEnded){e.next=6;break}return n=Date.now()+_constances.HOMEWORK_REWARDED_AD_INTERVAL_MS,e.next=4,(0,_clientUtil.setStorageSync)("HOMEWORK_"+r+"_CONSULT_EXPIRATION",n);case 4:return e.next=6,c(o);case 6:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}())),e.next=17,this.showPaidOptions();case 17:return e.abrupt("return",e.sent);case 20:return e.next=22,c(o);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}},e,this)}));return e}(),save:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o,u,c,p,l,h,d,f,m,w,g,_,v,y,x,k,R,b,T,A,S=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.detail.formId,n=this.answerDetail,a=n.aid,i=n.hid,s=this.remark,o=this.images,u=void 0===o?[]:o,c=this.voices,p=void 0===c?[]:c,l=this.video,e.next=5,_wepy2.default.showLoading({title:"提交中...",mask:!0});case 5:return e.next=7,(0,_request2.default)({url:_config.api.answerSupplement.create.url,data:{remark:s,formId:r,aid:a}});case 7:if(h=e.sent,!h.data||!h.data.cmd){e.next=89;break}d=h.data.result.id,e.prev=10,f=!0,m=!1,w=void 0,e.prev=14,g=u.filter(function(e){return e.temp})[Symbol.iterator]();case 16:if(f=(_=g.next()).done){e.next=25;break}return v=_.value,y=this.getUploadKey(v.path,d),e.next=21,(0,_request2.default)({url:_config.api.answerSupplement.attachFile.url,data:{supplement_id:d,src:v.path,dest:y,type:"image"}});case 21:this.getTmpPathManager().remove(i,"image",v.path);case 22:f=!0,e.next=16;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(14),m=!0,w=e.t0;case 31:e.prev=31,e.prev=32,!f&&g.return&&g.return();case 34:if(e.prev=34,!m){e.next=37;break}throw w;case 37:return e.finish(34);case 38:return e.finish(31);case 39:x=!0,k=!1,R=void 0,e.prev=42,b=p.filter(function(e){return e.temp})[Symbol.iterator]();case 44:if(x=(T=b.next()).done){e.next=53;break}return A=T.value,y=this.getUploadKey(A.path,d),e.next=49,(0,_request2.default)({url:_config.api.answerSupplement.attachFile.url,data:{supplement_id:d,src:A.path,dest:y,type:"voice"}});case 49:this.getTmpPathManager().remove(i,"voice",A.path);case 50:x=!0,e.next=44;break;case 53:e.next=59;break;case 55:e.prev=55,e.t1=e.catch(42),k=!0,R=e.t1;case 59:e.prev=59,e.prev=60,!x&&b.return&&b.return();case 62:if(e.prev=62,!k){e.next=65;break}throw R;case 65:return e.finish(62);case 66:return e.finish(59);case 67:if(!l){e.next=75;break}return y=this.getUploadKey(this.video.path,d),e.next=71,(0,_request2.default)({url:_config.api.answerSupplement.attachFile.url,data:{supplement_id:d,src:this.video.path,dest:y,type:"video"}});case 71:this.tempVideoKey=y,this.$apply(),setTimeout(function(){S.tempVideoKey=null,S.$apply()},5e3),this.getTmpPathManager().remove(i,"video",this.video.path);case 75:e.next=83;break;case 77:return e.prev=77,e.t2=e.catch(10),(0,_clientUtil.hideLoading)(),e.next=82,_wepy2.default.showModal({title:"提示",content:e.t2.message||"更正作业文件出错!",showCancel:!1});case 82:return e.abrupt("return",e.sent);case 83:return e.next=85,this.updateAnswer(a);case 85:this.showSupplementForm=!1,this.$apply(),e.next=90;break;case 89:return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:h.data.msg||"更正作业失败!",showCancel:!1}));case 90:return e.next=92,(0,_clientUtil.setStorageSync)("CALENDAR_NEED_REFRESH",!0);case 92:return this.initSubmitFormData(),e.next=95,_wepy2.default.stopPullDownRefresh();case 95:return(0,_clientUtil.hideLoading)(),e.next=98,this.methods.fetchSupplementList({aid:a,page:1,pageSize:999});case 98:return e.abrupt("return",wx.pageScrollTo({selector:"#pageBottom"}));case 99:case"end":return e.stop()}},e,this,[[10,77],[14,27,31,39],[32,,34,38],[42,55,59,67],[60,,62,66]])}));return e}(),chooseVideo:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,(0,_clientUtil.chooseVideo)({maxDuration:60,compressed:!0});case 4:t=e.sent,e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.errCode!==_exceptions.ValidationError.CHOOSE_VIDEO_EXCEED_SIZE_LIMIT){e.next=11;break}return e.abrupt("return");case 11:return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:e.t0.message,showCancel:!1}));case 12:return e.next=14,this.getTempKey("video");case 14:return r=e.sent,this.coverPath=r+"-cover",e.prev=16,e.next=19,_wepy2.default.showLoading({title:"上传中...",mask:!0});case 19:return e.next=21,(0,_upload2.default)({url:_config.qiniu,filePath:t.tempFilePath,name:"file",formData:{key:r,type:"video",coverless:!1}});case 21:this.video={id:(new Date).getTime(),path:r,loadingCover:!0,cdnPath:(0,_cdnurl2.default)(r,null)},this.getTmpPathManager().set(this.answerDetail.hid,"video",r),(0,_clientUtil.hideLoading)(),this.$apply(),e.next=32;break;case 27:return e.prev=27,e.t1=e.catch(16),(0,_clientUtil.hideLoading)(),e.next=32,_wepy2.default.showModal({title:"提示",content:"视频上传失败",showCancel:!1});case 32:case"end":return e.stop()}},e,this,[[1,7],[16,27]])}));return e}(),startRecord:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.$wxpage.selectComponent("#answer-recorder"),e.t0=r,!e.t0){e.next=5;break}return e.next=5,r.start();case 5:case"end":return e.stop()}},e,this)}));return e}(),onRecorderStop:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.detail||{},n=r.tempFilePath,a=r.duration,e.next=4,this.getTempKey("voice",null,a);case 4:i=e.sent,e.prev=5,this.uploadTempFile(n,i,"voice"),this.getTmpPathManager().set(this.answerDetail.hid,"voice",i),this.voices.push({path:i,temp:!0,local:!1,cdnPath:(0,_cdnurl2.default)(i,null,!0)}),this.$apply(),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(5),new Error(e.t0.message||"录音上传失败");case 15:e.next=22;break;case 17:return e.prev=17,e.t1=e.catch(0),console.log(e.t1),e.next=22,_wepy2.default.showModal({title:"录音失败",content:e.t1.message||"录音初始化失败",showCancel:!1});case 22:case"end":return e.stop()}},e,this,[[0,17],[5,12]])}));return e}(),chooseAndUploadImage:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_clientUtil.chooseImage)({count:9-this.images.length});case 2:t=e.sent,r=t.tempFilePaths,n=[],a=0;case 6:if(!(a<r.length)){e.next=24;break}return i=r[a],e.prev=8,e.next=11,this.getTempKey("image",a+1);case 11:return s=e.sent,e.next=14,this.uploadTempFile(i,s,"image");case 14:this.getTmpPathManager().set(this.answerDetail.hid,"image",s),n.push(s),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),console.log("上传图片出错",e.t0);case 21:a++,e.next=6;break;case 24:if(!((o=r.length-n.length)>0)){e.next=28;break}return e.next=28,_wepy2.default.showModal({title:"提示",content:"有"+o+"张图片上传失败",showCancel:!1});case 28:this.images=[].concat(_toConsumableArray(this.images),_toConsumableArray(n.map(function(e){return{path:e,temp:!0}}))),this.$apply();case 30:case"end":return e.stop()}},e,this,[[8,18]])}));return e}(),previewMixedImage:function(e,t,r){var n=function(e){return e.local?e.path:(0,_cdnurl2.default)(e.path)+"-rating"};_wepy2.default.previewImage({current:n(e),urls:t.map(n)})},playVideo:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/pages/video?video="+t});case 2:case"end":return e.stop()}},e,this)}));return e}(),bindRemarkChange:function(e){this.remark=e.detail.value,this.textareaFocus=!1},bindFoucs:function(e){this.textareaFocus=!0},deleteImage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.images[t],e.next=3,_wepy2.default.showModal({title:"温馨提示",content:"确定删除此图片"});case 3:n=e.sent,n.confirm&&(this.getTmpPathManager().remove(this.hid,"image",r.path),this.images.splice(t,1),this.$apply());case 5:case"end":return e.stop()}},e,this)}));return e}(),deleteVoice:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.voices[t],e.next=3,_wepy2.default.showModal({title:"温馨提示",content:"确定删除此录音"});case 3:n=e.sent,n.confirm&&(this.getTmpPathManager().remove(this.hid,"voice",r.path),this.voices.splice(t,1),this.$apply());case 5:case"end":return e.stop()}},e,this)}));return e}(),deleteVideo:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"温馨提示",content:"确定删除此视频"});case 2:t=e.sent,t.confirm&&(this.getTmpPathManager().remove(this.hid,"video",this.video.path),this.video=null,this.$apply());case 4:case"end":return e.stop()}},e,this)}));return e}()},i=n,_possibleConstructorReturn(a,i)}return _inherits(t,e),_createClass(t,[{key:"isMyAnswer",value:function(){var e=this.answerDetail||{},t=e.uid,r=e.child,n=this.user||{},a=n.uid,i=this.group||{},s=i.partner;return t&&t===a||s&&r==s.child}},{key:"isVipOrTeacher",value:function(){var e=this.group,t=this.user,r=e||{},n=r.partner,a=r.vip_expired_at,i=r.vips,s=void 0===i?[]:i,o=t&&s.find(function(e){return e.uid===t.uid});return n&&"T"===n.type||o||a&&new Date(a)>=new Date}},{key:"initVideoAd",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.user.uid,n=this.group.partner,!(a=!(this.isMyAnswer()||this.checkCanRating()||this.isVipOrTeacher()||this.isSystemAdmin))){e.next=16;break}return i=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.hasAd=!1,o.$apply();case 2:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.hasAd=!0,o.$apply();case 2:case"end":return e.stop()}},e,o)}));return function(){return e.apply(this,arguments)}}(),e.prev=6,e.next=9,(0,_getRewardedVideoAd2.default)({key:"homework_rewarded",onError:i.bind(this),onLoad:s.bind(this)});case 9:this.videoAd=e.sent,this.$apply(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[6,13]])}));return e}()},{key:"showRewardedAd",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.videoAd){e.next=9;break}return e.prev=1,e.next=4,this.videoAd.loadAndShow();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),_wepy2.default.showModal({title:"提示",content:"获取广告失败: "+e.t0.message,showCancel:!1});case 9:case"end":return e.stop()}},e,this,[[1,6]])}));return e}()},{key:"showPaidOptions",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.group.gid,r=this.videoAd&&this.hasAd?["成为VIP，直接看","看广告后免费查看"]:["成为VIP，直接看"],e.prev=2,e.next=5,(0,_clientUtil.showActionSheet)({itemList:r});case 5:if(n=e.sent,0!=(a=n.tapIndex)){e.next=11;break}return e.abrupt("return",_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+t}));case 11:if(1!=a){e.next=13;break}return e.abrupt("return",this.showRewardedAd());case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return");case 18:case"end":return e.stop()}},e,this,[[2,15]])}));return e}()},{key:"isAdRewardExpired",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.answerDetail.hid,r=_wepy2.default.getStorageSync("HOMEWORK_"+t+"_CONSULT_EXPIRATION"),n=r<Date.now(),r&&n&&_wepy2.default.removeStorageSync("HOMEWORK_"+t+"_CONSULT_EXPIRATION"),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"checkCanRating",value:function(){var e=this.group,t=this.user,r=this.homeworkDetail;return r&&t&&(r.rating_uid==t.uid||r.publisher&&r.publisher.partner&&r.uid==t.uid)||e&&e.partner&&"T"===e.partner.type}},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$data.answerDetail=null,this.aid=t.aid,this.hid=t.hid,this.isRating="true"===t.rating,this.showSupplementForm=!this.isRating&&"true"===t.supplement,this.isSystemAdmin="admin"===t.from||"help"===t.from,this.showHomeworkBtn=1===getCurrentPages().length,this.$apply(),e.next=10,_wepy2.default.$instance.logined();case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShow",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._pageLoaded){e.next=7;break}return e.next=3,this.refreshData();case 3:t=e.sent,this._pageLoaded=!0,this.$apply(),this.isRating&&this.$nextTick(function(){var e=r.$wxpage.selectComponent("#rating-form");e&&e.reset(t)});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData(!0);case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,u,c,p,l,h,d,f,m,w,g,_,v,y,x,k,R,b,T,A=this,S=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=null,r=null,n=this.answers,a=this.user){e.next=8;break}return e.next=8,_wepy2.default.$instance.logined();case 8:return e.next=10,this.methods.fetchAnswer({aid:this.aid});case 10:if(i=e.sent,s=i.payload){e.next=14;break}throw new Error("找不到该作业提交记录");case 14:if(t){e.next=22;break}return e.next=17,this.methods.getOrFetchHomework(s.hid,S);case 17:if(o=e.sent,u=o.payload){e.next=21;break}throw new Error("获取作业详情出错");case 21:t=u;case 22:if(r){e.next=33;break}return e.next=25,this.methods.getOrFetchGroup(t.gid,S);case 25:if(c=e.sent,p=c.payload){e.next=29;break}throw new Error("获取班级信息出错");case 29:r=p,l=r,h=l.created_at,d=l.partner,(0,_shouldShowAd2.default)(h,d&&d.type)&&!this.isVipOrTeacher()&&(0,_createInterstitialAd2.default)("homework_interstitial"),this.initVideoAd(s.hid);case 33:if((!this.checkCanRating()||n)&&n.length){e.next=39;break}return e.next=36,this.methods.fetchAnswerList({hid:t.hid});case 36:f=e.sent,m=f.payload,n=m;case 39:return n&&n.length&&!this._answerListLoaded&&(w=(n||[]).sort(function(e,t){return new Date(e)-new Date(t)}),w.sort(function(e,t){return e.rating-t.rating}),g=w.findIndex(function(e){return e.aid===A.aid}),_=w.splice(g,1),g>-1&&w.splice.apply(w,[0,0].concat(_toConsumableArray(_))),this.sortedAnswerList=w.filter(function(e){return null==e.rating_date}),this.$apply()),s.supplement_count?this.methods.fetchSupplementList({aid:s.aid,page:1,pageSize:999}):_wepy2.default.$store.dispatch({type:"FETCH_SUPPLEMENT_LIST",payload:{items:[],pagination:{current:1,pageSize:999,total:0}}}),e.abrupt("return",s);case 44:return e.prev=44,e.t0=e.catch(0),console.log("error",e.t0),v=this.hid,y=1===getCurrentPages().length,x=y?"返回首页":"返回",k=v?"查看作业":x,R=Boolean(v),b=y?function(){return _wepy2.default.reLaunch({url:"/pages/index"})}:function(){return _wepy2.default.navigateBack()},e.next=55,_wepy2.default.showModal({title:"提示",content:e.t0.message||"获取作业提交记录出错!",showCancel:R,cancelText:x,confirmText:k});case 55:if(T=e.sent,!T.confirm){e.next=64;break}if(!v){e.next=61;break}return e.abrupt("return",_wepy2.default.redirectTo({url:"/pages/homework?hid="+this.hid}));case 61:b();case 62:e.next=65;break;case 64:b();case 65:case"end":return e.stop()}},e,this,[[0,44]])}));return e}()},{key:"onHide",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},{key:"onUnload",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.videoAd=null;case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"initSubmitFormData",value:function(){this.images=this.getTmpPathManager().get(this.hid,"image").map(function(e){return{path:e.path,local:!1,temp:!0}}),this.voices=this.getTmpPathManager().get(this.hid,"voice").map(function(e){return{path:e.path,local:!1,temp:!0,cdnPath:(0,_cdnurl2.default)(e.path,null,!0)}});var e=this.getTmpPathManager().get(this.hid,"video")[0]||null;this.video=e?{id:(new Date).getTime(),path:e.path,cdnCoverpath:(0,_cdnurl2.default)(e.path+"-cover"),cdnPath:(0,_cdnurl2.default)(e.path,null,!0)}:null,this.$apply()}},{key:"updateAnswer",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.methods.fetchAnswer({aid:t});case 2:return r=e.sent,n=r.payload,e.next=6,_wepy2.default.$store.dispatch({type:"UPDATE_ANSWER",payload:n});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"getTempKey",value:function(){function e(e,r,n){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var a,i,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||1,a=this.answerDetail,i=a.hid,s=a.aid,o=this.group.gid,e.abrupt("return","tmp/"+o+"/homework/"+i+"/answer/"+s+"/supplement/"+t+"/"+r+"/"+Date.now()+(n?"/d"+n:""));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUploadKey",value:function(e,t){var r=this.hid,n=(this.group.gid,this.answerDetail.aid);return e.replace(/^tmp\//,"").replace(r+"/answer/"+n+"/supplement",r+"/answer/"+n+"/supplement/"+t)}}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(AnswerPage,"pages/answer")); 
 			}); 	require("pages/answer.js");
 		__wxRoute = 'pages/help';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/help.js';	define("pages/help.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),HelpPage=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.config={navigationBarTitleText:"作业案例",enablePullDownRefresh:!1},n.computed={contactSession:function(){var e=this.user;return e&&JSON.stringify({nickName:e.nickname,avatarUrl:e.avatar})}},n.data={user:null,tabs:["简介","管理员","老师","家长"],activeIndex:null,sliderOffset:0,sliderLeft:0,func:["布置","提交","查看","批改","成长日历","分享"],showIndex:null,calender:"成长日历可以回顾过去某一天所要提交的作业，查看孩子从小的成长足迹<br/>①日历点选相应有作业的日期，显示当日作业<br/>②点击某项作业可进入相关作业详情",groupmessage:"1.当天作业列表，绿色勾表示已经确认完成<br/>2.布置作业，老师或家委可见<br/>3.成长日历，可以浏览过去的作业<br/>4.群组成员，显示当前班级的参与者以及管理者<br/>5.班级设置，管理者设置班级花名册以及其他信息<br/>6.帮助，显示帮助页面<br/>7.班级列表，返回小程序首页，显示我所加入的班级<br/>",HELP_PATH:(0,_cdnurl2.default)("help2/")},n.components={},n.computed={},n.methods={tabClick:function(e){this.sliderOffset=e.currentTarget.offsetLeft,this.activeIndex=e.currentTarget.id},toggleShow:function(e){this.showIndex=this.showIndex==e?null:parseInt(e),this.$apply()}},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.$instance.onLoad(t);case 2:return this.activeIndex=parseInt(t.tabId)||0,this.sliderOffset=parseInt(t.slider)||0,e.next=6,_wepy2.default.$instance.logined();case 6:r=e.sent,n=r.user,this.user=n,this.$apply();case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShareAppMessage",value:function(){var e=_wepy2.default.$instance.onShareAppMessage();return{title:(e.nickname||"我")+"告诉您怎样使用作业登记簿啦！",path:"/pages/help?tabId="+this.activeIndex+"&slider="+this.sliderOffset+"&suid="+e.suid}}}]),t}(_wepy2.default.page);Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(HelpPage,"pages/help")); 
 			}); 	require("pages/help.js");
 		__wxRoute = 'pages/video';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/video.js';	define("pages/video.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_clientUtil=require("./../utils/clientUtil.js"),Video=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var a=arguments.length,u=Array(a),i=0;i<a;i++)u[i]=arguments[i];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.config={navigationBarTitleText:"视频",usingComponents:{"auth-modal":"/wx_components/auth_modal/index"}},n.data={url:null},n.methods={handleLongpress:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_clientUtil.showActionSheet)({itemList:["下载视频"]});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:if(t=this.$wxpage.selectComponent("#auth-modal"),e.t1=!t,e.t1){e.next=14;break}return e.next=13,t.authorize("scope.writePhotosAlbum");case 13:e.t1=!e.sent;case 14:if(!e.t1){e.next=16;break}return e.abrupt("return");case 16:return e.prev=16,e.next=19,_wepy2.default.showLoading({title:"正在下载...",mask:!0});case 19:return r=this.url.match(/com\/(\S*)/)[1],e.next=22,_wepy2.default.downloadFile({url:(0,_cdnurl2.default)(r,null,!0)});case 22:if(n=e.sent,o=n.tempFilePath,(0,_clientUtil.hideLoading)(),o){e.next=27;break}throw new Error("获取下载视频的本地路径失败");case 27:return e.next=29,_wepy2.default.saveVideoToPhotosAlbum({filePath:o});case 29:return e.next=31,_wepy2.default.showToast({title:"保存成功",icon:"success",duration:2e3,mask:!0});case 31:e.next=37;break;case 33:return e.prev=33,e.t2=e.catch(16),e.next=37,_wepy2.default.showModal({title:"提示",content:e.t2.message||"下载视频失败",showCancel:!1});case 37:case"end":return e.stop()}},e,this,[[0,5],[16,33]])}));return e}(),onError:function(e){console.log("error",e)}},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.url=t.video;case 1:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page);Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(Video,"pages/video")); 
 			}); 	require("pages/video.js");
 		__wxRoute = 'pages/configure';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/configure.js';	define("pages/configure.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var s=t[a](i),u=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function getOperations(){return[{key:"GROUP",label:"班级",src:"../images/svgs/jinrizuoye.svg",isVisible:!0,onTap:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(getCurrentPages().length>1)){e.next=6;break}return e.next=3,_wepy2.default.navigateBack();case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,_wepy2.default.reLaunch({url:"group?gid="+this.gid});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"INVITE",label:"邀请成员",src:"../images/svgs/yaoqingchengyuan.svg",btnType:"share",isVisible:!0},{key:"FOLLOW",label:"订阅通知",src:"../images/svgs/shezhitixing.svg",isVisible:function(e){return!e.user.pxx_subscribed},onTap:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.toggleFollowModal(!0);case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"NOTIFICATION",label:"设置提醒",src:"../images/svgs/shezhitixing.svg",isVisible:function(e){return e.user.pxx_subscribed},onTap:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_wepy2.default.navigateTo({url:"/sp1/pages/notification_setting?gid="+this.gid});case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"TRANSFER",label:"转让权限",src:"../images/svgs/zhuanrangquanxian.svg",isVisible:function(e){return e.user.uid==e.group.partner.uid&&e.isAdmin&&e.partners.length>0}},{key:"QUIT",label:"退出班级",src:"../images/svgs/tuichubanji.svg",isVisible:function(e){return e.user.uid==e.group.partner.uid&&!e.isAdmin},onTap:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"温馨提示",content:"退出后将不再显示当前班级"});case 2:if(r=e.sent,!r.confirm){e.next=16;break}return n={pid:this.group.partner.id},e.next=7,(0,_request2.default)({url:_config.api.group.quit.url,data:n});case 7:if(a=e.sent,i=a.data,!i.cmd){e.next=14;break}return e.next=12,_wepy2.default.reLaunch({url:"/pages/index"});case 12:e.next=16;break;case 14:return e.next=16,_wepy2.default.showModal({title:"提示",content:i.msg,showCancel:!1});case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"CUSTOM_SERVICE",label:"联系客服",src:"../images/svgs/lianxikefu.svg",btnType:"contact",isVisible:!0}]}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_pxx_follow_tips=require("./../components/pxx_follow_tips.js"),_pxx_follow_tips2=_interopRequireDefault(_pxx_follow_tips),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_constances=require("./../utils/constances.js"),_clientUtil=require("./../utils/clientUtil.js"),ConfigurePage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||{}}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.config={navigationBarTitleText:"作业登记簿",usingComponents:{"follow-modal":"/wx_components/follow_modal/index"}},n.components={followtips:_pxx_follow_tips2.default},n.data={CDN_HOST:_config.CDN_HOST,gid:null,isAdmin:!1,user:{},dirty:{},countIndex:0,counts:[],list:[],memberList:[],partner:null,partners:[],needConfirm:[],notJoinList:[],notFollowList:[],confirmed:[],desc:"● 首个分享者成为群小程序管理员<br/>● 红色标记提示管理员未确认身份<br/>● *号标记为可代发作业的家委<br/>● 确认开课后进入班级页面，即可布置作业，提交作业等",config:!0,hasMembers:!1,roleIndex:0,activeTab:"PARTNERS",TABS:{NOT_SURE:{offset:0},PARTNERS:{offset:1},MEMBERS:{offset:2}},members_remark:{},STATUS_REMARK:_constances.MEMBER_STATUS_REMARK,adminName:""},n.computed={contactSession:function(){var e=this.user;return e&&JSON.stringify({nickName:e.nickname,avatarUrl:e.avatar})},operations:function(){var e=this;return getOperations().filter(function(t){if(!0===t.isVisible)return!0;if("function"==typeof t.isVisible)try{return t.isVisible(e)}catch(e){return!1}})}},n.methods={copyNotFollow:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wx.setClipboardData({data:"请以下成员关注'爱拼堆'公众号，以接收班级通知: \n"+this.notFollowList.map(function(e){return e.name}).join(", ")});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}));return e}(),copyNotJoin:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wx.setClipboardData({data:"请以下同学点击分享链接或联系管理员"+this.group.admin.nickname+", 尽快加入班级: \n"+this.notJoinList.map(function(e){return e.name}).join(", ")});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}));return e}(),tabClick:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.activeTab=t,this.$apply();case 2:case"end":return e.stop()}},e,this)}));return e}(),onOperationTap:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=getOperations().find(function(e){return e.key===t}),"function"==typeof r.onTap&&r.onTap.bind(this)();case 2:case"end":return e.stop()}},e,this)}));return e}(),onFollowModalHide:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.getStorageSync("NEED_REDIRECT_TO");case 2:if(!(t=e.sent)){e.next=7;break}return e.next=6,_wepy2.default.removeStorageSync("NEED_REDIRECT_TO");case 6:_wepy2.default.redirectTo({url:t});case 7:case"end":return e.stop()}},e,this)}));return e}(),toCustomService:function(){this.$invoke("followtips","toCustomSevice")},quitGroup:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"温馨提示",content:"退出后将不再显示当前班级"});case 2:if(r=e.sent,!r.confirm){e.next=16;break}return n={pid:this.group.partner.id},e.next=7,(0,_request2.default)({url:_config.api.group.quit.url,data:n});case 7:if(a=e.sent,i=a.data,!i.cmd){e.next=14;break}return e.next=12,_wepy2.default.reLaunch({url:"/pages/index"});case 12:e.next=16;break;case 14:return e.next=16,_wepy2.default.showModal({title:"提示",content:i.msg,showCancel:!1});case 16:case"end":return e.stop()}},e,this)}));return e}(),toConfig:function(){if(this.isAdmin)return _wepy2.default.navigateTo({url:"/sp7/pages/group_edit?gid="+this.group.gid})},forceToConfig:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.group.partner,e.next=3,_wepy2.default.navigateTo({url:"/sp7/pages/profile?pid="+r.id+"&only="+t});case 3:case"end":return e.stop()}},e,this)}));return e}(),switchToConfig:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.group.partner,n=r.type,a=r.apply,i=n==a,this.config){e.next=8;break}return e.next=7,_wepy2.default.navigateTo({url:"/sp7/pages/profile?pid="+r.id});case 7:return e.abrupt("return");case 8:if(this.isAdmin||!(["P","S"].indexOf(n)>-1)){e.next=12;break}return e.next=11,_wepy2.default.showModal({title:"温馨提示",content:"您已经绑定学生,请联系管理员修改",showCancel:!1});case 11:return e.abrupt("return");case 12:if(this.isAdmin||"V"!=a){e.next=16;break}return e.next=15,_wepy2.default.navigateTo({url:"/sp7/pages/profile?pid="+r.id+"&only="+t});case 15:return e.abrupt("return");case 16:if(!this.isAdmin&&(this.isAdmin||i)&&(this.isAdmin||"T"!=n)){e.next=20;break}return e.next=19,_wepy2.default.navigateTo({url:"/sp7/pages/profile?pid="+r.id});case 19:return e.abrupt("return");case 20:case"end":return e.stop()}},e,this)}));return e}(),confirmDetail:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.name&&t.phone&&this.showPropList(t);case 1:case"end":return e.stop()}},e,this)}));return e}(),confirmClass:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAdmin){e.next=2;break}return e.abrupt("return");case 2:if(this.group.name&&this.group.school){e.next=8;break}return e.next=5,_wepy2.default.showModal({title:"确认开班",content:"请输入班级名(学校名)哦！"});case 5:return e.next=7,_wepy2.default.navigateTo({url:"/sp7/pages/group_edit?gid="+this.group.gid});case 7:return e.abrupt("return");case 8:if(this.group.partner.remark){e.next=15;break}return e.next=11,_wepy2.default.showModal({title:"确认开班",content:"亲爱的管理员，请先设个人身份信息哦",showCancel:!1});case 11:return t=e.sent,e.next=14,_wepy2.default.navigateTo({url:"/sp7/pages/profile?pid="+this.group.partner.id});case 14:return e.abrupt("return");case 15:return e.next=17,_wepy2.default.showModal({title:"确认开班",content:"点击确认正式开班哦"});case 17:if(r=e.sent,!r.confirm){e.next=39;break}return n={gid:this.group.gid},e.next=22,(0,_request2.default)({url:_config.api.group.setup.url,data:n});case 22:return a=e.sent,i=a.data,e.next=26,_wepy2.default.showToast({title:"开班成功！",icon:"success",duration:1500,mask:!0});case 26:return e.next=28,this.refreshData(!0);case 28:if(!i.cmd){e.next=37;break}if(this.user.pxx_subscribed){e.next=33;break}return e.next=32,(0,_clientUtil.setStorageSync)("NEED_REDIRECT_TO","group?gid="+this.group.gid);case 32:return e.abrupt("return",this.toggleFollowModal(!0));case 33:return e.next=35,_wepy2.default.redirectTo({url:"/pages/group?gid="+this.group.gid});case 35:e.next=39;break;case 37:return e.next=39,_wepy2.default.showModal({title:"提示",content:i.msg,showCancel:!1});case 39:case"end":return e.stop()}},e,this)}));return e}(),visitorList:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.memberList,n=this.user,a=this.group,r.length){e.next=4;break}return console.log("没有设置花名册"),e.abrupt("return");case 4:if(t.name||t.phone||n.uid!=t.uid){e.next=9;break}return e.next=7,_wepy2.default.navigateTo({url:"/sp7/pages/profile?pid="+a.partner.id});case 7:e.next=10;break;case 9:this.showPropList(t);case 10:case"end":return e.stop()}},e,this)}));return e}(),bindMemberChange:function(e){this.memberIndex=e.detail.value},bindPartnerChange:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.partners,n=this.user,a=t.detail.value,i=r.filter(function(e){return"V"!=e.type&&e.uid!=n.uid})[a],e.next=5,_wepy2.default.showModal({title:"请认真确认",content:"确认要转让班级管理员权限么?"});case 5:if(s=e.sent,s.confirm){e.next=8;break}return e.abrupt("return");case 8:return u={url:_config.api.group.role.url,data:{gid:i.gid,uid:i.uid}},e.next=11,(0,_request2.default)(u);case 11:if(o=e.sent,!o.data.cmd){e.next=17;break}return e.next=15,this.refreshData(!0);case 15:e.next=19;break;case 17:return e.next=19,_wepy2.default.showModal({title:"提示",content:o.data.msg||"转让管理员失败",showCancel:!1});case 19:case"end":return e.stop()}},e,this)}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"showPropList",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,u,o,c,p,l,f,d,h,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],n={PHONE_CALL:"拨打: "+t.phone,ADD_CONTACT:"添加到通讯录",PROFILE_SETTING:"设置身份信息",PROFILE_CONFIRM:"确认 "+this.getRoleType(t.apply)+" 身份",SET_AS_ADMIN:"转让管理权限",REMOVE_PARTNER:"删除此成员"},a=this.isAdmin,i=this.group,s=this.user,u=t.uid!=i.admin_uid,o=i.partner&&"T"===i.partner.type,t.name&&t.phone?(!a&&!o&&t.privacy||s.uid==t.uid||(r.push(n.PHONE_CALL),r.push(n.ADD_CONTACT)),(a||s.uid==t.uid)&&r.push(n.PROFILE_SETTING),a&&t.type!=t.apply&&r.push(n.PROFILE_CONFIRM),a&&u&&("V"!=t.type&&r.push(n.SET_AS_ADMIN),r.push(n.REMOVE_PARTNER))):!t.name&&!t.phone&&a&&u&&r.push(n.REMOVE_PARTNER),0!=r.length){e.next=8;break}return e.abrupt("return");case 8:return e.prev=8,e.next=11,(0,_clientUtil.showActionSheet)({itemList:r});case 11:if(c=e.sent,(p=r[c.tapIndex])!==n.PHONE_CALL){e.next=18;break}return e.next=16,_wepy2.default.makePhoneCall({phoneNumber:t.phone});case 16:e.next=64;break;case 18:if(p!==n.ADD_CONTACT){e.next=23;break}return e.next=21,_wepy2.default.addPhoneContact({firstName:t.name,mobilePhoneNumber:t.phone});case 21:e.next=64;break;case 23:if(p!==n.SET_AS_ADMIN){e.next=42;break}return e.next=26,_wepy2.default.showModal({title:"请认真确认",content:"确认要转让班级管理员权限么?"});case 26:if(l=e.sent,l.confirm){e.next=29;break}return e.abrupt("return");case 29:return f={url:_config.api.group.role.url,data:{gid:t.gid,uid:t.uid}},e.next=32,(0,_request2.default)(f);case 32:if(d=e.sent,!d.data.cmd){e.next=38;break}return e.next=36,this.refreshData(!0);case 36:e.next=40;break;case 38:return e.next=40,_wepy2.default.showModal({title:"提示",content:d.data.msg||"转让管理员失败",showCancel:!1});case 40:e.next=64;break;case 42:if(p!==n.PROFILE_SETTING){e.next=47;break}return e.next=45,_wepy2.default.navigateTo({url:"/sp7/pages/profile?pid="+t.id});case 45:e.next=64;break;case 47:if(p!==n.PROFILE_CONFIRM){e.next=61;break}return h={url:_config.api.group.role.url,data:{pid:t.id}},e.next=51,(0,_request2.default)(h);case 51:if(g=e.sent,!g.data.cmd){e.next=57;break}return e.next=55,this.refreshData(!0);case 55:e.next=59;break;case 57:return e.next=59,_wepy2.default.showModal({title:"提示",content:g.data.msg||"确认用户身份失败",showCancel:!1});case 59:e.next=64;break;case 61:if(p!==n.REMOVE_PARTNER){e.next=64;break}return e.next=64,this.deletePartner(t.id);case 64:e.next=68;break;case 66:e.prev=66,e.t0=e.catch(8);case 68:case"end":return e.stop()}},e,this,[[8,66]])}));return e}()},{key:"getRoleType",value:function(e){switch(e){case"T":return"老师";case"P":return"家长";case"S":return"学生";default:return"浏览者"}}},{key:"deletePartner",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"温馨提示",content:"确认要删除该成员么?"});case 2:if(r=e.sent,!r.confirm){e.next=27;break}return e.prev=4,e.next=7,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 7:return e.next=9,(0,_request2.default)({url:_config.api.group.deletePartner.url,data:{pid:t}});case 9:if(n=e.sent,a=n.data,!a.cmd){e.next=19;break}return(0,_clientUtil.hideLoading)(),e.next=15,_wepy2.default.showToast({title:"删除成功",icon:"success",duration:2e3,mask:!0});case 15:return e.next=17,this.refreshData(!0);case 17:e.next=20;break;case 19:throw new Error(a.msg||"删除成员失败");case 20:e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(4),(0,_clientUtil.hideLoading)(),e.next=27,_wepy2.default.showModal({title:"提示",content:e.t0.message||"删除成员失败",showCancel:!1});case 27:case"end":return e.stop()}},e,this,[[4,22]])}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gid=t.gid,e.next=3,_wepy2.default.$instance.onLoad(t);case 3:return e.next=5,_wepy2.default.$instance.logined();case 5:return r=e.sent,n=r.user,this.user=n,e.next=10,this.methods.getOrFetchGroup(this.gid);case 10:this.config=0==this.group.status,this.isAdmin=n&&n.uid==this.group.admin_uid,this.memberList=Object.keys(this.group.members).map(function(e){return{child:parseInt(e)+1,name:a.group.members[e],partners:[]}}),this.notJoinList=[],this.showTipsModal=!1,this.$apply(),_wepy2.default.hideShareMenu();case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShow",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$invoke("followtips","refresh"),e.next=3,this.refreshData();case 3:return e.next=5,_wepy2.default.getStorageSync("NEED_REDIRECT_TO");case 5:if(!(t=e.sent)){e.next=10;break}return e.next=9,_wepy2.default.removeStorageSync("NEED_REDIRECT_TO");case 9:_wepy2.default.redirectTo({url:t});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData(!0);case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShareAppMessage",value:function(){var e=this.group,t=_wepy2.default.$instance.onShareAppMessage();return{title:t.nickname+" 邀请您加入 "+e.name,imageUrl:"../images/share/sharing.png",path:"/pages/index?suid="+t.suid+"&gid="+this.gid,success:t.success,fail:function(e){console.log("fail res: ",e)}}}},{key:"toggleFollowModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$wxpage.selectComponent("#follow-modal");if(t)return e?t.show():t.hide()}},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i=this,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 2:return e.next=4,_wepy2.default.$instance.logined();case 4:return t=e.sent,r=t.user,this.user=r,e.prev=7,e.next=10,this.methods.getOrFetchGroup(this.gid,s);case 10:return this.isAdmin=r&&r.uid==this.group.admin_uid,this.memberList=Object.keys(this.group.members).map(function(e){return{child:parseInt(e)+1,name:i.group.members[e],partners:[]}}),this.notJoinList=[],n={url:_config.api.group.users.url+this.gid},e.next=16,(0,_request2.default)(n);case 16:a=e.sent,this.partners=(a.data.result||[]).sort(function(e,t){return(null==e.child?-1:e.child)-(null==t.child?-1:t.child)}),this.partner=this.partners.find(function(e){return e.uid===r.uid}),this.needConfirm=[],this.notFollowList=[],this.confirmed=[],this.partners.forEach(function(e){if(e.isVip=i.group.vips.findIndex(function(t){return t.uid===e.uid})>-1,e.userNickname=e.user?e.user.nickname:"",e.type==e.apply?i.confirmed.push(e):i.needConfirm.push(e),e.user.pxx_subscribed||i.notFollowList.push(e),"T"!=e.type){var t=i.memberList.find(function(t){return t.child==parseInt(e.child)});t&&t.partners.push(e)}}),this.notJoinList=this.memberList.filter(function(e){return 0===e.partners.length}),this.activeTab=this.needConfirm.length?"NOT_SURE":"PARTNERS",this.members_remark=this.group.members_remark||{},this.adminName=this.partners.find(function(e){return e.uid==i.group.admin.uid}).name,e.next=32;break;case 29:e.prev=29,e.t0=e.catch(7),console.log("获取数据出错",e.t0);case 32:if(this.memberList){e.next=34;break}return e.abrupt("return",_wepy2.default.navigateTo({url:"/sp7/pages/group_edit?gid="+this.group.gid}));case 34:return e.next=36,_wepy2.default.stopPullDownRefresh();case 36:(0,_clientUtil.hideLoading)(),this.$apply();case 38:case"end":return e.stop()}},e,this,[[7,29]])}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(ConfigurePage,"pages/configure")); 
 			}); 	require("pages/configure.js");
 		__wxRoute = 'pages/authorization';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/authorization.js';	define("pages/authorization.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(a,o){try{var u=r[a](o),i=u.value}catch(e){return void t(e)}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_interfaces=require("./../interfaces/index.js"),_interfaces2=_interopRequireDefault(_interfaces),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),Order=function(e){function r(){var e,t,n,a;_classCallCheck(this,r);for(var o=arguments.length,u=Array(o),i=0;i<o;i++)u[i]=arguments[i];return t=n=_possibleConstructorReturn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(u))),n.config={navigationBarBackgroundColor:"#fff",enablePullDownRefresh:!1,navigationBarTitleText:"用户授权"},n.data={config:!0,route:null},n.methods={getUserInfo:function(){function e(e){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.detail,-1==t.errMsg.indexOf("ok")){e.next=10;break}return e.next=4,_wepy2.default.$instance.logined(!0);case 4:return _wepy2.default.showToast({title:"授权成功",icon:"success",duration:1e3}),e.next=7,(0,_delay2.default)(1e3);case 7:return e.abrupt("return",_wepy2.default.reLaunch({url:this.route?this.route:"/pages/index"}));case 10:if(-1==t.errMsg.indexOf("fail")){e.next=15;break}return e.next=13,_wepy2.default.showToast({title:"授权失败",icon:"none",duration:1e3});case 13:return e.next=15,_wepy2.default.navigateBack();case 15:case"end":return e.stop()}},e,this)}));return e}(),toHelp:function(){function e(){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_wepy2.default.navigateTo({url:"/pages/help"});case 1:case"end":return e.stop()}},e,this)}));return e}()},a=t,_possibleConstructorReturn(n,a)}return _inherits(r,e),_createClass(r,[{key:"onLoad",value:function(){function e(e){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.route=decodeURIComponent(r.route),this.$apply();case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShow",value:function(){function e(){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.removeStorageSync("APP_NEED_AUTHORIZAION");case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"onHide",value:function(){function e(){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.removeStorageSync("APP_NEED_AUTHORIZAION");case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"onUnload",value:function(){function e(){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.removeStorageSync("APP_NEED_AUTHORIZAION");case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"initialize",value:function(){function e(){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()}]),r}(_wepy2.default.page);Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(Order,"pages/authorization")); 
 			}); 	require("pages/authorization.js");
 		__wxRoute = 'pages/qrcode';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/qrcode.js';	define("pages/qrcode.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(a,o){try{var c=r[a](o),u=c.value}catch(e){return void t(e)}if(!c.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),Qrcode=function(e){function r(){var e,t,n,a;_classCallCheck(this,r);for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];return t=n=_possibleConstructorReturn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(c))),n.data={},n.config={enablePullDownRefresh:!1},n.methods={},a=t,_possibleConstructorReturn(n,a)}return _inherits(r,e),_createClass(r,[{key:"onLoad",value:function(){function e(e){return r.apply(this,arguments)}var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t,n,a,o,c,u,i,s,l,p,f,d,_,b,h,x,y,w,k=r.q;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:if(k=decodeURIComponent(k).replace(/\/$/,""),t=k.match(/s\/[^/]+$/),n=k.match(/\/h\/[^/]+$/),a=k.match(/a\/[^/]+$/),o=k.match(/hr\/[^/]+$/),c=k.match(/tg\/[^/]+$/),u=k.match(/ll\/[^/]+$/),i=k.match(/cr\/[^/]+$/),s=k.match(/\/dh\/[^/]+$/),!t){e.next=36;break}if(!(l=t&&t[0]&&t[0].replace(/s\//,""))){e.next=34;break}return e.prev=14,e.next=17,(0,_request2.default)({url:_config.api.share.detail.url,data:{share_id:l}});case 17:if(p=e.sent,f=p.data,!f.cmd){e.next=24;break}return e.next=22,_wepy2.default.redirectTo({url:"/pages/index?suid="+f.result.uid});case 22:e.next=28;break;case 24:return e.next=26,_wepy2.default.showModal({title:"提示",content:f.msg||"获取分享信息出错",showCancel:!1});case 26:return e.next=28,_wepy2.default.redirectTo({url:"/pages/index"});case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(14),e.next=34,_wepy2.default.redirectTo({url:"/pages/index"});case 34:e.next=83;break;case 36:if(!n){e.next=43;break}if(!(d=n[0]&&n[0].replace(/\/h\//,""))){e.next=41;break}return e.next=41,_wepy2.default.redirectTo({url:"/pages/homework?hid="+d+"&from=admin"});case 41:e.next=83;break;case 43:if(!c){e.next=50;break}if(!(_=c[0]&&c[0].replace(/tg\//,""))){e.next=48;break}return e.next=48,_wepy2.default.redirectTo({url:"/sp7/pages/group_edit?agent_code="+_});case 48:e.next=83;break;case 50:if(!u){e.next=57;break}if(!(b=u&&u[0]&&u[0].replace(/ll\//,""))){e.next=55;break}return e.next=55,_wepy2.default.redirectTo({url:"/pages/lessons?gid="+b});case 55:e.next=83;break;case 57:if(!a){e.next=64;break}if(!(h=a&&a[0]&&a[0].replace(/a\//,""))){e.next=62;break}return e.next=62,_wepy2.default.redirectTo({url:"announcement?announcement_id="+h});case 62:e.next=83;break;case 64:if(!o){e.next=71;break}if(!(x=o&&o[0]&&o[0].replace(/hr\//,""))){e.next=69;break}return e.next=69,_wepy2.default.redirectTo({url:"homework_report?report_id="+x});case 69:e.next=83;break;case 71:if(!i){e.next=78;break}if(!(y=i&&i[0]&&i[0].replace(/cr\//,""))){e.next=76;break}return e.next=76,_wepy2.default.redirectTo({url:"/sp2/pages/course_record?course_record_id="+y+"&from=admin"});case 76:e.next=83;break;case 78:if(!s){e.next=83;break}if(!(w=s[0]&&s[0].replace(/\/dh\//,""))){e.next=83;break}return e.next=83,_wepy2.default.redirectTo({url:"/sp3/pages/daily_homework_records?daily_homework_id="+w+"&from=admin"});case 83:this.$apply();case 84:case"end":return e.stop()}},e,this,[[14,30]])}));return e}()}]),r}(_wepy2.default.page);Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(Qrcode,"pages/qrcode")); 
 			}); 	require("pages/qrcode.js");
 		__wxRoute = 'pages/albumlist';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/albumlist.js';	define("pages/albumlist.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var u=t[a](i),o=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_clientUtil=require("./../utils/clientUtil.js"),_group=require("./../mixins/group.js"),_group2=_interopRequireDefault(_group),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_shouldShowAd=require("./../utils/shouldShowAd.js"),_shouldShowAd2=_interopRequireDefault(_shouldShowAd),AlbumList=(_dec=(0,_wepyRedux.connect)({user:function(e){return e.user.detail||null},group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),o=0;o<i;o++)u[o]=arguments[o];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.config={navigationBarTitleText:"班级相册",enablePullDownRefresh:!0},n.mixins=[_group2.default],n.data={gid:null,group:null,album:[],page:1,pageTotal:1,fileTotal:0,pageLoaded:!1,showAd:!1},n.computed={myVip:function(){var e=this.user,t=this.group||{},r=t.vips,n=void 0===r?[]:r;return e?n.find(function(t){return t.uid===e.uid}):null},isVipOrTeacher:function(){var e=this.myVip,t=this.group,r=(this.user,t||{}),n=r.partner,a=r.vip_expired_at;return n&&"T"===n.type||e||a&&new Date(a)>=new Date}},n.methods={addAlbum:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.album.length<5||this.album.length>=5&&this.isVipOrTeacher)){e.next=5;break}return e.next=3,_wepy2.default.navigateTo({url:"album_edit?gid="+this.gid});case 3:e.next=8;break;case 5:return e.next=7,_wepy2.default.showModal({title:"提示",content:"只能创建5个免费相册",showCancel:!1});case 7:this.toVipInfo();case 8:case"end":return e.stop()}},e,this)}));return e}(),toAlbum:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.is_vip||this.isVipOrTeacher){e.next=4;break}return e.next=3,_wepy2.default.showModal({title:"提示",content:"付费用户才能查看该相册",showCancel:!1});case 3:return e.abrupt("return",this.toVipInfo());case 4:return e.next=6,_wepy2.default.navigateTo({url:"album?id="+t.id});case 6:case"end":return e.stop()}},e,this)}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"checkIsVip",value:function(){var e=this.user,t=this.group||{},r=t.vips,n=void 0===r?[]:r,a=t.vip_expired_at;console.log(e,n,a);var i=e?n.find(function(t){return t.uid===e.uid}):null,u=a&&new Date(a)>=new Date;return i||u}},{key:"VipOrTeacher",value:function(){var e=this.group||{},t=e.partner,r=this.checkIsVip();return t&&"T"===t.type||r}},{key:"isShow",value:function(){var e=this.group||{},t=e.created_at,r=e.partner,n=this.VipOrTeacher();return!((!(0,_shouldShowAd2.default)(t,r&&r.type)||n)&&null!=n)}},{key:"onShow",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.getStorageSync("COLLECTION_LIST_NEED_REFRESH");case 2:if(!e.sent){e.next=7;break}return e.next=5,_wepy2.default.removeStorageSync("COLLECTION_LIST_NEED_REFRESH");case 5:return e.next=7,this.refreshData();case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a=t.gid;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gid=a,this.showAd=this.isShow(),e.next=4,_wepy2.default.$instance.logined();case 4:return r=e.sent,n=r.user,this.user=n,e.next=9,this.methods.getOrFetchGroup(a);case 9:return this.myVip=this.group.vips.find(function(e){return e.uid==n.uid}),this.$apply(),e.next=13,_wepy2.default.removeStorageSync("COLLECTION_LIST_NEED_REFRESH");case 13:return e.next=15,this.refreshData();case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData();case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"onReachBottom",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.loadingList,r=this.page,n=this.pageTotal,t||!(1===r||1!=r&&n>=r+1)){e.next=6;break}return e.next=4,this.getAlbumList(r+1);case 4:this.page+=1,this.$apply();case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAlbumList",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return wx.pageScrollTo({selector:"#scrollBottom"}),this.loadingList=!0,this.$apply(),_wepy2.default.showLoading({title:"加载中...",mask:!0}),e.next=6,(0,_request2.default)({url:_config.api.album.list.url+this.gid,data:{page:s,pageSize:l}});case 6:if(t=e.sent,!(r=t.data)||!r.cmd){e.next=20;break}n="-320",a=r.result,i=a.list,u=a.pagination,o=a.total,this.fileTotal=u.total,this.pageTotal=Math.ceil(u.total/u.pageSize)||0,i.forEach(function(e,t){e.coverUrl=e.cover?(0,_cdnurl2.default)(e.cover+n):e.files.length?(0,_cdnurl2.default)(e.files[0].path+("video"===e.files[0].type?"-cover":n)):"",e.date=(0,_dateformat2.default)(e.date)}),this.album=1===s?i:[].concat(_toConsumableArray(this.album),_toConsumableArray(i)),this.loadingList=!1,this.$apply(),(0,_clientUtil.hideLoading)(),e.next=25;break;case 20:return(0,_clientUtil.hideLoading)(),e.next=23,_wepy2.default.showModal({title:"提示",content:r.msg||"获取相册列表失败!",showCancel:!1});case 23:return e.next=25,_wepy2.default.navigateBack({delta:1});case 25:return e.next=27,_wepy2.default.stopPullDownRefresh();case 27:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.album=[],this.page=1,this.$apply(),e.next=5,this.getAlbumList();case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"toVipInfo",value:function(){_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+this.gid})}}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(AlbumList,"pages/albumlist")); 
 			}); 	require("pages/albumlist.js");
 		__wxRoute = 'pages/album';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/album.js';	define("pages/album.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var u=t[a](i),o=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_clientUtil=require("./../utils/clientUtil.js"),_showVipRenewalIfNearExpired=require("./../utils/showVipRenewalIfNearExpired.js"),_showVipRenewalIfNearExpired2=_interopRequireDefault(_showVipRenewalIfNearExpired),_exceptions=require("./../exceptions/index.js"),AlbumPage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),o=0;o<i;o++)u[o]=arguments[o];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.config={navigationBarTitleText:"班级相册",enablePullDownRefresh:!0,usingComponents:{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index"}},n.data={collection_id:null,gid:null,album:null,page:1,pageTotal:1,fileTotal:0,images:[],video:null,files:[],user:null,loadingList:!1,isAdmin:!1,isCreator:!1,pageLoaded:!1},n.computed={},n.methods={toEdit:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"album_edit?id="+this.collection_id});case 2:case"end":return e.stop()}},e,this)}));return e}(),chooseImage:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u,o,s,c,l,p,f,d,h,_,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkFileAmountExceed();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,_clientUtil.chooseImage)({count:9-this.images.length});case 6:if(t=e.sent,r=t.tempFilePaths,r.length){e.next=10;break}return e.abrupt("return");case 10:return n=this.collection_id,a=0,i=0,e.next=15,_wepy2.default.showLoading({title:"上传中",mask:!0});case 15:u=this.group.gid,o=0,s=!0,c=!1,l=void 0,e.prev=20,p=r[Symbol.iterator]();case 22:if(s=(f=p.next()).done){e.next=50;break}return d=f.value,h=null,e.prev=25,e.next=28,(0,_request2.default)({url:_config.api.file.create.url,data:{collection_id:n}});case 28:if(_=e.sent,g=_.data,g.cmd){e.next=32;break}throw new Error(g.msg);case 32:h=g.result.id,e.next=41;break;case 35:return e.prev=35,e.t0=e.catch(25),(0,_clientUtil.hideLoading)(),e.next=40,_wepy2.default.showModal({title:"提示",content:e.t0.message||"获取上传凭据出错",showCancel:!1});case 40:return e.abrupt("return",e.sent);case 41:return o+=1,m=u+"/collection/"+n+"/file/"+h+"/image/"+o+"/"+Date.now(),e.next=45,this.uploadOrCancel({filePath:d,key:m,file_id:h,type:"image"});case 45:y=e.sent,y?a++:i++;case 47:s=!0,e.next=22;break;case 50:e.next=56;break;case 52:e.prev=52,e.t1=e.catch(20),c=!0,l=e.t1;case 56:e.prev=56,e.prev=57,!s&&p.return&&p.return();case 59:if(e.prev=59,!c){e.next=62;break}throw l;case 62:return e.finish(59);case 63:return e.finish(56);case 64:return(0,_clientUtil.hideLoading)(),e.next=67,_wepy2.default.showModal({title:"上传完毕",content:(a>0?a+"张上传成功":"")+" "+(i>0?i+"张上传失败":""),showCancel:!1});case 67:return e.next=69,(0,_clientUtil.setStorageSync)("COLLECTION_LIST_NEED_REFRESH",!0);case 69:return e.next=71,this.refreshData();case 71:case"end":return e.stop()}},e,this,[[20,52,56,64],[25,35],[57,,59,63]])}));return e}(),chooseVideo:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkFileAmountExceed();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return");case 4:return t=void 0,e.prev=5,e.next=8,(0,_clientUtil.chooseVideo)({maxDuration:60,compressed:!0});case 8:r=e.sent,t=r.tempFilePath,e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),e.t0.errCode!==_exceptions.ValidationError.CHOOSE_VIDEO_EXCEED_SIZE_LIMIT){e.next=16;break}return e.abrupt("return");case 16:return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:e.t0.message,showCancel:!1}));case 17:if(t){e.next=19;break}return e.abrupt("return");case 19:return n=this.collection_id,e.next=22,_wepy2.default.showLoading({title:"上传中",mask:!0});case 22:return a=null,e.prev=23,e.next=26,(0,_request2.default)({url:_config.api.file.create.url,data:{collection_id:n}});case 26:if(i=e.sent,u=i.data,u.cmd){e.next=30;break}throw new Error(u.msg);case 30:a=u.result.id,e.next=39;break;case 33:return e.prev=33,e.t1=e.catch(23),(0,_clientUtil.hideLoading)(),e.next=38,_wepy2.default.showModal({title:"提示",content:e.t1.message||"获取上传凭据出错",showCancel:!1});case 38:return e.abrupt("return",e.sent);case 39:return o=this.group.gid,s=o+"/collection/"+n+"/file/"+a+"/video/1/"+Date.now(),e.next=43,this.uploadOrCancel({filePath:t,key:s,file_id:a,type:"video"});case 43:return c=e.sent,(0,_clientUtil.hideLoading)(),e.next=47,_wepy2.default.showModal({title:"提示",content:c?"上传视频成功":"上传视频出错",showCancel:!1});case 47:if(!c){e.next=52;break}return e.next=50,(0,_clientUtil.setStorageSync)("COLLECTION_LIST_NEED_REFRESH",!0);case 50:return e.next=52,this.refreshData();case 52:case"end":return e.stop()}},e,this,[[5,12],[23,33]])}));return e}(),addAdward:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkFileAmountExceed();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,_wepy2.default.navigateTo({url:"/sp1/pages/createAdward?collection_id="+this.collection_id+"&gid="+this.album.gid});case 6:case"end":return e.stop()}},e,this)}));return e}(),toDetail:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"file?id="+t});case 2:case"end":return e.stop()}},e,this)}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"onReachBottom",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.loadingList,r=this.page,n=this.pageTotal,a=this.collection_id,t||!(1===r||1!=r&&n>=r+1)){e.next=6;break}return e.next=4,this.getAlbumList(a,r+1);case 4:this.page+=1,this.$apply();case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"uploadOrCancel",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n=t.filePath,a=t.key,i=t.file_id,u=t.type;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_upload2.default)({url:_config.qiniu,filePath:n,name:"file",formData:{key:a,file_id:i,type:u,flag:"collection"}});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,(0,_request2.default)({url:_config.api.file.delete.url+i});case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return e}()},{key:"checkFileAmountExceed",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.fileTotal)>=50)){e.next=5;break}return e.next=4,_wepy2.default.showModal({title:"提示",content:"一个相册最多上传50个文件",showCancel:!1});case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a=t.id,i=t.suid;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.collection_id=a,this.$apply(),e.next=4,_wepy2.default.$instance.onLoad({suid:i});case 4:return e.next=6,_wepy2.default.showLoading({title:"加载中",mask:!0});case 6:return e.next=8,_wepy2.default.removeStorageSync("FILE_LIST_NEED_REFRESH");case 8:return e.next=10,_wepy2.default.removeStorageSync("COLLECTION_NEED_REFRESH");case 10:return e.next=12,_wepy2.default.$instance.logined();case 12:return r=e.sent,n=r.user,this.user=n,this.$apply(),e.next=18,this.getAlbumDetail(a);case 18:return e.next=20,this.refreshData();case 20:if(!this.album){e.next=23;break}return e.next=23,this.refreshGroup(this.album.gid);case 23:(0,_clientUtil.hideLoading)(),this.pageLoaded=!0,this.$apply(),(0,_showVipRenewalIfNearExpired2.default)(this);case 27:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShow",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.getStorageSync("FILE_LIST_NEED_REFRESH");case 2:if(!e.sent){e.next=7;break}return e.next=5,_wepy2.default.removeStorageSync("FILE_LIST_NEED_REFRESH");case 5:return e.next=7,this.refreshData();case 7:return e.next=9,_wepy2.default.getStorageSync("COLLECTION_NEED_REFRESH");case 9:if(!e.sent){e.next=14;break}return e.next=12,_wepy2.default.removeStorageSync("COLLECTION_NEED_REFRESH");case 12:return e.next=14,this.getAlbumDetail(this.collection_id);case 14:if(!this.pageLoaded){e.next=17;break}return e.next=17,this.refreshGroup(this.album.gid);case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshGroup",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.user,n=this.album,a=this.group,e.next=3,this.methods.getOrFetchGroup(t,i);case 3:this.gid=n.gid,this.isAdmin=r&&r.uid==a.admin_uid,this.isCreator=r&&r.uid==n.uid,this.$apply();case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.files=[],this.page=1,this.$apply(),e.next=5,this.getAlbumList(this.collection_id);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShareAppMessage",value:function(){var e=this.user;return{title:(_wepy2.default.$instance.onShareAppMessage().nickname||"我")+"分享了一个相册",imageUrl:this.imageUrl,path:"/pages/album?id="+this.collection_id+"&suid="+(e&&e.uid||"")}}},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData();case 2:return e.next=4,_wepy2.default.stopPullDownRefresh();case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAlbumList",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,u,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return wx.pageScrollTo({selector:"#scrollBottom"}),this.loadingList=!0,this.$apply(),e.next=5,(0,_request2.default)({url:_config.api.file.list.url+t,data:{page:s,pageSize:18}});case 5:r=e.sent,n=r.data,n&&n.result&&(a=n.result,i=a.list,u=a.pagination,o=a.total,this.fileTotal=u.total,this.pageTotal=Math.ceil(u.total/u.pageSize)||0,i.forEach(function(e,t){e.path&&("video"===e.type?(e.url=(0,_cdnurl2.default)(e.path,null,null,!0),e.cover=(0,_cdnurl2.default)(e.path)):e.url=(0,_cdnurl2.default)(e.path))}),this.files=1===s?i:[].concat(_toConsumableArray(this.files),_toConsumableArray(i))),this.loadingList=!1,this.$apply();case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAlbumDetail",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.album.detail.url+t});case 2:if(r=e.sent,!(n=r.data)||!n.cmd){e.next=10;break}a=n.result,this.album={name:a.name,detail:a.detail,gid:a.gid,uid:a.uid,is_vip:a.is_vip},this.$apply(),e.next=12;break;case 10:return e.next=12,_wepy2.default.showModal({title:"提示",content:n&&n.msg||"获取相册详情失败",showCancel:!1});case 12:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(AlbumPage,"pages/album")); 
 			}); 	require("pages/album.js");
 		__wxRoute = 'pages/album_edit';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/album_edit.js';	define("pages/album_edit.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var u=t[a](i),o=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_dateUtil=require("./../utils/dateUtil.js"),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_clientUtil=require("./../utils/clientUtil.js"),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),AlbumEditPage=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),o=0;o<i;o++)u[o]=arguments[o];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.config={navigationBarTitleText:"",enablePullDownRefresh:!1},n.data={gid:null,collection_id:null,name:"",date:(0,_dateUtil.future)(0),detail:""},n.methods={deleteAlbum:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"温馨提示",content:"删除后将不再显示该相册"});case 2:if(t=e.sent,!t.confirm){e.next=25;break}return e.next=6,(0,_request2.default)({url:_config.api.album.delete.url+this.collection_id});case 6:if(r=e.sent,n=r.data,!n.cmd){e.next=23;break}return e.next=11,(0,_clientUtil.setStorageSync)("COLLECTION_LIST_NEED_REFRESH",!0);case 11:if(a=getCurrentPages(),!(a.length>2)){e.next=18;break}return e.next=15,_wepy2.default.navigateBack({delta:2});case 15:return e.abrupt("return",e.sent);case 18:return e.next=20,_wepy2.default.redirectTo({url:"/pages/albumlist?gid="+this.gid});case 20:return e.abrupt("return",e.sent);case 21:e.next=25;break;case 23:return e.next=25,_wepy2.default.showModal({title:"提示",content:n.msg,showCancel:!1});case 25:case"end":return e.stop()}},e,this)}));return e}(),save:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showLoading({title:"发送中...",mask:!0});case 2:return e.next=4,(0,_delay2.default)(500);case 4:if(r=t.detail.formId,e.prev=5,this.name&&!(this.name.length<2)){e.next=8;break}throw new Error("名称不能少于2个字");case 8:if(this.date){e.next=10;break}throw new Error("相册日期不能为空");case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(5),(0,_clientUtil.hideLoading)(),e.next=17,_wepy2.default.showModal({title:"提示",content:e.t0.message,showCancel:!1});case 17:return e.abrupt("return",e.sent);case 18:return n={name:this.name,date:this.date,detail:this.detail,formId:r},a="",this.collection_id?(n.collection_id=this.collection_id,a=_config.api.album.update.url):(n.gid=this.gid,a=_config.api.album.create.url),i=null,u=null,e.prev=23,e.next=26,(0,_request2.default)({url:a,data:n});case 26:if(i=e.sent,!i.data.cmd){e.next=36;break}return e.next=30,(0,_clientUtil.setStorageSync)("COLLECTION_NEED_REFRESH",!0);case 30:return e.next=32,(0,_clientUtil.setStorageSync)("COLLECTION_LIST_NEED_REFRESH",!0);case 32:return e.next=34,_wepy2.default.navigateBack({delta:1});case 34:e.next=39;break;case 36:return(0,_clientUtil.hideLoading)(),e.next=39,_wepy2.default.showModal({title:"提示",content:i.data.msg,showCancel:!1});case 39:e.next=46;break;case 41:return e.prev=41,e.t1=e.catch(23),(0,_clientUtil.hideLoading)(),e.next=46,_wepy2.default.showModal({title:"提示",content:"提交相册信息出错,请稍后再试",showCancel:!1});case 46:case"end":return e.stop()}},e,this,[[5,12],[23,41]])}));return e}(),bindDateChange:function(e){this.date=e.detail.value},detailChange:function(e){this.detail=e.detail.value},nameChange:function(e){this.name=e.detail.value.trim()}},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r=t.gid,n=t.id;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gid=r,this.collection_id=n,this.$apply(),!n){e.next=10;break}return e.next=6,_wepy2.default.setNavigationBarTitle({title:"编辑相册信息"});case 6:return e.next=8,this.getAlbumDetail(n);case 8:e.next=12;break;case 10:return e.next=12,_wepy2.default.setNavigationBarTitle({title:"创建相册"});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAlbumDetail",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,u,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_request2.default)({url:_config.api.album.detail.url+t});case 3:if(r=e.sent,!(n=r.data)||!n.cmd){e.next=13;break}a=n.result,i=a.name,u=a.date,o=a.detail,l=a.cover,this.name=i,this.date=(0,_dateformat2.default)(u),this.detail=o,this.$apply(),e.next=14;break;case 13:throw new Error(n&&n.msg);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),e.next=20,_wepy2.default.showModal({title:"提示",content:e.t0.message||e.t0.errMsg||"获取相册详情失败",showCancel:!1});case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return e}()}]),t}(_wepy2.default.page);Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(AlbumEditPage,"pages/album_edit")); 
 			}); 	require("pages/album_edit.js");
 		__wxRoute = 'pages/file';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/file.js';	define("pages/file.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var u=t[a](i),s=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_avatar=require("./../utils/avatar.js"),_avatar2=_interopRequireDefault(_avatar),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_clientUtil=require("./../utils/clientUtil.js"),_showVipRenewalIfNearExpired=require("./../utils/showVipRenewalIfNearExpired.js"),_showVipRenewalIfNearExpired2=_interopRequireDefault(_showVipRenewalIfNearExpired),FilePage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.config={navigationBarTitleText:"相册文件",enablePullDownRefresh:!1,usingComponents:{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index","auth-modal":"/wx_components/auth_modal/index"}},n.data={file_id:null,collection:null,user:null,group:null,gid:null,fileList:[],currentItem:null,currentIdx:0,swiperDuration:500,IMG_SIZE:"-rating",pageLoaded:!1},n.methods={imgClick:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.IMG_SIZE,r=this.currentItem,n=r.imageUrl,a=r.path,i=r.type,"video"!==i){e.next=7;break}return e.next=5,_wepy2.default.navigateTo({url:"video?video="+(0,_cdnurl2.default)(a,null,null,!0)});case 5:e.next=10;break;case 7:if("image"!==i&&"adward"!==i){e.next=10;break}return e.next=10,_wepy2.default.previewImage({urls:[n+t]});case 10:case"end":return e.stop()}},e,this)}));return e}(),download:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.$wxpage.selectComponent("#auth-modal"),e.t0=!t,e.t0){e.next=6;break}return e.next=5,t.authorize("scope.writePhotosAlbum");case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return");case 8:return r=this.currentItem,n=r.path,a=r.type,e.prev=9,e.next=12,_wepy2.default.showLoading({title:"正在下载...",mask:!0});case 12:return e.next=14,_wepy2.default.downloadFile({url:(0,_cdnurl2.default)(n,null,!0)});case 14:if(i=e.sent,u=i.tempFilePath,s=i.statusCode,(0,_clientUtil.hideLoading)(),u){e.next=20;break}throw new Error("获取下载文件的本地路径失败");case 20:if("video"!==a){e.next=25;break}return e.next=23,_wepy2.default.saveVideoToPhotosAlbum({filePath:u});case 23:e.next=27;break;case 25:return e.next=27,_wepy2.default.saveImageToPhotosAlbum({filePath:u});case 27:return e.next=29,_wepy2.default.showToast({title:"保存成功",icon:"success",duration:2e3,mask:!0});case 29:e.next=35;break;case 31:return e.prev=31,e.t1=e.catch(9),e.next=35,_wepy2.default.showModal({title:"提示",content:e.t1.message||"下载或保存文件失败",showCancel:!1});case 35:case"end":return e.stop()}},e,this,[[9,31]])}));return e}(),setAsCover:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.collection,r=this.currentItem,n=r.path,a=r.type,e.next=4,_wepy2.default.showLoading({title:"提交中...",mask:!0});case 4:return e.next=6,(0,_request2.default)({url:_config.api.album.update.url,data:{collection_id:t.id,cover:"video"===a?n+"-cover":n}});case 6:if(i=e.sent,u=i.data,(0,_clientUtil.hideLoading)(),!u||!u.cmd){e.next=18;break}return this.collection=u.result,this.$apply(),e.next=14,_wepy2.default.showToast({title:"设置成功",icon:"success",duration:2e3,mask:!0});case 14:return e.next=16,(0,_clientUtil.setStorageSync)("COLLECTION_LIST_NEED_REFRESH",!0);case 16:e.next=20;break;case 18:return e.next=20,_wepy2.default.showModal({title:"提示",content:u&&u.msg||"设置相册封面失败",showCancel:!1});case 20:case"end":return e.stop()}},e,this)}));return e}(),swiperFinish:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.detail,n=r.current,a=r.source,i=r.currentItemId,u=this.fileList.find(function(e){return e.id===i}),u.top=0,this.fileList.forEach(function(e,t){e.id!=i&&void 0!=e.top&&delete e.top}),this.$apply();case 5:case"end":return e.stop()}},e,this)}));return e}(),swiperChange:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,u,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("touch"==t.detail.source){e.next=2;break}return e.abrupt("return");case 2:if(r=t.detail,n=r.current,a=r.source,i=r.currentItemId,u=this.fileList.find(function(e){return e.id===i}),this.file_id=i,this.$apply(),s=null,o=[].concat(_toConsumableArray(this.fileList)),u.loaded){e.next=17;break}return e.t0=this,e.next=12,this.getFileDetail(u.id);case 12:e.t1=e.sent,s=e.t0.formatedDetail.call(e.t0,e.t1),o[n]=s,s.nextFile&&n+1>=o.length&&o.push(this.formatedDetail(s.nextFile)),s.lastFile&&n-1<0&&(o.splice(0,0,this.formatedDetail(s.lastFile)),this.fileList=o,delete this.currentIdx,this.swiperDuration=0,this.$apply());case 17:this.currentItem=s||u,this.fileList=o,this.currentIdx=o.filter(function(e){return!e.hidden}).findIndex(function(e){return e.id===i}),this.swiperDuration=500,this.$apply();case 22:case"end":return e.stop()}},e,this)}));return e}(),delete:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.collection,r=this.currentItem,n=r.id,a=r.type,e.next=4,_wepy2.default.showModal({title:"提示",content:"确认删除"+("video"===a?"这个视频":"这张图片")+"吗?"});case 4:if(i=e.sent,i.confirm){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,_request2.default)({url:_config.api.file.delete.url+n});case 9:if(u=e.sent,!(s=u.data)||!s.cmd){e.next=27;break}return e.next=14,_wepy2.default.showToast({title:"删除成功",icon:"success",duration:2500,mask:!0});case 14:if(!(getCurrentPages().length>1)){e.next=23;break}return e.next=17,(0,_clientUtil.setStorageSync)("COLLECTION_LIST_NEED_REFRESH",!0);case 17:return e.next=19,(0,_clientUtil.setStorageSync)("FILE_LIST_NEED_REFRESH",!0);case 19:return e.next=21,_wepy2.default.navigateBack();case 21:e.next=25;break;case 23:return e.next=25,_wepy2.default.redirectTo({url:"album?id="+t.id});case 25:e.next=29;break;case 27:return e.next=29,_wepy2.default.showModal({title:"提示",content:s&&s.msg||"删除相册文件出错",showCancel:!1});case 29:case"end":return e.stop()}},e,this)}));return e}(),addLike:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.currentItem.id,e.next=3,(0,_request2.default)({url:_config.api.file.addLike.url+t});case 3:if(r=e.sent,!(n=r.data)||!n.cmd){e.next=14;break}return e.next=8,_wepy2.default.showToast({title:"点赞成功",icon:"success",mask:!0});case 8:return e.next=10,this.setCurrent(n.result);case 10:return e.next=12,(0,_clientUtil.setStorageSync)("FILE_LIST_NEED_REFRESH",!0);case 12:e.next=16;break;case 14:return e.next=16,_wepy2.default.showModal({title:"提示",content:n&&n.msg||"点赞失败",showCancel:!1});case 16:case"end":return e.stop()}},e,this)}));return e}(),removeLike:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.currentItem.id,e.next=3,(0,_request2.default)({url:_config.api.file.removeLike.url+t});case 3:if(r=e.sent,!(n=r.data)||!n.cmd){e.next=14;break}return e.next=8,_wepy2.default.showToast({title:"取消点赞成功",icon:"success",mask:!0});case 8:return e.next=10,this.setCurrent(n.result);case 10:return e.next=12,(0,_clientUtil.setStorageSync)("FILE_LIST_NEED_REFRESH",!0);case 12:e.next=16;break;case 14:return e.next=16,_wepy2.default.showModal({title:"提示",content:n&&n.msg||"取消点赞失败",showCancel:!1});case 16:case"end":return e.stop()}},e,this)}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,u,s,o=t.id,c=t.suid;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.file_id=o,e.next=3,_wepy2.default.$instance.onLoad({suid:c});case 3:return e.next=5,_wepy2.default.showLoading({title:"加载中",mask:!0});case 5:return e.next=7,_wepy2.default.$instance.logined();case 7:return r=e.sent,n=r.user,this.user=n,e.prev=10,e.next=13,this.getFileDetail(o);case 13:return a=e.sent,e.next=16,this.methods.getOrFetchGroup(a.collection.gid);case 16:i=e.sent,u=i.payload,this.gid=u.gid,s=this.formatedDetail(a),this.collection=s.collection,this.fileList=[s],this.currentItem=s,this.$apply(),s.lastFile&&(this.fileList.splice(0,0,this.formatedDetail(s.lastFile)),this.currentIdx=1),s.nextFile&&this.fileList.push(this.formatedDetail(s.nextFile)),e.next=42;break;case 28:return e.prev=28,e.t0=e.catch(10),(0,_clientUtil.hideLoading)(),e.next=33,_wepy2.default.showModal({title:"提示",content:e.t0.message||"加载失败",showCancel:!1});case 33:if(!(getCurrentPages().length>1)){e.next=39;break}return e.next=36,_wepy2.default.navigateBack();case 36:return e.abrupt("return",e.sent);case 39:return e.next=41,_wepy2.default.reLaunch({url:"/pages/index"});case 41:return e.abrupt("return",e.sent);case 42:this.pageLoaded=!0,this.$apply(),(0,_clientUtil.hideLoading)(),(0,_showVipRenewalIfNearExpired2.default)(this);case 46:case"end":return e.stop()}},e,this,[[10,28]])}));return e}()},{key:"onShow",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pageLoaded){e.next=3;break}return e.next=3,this.methods.getOrFetchGroup(this.gid);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShareAppMessage",value:function(){var e=this.user,t=this.currentItem,r=t.id,n=t.type,a=t.imageUrl;return{title:(_wepy2.default.$instance.onShareAppMessage().nickname||"我")+"分享了"+("video"===n?"一个视频":"一张图片"),imageUrl:a,path:"/pages/file?id="+r+"&suid="+e.uid}}},{key:"getFileDetail",value:function(){function e(e,r){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.file.detail.url+t});case 2:if(n=e.sent,!(a=n.data)||!a.cmd){e.next=10;break}return i=a.result,i.loaded=!0,e.abrupt("return",i);case 10:throw new Error(a&&a.msg||"获取文件信息失败");case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"formatedDetail",value:function(e){var t=this.user,r=this.group,n=e.path,a=e.likes,i=e.creator;return e.imageUrl=(0,_cdnurl2.default)(n),e.createTime=(0,_dateformat2.default)(e.created_at),e.creator=i?_extends({},i,{isVipUser:r.vips.findIndex(function(e){return e.uid===i.uid})>-1}):null,e.likes=a?a.map(function(e){return _extends({},e,{isVipUser:r.vips.findIndex(function(t){return t.uid===e.uid})>-1})}):null,e.liked=!!a&&a.findIndex(function(e){return e.uid===t.uid})>-1,e}},{key:"setCurrent",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.fileList.findIndex(function(e){return e.id===t.id}),t=this.formatedDetail(t),this.fileList[r]=t,this.currentItem=t,this.$apply();case 5:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(FilePage,"pages/file")); 
 			}); 	require("pages/file.js");
 		__wxRoute = 'pages/lessons';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/lessons.js';	define("pages/lessons.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(s,a){try{var o=t[s](a),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_timeformat=require("./../utils/timeformat.js"),_timeformat2=_interopRequireDefault(_timeformat),_dateUtil=require("./../utils/dateUtil.js"),_clientUtil=require("./../utils/clientUtil.js"),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_group=require("./../mixins/group.js"),_group2=_interopRequireDefault(_group),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_base_modal=require("./../components/base_modal.js"),_base_modal2=_interopRequireDefault(_base_modal),_showVipRenewalIfNearExpired=require("./../utils/showVipRenewalIfNearExpired.js"),_showVipRenewalIfNearExpired2=_interopRequireDefault(_showVipRenewalIfNearExpired),LessonsPage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,n,r,s;_classCallCheck(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.config={navigationBarTitleText:"课程表",usingComponents:{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index"}},r.mixins=[_group2.default],r.$repeat={},r.$props={editmodal:{showClose:"true",showLogo:"{{ false }}",className:"lesson-modal__container"}},r.$events={},r.components={editmodal:_base_modal2.default},r.data={gid:null,nowDate:(0,_dateformat2.default)(new Date),day:["天","一","二","三","四","五","六"],weekday:(new Date).getDay(),days:[{title:"  "},{title:"周一"},{title:"周二"},{title:"周三"},{title:"周四"},{title:"周五"},{title:"周六"},{title:"周日"}],plans:[],lessonList:[],maxLessonCount:6,user:null,showEditModal:!1,choosedLesson:{},isBatch:!1,choosedLessonListIdx:0,choosedLessonPlans:{},showWeekend:!0,canEdit:!1},r.methods={addMaxLessonCount:function(){function e(e,n){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.plans[0].push({name:++this.maxLessonCount}),this.$apply();case 2:case"end":return e.stop()}},e,this)}));return e}(),showEditOrDetailModal:function(){function e(e,n,r,s){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n,r,s){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isBatch){e.next=4;break}return e.abrupt("return");case 4:if(this.canEdit){e.next=10;break}if(t){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,_wepy2.default.showModal({title:t.name,content:"上课时间："+this.days[t.day].title+"第"+(t.index+1)+"节\r\n备注："+(t.remark||"无"),confirmText:"知道了",showCancel:!1});case 9:return e.abrupt("return",e.sent);case 10:this.showEditModal=!0,this.$invoke("editmodal","show"),this.choosedLesson=t||{},!t&&Number.isInteger(n)&&Number.isInteger(r)&&(this.choosedLesson=_extends({},this.choosedLesson,{day:n,index:r})),this.$apply();case 15:case"end":return e.stop()}},e,this)}));return e}(),onHideModal:function(){this.choosedLesson={},this.isBatch=!1,this.showEditModal=!1,this.$invoke("editmodal","hide"),this.$apply()},showQuickSet:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.lessonList.length<=0?(this.choosedLessonListIdx=-1,this.choosedLesson={}):(this.choosedLessonListIdx=0,this.choosedLesson={course_id:this.lessonList[0].id,name:this.lessonList[0].name}),this.isBatch=!0,this.$apply();case 3:case"end":return e.stop()}},e,this)}));return e}(),bindCourseNameChange:function(e){this.choosedLesson.name=e.detail.value},showNameInput:function(){this.choosedLessonListIdx=-1,this.choosedLesson={}},bindLessonChange:function(e){this.choosedLessonListIdx=e.detail.value,this.choosedLesson=this.choosedLessonListIdx>=0?{course_id:this.lessonList[this.choosedLessonListIdx].id,name:this.lessonList[this.choosedLessonListIdx].name}:{}},bindLessonPlansChange:function(e,t,n){this.plans[e][t]&&this.plans[e][t].name||(this.choosedLessonPlans[e+"-"+t]=this.choosedLessonPlans[e+"-"+t]?null:{name:this.choosedLesson.name,day:e,index:t},console.log(this.choosedLessonPlans,this.choosedLesson),this.$apply())},bindRemarkChange:function(e){this.choosedLesson.remark=e.detail.value},deleteCoursePlan:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.choosedLesson)||t.id){e.next=3;break}return e.abrupt("return");case 3:return this.showEditModal=!1,this.$apply(),e.next=7,_wepy2.default.showLoading({title:"删除中...",mask:!0});case 7:return e.prev=7,e.next=10,(0,_request2.default)({url:_config.api.course.deletePlan.url,data:{course_plan_id:t.id}});case 10:if(n=e.sent,n.data.cmd){e.next=13;break}throw new Error(n.data.msg||"删除课程安排失败");case 13:return(0,_clientUtil.hideLoading)(),this.isBatch=!1,this.choosedLesson={},this.choosedLessonPlans={},e.next=19,this.refreshData();case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(7),(0,_clientUtil.hideLoading)(),e.next=26,_wepy2.default.showModal({title:"提示",content:e.t0.message||"保存课程安排失败",showCancel:!1});case 26:case"end":return e.stop()}},e,this,[[7,21]])}));return e}(),save:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,s,a,o,i,u,c,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_delay2.default)(300);case 2:return n=this.gid,r=this.isBatch,s=this.choosedLesson,a=this.choosedLessonPlans,e.next=5,_wepy2.default.showLoading({title:"保存...",mask:!0});case 5:if(e.prev=5,s.name&&!(s.name.length>30)){e.next=8;break}throw new Error("科目名为1-30个字");case 8:if(!(s.remark&&s.name.length>30)){e.next=10;break}throw new Error("备注为0-30字");case 10:if(this.showEditModal=!1,this.$apply(),o=Number.isInteger(s.day)&&Number.isInteger(s.index),!r&&!o){e.next=25;break}if(i=Object.keys(a).reduce(function(e,t){return a[t]?[].concat(_toConsumableArray(e),[a[t]]):e},[]),!r||i&&0!=i.length){e.next=17;break}throw new Error("必须至少安排一节课");case 17:return u={url:_config.api.course.savePlans.url,data:{gid:n,course_id:s.course_id,course_plan_id:s.id,plans:r?JSON.stringify(i):JSON.stringify([{day:s.day,index:s.index}]),name:s.name,remark:s.remark}},e.next=20,(0,_request2.default)(u);case 20:if(c=e.sent,c.data.cmd){e.next=23;break}throw new Error(c.data.msg||"保存课程安排失败");case 23:e.next=31;break;case 25:return l={url:_config.api.course.save.url,data:{gid:n,course_id:s.id,name:s.name,remark:s.remark}},e.next=28,(0,_request2.default)(l);case 28:if(d=e.sent,d.data.cmd){e.next=31;break}throw new Error(d.data.msg||"保存课程失败");case 31:return(0,_clientUtil.hideLoading)(),this.isBatch=!1,this.choosedLesson={},this.choosedLessonPlans={},e.next=37,this.refreshData();case 37:e.next=45;break;case 39:return e.prev=39,e.t0=e.catch(5),console.log("error: ",e.t0),(0,_clientUtil.hideLoading)(),e.next=45,_wepy2.default.showModal({title:"提示",content:e.t0.message||"保存课程失败",showCancel:!1});case 45:case"end":return e.stop()}},e,this,[[5,39]])}));return e}(),handleDelete:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.gid,e.next=3,_wepy2.default.showModal({title:"提示",content:"课程删除后，相关的课程安排也会被同时删除。",cancelText:"取消",confirm:"继续"});case 3:if(r=e.sent,"showModal:ok"===r.errMsg&&r.confirm){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,_wepy2.default.showLoading({title:"正在删除...",mask:!0});case 8:return e.prev=8,s={url:_config.api.course.delete.url,data:{gid:n,course_id:t.id}},e.next=12,(0,_request2.default)(s);case 12:if(a=e.sent,a.data.cmd){e.next=15;break}throw new Error("删除失败");case 15:return(0,_clientUtil.hideLoading)(),e.next=18,this.refreshData();case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(8),(0,_clientUtil.hideLoading)(),e.next=25,_wepy2.default.showModal({title:"提示",content:e.t0.message||"删除课程失败",showCancel:!1});case 25:case"end":return e.stop()}},e,this,[[8,20]])}));return e}()},s=n,_possibleConstructorReturn(r,s)}return _inherits(t,e),_createClass(t,[{key:"onShareAppMessage",value:function(){var e=_wepy2.default.$instance.onShareAppMessage(),t=this.user,n=this.group,r=this.gid;return{title:n?(e.nickname||"我")+"分享了 "+n.name+" 的课程表":(e.nickname||"我")+"分享了一个课程表",path:"/pages/lessons?gid="+r||n.gid+"&suid="+t.uid}}},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gid=t.gid,this.$apply(),_wepy2.default.hideShareMenu(),e.next=5,this.methods.getOrFetchGroup(this.gid);case 5:return n=e.sent,r=n.payload,e.next=9,_wepy2.default.setNavigationBarTitle({title:r.name});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"onRoute",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,s,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.$instance.logined();case 2:return t=e.sent,n=t.user,this.user=n,e.next=7,this.methods.getOrFetchGroup(this.gid);case 7:return r=e.sent,s=r.payload,a=s.admin_uid===n.uid,o=s.partner&&"T"===s.partner.type,i=s.partner&&s.partner.proxy,this.canEdit=a||o||i,this.$apply(),n&&s&&_wepy2.default.showShareMenu({withShareTicket:!1}),e.next=17,this.refreshData();case 17:(0,_showVipRenewalIfNearExpired2.default)(this);case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData();case 2:return e.next=4,_wepy2.default.stopPullDownRefresh();case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 2:return t={url:_config.api.course.list.url+this.gid,data:{pageSize:999}},e.next=5,(0,_request2.default)(t);case 5:if(n=e.sent,r={},!n.data||!n.data.cmd){e.next=16;break}this.lessonList=n.data.result.list,this.plans=Array.apply(null,Array(8)).map(function(e){return[]}),this.lessonList.length>0&&(this.lessonList.forEach(function(e){e.plans.sort(function(e,t){return e.index-t.index}),e.plans.length>0&&(s.maxLessonCount=Math.max(s.maxLessonCount,e.plans[e.plans.length-1].index+1)),e.plans.map(function(t){r[t.day+"-"+t.index]=_extends({},t,{name:e.name})})}),this.lessonList.sort(function(e,t){return e.created_at-t.created_at})),this.maxLessonCount=Math.max(this.maxLessonCount,6),this.days.map(function(e,t){for(var n=0;n<s.maxLessonCount;n++)s.plans[t]&&(0==t?s.plans[t].push({name:n+1}):s.plans[t].push(r[t+"-"+n]))}),this.showWeekend=this.plans[6].some(function(e){return!!e})||this.plans[7].some(function(e){return!!e}),e.next=21;break;case 16:return(0,_clientUtil.hideLoading)(),e.next=19,_wepy2.default.showModal({title:"提示",content:n.data.msg||"获取课程表失败!",showCancel:!1});case 19:return e.next=21,_wepy2.default.navigateBack({delta:1});case 21:this.$apply(),(0,_clientUtil.hideLoading)();case 23:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(LessonsPage,"pages/lessons")); 
 			}); 	require("pages/lessons.js");
 		__wxRoute = 'pages/examinations';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/examinations.js';	define("pages/examinations.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_timeformat=require("./../utils/timeformat.js"),_timeformat2=_interopRequireDefault(_timeformat),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_group=require("./../mixins/group.js"),_group2=_interopRequireDefault(_group),_loading=require("./../mixins/loading.js"),_loading2=_interopRequireDefault(_loading),_base_modal=require("./../components/base_modal.js"),_base_modal2=_interopRequireDefault(_base_modal),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_common=require("./../utils/common.js"),Examinations=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.config={navigationBarTitleText:"考试成绩",enablePullDownRefresh:!0},n.mixins=[_group2.default,_loading2.default],n.$repeat={},n.$props={tipsmodal:{showClose:"true"}},n.$events={},n.components={tipsmodal:_base_modal2.default},n.data={loadingList:!1,activeIndex:0,result:{0:{list:[],current:0,pageSize:10},1:{list:[],current:0,pageSize:10}}},n.methods={tabClick:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activeIndex=parseInt(t),this.$apply(),0!=this.result[this.activeIndex].current){e.next=15;break}return e.next=5,this.showLoading({title:"加载中...",mask:!0});case 5:return e.prev=5,e.next=8,this.fetchExams();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),_wepy2.default.showModal({title:"提示",content:e.t0.message||"加载失败",showCancel:!1});case 13:return e.next=15,this.hideLoading();case 15:case"end":return e.stop()}},e,this,[[5,10]])}));return e}(),toExam:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.navigateTo({url:"/pages/exam?exam_id="+(t||"")+"&gid="+this.gid});case 2:case"end":return e.stop()}},e,this)}));return e}(),toCreate:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.result[0].list,r=1===this.activeIndex,!t.length||n||!r){e.next=4;break}return e.abrupt("return",this.$invoke("tipsmodal","show"));case 4:_wepy2.default.navigateTo({url:"/pages/exam?gid="+this.gid+"&is_total="+r}),this.$invoke("tipsmodal","hide");case 6:case"end":return e.stop()}},e,this)}));return e}(),toExamSelect:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_wepy2.default.navigateTo({url:"/pages/exam_select?gid="+this.gid}),this.$invoke("tipsmodal","hide");case 2:case"end":return e.stop()}},e,this)}));return e}(),onPageScroll:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.result,r=this.activeIndex,n=t[r],a=n.list,i=n.current,o=n.pageSize,s=n.total,!(i*o>=s)){e.next=4;break}return e.abrupt("return");case 4:return this.loadingList=!0,this.$apply(),e.next=8,this.throttleFetchExams(i+1);case 8:case"end":return e.stop()}},e,this)}));return e}()},n.throttleFetchExams=(0,_common.throttle)(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchExams(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),_wepy2.default.showModal({title:"提示",content:e.t0.message||"加载失败",showCancel:!1});case 8:this.loadingList=!1,this.$apply();case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),1e3),a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.gid=t.gid;case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData();case 2:return e.next=4,_wepy2.default.stopPullDownRefresh();case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"onRoute",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData();case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.result[this.activeIndex].current=1,this.$apply(),e.next=4,this.showLoading({title:"加载中...",mask:!0});case 4:return e.prev=4,e.next=7,this.fetchBaseInfo(!0);case 7:return e.next=9,this.fetchExams();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),_wepy2.default.showModal({title:"提示",content:e.t0.message||"加载失败",showCancel:!1});case 14:this.hideLoading();case 15:case"end":return e.stop()}},e,this,[[4,11]])}));return e}()},{key:"fetchExams",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.activeIndex,r=this.result[t],e.next=4,(0,_request2.default)({url:_config.api.examination.list.url,data:{gid:this.gid,is_total:1===t,page:u,pageSize:12}});case 4:if(n=e.sent,!(a=n.data)||!a.cmd){e.next=14;break}i=a.result,o=i.list,s=i.pagination,o.forEach(function(e){e.date=(0,_dateformat2.default)(new Date(e.start_time),!0)}),r.list=1==u?o:[].concat(_toConsumableArray(r.list),_toConsumableArray(o)),this.result[t]=_extends({},r,s),this.$apply(),e.next=15;break;case 14:throw new Error(a.msg||"加载考试成绩列表失败");case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBaseInfo",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.$instance.logined(a);case 2:return t=e.sent,r=t.user,e.next=6,this.methods.getOrFetchGroup(this.gid,a);case 6:n=this.group,this.isAdmin=n.admin_uid===r.uid,this.isTeacher="T"===n.partner.type,this.$apply();case 10:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(Examinations,"pages/examinations")); 
 			}); 	require("pages/examinations.js");
 		__wxRoute = 'pages/exam';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/exam.js';	define("pages/exam.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var s=t[a](i),o=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_dateUtil=require("./../utils/dateUtil.js"),_avatar=require("./../utils/avatar.js"),_avatar2=_interopRequireDefault(_avatar),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_group=require("./../mixins/group.js"),_group2=_interopRequireDefault(_group),_score=require("./../mixins/score.js"),_score2=_interopRequireDefault(_score),_deepclone=require("./../utils/deepclone.js"),_deepclone2=_interopRequireDefault(_deepclone),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_download=require("./../utils/download.js"),_download2=_interopRequireDefault(_download),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_F2Canvas=require("./../components/F2Canvas.js"),_F2Canvas2=_interopRequireDefault(_F2Canvas),_adapterF=require("./../npm/mini-program-utils/dist/f2/adapterF2.js"),_adapterF2=_interopRequireDefault(_adapterF),_constances=require("./../utils/constances.js"),_getRewardedVideoAd=require("./../utils/getRewardedVideoAd.js"),_getRewardedVideoAd2=_interopRequireDefault(_getRewardedVideoAd),_clientUtil=require("./../utils/clientUtil.js"),_showVipRenewalIfNearExpired=require("./../utils/showVipRenewalIfNearExpired.js"),_showVipRenewalIfNearExpired2=_interopRequireDefault(_showVipRenewalIfNearExpired),_exportExcelOrDownload=require("./../utils/exportExcelOrDownload.js"),_exportExcelOrDownload2=_interopRequireDefault(_exportExcelOrDownload),missingRating=function(e){return-1===e||null===e||void 0===e||isNaN(e)},chart=null,ExamPage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.config={enablePullDownRefresh:!0,usingComponents:{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index","lesson-selector":"/wx_components/lesson_selector/index","group-picker":"/wx_components/group_picker/index"}},n.mixins=[_group2.default,_score2.default],n.$repeat={},n.$props={F2Canvas:{canvasId:"circle",width:"750",height:"500"}},n.$events={},n.components={F2Canvas:_F2Canvas2.default},n.computed={isVip:function(){var e=this.user,t=this.group||{},r=t.vips,n=void 0===r?[]:r,a=t.vip_expired_at,i=e?n.find(function(t){return t.uid===e.uid}):null,s=a&&new Date(a)>=new Date;return i||s},average:function(){var e=this.studentList;if(0==this.exam.criterion)return null;var t=0,r=0;return(e||[]).forEach(function(e,n){var a=parseFloat(e.score);!isNaN(a)&&a>=0&&(t+=a,r+=1)}),isNaN(t/r)?null:(t/r).toFixed(2)}},n.data={hasAd:!1,videoAd:null,CRITERIONS:[{text:"等第制",full_rating:null},{text:"十分制",full_rating:10},{text:"百分制",full_rating:100},{text:"120分制",full_rating:120},{text:"150分制",full_rating:150},{text:"自定义",full_rating:null}],GRADES:["优","优-","良","良-","中","差","不及格"],user:null,group:null,gid:null,exam_id:null,suid:null,lessonList:[],studentList:[],selectedExamList:[],editing:!1,highest_score:0,lowest_score:0,sortIndex:0,sortingList:[{key:"CHILD_ASC",value:"按学号升序"},{key:"CHILD_DESC",value:"按学号倒序"},{key:"RANK_ASC",value:"按排名升序"},{key:"RANK_DESC",value:"按排名倒序"}],resultOrder:"CHILD_ASC",exam:{id:null,name:"",start_time:(new Date).toISOString(),criterion:2,results:[],creator:null,updated_at:null,lesson:null,full_rating:null,show_rank:!0,hide_analysis:!1,show_to_all:!1,lesson_name:"",is_total:!1,visits:[],draft:!1,joinCount:0},myExamResult:null,lessonIndex:0,comment_reply:null,MEMBER_STATUS_REMARK:_constances.MEMBER_STATUS_REMARK,fromReport:!1,isShowGroupPick:!1,isShowForm:!0},n.methods={toExamSelect:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.shouldShowAd())){e.next=8;break}return this.videoAd&&(this.videoAd.offClose(),this.videoAd.onClose(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.isEnded){e.next=2;break}return e.abrupt("return",_wepy2.default.redirectTo({url:"/pages/exam_select?forReport=true&gid="+r.gid+"&child="+(r.myExamResult?r.myExamResult.child:"")}));case 2:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}())),e.next=5,this.showPaidOptions();case 5:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",_wepy2.default.redirectTo({url:"/pages/exam_select?forReport=true&gid="+this.gid+"&child="+(this.myExamResult?this.myExamResult.child:"")}));case 9:case"end":return e.stop()}},e,this)}));return e}(),toIndex:function(){_wepy2.default.reLaunch({url:"/pages/index"})},bindSortingChange:function(e){this.resultOrder=this.sortingList[e.detail.value].key,this.sortIndex=e.detail.value,this.sortStudentList()},previewImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,_cdnurl2.default)(e);t.forEach(function(e,r){t.splice(r,1,(0,_cdnurl2.default)(e))}),_wepy2.default.previewImage({current:r,urls:t})},toAddComment:function(e){(this.isTeacher||this.isAdmin)&&_wepy2.default.navigateTo({url:"exam_comment?exam_id="+this.exam.id+"&child="+e})},changeOrder:function(e,t){var r=this.exam_id,n=this.editing,a=this.resultOrder;r&&!n&&(a.startsWith(e)?this.resultOrder=a.endsWith("ASC")?e+"_DESC":e+"_ASC":this.resultOrder=e+"_ASC",this.sortStudentList())},cancel:function(){this.editing=!1,this.$apply(),_wepy2.default.showShareMenu()},bindNameChange:function(e){this.exam.name=e.detail.value},bindLessonChange:function(e){this.exam.is_total||(this.exam.lesson_name=e.detail.value)},bindDateChange:function(e){var t=new Date(this.exam.start_time),r=e.detail.value.split("-");t.setYear(r[0]),t.setMonth(parseInt(r[1])-1),t.setDate(parseInt(r[2])),this.exam.start_time=t.toISOString()},bindTimeChange:function(e){var t=new Date(this.exam.start_time),r=e.detail.value.split(":");t.setHours(r[0]),t.setMinutes(r[1]),this.exam.start_time=t.toISOString()},bindCustomScoreChange:function(e){this.exam.full_rating=e.detail.value},criterionChange:function(e){this.exam.criterion=parseInt(e.detail.value),this.studentList.forEach(function(e){e.score=null}),this.exam.full_rating=null},onShowRankChange:function(e){this.exam.show_rank=e.detail.value},onHideAnalysisChange:function(e){this.exam.hide_analysis=e.detail.value},onShowToAllChange:function(e){this.exam.show_to_all=e.detail.value},onDraftChange:function(e){this.exam.draft=e.detail.value},paste:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.getClipboardData();case 2:if(r=e.sent,(n=r.data)&&n.trim().length&&-1!=n.indexOf("\n")){e.next=9;break}return e.next=7,_wepy2.default.showModal({title:"提示",content:"请您把成绩按照学号一行一个进行复制后粘贴到这里(发送到微信给自己再复制过来)",showCancel:!1});case 7:e.next=13;break;case 9:a=n.trim().split("\n"),a=0==this.exam.criterion?a.map(function(e){var t=i.GRADES.indexOf(e.trim());return-1===t?null:t}):a.map(function(e){var t=parseFloat(e);return missingRating(t)||t<0?null:t}),this.studentList.forEach(function(e,t){e.score=a[t]}),this.$apply();case 13:case"end":return e.stop()}},e,this)}));return e}(),pasteRemark:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.getClipboardData();case 2:if(r=e.sent,(n=r.data)&&n.trim().length&&-1!=n.indexOf("\n")){e.next=9;break}return e.next=7,_wepy2.default.showModal({title:"提示",content:"请您把备注按照学号一行一个进行复制后粘贴到这里(发送到微信给自己再复制过来)",showCancel:!1});case 7:e.next=12;break;case 9:a=n.trim().split("\n"),this.studentList.forEach(function(e,t){e.remark=a[t]?a[t].slice(0,10):""}),this.$apply();case 12:case"end":return e.stop()}},e,this)}));return e}(),gradeChange:function(e,t){var r=parseInt(t.detail.value);this.studentList.find(function(t){return t.child==e}).score=r},scoreChange:function(e,t){var r=parseFloat(t.detail.value);this.studentList.find(function(t){return t.child==e}).score=r},remarkChange:function(e,t){var r=t.detail.value;this.studentList.find(function(t){return t.child==e}).remark=r},setAbsent:function(){function e(e,r){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,a,i,s,o,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.exam_id,a=this.editing,!n||a){e.next=3;break}return e.abrupt("return");case 3:if(i={MARK_ABSENT:"标识为缺考",CANCEL_ABSENT:"取消缺考"},s=[],o=this.studentList.find(function(e){return e.child==t}),-1==o.score?s.push(i.CANCEL_ABSENT):s.push(i.MARK_ABSENT),s.length){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,e.next=12,(0,_clientUtil.showActionSheet)({itemList:s});case 12:u=e.sent,l=s[u.tapIndex],l===i.MARK_ABSENT?o.score=-1:l===i.CANCEL_ABSENT&&(o.score=null),this.$apply(),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(9);case 20:case"end":return e.stop()}},e,this,[[9,18]])}));return e}(),deleteReply:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"提示",content:"确认删除这条回复吗?"});case 2:if(t=e.sent,t.confirm){e.next=5;break}return e.abrupt("return");case 5:return _wepy2.default.showLoading({title:"删除中...",mask:!0}),e.prev=6,r=this.myExamResult,e.next=10,(0,_request2.default)({url:_config.api.examination.deleteReply.url,data:{exam_result_id:r.id}});case 10:if(n=e.sent,a=n.data,(0,_clientUtil.hideLoading)(),!a.cmd){e.next=22;break}return _wepy2.default.showToast({title:"删除成功",icon:"success",duration:1500}),e.next=17,(0,_delay2.default)(1500);case 17:return e.next=19,this.refreshData();case 19:return e.abrupt("return",e.sent);case 22:throw new Error(a.msg);case 23:e.next=30;break;case 25:return e.prev=25,e.t0=e.catch(6),(0,_clientUtil.hideLoading)(),e.next=30,_wepy2.default.showModal({title:"提示",content:e.t0.message||"删除回复失败",showCancel:!1});case 30:case"end":return e.stop()}},e,this,[[6,25]])}));return e}(),save:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showLoading({title:"提交中...",mask:!0});case 2:if(t=this.exam_id,r=this.lessonList,n=this.studentList,a=this.exam,i=this.lessonIndex,e.prev=3,a.name&&!(a.name.length<2)){e.next=6;break}throw new Error("考试名称不能少于2个字");case 6:if(!(!a.lesson_name||a.lesson_name.length<2||a.lesson_name.length>32)){e.next=8;break}throw new Error("考试科目不能少于2个字或多于32个字");case 8:if(5!=a.criterion){e.next=13;break}if(null!=a.full_rating&&""!=a.full_rating){e.next=11;break}throw new Error("请输入总分");case 11:if(!(a.full_rating<5)){e.next=13;break}throw new Error("总分不能小于5");case 13:e.next=22;break;case 15:return e.prev=15,e.t0=e.catch(3),e.next=19,(0,_clientUtil.hideLoading)();case 19:return e.next=21,_wepy2.default.showModal({title:"提示",content:e.t0.message,showCancel:!1});case 21:return e.abrupt("return");case 22:if(s={name:a.name,criterion:a.criterion,start_time:(0,_dateUtil.getDatetimeStr)(a.start_time),full_rating:a.full_rating,show_rank:a.show_rank,hide_analysis:a.hide_analysis,show_to_all:a.show_to_all,lesson_name:a.lesson_name,gid:this.gid,is_total:a.is_total,average_rating:this.average||null,draft:a.draft},o={0:[0,6],1:[0,10],2:[0,100],3:[0,120],4:[0,150],5:[0,a.full_rating]},!(n&&n.length>0)){e.next=37;break}e.prev=25,u={},n.forEach(function(e,t){var r=e.score;if(r||0==r){var n=o[s.criterion];if(-1!=r&&r<n[0]||r>n[1])throw new Error(0==s.criterion?"等级不正确":"分数需在"+n[0]+"-"+n[1]+"之间");u[e.child-1]=r}else u[e.child-1]=null;if((""===r||missingRating(r)&&-1!=r)&&e.remark)throw new Error("学号为"+(t+1)+"的学生需填写分数或标记为缺考, 否则备注无效")}),e.next=37;break;case 30:return e.prev=30,e.t1=e.catch(25),e.next=34,(0,_clientUtil.hideLoading)();case 34:return e.next=36,_wepy2.default.showModal({title:"提示",content:e.t1.message,showCancel:!1});case 36:return e.abrupt("return");case 37:return s.ratings=Array.from(n.map(function(e){return e.score})),s.remarks=Array.from(n.map(function(e){return e.remark})),t&&(s.exam_id=t),e.prev=40,e.next=43,(0,_request2.default)({url:_config.api.examination.save.url,data:s});case 43:return l=e.sent,e.next=46,(0,_clientUtil.hideLoading)();case 46:if(!l.data||!l.data.cmd){e.next=68;break}return e.next=49,_wepy2.default.showModal({title:"提示",content:"保存考试信息成功",showCancel:!1});case 49:if(!this.isShowGroupPick){e.next=53;break}return e.next=52,_wepy2.default.redirectTo({url:"/pages/exam?exam_id="+l.data.result.id+"&gid="+this.gid});case 52:return e.abrupt("return");case 53:if(!this.editing){e.next=60;break}this.editing=!1,_wepy2.default.setNavigationBarTitle({title:this.exam_id?this.editing?"编辑成绩":"成绩":"登记成绩"}),this.$apply(),this.refreshData(),e.next=66;break;case 60:return e.next=62,(0,_clientUtil.setStorageSync)("LAST_EXAM_SHOW_RANK",s.show_rank);case 62:return e.next=64,(0,_clientUtil.setStorageSync)("LAST_EXAM_LESSON_NAME",s.lesson_name);case 64:return e.next=66,_wepy2.default.navigateBack({delta:this.selectedExamList.length?2:1});case 66:e.next=70;break;case 68:if(!l.data.msg){e.next=70;break}throw new Error(l.data.msg);case 70:e.next=77;break;case 72:return e.prev=72,e.t2=e.catch(40),e.next=76,(0,_clientUtil.hideLoading)();case 76:_wepy2.default.showModal({title:"提示",content:e.t2.message||"保存成绩出错, 请联系管理员",showCancel:!1});case 77:case"end":return e.stop()}},e,this,[[3,15],[25,30],[40,72]])}));return e}(),deleteExam:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"确认删除?",content:"删除后数据不可恢复"});case 2:if(t=e.sent,!t.confirm){e.next=35;break}return e.next=6,_wepy2.default.showLoading({title:"发送中...",mask:!0});case 6:return e.prev=6,e.next=9,(0,_request2.default)({url:_config.api.examination.delete.url,data:{exam_id:this.exam_id}});case 9:return r=e.sent,e.next=12,(0,_clientUtil.hideLoading)();case 12:if(!r.data||!r.data.cmd){e.next=24;break}return e.next=15,_wepy2.default.showModal({title:"提示",content:"成绩记录删除成功",showCancel:!1});case 15:if(!(getCurrentPages().length>1)){e.next=21;break}return e.next=18,_wepy2.default.navigateBack();case 18:return e.abrupt("return",e.sent);case 21:return e.abrupt("return",_wepy2.default.reLaunch({url:"/pages/index"}));case 22:e.next=26;break;case 24:return e.next=26,_wepy2.default.showModal({title:"提示",content:r.data.msg||"删除成绩记录出错",showCancel:!1});case 26:e.next=35;break;case 28:return e.prev=28,e.t0=e.catch(6),e.next=32,(0,_clientUtil.hideLoading)();case 32:return e.next=34,_wepy2.default.showModal({title:"提示",content:e.t0.message||"删除成绩记录出错",showCancel:!1});case 34:return e.abrupt("return");case 35:case"end":return e.stop()}},e,this,[[6,28]])}));return e}(),showMoreAction:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={EDIT:"编辑成绩",EXPORT:"导出考试成绩",SEND_TO_DIALOG:"发送到私信"},r=[],(this.isAdmin||this.isTeacher)&&this.exam_id&&!this.editing&&(r.push(t.EDIT),r.push(t.EXPORT)),r.push(t.SEND_TO_DIALOG),e.prev=4,e.next=7,(0,_clientUtil.showActionSheet)({itemList:r});case 7:n=e.sent,a=r[n.tapIndex],e.t0=a,e.next=e.t0===t.EDIT?12:e.t0===t.EXPORT?13:e.t0===t.SEND_TO_DIALOG?14:15;break;case 12:return e.abrupt("return",this.editExam());case 13:return e.abrupt("return",this.exports());case 14:return e.abrupt("return",_wepy2.default.navigateTo({url:"/sp6/pages/partner_list?gid="+this.gid+"&exam_id="+this.exam_id+"&type=CREATE_DIALOG"}));case 15:e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(4),console.log(e.t1),e.abrupt("return");case 21:case"end":return e.stop()}},e,this,[[4,17]])}));return e}(),toEdit:function(){(this.isTeacher||this.isAdmin)&&this.editExam()},onloadGroup:function(e){if(!e.detail.selected)return _wepy2.default.showModal({title:"提示",content:"暂无可选班级",showCancel:!1}),this.isShowForm=!1,void this.$apply();this.getGroup(e)},changeGroup:function(e){this.getGroup(e)}},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"getGroup",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.detail,console.log(r),this.group=r.selected,this.gid=r.selected.gid,this.$apply(),e.next=7,_wepy2.default.$instance.logined();case 7:return n=e.sent,a=n.user,this.user=a,e.next=12,this.loadGroup();case 12:return i=e.sent,this.isAdmin=i.admin_uid===a.uid,this.$apply(),e.next=17,this.refreshData();case 17:if(this.selectedExamList.length&&this.countTotalFromSelected(),(0,_showVipRenewalIfNearExpired2.default)(this),this.videoAd){e.next=22;break}return e.next=22,this.initVideoAd();case 22:case"end":return e.stop()}},e,this)}));return e}()},{key:"editExam",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.resultOrder="CHILD_ASC",this.editing=!0,this.sortStudentList(),_wepy2.default.setNavigationBarTitle({title:this.exam_id?this.editing?"编辑成绩":"成绩":"登记成绩"}),_wepy2.default.hideShareMenu();case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"exports",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_exportExcelOrDownload2.default)({type:"exam",attach_id:this.exam_id,download:this.exportExam.bind(this)});case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"exportExam",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_download2.default)({url:_config.api.examination.exportExam.url+this.exam_id});case 3:return t=e.sent,r=t.tempFilePath,e.next=7,_wepy2.default.saveFile({tempFilePath:r});case 7:return n=e.sent,a=n.savedFilePath,e.next=11,_wepy2.default.openDocument({filePath:a,fileType:"xlsx"});case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.next=18,_wepy2.default.showModal({title:"提示",content:"导出考试详情失败",showCancel:!1});case 18:case"end":return e.stop()}},e,this,[[0,13]])}));return e}()},{key:"onShareAppMessage",value:function(){var e=_wepy2.default.$instance.onShareAppMessage(),t=this.exam,r=this.user,n=this.group;return{title:(e.nickname||"我")+"分享了"+t.lesson_name+t.name+"成绩",path:"/pages/exam?exam_id="+t.id+"&gid="+n.gid+"&suid="+r.uid}}},{key:"sortStudentList",value:function(){var e=this.studentList,t=void 0===e?[]:e,r=this.resultOrder,n="",a=0;switch(r){case"CHILD_ASC":n="child",a=1;break;case"CHILD_DESC":n="child",a=-1;break;case"RANK_ASC":n="rank",a=1;break;case"RANK_DESC":n="rank",a=-1}"child"===n?this.studentList=t.sort(function(e,t){return a*(e[n]-t[n])}):"rank"===n&&(this.studentList=t.sort(function(e,t){return missingRating(e[n])?1:missingRating(t[n])?-1:a*(e[n]-t[n])})),this.$apply()}},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a=t.exam_id,i=t.gid,s=t.suid,o=t.is_total,u=t.from_report;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i||a){e.next=3;break}return this.isShowGroupPick=!0,e.abrupt("return");case 3:if(this.gid=i,this.exam_id=a,this.suid=s,this.exam.is_total="true"===o,this.fromReport="true"===u,!this.exam.is_total){e.next=14;break}return this.exam.lesson_name="总分",e.next=12,_wepy2.default.getStorageSync("SELECTED_EXAM_LIST");case 12:r=e.sent,r&&r.length&&(this.selectedExamList=r);case 14:return e.next=16,_wepy2.default.getStorageSync("LAST_EXAM_SHOW_RANK");case 16:n=e.sent,this.exam.show_rank=null==n||""===n||Boolean(n),this.$apply(),this.exam_id||_wepy2.default.hideShareMenu();case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"onUnload",value:function(){_wepy2.default.removeStorageSync("SELECTED_EXAM_LIST"),this.videoAd=null}},{key:"onReady",value:function(){_wepy2.default.setNavigationBarTitle({title:this.exam_id?"成绩":"登记成绩"})}},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.$instance.logined(!0);case 2:return t=e.sent,r=t.user,this.user=r,e.next=7,this.loadGroup(!0);case 7:return n=e.sent,this.isAdmin=n.admin_uid===r.uid,this.$apply(),e.next=12,this.refreshData();case 12:return this.selectedExamList.length&&this.countTotalFromSelected(),e.next=15,_wepy2.default.stopPullDownRefresh();case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"onRoute",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isShowGroupPick){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_wepy2.default.$instance.logined();case 4:return t=e.sent,r=t.user,this.user=r,e.next=9,this.loadGroup();case 9:return n=e.sent,this.isAdmin=n.admin_uid===r.uid,this.$apply(),e.next=14,this.refreshData();case 14:if(this.selectedExamList.length&&this.countTotalFromSelected(),(0,_showVipRenewalIfNearExpired2.default)(this),this.videoAd){e.next=19;break}return e.next=19,this.initVideoAd();case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadGroup",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.methods.getOrFetchGroup(this.gid,a);case 2:return t=e.sent,r=t.payload,this.gid=r.gid,this.isTeacher=r.partner&&"T"===r.partner.type,e.next=8,this.getPartners(this.gid);case 8:return n=e.sent,this.studentList=Object.keys(r.members||{}).map(function(e,t){return{child:t+1,name:r.members[e]||"",score:"",rank:"",remark:"",uids:n.filter(function(e){return e.child==t+1}).map(function(e){return e.uid}),comment:null,comment_images:null,commented_at:null,commenter:null,remarkType:r.members_remark&&r.members_remark[t]}}),e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"countTotalFromSelected",value:function(){var e=this;this.exam.criterion=5,this.exam.full_rating=0;var t="",r=this.selectedExamList.length;this.selectedExamList.forEach(function(n,a){if(!(n.criterion<1||n.criterion>5||(n.results&&n.results.length&&n.results.forEach(function(t){var r=e.studentList[t.child-1];if(r){var n=parseFloat(t.rating),a=parseFloat(r.score);e.studentList[t.child-1].score=a===n&&-1===a?-1:(missingRating(a)?0:a)+(missingRating(n)?0:n)}}),e.exam.full_rating+=5===n.criterion?n.full_rating:e.CRITERIONS[n.criterion].full_rating,t.length>10)))if(10===t.length)t=t+(r>a+1?"等":"")+r+"项总分";else{var i=t.length?t+"、"+n.lesson_name:n.lesson_name;t=i.length>=10?t+(r>a+1?"等":"")+r+"项总分":i}}),this.exam.name=t,this.$apply()}},{key:"loadLessons",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.gid,r={url:_config.api.course.list.url+t,data:{pageSize:999}},e.next=4,(0,_request2.default)(r);case 4:if(n=e.sent,!(a=n.data)||!a.cmd){e.next=12;break}this.lessonList=a.result.list.sort(function(e,t){return new Date(t.created_at)-new Date(e.created_at)}),this.lessonIndex=0,this.$apply(),e.next=13;break;case 12:throw new Error(a.msg||"获取课程列表出错");case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadExam",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,u,l,c,d,h,p,f,_,m,g,x,w,v=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.isAdmin,r=this.isTeacher,n=this.exam_id,a=this.lessonList,i=this.group,s=this.suid,e.next=3,(0,_request2.default)({url:_config.api.examination.detail.url,data:{exam_id:n}});case 3:if(o=e.sent,u=o.data,l=u.cmd,c=u.result,d=u.msg,l&&c){e.next=10;break}throw new Error(d||"加载成绩详情失败");case 10:h=c.criterion,p=c.lesson,f=c.results,_=c.full_rating,this.lessonIndex=p?a.findIndex(function(e){return e.id===p.id}):-1,this.exam={id:c.id,name:c.name,start_time:new Date(c.start_time).toISOString(),criterion:h,creator:c.creator,results:f,updated_at:c.updated_at,lesson:c.lesson,full_rating:c.full_rating,show_rank:!c.configs||!c.configs.hide_rank,hide_analysis:c.configs&&c.configs.hide_analysis,show_to_all:c.configs&&c.configs.show_to_all,draft:c.draft,lesson_name:c.lesson_name,is_total:Boolean(c.is_total),visits:(c.visits||[]).map(function(e){return _extends({},e,{createdAtStr:(0,_dateUtil.getDatetimeStr)(e.created_at)})}),joinCount:f&&f.filter(function(e){return-1!=e.rating}).length||0},m=function(e){return function(t,r){return missingRating(t.rating)?1:r.rating===t.rating?t.child-r.child:e(t,r)}},0==h?f.sort(m(function(e,t){return e.rating-t.rating})):f.sort(m(function(e,t){return t.rating-e.rating})),this.studentList.forEach(function(e,t){var r=f.find(function(t){return t.child==e.child});e.rank=null,r&&(e.score=r?parseFloat(r.rating):null,e.remark=r.remark,e.comment=r.comment,e.comment_images=r.comment_images||null,e.commented_at=r.commented_at,e.commentedTime=(0,_dateUtil.getDatetimeStr)(e.commented_at),e.commenter=r.commenter,e.id=r.id,e.comment_reply=r.comment_reply,e.comment_replied_at=r.comment_replied_at,e.comment_reply_uid=r.comment_reply_uid,e.reply_user=r.reply_user)}),g=null,x=0,f.filter(function(e){return!missingRating(e.rating)}).forEach(function(e,t){var r=v.studentList.find(function(t){return t.child===e.child});if(r){var n=t;n=g==e.rating&&x?x:t+1,g=e.rating,x=n,r.rank=n}}),i.partner&&["P","S"].indexOf(i.partner.type)>-1?this.myExamResult=this.studentList.find(function(e){return i.partner.child==e.child}):s&&(this.myExamResult=this.studentList.find(function(e){return e.uids.indexOf(s)>-1})),w=this.$wxpage.selectComponent("#lesson-selector"),w&&w.update(this.exam.name);case 22:case"end":return e.stop()}},e,this)}));return e}()},{key:"getPartners",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:_config.api.group.users.url+t},e.next=3,(0,_request2.default)(r);case 3:return n=e.sent,e.abrupt("return",n.data.result||[]);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getStatistic",value:function(){var e=this.GRADES,t=this.studentList,r=(this.exam.results,this.exam.criterion),n=function(e,t){var r=e.filter(function(e){return!missingRating(e)&&e>=0&&""!==e});return r.length?r.reduce(t):null},a=n(t.map(function(e){return e.score}),function(e,t){return Math.max(e,t)}),i=n(t.map(function(e){return e.score}),function(e,t){return Math.min(e,t)});if(0==r)this.highest_score=null==i?"-":e[i],this.lowest_score=null==a?"-":e[a];else{this.highest_score=null==a?"-":a,this.lowest_score=null==i?"-":i;var s=0,o=0;t.forEach(function(e,t){var r=parseFloat(e.score);!isNaN(r)&&r>=0&&(s+=r,o+=1)})}}},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.exam_id,e.next=3,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 3:return e.prev=3,e.next=6,this.loadLessons();case 6:if(!t){e.next=11;break}return e.next=9,this.loadExam();case 9:this.initChart(),this.getStatistic();case 11:this.sortStudentList(),(0,_clientUtil.hideLoading)(),e.next=24;break;case 15:return e.prev=15,e.t0=e.catch(3),console.log(e.t0),e.next=20,(0,_clientUtil.hideLoading)();case 20:return e.next=22,_wepy2.default.showModal({title:"提示",content:e.t0.message||"加载成绩信息出错",showCancel:!1});case 22:return e.next=24,_wepy2.default.navigateBack();case 24:case"end":return e.stop()}},e,this,[[3,15]])}));return e}()},{key:"initChart",value:function(){var e=this;this.chartData=this.getChartData(this.exam.results,this.exam.criterion,this.exam.full_rating),this.$apply(),this.$invoke("F2Canvas","init",{onInit:function(t,r,n){return chart=new _adapterF2.default.Chart({el:t,width:r,height:n,padding:[40,"auto",60,"auto"]}),chart.source(e.chartData,{value:{type:"linear",alias:"人数",formatter:function(e){return Number.isInteger(e)?e:""}}}),chart.axis("label",{label:function(t,r,n){return 0==e.exam.criterion?{}:{rotate:Math.PI/3,textAlign:"start",textBaseline:"middle"}}}),chart.interval().position("label*value"),chart.render(),chart}})}},{key:"getChartData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=arguments[2],n=[];if(0==t)n=this.GRADES.map(function(e){return{label:e,value:0}}),e.forEach(function(e){
null!=e.rating&&-1!=e.rating&&n[e.rating].value++});else{var a=void 0,i=void 0;switch(t){case 1:a=10,i=10;break;case 2:a=100,i=10;break;case 3:a=120,i=12;break;case 4:a=150,i=15;break;case 5:a=r,i=10;break;default:return}var s=a/i,o=[],u=0;do{var l=o[o.length]||0+u*s;o.push(parseFloat(l.toFixed(2))),u+=1}while(u<=i);o.reduce(function(e,t){var r={label:e+"-"+t,value:0};return n.push(r),t}),n.push({label:""+a,value:0}),e.forEach(function(e){var t=e.rating;if(null!=t&&-1!=t){var r=o.findIndex(function(e,r,n){return void 0==n[r+1]||t>=e&&t<n[r+1]});n[r].value+=1}})}return n}},{key:"showPaidOptions",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.videoAd&&this.hasAd?["成为VIP，直接看","看广告后免费查看"]:["成为VIP，直接看"],e.prev=1,e.next=4,(0,_clientUtil.showActionSheet)({itemList:t});case 4:if(r=e.sent,0!=(n=r.tapIndex)){e.next=10;break}return e.abrupt("return",_wepy2.default.navigateTo({url:"/pages/vip_feature?gid="+this.gid}));case 10:if(1!=n){e.next=12;break}return e.abrupt("return",this.showRewardedAd());case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return");case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return e}()},{key:"showRewardedAd",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.videoAd){e.next=9;break}return e.prev=1,e.next=4,this.videoAd.loadAndShow();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),_wepy2.default.showModal({title:"提示",content:"获取广告失败: "+e.t0.message,showCancel:!1});case 9:case"end":return e.stop()}},e,this,[[1,6]])}));return e}()},{key:"shouldShowAd",value:function(){return!this.isAdmin&&!this.isVip&&this.group&&this.group.partner&&"T"!=this.group.partner.type&&!this.isSystemAdmin}},{key:"initVideoAd",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.shouldShowAd())){e.next=14;break}return r=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.hasAd=!1,a.$apply();case 2:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.hasAd=!0,a.$apply();case 2:case"end":return e.stop()}},e,a)}));return function(){return e.apply(this,arguments)}}(),e.prev=4,e.next=7,(0,_getRewardedVideoAd2.default)({key:"exam_rewarded",onError:r.bind(this),onLoad:n.bind(this)});case 7:this.videoAd=e.sent,this.$apply(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[4,11]])}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(ExamPage,"pages/exam")); 
 			}); 	require("pages/exam.js");
 		__wxRoute = 'pages/upload_file';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/upload_file.js';	define("pages/upload_file.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_clientUtil=require("./../utils/clientUtil.js"),UploadFilePage=function(e){function t(){var e,n,r,o;_classCallCheck(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.config={navigationBarTitleText:"上传文件"},r.data={HOST:_config.HOST,hid:null,session:null,token:null,filePrefix:"",lsKey:""},r.components={},r.mixins=[],r.computed={},r.methods={onReceivedMessage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.lsKey,r=t.detail.data&&t.detail.data[0]||{},o=r.key,i=r.fileName,o&&n){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,_clientUtil.setStorageSync)(n,[{key:o,name:i}]);case 6:case"end":return e.stop()}},e,this)}));return e}()},r.events={},o=n,_possibleConstructorReturn(r,o)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,o,i=t.attach,a=t.type;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={homework:"HOMEWORK_ASSIGN_FILES",daily_homework:"HOMEWORK_ASSIGN_FILES",homework_answer:"HOMEWORK_ANSWER_FILES"},e.next=3,_wepy2.default.$instance.logined(!0);case 3:r=_wepy2.default.getStorageSync("_session"),this.session=encodeURIComponent(r),o=_wepy2.default.getStorageSync("_token"),this.token=encodeURIComponent(o),this.filePrefix="tmp/"+i+"/"+a+"/",this.lsKey=n[i]||"",this.$apply();case 10:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page);Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(UploadFilePage,"pages/upload_file")); 
 			}); 	require("pages/upload_file.js");
 		__wxRoute = 'pages/vip_feature';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/vip_feature.js';	define("pages/vip_feature.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var s=t[a](i),o=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_dateUtil=require("./../utils/dateUtil.js"),_clientUtil=require("./../utils/clientUtil.js"),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_realTimeLog=require("./../utils/realTimeLog.js"),_realTimeLog2=_interopRequireDefault(_realTimeLog),ORIGIN_PRICE=10,MONTH_CONFIGS={VIP_3M:3,VIP_6M:6,VIP_12M:12,VIP_RENEWAL_3M:3,VIP_RENEWAL_6M:6,VIP_RENEWAL_12M:12,VIP_TRIAL_1M:1},VipFeaturePage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.config={navigationBarTitleText:"开通VIP",enablePullDownRefresh:!1},n.data={VIP_FEATURES:[[{label:"作业/成绩发布",img:"../images/vip/exam.svg",remark:"公众号通知"},{label:"班级公告提醒",img:"../images/vip/announcement.svg",remark:"公众号通知"}],[{label:"更多班级相册",img:"../images/vip/collection.svg",remark:""},{label:"隐藏作业提交",img:"../images/vip/hide_answer.svg",remark:""}]],gid:null,user:{},group:null,showIndex:null,goods:[],submitAble:!1,myVip:null,trialGoods:null},n.methods={goBack:function(){_wepy2.default.navigateBack()},toggleShow:function(e){this.showIndex=this.showIndex==e?null:parseInt(e),this.$apply()},onGoodsChange:function(e,t){this.goods.forEach(function(t,r){t.checked=r===e})},save:function(){function e(e,r){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,a,i,s,o,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.submitAble){e.next=2;break}return e.abrupt("return");case 2:if(this.submitAble=!1,this.$apply(),n=t?this.trialGoods:this.goods.find(function(e){return e.checked})){e.next=9;break}return e.next=8,_wepy2.default.showModal({title:"提示",content:"请选择付费套餐",showCancel:!1});case 8:return e.abrupt("return");case 9:return a={goods_id:n.id,gid:this.gid,expired_at:n.expiredAt,start_at:n.startAt,source:"FUNC"},i=null,s=null,o=null,e.prev=13,e.next=16,(0,_request2.default)({url:_config.api.vip.create.url,data:a});case 16:i=e.sent,e.next=26;break;case 19:return e.prev=19,e.t0=e.catch(13),this.submitAble=!0,this.$apply(),e.next=25,_wepy2.default.showModal({title:"提示",content:"提交订单信息出错,请稍后再试",showCancel:!1});case 25:return e.abrupt("return");case 26:if(e.prev=26,u=i.data.result,s=u.payParams,o=u.order,!i.data.cmd){e.next=62;break}return e.next=33,_wepy2.default.requestPayment(_extends({},s));case 33:if(c=e.sent,console.log("支付",c),-1==c.errMsg.indexOf("ok")){e.next=59;break}_wepy2.default.showLoading({title:"查询中...",mask:!0}),l=0;case 38:return l+=1,e.next=41,this.checkOrderStatus(o.id);case 41:if(e.t1=e.sent,null==e.t1){e.next=44;break}return e.abrupt("break",49);case 44:if(!(l>=3)){e.next=46;break}throw new Error("订单状态刷新异常，请稍候刷新重试");case 46:return e.next=48,(0,_delay2.default)(800*l);case 48:e.next=38;break;case 49:return this.$apply(),e.next=52,this.methods.getOrFetchGroup(this.gid,!0);case 52:return _wepy2.default.hideLoading(),_wepy2.default.showToast({title:"付费成功",icon:"success",duration:1500}),e.next=56,(0,_delay2.default)(1500);case 56:_wepy2.default.redirectTo({url:"/pages/vip_success"}),e.next=60;break;case 59:throw new Error(c.errMsg);case 60:e.next=63;break;case 62:throw new Error(i.data.msg);case 63:e.next=82;break;case 65:return e.prev=65,e.t2=e.catch(26),e.next=69,this.refreshVipInfo();case 69:if(this.submitAble=!0,this.$apply(),_wepy2.default.hideLoading(),!e.t2.errMsg||-1==e.t2.errMsg.indexOf("fail")){e.next=77;break}return e.next=75,_wepy2.default.showModal({title:"提示",content:"取消支付",showCancel:!1});case 75:e.next=82;break;case 77:return e.next=79,_wepy2.default.showModal({title:"提示",content:"支付错误，请稍候刷新重试",showCancel:!1});case 79:return _wepy2.default.navigateBack(),_realTimeLog2.default.error("购买会员出错: "+(o?"订单（"+o.id+"）":"")+", 异常: "+(e.t2.errMsg||e.t2.message)),e.abrupt("return");case 82:case"end":return e.stop()}},e,this,[[13,19],[26,65]])}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gid=t.gid,e.next=3,_wepy2.default.$instance.onLoad(t);case 3:return e.next=5,_wepy2.default.$instance.logined();case 5:return r=e.sent,n=r.user,this.user=n,e.next=10,this.methods.getOrFetchGroup(this.gid);case 10:return this.myVip=n&&(this.group.vips||[]).find(function(e){return e.uid===n.uid}),this.$apply(),e.prev=12,e.next=15,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 15:return e.next=17,this.loadGoodsList();case 17:(0,_clientUtil.hideLoading)(),e.next=26;break;case 20:return e.prev=20,e.t0=e.catch(12),(0,_clientUtil.hideLoading)(),e.next=25,_wepy2.default.showModal({title:"提示",content:"获取商品信息出错,请稍后再试",showCancel:!1});case 25:return e.abrupt("return");case 26:this.submitAble=!0,this.user=n,this.$apply(),n.extras&&n.extras.vip_trialled_at||this.myVip||this.loadTrial();case 30:case"end":return e.stop()}},e,this,[[12,20]])}));return e}()},{key:"checkOrderStatus",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.vip.order.url,data:{order_id:t}});case 2:return r=e.sent,e.abrupt("return",r&&r.data&&r.data.result?r.data.result.pay_time:null);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadGoodsList",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.vip.goods.url,data:{type:"FUNC",gid:this.gid}});case 2:t=e.sent,this.goods=t.data.result.map(function(e,t){return _extends({},r.formatGoods(e),{index:t,checked:"VIP_12M"===e.citation||"VIP_RENEWAL_12M"===e.citation})}),this.$apply();case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadTrial",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.api.vip.trialGoods.url});case 2:t=e.sent,r=t.data||{},n=r.cmd,a=r.result,this.trialGoods=n&&a?this.formatGoods(a):null,this.$apply();case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"formatGoods",value:function(e){var t=this.myVip?new Date(this.myVip.expired_at):new Date,r=e.citation;return _extends({},e,{startAt:(0,_dateformat2.default)(t),expiredAt:(0,_dateUtil.monthAfter)(t,MONTH_CONFIGS[r]),priceText:"￥"+e.price/100,originPrice:r.startsWith("VIP_TRIAL")||-1===["VIP_3M","VIP_6M"].indexOf(r)?"￥"+MONTH_CONFIGS[r]*ORIGIN_PRICE:" "})}},{key:"refreshVipInfo",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.methods.getOrFetchGroup(this.gid,!0);case 2:return this.myVip=this.user&&(this.group.vips||[]).find(function(e){return e.uid===t.user.uid}),e.next=5,this.loadGoodsList();case 5:if(!this.myVip){e.next=10;break}this.trialGoods=null,this.$apply(),e.next=12;break;case 10:return e.next=12,this.loadTrial();case 12:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(VipFeaturePage,"pages/vip_feature")); 
 			}); 	require("pages/vip_feature.js");
 		__wxRoute = 'pages/purchaseMembers';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/purchaseMembers.js';	define("pages/purchaseMembers.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(u,i){try{var o=t[u](i),a=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});e(a)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_clientUtil=require("./../utils/clientUtil.js"),PurchaseMembers=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,u;_classCallCheck(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.config={navigationBarTitleText:"选择成员",enablePullDownRefresh:!1},n.data={user:{},gid:null,group:null,members:[],partners:[],productName:null},n.computed={checked:function(){return(this.partners||[]).filter(function(e){return e.checked})},notChecked:function(){return(this.partners||[]).filter(function(e){return!e.checked})}},n.methods={removeChecked:function(e,t){this.partners.filter(function(e){return e.checked}).forEach(function(t,r){e==r&&(t.checked=!1)})},addChecked:function(e,t){this.partners.filter(function(e){return!e.checked}).forEach(function(t,r){e==r&&(t.checked=!0)})},save:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(this.partners||[]).filter(function(e){return e.checked}),t.length){e.next=5;break}return e.next=4,_wepy2.default.showModal({title:"提示",content:"请选择至少一位成员",showCancel:!1});case 4:return e.abrupt("return");case 5:return e.next=7,(0,_clientUtil.setStorageSync)("SELECTED_VIP_PARTNERS",this.partners);case 7:return e.next=9,_wepy2.default.navigateBack();case 9:case"end":return e.stop()}},e,this)}));return e}()},u=r,_possibleConstructorReturn(n,u)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,u,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gid=t.gid,e.next=3,_wepy2.default.$instance.onLoad(t);case 3:return e.next=5,_wepy2.default.$instance.logined();case 5:return r=e.sent,n=r.user,e.next=9,this.methods.getOrFetchGroup(this.gid);case 9:return this.user=n,this.members=Object.keys(this.group.members).map(function(e){return{key:e,value:i.group.members[e]}}),this.myVip=this.user&&(this.group.vips||[]).find(function(e){return e.uid===i.user.uid}),e.next=14,_wepy2.default.getStorageSync("SELECTED_VIP_GOODS");case 14:return u=e.sent,this.productName=u.name,e.next=18,_wepy2.default.getStorageSync("SELECTED_VIP_PARTNERS");case 18:this.partners=e.sent,this.$apply();case 20:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(PurchaseMembers,"pages/purchaseMembers")); 
 			}); 	require("pages/purchaseMembers.js");
 		__wxRoute = 'pages/exam_select';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/exam_select.js';	define("pages/exam_select.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_timeformat=require("./../utils/timeformat.js"),_timeformat2=_interopRequireDefault(_timeformat),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_group=require("./../mixins/group.js"),_group2=_interopRequireDefault(_group),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_clientUtil=require("./../utils/clientUtil.js"),ExamSelectPage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.config={navigationBarTitleText:"考试成绩",enablePullDownRefresh:!1},n.mixins=[_group2.default],n.data={gid:null,group:null,user:null,examList:[],page:1,pageTotal:1,loadingList:!1,forReport:!1,criterion:null,selectableCount:0},n.computed={selectedList:function(){var e=this.examList;return(void 0===e?[]:e).filter(function(e){return e.selected})}},n.methods={toExamCreate:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.selectedList,!(r=this.forReport)){e.next=9;break}if(!(t.length<=1)){e.next=4;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"至少需选择两个成绩进行分析",showCancel:!1}));case 4:return e.next=6,(0,_clientUtil.setStorageSync)("SELECTED_EXAM_IDS",this.selectedList.map(function(e){return e.id}));case 6:_wepy2.default.navigateTo({url:"/sp5/pages/exam_report?gid="+this.gid+"&child="+(this.group.partner&&this.group.partner.child||"")}),e.next=14;break;case 9:if(!(t.length<=0)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,_clientUtil.setStorageSync)("SELECTED_EXAM_LIST",this.selectedList);case 13:_wepy2.default.navigateTo({url:"/pages/exam?gid="+this.gid+"&is_total=true"});case 14:case"end":return e.stop()}},e,this)}));return e}(),onExamSelect:function(e){var t=this.examList,r=null,n=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;u.selected=e.detail.value.indexOf(u.id)>-1,u.selected&&(r=u.criterion)}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}this.criterion=r,this.$apply()},onSelectedAll:function(e){var t=this.examList,r=this.selectedList,n=this.selectableCount;if(!this.forReport){var a=r.length===n;t.forEach(function(e){e.criterion<1||e.criterion>5||(e.selected=!a)})}}},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"onReachBottom",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.page,r=this.pageTotal,!(1===t||1!=t&&r>=t+1)){e.next=8;break}return this.loadingList=!0,this.$apply(),e.next=6,this.fetchExams(++this.page);case 6:this.loadingList=!1,this.$apply();case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gid=t.gid,this.forReport="true"===t.forReport,e.next=4,this.refreshData();case 4:_wepy2.default.removeStorageSync("SELECTED_EXAM_LIST");case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.page=1,e.next=3,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 3:return e.prev=3,e.next=6,_wepy2.default.$instance.logined();case 6:return t=e.sent,r=t.user,e.next=10,this.methods.getOrFetchGroup(this.gid);case 10:this.$apply(),this.fetchExams(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),_wepy2.default.showModal({title:"提示",content:e.t0.message||"加载失败",showCancel:!1});case 17:(0,_clientUtil.hideLoading)();case 18:case"end":return e.stop()}},e,this,[[3,14]])}));return e}()},{key:"fetchExams",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.forReport,e.next=3,(0,_request2.default)({url:_config.api.examination.list.url,data:{gid:this.gid,is_total:!!t&&null,page:o,pageSize:20}});case 3:r=e.sent,r.data&&r.data.cmd&&(n=r.data.result,a=n.list,i=n.pagination,a.forEach(function(e){e.selected=!1,e.date=(0,_dateformat2.default)(new Date(e.start_time),!0),e.criterionIn1to5=e.criterion>=1&&e.criterion<=5}),this.pageTotal=Math.ceil(i.total/i.pageSize)||0,this.examList=1===o?a:[].concat(_toConsumableArray(this.examList),_toConsumableArray(a))),this.selectableCount=this.examList.filter(function(e){return e.criterion>=1&&e.criterion<=5}).length,this.$apply();case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(ExamSelectPage,"pages/exam_select")); 
 			}); 	require("pages/exam_select.js");
 		__wxRoute = 'pages/exam_comment';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/exam_comment.js';	define("pages/exam_comment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var u=t[a](i),o=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_clientUtil=require("./../utils/clientUtil.js"),_group=require("./../mixins/group.js"),_group2=_interopRequireDefault(_group),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),ExamRatingPage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),o=0;o<i;o++)u[o]=arguments[o];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.config={navigationBarTitleText:"成绩点评",enablePullDownRefresh:!1},n.mixins=[_group2.default],n.data={exam_id:null,child:null,exam:null,examResult:null,comment:null,GRADES:["优","优-","良","良-","中","差","不及格"],images:[]},n.computed={},n.methods={deleteComment:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_wepy2.default.showLoading({title:"提交中...",mask:!0}),e.next=4,(0,_request2.default)({url:_config.api.examination.deleteComment.url,data:{exam_result_id:this.examResult.id}});case 4:if(r=e.sent,n=r.data,(0,_clientUtil.hideLoading)(),!n.cmd){e.next=14;break}return _wepy2.default.showToast({title:"删除成功",icon:"success",duration:1500}),e.next=11,(0,_delay2.default)(1500);case 11:return e.abrupt("return",_wepy2.default.navigateBack());case 14:throw new Error(n.msg);case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(0),(0,_clientUtil.hideLoading)(),e.next=22,_wepy2.default.showModal({title:"提示",content:e.t0.message||"删除点评失败",showCancel:!1});case 22:case"end":return e.stop()}},e,this,[[0,17]])}));return e}(),onCommentChange:function(e){this.comment=e.detail.value},chooseImage:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_clientUtil.chooseImage)({count:1-this.images.length});case 2:r=e.sent,n=r.tempFilePaths,(t=this.images).push.apply(t,_toConsumableArray(n.map(function(e){return{local:!0,path:e}}))),this.$apply();case 6:case"end":return e.stop()}},e,this)}));return e}(),previewMixedImage:function(e,t,r){var n=function(e){return e.local?e.path:(0,_cdnurl2.default)(e.path)+"-rating"};_wepy2.default.previewImage({current:n(e),urls:t.map(n)})},deleteImage:function(e){this.images.splice(e,1),this.$apply()},save:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_wepy2.default.showLoading({title:"提交中...",mask:!0}),e.prev=1,t=this.child,r=this.exam_id,n=this.comment,a=this.examResult,n&&!(n.length>200)){e.next=5;break}throw new Error("点评需1~200个字符");case 5:if(t){e.next=7;break}throw new Error("学生编号不正确");case 7:if(r){e.next=9;break}throw new Error("考试编号不正确");case 9:return e.next=11,(0,_request2.default)({url:_config.api.examination.comment.url,data:{exam_id:r,exam_result_id:a.id,comment:n}});case 11:if(i=e.sent,u=i.data,(0,_clientUtil.hideLoading)(),!u.cmd){e.next=23;break}return _wepy2.default.showToast({title:"保存成功",icon:"success",duration:800}),e.next=18,(0,_delay2.default)(800);case 18:return e.next=20,this.uploadImages(u.result.id);case 20:return e.abrupt("return",_wepy2.default.navigateBack());case 23:throw new Error(u.msg);case 24:e.next=31;break;case 26:return e.prev=26,e.t0=e.catch(1),(0,_clientUtil.hideLoading)(),e.next=31,_wepy2.default.showModal({title:"提示",content:e.t0.message||"点评失败",showCancel:!1});case 31:case"end":return e.stop()}},e,this,[[1,26]])}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"uploadImages",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a,i,u,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_wepy2.default.showLoading({title:"上传中...",mask:!0}),r=this.images,n=this.exam_id,a=this.group.gid,i=0;case 4:if(!(i<r.length)){e.next=24;break}if(u=r[i],u.local){e.next=8;break}return e.abrupt("continue",21);case 8:return o=a+"/exam/"+n+"/result/"+t+"/image/"+(i+1)+"/"+Date.now(),e.prev=9,e.next=12,(0,_upload2.default)({url:_config.qiniu,filePath:u.path,name:"file",formData:{key:o,id:t,flag:"exam_result"}});case 12:return e.abrupt("return",(0,_clientUtil.hideLoading)());case 15:return e.prev=15,e.t0=e.catch(9),(0,_clientUtil.hideLoading)(),e.next=20,_wepy2.default.showModal({title:"提示",content:e.t0.message||"上传图片出错!",showCancel:!1});case 20:return e.abrupt("return",e.sent);case 21:i++,e.next=4;break;case 24:case"end":return e.stop()}},e,this,[[9,15]])}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.exam_id=t.exam_id,this.child=t.child,this.$apply(),e.next=5,this.loadExam();case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadExam",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u,o,s,c,l,p,f,d=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.exam_id,r=this.child,e.next=3,(0,_request2.default)({url:_config.api.examination.detail.url,data:{exam_id:t}});case 3:return n=e.sent,a=n.data.result,e.next=7,this.methods.getOrFetchGroup(a.gid);case 7:this.exam=a,i=a.criterion,u=a.lesson,o=a.results,s=a.full_rating,c=function(e){return-1===e||null===e||void 0===e||isNaN(e)},l=function(e){return function(t,r){return c(t.rating)?1:r.rating===t.rating?t.child-r.child:e(t,r)}},0==i?o.sort(l(function(e,t){return e.rating-t.rating})):o.sort(l(function(e,t){return t.rating-e.rating})),this.studentList=Object.keys(this.group.members).map(function(e,t){return{child:t+1,name:d.group.members[e]||"",score:"",rank:"",comment:"",comment_images:[]}}),this.studentList.forEach(function(e,t){var r=o.find(function(t){return t.child==e.child});e.score=r?parseFloat(r.rating):null,e.rank=null,r&&(e.comment=r.comment,e.comment_images=r.comment_images||[],e.commented_at=r.commented_at,e.id=r.id)}),p=null,f=0,o.filter(function(e){return!c(e.rating)}).forEach(function(e,t){var r=d.studentList.find(function(t){return t.child===e.child});if(r){var n=t;n=p==e.rating&&f?f:t+1,p=e.rating,f=n,r.rank=n}}),this.examResult=this.studentList.find(function(e){return e.child==r}),this.images=(this.examResult.comment_images||[]).map(function(e){return{local:!1,path:e}}),this.comment=this.examResult.comment,this.$apply();case 21:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(ExamRatingPage,"pages/exam_comment")); 
 			}); 	require("pages/exam_comment.js");
 		__wxRoute = 'pages/homework_report';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/homework_report.js';	define("pages/homework_report.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var s=t[a](o),i=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_dateUtil=require("./../utils/dateUtil.js"),_clientUtil=require("./../utils/clientUtil.js"),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_F2Canvas=require("./../components/F2Canvas.js"),_F2Canvas2=_interopRequireDefault(_F2Canvas),_adapterF=require("./../npm/mini-program-utils/dist/f2/adapterF2.js"),_adapterF2=_interopRequireDefault(_adapterF),_constances=require("./../utils/constances.js"),_showVipRenewalIfNearExpired=require("./../utils/showVipRenewalIfNearExpired.js"),_showVipRenewalIfNearExpired2=_interopRequireDefault(_showVipRenewalIfNearExpired),HomeworkReportPage=(_dec=(0,_wepyRedux.connect)({group:function(e){var t=e.group.detail;return t?_extends({},t,{memberList:Object.keys(t.members)}):null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,n,r,a;_classCallCheck(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.config={navigationBarTitleText:"作业统计",enablePullDownRefresh:!1,usingComponents:{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index","group-picker":"/wx_components/group_picker/index"}},r.$repeat={},r.$props={assignchart:{canvasId:"assignchart",width:"750",height:"500"},answerchart:{canvasId:"answerchart",width:"750",height:"500"}},r.$events={},r.components={assignchart:_F2Canvas2.default,answerchart:_F2Canvas2.default},r.data=_extends({gid:null,user:null,date:null,report_id:null,completions:[],total_completion:null,lesson_completions:[],total_lesson_completion:null,visits:[],report:null,lessonNameList:[],lessonIdx:0,sortKeys:[{key:"CHILD_ASC",value:"按学号升序"},{key:"CHILD_DESC",value:"按学号降序"},{key:"ANSWER_PERCENTAGE_ASC",value:"按提交率升序"},{key:"ANSWER_PERCENTAGE_DESC",value:"按提交率降序"}],sortIdx:0,lessonName:"全部科目",notVisitNames:[],visitChilds:"",reportTitle:"",MEMBER_STATUS_REMARK:_constances.MEMBER_STATUS_REMARK,createdTime:null,isShowReport:!1},function(e){var t=e.getFullYear(),n=e.getMonth();return{selectDate:t+"-"+(n+1<10?"0":"")+(n+1),startDate:t+"-"+(n-1<10?"0":"")+(n-1)}}(new Date),{endDate:(0,_dateformat2.default)(new Date)}),r.methods={bindLessonChange:function(e){this.lessonIdx=e.detail.value,this.lessonName=this.lessonNameList[this.lessonIdx]?this.lessonNameList[this.lessonIdx]:"",this.sortCompletions()},bindSortingChange:function(e){this.sortIdx=e.detail.value,this.sortCompletions()},bindDateChange:function(e){this.selectDate=e.detail.value},copyDetail:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={itemList:["复制名单"]},e.prev=1,e.next=4,(0,_clientUtil.showActionSheet)(t);case 4:if(n=e.sent,0!=n.tapIndex){e.next=8;break}return e.next=8,wx.setClipboardData({data:this.notVisitNames});case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}},e,this,[[1,10]])}));return e}(),refresh:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_wepy2.default.showLoading({title:"刷新中...",mask:!0}),e.t0=this,e.next=5,this.refreshReport();case 5:return e.t1=e.sent,e.next=8,e.t0.initData.call(e.t0,e.t1);case 8:return(0,_clientUtil.hideLoading)(),_wepy2.default.showToast({title:"刷新成功",icon:"success",duration:1500}),e.next=12,(0,_delay2.default)(1500);case 12:e.next=18;break;case 14:e.prev=14,e.t2=e.catch(0),(0,_clientUtil.hideLoading)(),_wepy2.default.showModal({title:"提示",content:e.t2.message||"刷新作业统计数据出错!",showCancel:!1});case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return e}(),saveReport:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.$wxpage.selectComponent("#groupPicker"),t.getSelected()){e.next=4;break}return _wepy2.default.showModal({title:"提示",content:"请选择班级",showCancel:!1}),e.abrupt("return");case 4:return n=t.getSelected().gid,this.date=this.selectDate,this.gid=n,this.report=null,this.$apply(),e.prev=9,_wepy2.default.showLoading({title:"加载中...",mask:!0}),e.t0=this,e.next=14,this.getReport();case 14:return e.t1=e.sent,e.next=17,e.t0.initData.call(e.t0,e.t1);case 17:(0,_clientUtil.hideLoading)(),e.next=26;break;case 20:e.prev=20,e.t2=e.catch(9),console.log(e.t2),(0,_clientUtil.hideLoading)(),_wepy2.default.showModal({title:"提示",content:e.t2.message||"获取作业统计数据出错!",showCancel:!1}),e.t2&&(this.report=null,this.$apply());case 26:case"end":return e.stop()}},e,this,[[9,20]])}));return e}()},a=n,_possibleConstructorReturn(r,a)}return _inherits(t,e),_createClass(t,[{key:"sortCompletions",value:function(){var e=this.sortKeys[this.sortIdx].key,t=this.lessonName,n=function(e){return e.value[t].answer_count/e.value[t].need_answer_count};"CHILD_ASC"===e?this.completions.sort(function(e,t){return e.child-t.child}):"CHILD_DESC"===e?this.completions.sort(function(e,t){return t.child-e.child}):"ANSWER_PERCENTAGE_ASC"===e?this.completions.sort(function(e,t){return n(e)-n(t)}):"ANSWER_PERCENTAGE_DESC"===e&&this.completions.sort(function(e,t){return n(t)-n(e)}),this.$apply()}},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t.gid||t.report_id){e.next=8;break}return e.next=4,_wepy2.default.$instance.logined();case 4:return this.user=e.sent.user,this.isShowReport=!0,this.$apply(),e.abrupt("return");case 8:return this.gid=t.gid,this.date=new Date(t.date),this.reportTitle=this.date.getFullYear()+"年"+(this.date.getMonth()+1)+"月作业统计报告",this.report_id=t.report_id,this.$apply(),e.next=15,_wepy2.default.$instance.logined();case 15:return this.user=e.sent.user,e.prev=16,_wepy2.default.showLoading({title:"加载中...",mask:!0}),e.t0=this,e.next=21,this.getReport();case 21:return e.t1=e.sent,e.next=24,e.t0.initData.call(e.t0,e.t1);case 24:(0,_clientUtil.hideLoading)(),e.next=33;break;case 27:e.prev=27,e.t2=e.catch(16),console.log(e.t2),(0,_clientUtil.hideLoading)(),_wepy2.default.showModal({title:"提示",content:e.t2.message||"获取作业统计数据出错!",showCancel:!1}),_wepy2.default.navigateBack();case 33:(0,_showVipRenewalIfNearExpired2.default)(this);case 34:case"end":return e.stop()}},e,this,[[16,27]])}));return e}()},{key:"initData",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,a,o,s,i,u,c,l,_=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t.completions,r=void 0===n?[]:n,a=t.visits,o=void 0===a?[]:a,s=t.lesson_completions,i=void 0===s?[]:s,u=_objectWithoutProperties(t,["completions","visits","lesson_completions"]),c=u,l=void 0===c?null:c,this.isShowReport||(this.report_id=l.id),this.gid=l.gid,e.next=7,this.methods.getOrFetchGroup(this.gid);case 7:this.date=new Date(l.start_date),this.reportTitle=this.date.getFullYear()+" 年"+(this.date.getMonth()+1)+" 月作业统计报告",this.completions=this.getChildCompletions(r),this.completions.length&&(this.lessonNameList=Object.keys(this.completions[0].value)),this.lesson_completions=i.map(function(e){return _extends({},e,{answer_percentage:100*(e.answer_count/e.need_answer_count||0)})}),this.total_lesson_completion=i.reduce(function(e,t){return{homework_report_id:t.homework_report_id,need_answer_count:e.need_answer_count+t.need_answer_count,answer_count:e.answer_count+t.answer_count,later_answer_count:e.later_answer_count+t.later_answer_count,not_answer_count:e.not_answer_count+t.not_answer_count,homework_count:e.homework_count+t.homework_count,name:"全部科目"}},{need_answer_count:0,answer_count:0,later_answer_count:0,not_answer_count:0,homework_count:0}),this.total_lesson_completion.answer_percentage=(this.total_lesson_completion.answer_count/this.total_lesson_completion.need_answer_count*100).toFixed(2),this.visits=o,this.visitChilds=new Array(new Set(o.map(function(e){return e.child}))),this.notVisitNames=this.group.memberList.filter(function(e){return-1===_.visitChilds.indexOf(parseInt(e))}).map(function(e){return _.group.members[e]}).join(", "),this.report=l,this.createdTime=l&&l.created_at?(0,_dateUtil.getDatetimeStr)(l.created_at):"",this.$apply(),this.initChart();case 21:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChildCompletions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach(function(e){if(e.child in t){var n=t[e.child];if(e.lesson_name in n){var r=n[e.lesson_name];r.need_answer_count=e.need_answer_count,r.answer_count=e.answer_count,r.later_answer_count=e.later_answer_count,r.not_answer_count=e.not_answer_count}else n[e.lesson_name]={child:e.child,name:e.name,lesson_name:e.lesson_name,need_answer_count:e.need_answer_count,answer_count:e.answer_count,later_answer_count:e.later_answer_count,not_answer_count:e.not_answer_count};var a=n["全部科目"];a.need_answer_count+=e.need_answer_count,a.answer_count+=e.answer_count,a.later_answer_count+=e.later_answer_count,a.not_answer_count+=e.not_answer_count}else t[e.child]=_defineProperty({"全部科目":{child:e.child,name:e.name,lesson_name:"全部科目",need_answer_count:e.need_answer_count,answer_count:e.answer_count,later_answer_count:e.later_answer_count,not_answer_count:e.not_answer_count}},e.lesson_name,{child:e.child,name:e.name,lesson_name:e.lesson_name,need_answer_count:e.need_answer_count,answer_count:e.answer_count,later_answer_count:e.later_answer_count,not_answer_count:e.not_answer_count})}),Object.keys(t).map(function(e){return{child:parseInt(e),value:t[e]}})}},{key:"getReport",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,a,o,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.gid,n=this.date,r=this.report_id,a=this.group,o=this.user,e.next=3,(0,_request2.default)({url:_config.api.homework.report.url,data:r?{report_id:r}:{gid:t,start_date:(0,_dateUtil.getMonthStart)(n),end_date:(0,_dateUtil.getMonthEnd)(n),should_generate:a&&a.partner&&o&&(a.admin_uid===o.uid||"T"===a.partner.type)}});case 3:if(s=e.sent,(i=s.data)&&i.cmd){e.next=7;break}throw new Error(i.msg||"获取作业统计数据出错");case 7:return e.abrupt("return",i.result);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshReport",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.report_id,e.next=3,(0,_request2.default)({url:_config.api.homework.refreshReport.url,data:{report_id:t}});case 3:if(n=e.sent,(r=n.data)&&r.cmd){e.next=7;break}throw new Error(r.msg||"刷新作业统计数据出错");case 7:return e.abrupt("return",r.result);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"initChart",value:function(){var e=this;this.$invoke("assignchart","init",{onInit:function(t,n,r){var a=new _adapterF2.default.Chart({el:t,width:n,height:r,padding:[40,"auto",60,"auto"]});return a.source(e.lesson_completions.sort(function(e,t){return t.homework_count-e.homework_count}),{homework_count:{type:"linear",alias:"次数",formatter:function(e){return Number.isInteger(e)?e:""}}}),a.axis("name",{label:e.lesson_completions.length<=3?{}:{rotate:Math.PI/4,textAlign:"start",textBaseline:"middle"}}),e.lesson_completions.length<=3?a.interval().position("name*homework_count").size(30):a.interval().position("name*homework_count"),a.render(),a}}),this.$invoke("answerchart","init",{onInit:function(t,n,r){var a=new _adapterF2.default.Chart({el:t,width:n,height:r,padding:[40,"auto",60,"auto"]});return a.source(e.lesson_completions.sort(function(e,t){return t.answer_percentage-e.answer_percentage}),{answer_percentage:{max:100,type:"linear",alias:"提交率",formatter:function(e){return e.toFixed(2)+"% "}}}),a.axis("answer_percentage",{label:function(e){return{text:parseInt(e)+"% "}}}),a.axis("name",{label:e.lesson_completions.length<=3?{}:{rotate:Math.PI/4,textAlign:"start",textBaseline:"middle"}}),e.lesson_completions.length<=3?a.interval().position("name*answer_percentage").size(30):a.interval().position("name*answer_percentage"),a.render(),a}})}},{key:"onShareAppMessage",value:function(){var e=_wepy2.default.$instance.onShareAppMessage(),t=this.user,n=this.group,r=this.report,a=this.reportTitle;return{title:(e.nickname||"我")+" 分享了 "+a+" ",path:"/pages/homework_report?report_id="+r.id+"&gid="+n.gid+"&suid="+t.uid}}}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(HomeworkReportPage,"pages/homework_report")); 
 			}); 	require("pages/homework_report.js");
 		__wxRoute = 'pages/announcement_list';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/announcement_list.js';	define("pages/announcement_list.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,a){try{var s=t[i](a),o=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_dateUtil=require("./../utils/dateUtil.js"),_clientUtil=require("./../utils/clientUtil.js"),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_shouldShowAd=require("./../utils/shouldShowAd.js"),_shouldShowAd2=_interopRequireDefault(_shouldShowAd),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),AnnouncementListPage=(_dec=(0,_wepyRedux.connect)({user:function(e){return e.user.detail||null},group:function(e){return e.group.detail||null}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,i;_classCallCheck(this,t);for(var a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.config={navigationBarTitleText:"班级公告",enablePullDownRefresh:!0},n.computed={},n.data={gid:null,user:null,isTeacherOrProxy:!1,page:1,total:null,isExpiredList:!1,list:[],expiredList:[],showAd:!1},n.methods={onScroll:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.page>Math.ceil(this.total/10))){e.next=2;break}return e.abrupt("return");case 2:return _wepy2.default.showLoading({title:"加载中...",mask:!0}),e.next=5,this.refreshList();case 5:(0,_clientUtil.hideLoading)();case 6:case"end":return e.stop()}},e,this)}));return e}(),toCreate:function(){var e=this.gid;_wepy2.default.navigateTo({url:"announcement_edit?gid="+e})},toDetail:function(e,t){_wepy2.default.navigateTo({url:"announcement?announcement_id="+e})}},i=r,_possibleConstructorReturn(n,i)}return _inherits(t,e),_createClass(t,[{key:"getList",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.gid,e.next=3,(0,_request2.default)({url:_config.api.announcement.list.url,data:{page:a,pageSize:s,gid:t,isExpired:i}});case 3:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n.cmd&&n.result||{});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshList",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,i,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.gid,a&&(this.page=1,this.total=null,this.isExpiredList=!1,this.list=[],this.expiredList=[]),e.next=4,this.getList(this.isExpiredList,this.page);case 4:if(r=e.sent,n=r.list,i=r.pagination,n.forEach(function(e){e.createdDate=(0,_dateUtil.getDatetimeStr)(e.created_at)}),this.isExpiredList?this.expiredList=this.expiredList.concat(n):this.list=this.list.concat(n),this.total=i.total,this.page=!this.expiredList&&(n.length<10||this.page>Math.ceil(this.total/10))?1:this.page+1,this.$apply(),this.isExpiredList||!(n.length<10)){e.next=19;break}return this.page=1,this.isExpiredList=!0,this.total=null,this.$apply(),e.next=19,this.refreshList(!1,this.page);case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"checkIsVip",value:function(){var e=this.user,t=this.group||{},r=t.vips,n=void 0===r?[]:r,i=t.vip_expired_at;console.log(e,n,i);var a=e?n.find(function(t){return t.uid===e.uid}):null,s=i&&new Date(i)>=new Date;return a||s}},{key:"isVipOrTeacher",value:function(){var e=this.group||{},t=e.partner,r=this.checkIsVip();return t&&"T"===t.type||r}},{key:"isShow",value:function(){var e=this.group||{},t=e.created_at,r=e.partner,n=this.isVipOrTeacher();return!((!(0,_shouldShowAd2.default)(t,r&&r.type)||n)&&null!=n)}},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.$instance.onLoad(t);case 2:return this.gid=t.gid,this.showAd=this.isShow(),e.next=6,_wepy2.default.$instance.logined();case 6:return r=e.sent,n=r.user,this.user=n,e.next=11,this.methods.getOrFetchGroup(this.gid);case 11:return this.isTeacherOrProxy=this.group.partner&&("T"==this.group.partner.type||"P"==this.group.partner.type&&this.group.partner.proxy||"S"==this.group.partner.type&&this.group.partner.proxy),this.$apply(),_wepy2.default.removeStorageSync("ANNOUNCEMENT_LIST_NEED_REFRESH"),_wepy2.default.showLoading({title:"加载中...",mask:!0}),e.next=17,this.refreshList();case 17:(0,_clientUtil.hideLoading)();case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShow",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.getStorageSync("ANNOUNCEMENT_LIST_NEED_REFRESH");case 2:if(!e.sent){e.next=8;break}return _wepy2.default.showLoading({title:"加载中...",mask:!0}),_wepy2.default.removeStorageSync("ANNOUNCEMENT_LIST_NEED_REFRESH"),e.next=7,this.refreshList(!0);case 7:(0,_clientUtil.hideLoading)();case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _wepy2.default.showLoading({title:"加载中...",mask:!0}),e.next=3,this.refreshList(!0);case 3:return(0,_clientUtil.hideLoading)(),e.next=6,_wepy2.default.stopPullDownRefresh();case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(AnnouncementListPage,"pages/announcement_list")); 
 			}); 	require("pages/announcement_list.js");
 		__wxRoute = 'pages/announcement_edit';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/announcement_edit.js';	define("pages/announcement_edit.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,i){try{var u=t[a](i),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_deepclone=require("./../utils/deepclone.js"),_deepclone2=_interopRequireDefault(_deepclone),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_sensitiveWordChecker=require("./../utils/sensitiveWordChecker.js"),_sensitiveWordChecker2=_interopRequireDefault(_sensitiveWordChecker),_interfaces=require("./../interfaces/index.js"),_interfaces2=_interopRequireDefault(_interfaces),_dateUtil=require("./../utils/dateUtil.js"),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_clientUtil=require("./../utils/clientUtil.js"),AnnouncementEditPage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null},announcement:function(e){return e.announcement.detail||null}},{fetchAnnouncement:_actions.fetchAnnouncement}))(_class=function(e){function t(){var e,n,r,a;_classCallCheck(this,t);for(var i=arguments.length,u=Array(i),o=0;o<i;o++)u[o]=arguments[o];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.config={navigationBarTitleText:"班级公告"},r.data={gid:null,announcement_id:null,user:{},dateStart:(0,_dateUtil.future)(1),title:"",detail:"",expiredDate:null,images:[]},r.computed={},r.methods={titleChange:function(e){this.title=e.detail.value},detailChange:function(e){this.detail=e.detail.value},expiredChange:function(e){this.expiredDate=e.detail.value},chooseImage:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_clientUtil.chooseImage)({count:9-this.images.length});case 2:n=e.sent,r=n.tempFilePaths,(t=this.images).push.apply(t,_toConsumableArray(r.map(function(e){return{local:!0,path:e}}))),this.$apply();case 6:case"end":return e.stop()}},e,this)}));return e}(),deleteImage:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.images[t],!n.local){e.next=5;break}this.images.splice(t,1),e.next=22;break;case 5:return e.next=7,_wepy2.default.showModal({title:"提示",content:"确定删除此图片"});case 7:if(r=e.sent,r.confirm){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,_wepy2.default.showLoading({title:"删除中...",mask:!0}),e.next=14,(0,_request2.default)({url:_config.api.announcement.deleteFile.url,data:{announcement_id:this.announcement_id,type:"image",key:n.path}});case 14:(0,_clientUtil.hideLoading)(),this.images.splice(t,1),this.$apply(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),_wepy2.default.showModal({title:"提示",content:e.t0.message||"删除图片失败",showCancel:!1});case 22:case"end":return e.stop()}},e,this,[[10,19]])}));return e}(),previewImage:function(e,t){var n=function(e){return e.local||e.isCloud?e.path:(0,_cdnurl2.default)(e.path)+"-rating"};_wepy2.default.previewImage({current:n(e),urls:t.map(n)})},save:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,a,i,u,o,s,c,l,d,p,f,_,h,m,g,y,w,v,x,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_delay2.default)(500);case 2:if(t=this.gid,n=this.announcement_id,r=this.title,a=this.detail,i=this.images,u=void 0===i?[]:i,o=this.expiredDate,s=void 0===o?null:o,e.prev=3,r&&!(r.length>20)){e.next=6;break}throw new Error("标题需1-20个字符");case 6:if(a&&!(a.length>500)){e.next=8;break}throw new Error("内容描述需1-500个字符");case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",_wepy2.default.showModal({title:"提示",content:e.t0.message,showCancel:!1}));case 13:return e.prev=13,_wepy2.default.showLoading({title:"提交中...",mask:!0}),c={title:r,detail:a,expired_at:s?(0,_dateUtil.getDateEnd)(s):null},e.next=18,(0,_request2.default)({url:n?_config.api.announcement.update.url:_config.api.announcement.create.url,data:n?_extends({},c,{announcement_id:n}):_extends({},c,{gid:t})});case 18:if(l=e.sent,d=l.data,(0,_clientUtil.hideLoading)(),!d.cmd||!d.result){e.next=70;break}return _wepy2.default.showToast({title:n?"保存成功":"发布成功",icon:"success",duration:1500,mask:!0}),this.announcement_id=d.result.id,this.$apply(),e.next=27,(0,_delay2.default)(1500);case 27:if(p=0,f=0,_=0,h=u.filter(function(e){return e.local}),!h.length){e.next=68;break}m=!0,g=!1,y=void 0,e.prev=35,w=h[Symbol.iterator]();case 37:if(m=(v=w.next()).done){e.next=49;break}return x=v.value,_+=1,_wepy2.default.showLoading({title:"上传图片("+_+"/"+h.length+")",mask:!0}),e.next=43,this.uploadImage(x.path,this.announcement_id);case 43:b=e.sent,b?(x.local=!1,x.path=b,this.$apply(),p+=1):f+=1,(0,_clientUtil.hideLoading)();case 46:m=!0,e.next=37;break;case 49:e.next=55;break;case 51:e.prev=51,e.t1=e.catch(35),g=!0,y=e.t1;case 55:e.prev=55,e.prev=56,!m&&w.return&&w.return();case 58:if(e.prev=58,!g){e.next=61;break}throw y;case 61:return e.finish(58);case 62:return e.finish(55);case 63:if(!f){e.next=65;break}throw new Error(f+"张图片上传失败");case 65:return _wepy2.default.showToast({title:"上传成功",icon:"success",duration:1500,mask:!0}),e.next=68,(0,_delay2.default)(1500);case 68:e.next=71;break;case 70:throw new Error("保存公告出错");case 71:return e.next=73,(0,_clientUtil.setStorageSync)("ANNOUNCEMENT_LIST_NEED_REFRESH",!0);case 73:n?_wepy2.default.navigateBack():_wepy2.default.redirectTo({url:"announcement?announcement_id="+this.announcement_id}),e.next=80;break;case 76:e.prev=76,e.t2=e.catch(13),(0,_clientUtil.hideLoading)(),_wepy2.default.showModal({title:"提示",content:e.t2.message||"保存公告出错",showCancel:!1});case 80:case"end":return e.stop()}},e,this,[[3,10],[13,76],[35,51,55,63],[56,,58,62]])}));return e}(),deleteAnnouncement:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:"提示",content:"确定删除此公告?"});case 2:if(t=e.sent,t.confirm){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,_wepy2.default.showLoading({title:"删除中...",mask:!0}),e.next=9,(0,_request2.default)({url:_config.api.announcement.delete.url,data:{announcement_id:this.announcement_id}});case 9:return(0,_clientUtil.hideLoading)(),_wepy2.default.showToast({title:"删除成功",icon:"success",duration:1500,mask:!0}),e.next=13,(0,_clientUtil.setStorageSync)("ANNOUNCEMENT_LIST_NEED_REFRESH",!0);case 13:return e.next=15,(0,_delay2.default)(1500);case 15:_wepy2.default.navigateBack({delta:2}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),_wepy2.default.showModal({title:"提示",content:e.t0.message||"删除失败",showCancel:!1});case 21:case"end":return e.stop()}},e,this,[[5,18]])}));return e}()},a=n,_possibleConstructorReturn(r,a)}return _inherits(t,e),_createClass(t,[{key:"uploadImage",value:function(){function e(e,n){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.group.gid,a=r+"/announcement/"+n+"/image/"+Date.now(),e.prev=2,e.next=5,(0,_upload2.default)({url:_config.qiniu,filePath:t,name:"file",formData:{url:_config.qiniu,flag:"announcement",key:a,announcement_id:n}});case 5:return e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(2),console.log(e.t0),e.next=13,(0,_request2.default)({url:_config.api.announcement.deleteFile.url,data:{announcement_id:n,type:"image",key:a}});case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[2,8]])}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,a,i,u,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gid=t.gid,this.announcement_id=t.announcement_id,this.$apply(),!t.announcement_id){e.next=18;break}return e.next=6,_wepy2.default.$instance.logined();case 6:if(this.user=e.sent.user,this.announcement&&this.announcement.id==t.announcement_id){e.next=10;break}return e.next=10,this.methods.fetchAnnouncement(t.announcement_id);case 10:n=this.announcement,r=n.title,a=n.detail,i=n.images,u=void 0===i?[]:i,o=n.expired_at,this.title=r,this.detail=a,this.images=(u||[]).map(function(e){return{local:!1,path:e,isCloud:e.startsWith(_config.CLOUD_HEADER)}}),this.expiredDate=o?(0,_dateUtil.getDateStr)(o):null,this.$apply(),e.next=20;break;case 18:return e.next=20,_wepy2.default.$store.dispatch({type:"FETCH_ANNOUNCEMENT",payload:null});case 20:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(AnnouncementEditPage,"pages/announcement_edit")); 
 			}); 	require("pages/announcement_edit.js");
 		__wxRoute = 'pages/announcement';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/announcement.js';	define("pages/announcement.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,i){try{var o=t[a](i),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_dateUtil=require("./../utils/dateUtil.js"),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_actions=require("./../store/actions/index.js"),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_clientUtil=require("./../utils/clientUtil.js"),_showVipRenewalIfNearExpired=require("./../utils/showVipRenewalIfNearExpired.js"),_showVipRenewalIfNearExpired2=_interopRequireDefault(_showVipRenewalIfNearExpired),_base_modal=require("./../components/base_modal.js"),_base_modal2=_interopRequireDefault(_base_modal),AnnouncementPage=(_dec=(0,_wepyRedux.connect)({group:function(e){var t=e.group.detail;return t&&(t.totalMemberCount=Object.keys(t.members||{}).length,t.parentOrStuCount=t.partners&&t.partners.filter(function(e){return"P"===e.type||"S"===e.type}).length||0),t||null},announcement:function(e){var t=e.announcement.detail;return t&&(t.createdDate=(0,_dateUtil.getDatetimeStr)(t.created_at),t.expiredDate=t.expired_at?(0,_dateUtil.getDatetimeStr)(t.expired_at):null),t||null}},{getOrFetchGroup:_actions.getOrFetchGroup,fetchAnnouncement:_actions.fetchAnnouncement}))(_class=function(e){function t(){var e,n,r,a;_classCallCheck(this,t);for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=r=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.config={navigationBarTitleText:"公告详情",usingComponents:{"vip-renewal-modal":"/wx_components/vip_renewal_modal/index","join-group-footer":"/wx_components/join_group_footer/index"}},r.data={announcement_id:null,user:null,group:null,visits:[],images:[]},r.computed={notVisitList:function(){var e=this.visits,t=void 0===e?[]:e,n=this.group,r=t.map(function(e){return e.child});return Object.keys(n&&n.members||{}).map(function(e){return{child:parseInt(e)+1,name:n.members[e]}}).filter(function(e){return-1===r.indexOf(e.child)}).map(function(e){return e.name})},notVisitStr:function(){var e=this.notVisitList;return(void 0===e?[]:e).join(", ")}},r.$repeat={},r.$props={remindmodal:{showClose:"true"}},r.$events={},r.components={remindmodal:_base_modal2.default},r.methods={copyNotVisit:function(){_wepy2.default.setClipboardData({data:this.notVisitStr})},showRemindModal:function(){this.$invoke("remindmodal","show")},remindMember:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_wepy2.default.showLoading({title:"发送中...",mask:!0}),e.next=4,(0,_request2.default)({url:_config.api.announcement.remind.url,data:{announcement_id:this.announcement_id}});case 4:return e.next=6,this.methods.fetchAnnouncement(this.announcement_id);case 6:return(0,_clientUtil.hideLoading)(),this.$invoke("remindmodal","hide"),_wepy2.default.showToast({title:"发送成功",icon:"success",duration:1500,mask:!0}),e.next=11,(0,_delay2.default)(1500);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),_wepy2.default.showModal({title:"提示",content:e.t0.message||"发送失败",showCancel:!1});case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return e}(),previewImage:function(){function e(e,n){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="-rating",a=function(e){return e.isCloud?e.path:(0,_cdnurl2.default)(e.path)+r},e.next=4,_wepy2.default.previewImage({current:a(t),urls:n.map(a)});case 4:case"end":return e.stop()}},e,this)}));return e}(),copyDetail:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={itemList:["拷贝公告详情"]},e.prev=1,e.next=4,(0,_clientUtil.showActionSheet)(t);case 4:if(n=e.sent,0!=n.tapIndex){e.next=8;break}return e.next=8,wx.setClipboardData({data:this.announcement.detail});case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}},e,this,[[1,10]])}));return e}(),toIndex:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_wepy2.default.reLaunch({url:"/pages/index"});case 1:case"end":return e.stop()}},e,this)}));return e}(),toEdit:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_wepy2.default.navigateTo({url:"announcement_edit?announcement_id="+this.announcement_id});case 1:case"end":return e.stop()}},e,this)}));return e}(),onRemove:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.user,n=this.group,r=this.announcement_id,n.admin_uid===t.uid){e.next=3;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"只有管理员能删除其它成员发布的公告",showCancel:!1}));case 3:return e.next=5,_wepy2.default.showModal({title:"提示",content:"确定删除此公告?"});case 5:if(a=e.sent,a.confirm){e.next=8;break}return e.abrupt("return");case 8:return e.prev=8,_wepy2.default.showLoading({title:"删除中...",mask:!0}),e.next=12,(0,_request2.default)({url:_config.api.announcement.delete.url,data:{announcement_id:r}});case 12:return(0,_clientUtil.hideLoading)(),_wepy2.default.showToast({title:"删除成功",icon:"success",duration:1500,mask:!0}),e.next=16,(0,_clientUtil.setStorageSync)("ANNOUNCEMENT_LIST_NEED_REFRESH",!0);case 16:return e.next=18,(0,_delay2.default)(1500);case 18:_wepy2.default.navigateBack(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),_wepy2.default.showModal({title:"提示",content:e.t0.message||"删除失败",showCancel:!1});case 24:case"end":return e.stop()}},e,this,[[8,21]])}));return e}()},a=n,_possibleConstructorReturn(r,a)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.announcement_id=t.announcement_id,this.$apply();case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"onRoute",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData();case 2:(0,_showVipRenewalIfNearExpired2.default)(this);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData();case 2:return e.next=4,_wepy2.default.stopPullDownRefresh();case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShareAppMessage",value:function(){var e=this.user,t=this.announcement_id;return{title:(_wepy2.default.$instance.onShareAppMessage().nickname||"我")+"分享了一个班级公告",path:"/pages/announcement?announcement_id="+t+"&suid="+(e&&e.uid||"")}}},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 2:return e.prev=2,e.next=5,_wepy2.default.$instance.logined();case 5:return t=e.sent,n=t.user,this.user=n,e.next=10,this.methods.fetchAnnouncement(this.announcement_id);case 10:if(!this.announcement){e.next=18;break}return e.next=13,this.methods.getOrFetchGroup(this.announcement.gid);case 13:this.visits=(this.announcement.visits||[]).map(function(e){return _extends({},e,{firstDate:(0,_dateUtil.getDatetimeStr)(e.created_at)})}),this.images=(this.announcement.images||[]).map(function(e){return{isCloud:e.startsWith(_config.CLOUD_HEADER),path:e}}),this.$apply(),e.next=19;break;case 18:throw new Error("加载公告出错");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),_wepy2.default.showModal({title:"提示",content:e.t0.message||"加载失败",showCancel:!1});case 24:(0,_clientUtil.hideLoading)();case 25:case"end":return e.stop()}},e,this,[[2,21]])}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(AnnouncementPage,"pages/announcement")); 
 			}); 	require("pages/announcement.js");
 		__wxRoute = 'pages/wish_list';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/wish_list.js';	define("pages/wish_list.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,a){try{var o=t[i](a),u=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_upload=require("./../utils/upload.js"),_upload2=_interopRequireDefault(_upload),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_clientUtil=require("./../utils/clientUtil.js"),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_group=require("./../mixins/group.js"),_group2=_interopRequireDefault(_group),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_constances=require("./../utils/constances.js"),WishList=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}}))(_class=function(e){function t(){var e,r,n,i;_classCallCheck(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.config={navigationBarTitleText:"拼堆购物单",enablePullDownRefresh:!0},n.mixins=[_group2.default],n.data={gid:null,list:[[],[]]},n.methods={toWishList:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:wx.navigateToMiniProgram({appId:_constances.WISH_LIST_APPID,path:"pages/recommend/index",envVersion:"trial"});case 1:case"end":return e.stop()}},e,this)}));return e}(),toWishListDetail:function(){function e(e,r){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:wx.navigateToMiniProgram({appId:_constances.WISH_LIST_APPID,path:"pages/wish_list/index?wish_list_id="+t,envVersion:"develop"});case 1:case"end":return e.stop()}},e,this)}));return e}()},i=r,_possibleConstructorReturn(n,i)}return _inherits(t,e),_createClass(t,[{key:"onShow",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r=t.gid;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gid=r,this.$apply(),e.next=4,this.refreshData();case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"onPullDownRefresh",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshData();case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"getList",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_request2.default)({url:_config.pxxApi.wishList.list.url,method:"GET",data:t?{zyb_gid:t,pageSize:999}:{pageSize:999}});case 2:if(r=e.sent,n=r.data,n.ok){e.next=6;break}throw new Error(n.error||"获取购物清单列表出错");case 6:this.list[t?0:1]=n.data.list;case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"refreshData",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.gid,e.prev=1,e.next=4,_wepy2.default.showLoading({title:"加载中...",mask:!0});case 4:return e.next=6,this.getList();case 6:return e.next=8,this.getList(this.gid);case 8:(0,_clientUtil.hideLoading)(),e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(1),(0,_clientUtil.hideLoading)(),e.next=16,_wepy2.default.showModal({title:"提示",content:e.t0.message||"获取购物清单列表出错",showCancel:!1});case 16:return e.next=18,_wepy2.default.navigateBack();case 18:return e.next=20,_wepy2.default.stopPullDownRefresh();case 20:this.$apply();case 21:case"end":return e.stop()}},e,this,[[1,11]])}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(WishList,"pages/wish_list")); 
 			}); 	require("pages/wish_list.js");
 		__wxRoute = 'pages/success';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/success.js';	define("pages/success.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,s){try{var a=t[i](s),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_avatar=require("./../utils/avatar.js"),_avatar2=_interopRequireDefault(_avatar),_cdnurl=require("./../utils/cdnurl.js"),_cdnurl2=_interopRequireDefault(_cdnurl),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),_advertisement=require("./../components/advertisement.js"),_advertisement2=_interopRequireDefault(_advertisement),_shouldShowAd=require("./../utils/shouldShowAd.js"),_shouldShowAd2=_interopRequireDefault(_shouldShowAd),_createInterstitialAd=require("./../utils/createInterstitialAd.js"),_createInterstitialAd2=_interopRequireDefault(_createInterstitialAd),_actions=require("./../store/actions/index.js"),SuccessPage=(_dec=(0,_wepyRedux.connect)({user:function(e){return e.user.detail||null},group:function(e){return e.group.detail||null},adConfigs:function(e){return e.base.adConfigs}},{getOrFetchGroup:_actions.getOrFetchGroup}))(_class=function(e){function t(){var e,r,n,i;_classCallCheck(this,t);for(var s=arguments.length,a=Array(s),u=0;u<s;u++)a[u]=arguments[u];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.config={navigationBarTitleText:"作业登记簿",enablePullDownRefresh:!1},n.$repeat={},n.$props={advertisement:{class:"ad",bannerKey:"success_banner"}},n.$events={},n.components={advertisement:_advertisement2.default},n.data={type:null,hid:null,gid:null,title:"",tips:"",primaryBtnText:"",secondaryBtnText:"",showCustomAd:!1},n.computed={},n.methods={goBack:function(){return"HOMEWORK_ANSWERED"===this.type?_wepy2.default.navigateBack():"GROUP_JOINED"===this.type?_wepy2.default.reLaunch({url:"index?gid="+this.gid}):void 0}},i=r,_possibleConstructorReturn(n,i)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r=t.hid,n=t.gid,i=t.type;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"HOMEWORK_ANSWERED"===i?(this.title="提交成功",this.tips="",this.primaryBtnText="分享",this.secondaryBtnText="返回"):"GROUP_JOINED"===i&&(this.title="创建成功",this.tips="赶紧发送到班级微信群, 让大家看看吧!",this.primaryBtnText="分享",this.secondaryBtnText="查看班级"),this.type=i,this.hid=r,this.gid=n,this.$apply();case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"onReady",value:function(){var e=this.group,t=e.created_at,r=e.partner;"HOMEWORK_ANSWERED"===this.type&&(0,_shouldShowAd2.default)(t,r&&r.type)&&!this.checkIsVip()&&(this.showCustomAd=!0,(0,_createInterstitialAd2.default)("success_interstitial"))}},{key:"checkIsVip",value:function(){var e=this.user,t=this.group||{},r=t.vips,n=void 0===r?[]:r,i=t.vip_expired_at;console.log(e,n,i);var s=e?n.find(function(t){return t.uid===e.uid}):null,a=i&&new Date(i)>=new Date;return s||a}},{key:"onShareAppMessage",value:function(){var e=this.group,t=_wepy2.default.$instance.onShareAppMessage();return"GROUP_JOINED"===this.type?{title:t.nickname+" 邀请您加入 "+e.name,imageUrl:"../images/share/sharing.png",path:"/pages/index?suid="+t.suid+"&gid="+this.gid}:{title:"快看看'作业登记簿'啦!",path:"/pages/homework?hid="+this.hid+"&suid="+t.suid+"&gid="+e.gid}}}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(SuccessPage,"pages/success")); 
 			}); 	require("pages/success.js");
 		__wxRoute = 'pages/vip_success';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/vip_success.js';	define("pages/vip_success.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_dateformat=require("./../utils/dateformat.js"),_dateformat2=_interopRequireDefault(_dateformat),_dateUtil=require("./../utils/dateUtil.js"),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),VipSuccessPage=(_dec=(0,_wepyRedux.connect)({group:function(e){return e.group.detail||null}}))(_class=function(e){function t(){var e,r,n,o;_classCallCheck(this,t);for(var u=arguments.length,a=Array(u),i=0;i<u;i++)a[i]=arguments[i];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.config={navigationBarTitleText:"VIP",enablePullDownRefresh:!1,usingComponents:{"follow-modal":"/wx_components/follow_modal/index"}},n.data={user:null},n.computed={myVip:function(){var e=this.group||{},t=e.vips,r=void 0===t?[]:t,n=this.user;return n&&r.find(function(e){return e.uid===n.uid})}},n.methods={showFollowModal:function(){this.toggleFollowModal(!0)},onFollowModalHide:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.getStorageSync("NEED_REDIRECT_TO");case 2:if(!(t=e.sent)){e.next=7;break}return e.next=6,_wepy2.default.removeStorageSync("NEED_REDIRECT_TO");case 6:_wepy2.default.redirectTo({url:t});case 7:case"end":return e.stop()}},e,this)}));return e}(),goBack:function(){return _wepy2.default.navigateBack()}},o=r,_possibleConstructorReturn(n,o)}return _inherits(t,e),_createClass(t,[{key:"toggleFollowModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$wxpage.selectComponent("#follow-modal");if(t)return e?t.show():t.hide()}},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.$instance.onLoad(t);case 2:return e.next=4,_wepy2.default.$instance.logined();case 4:r=e.sent,n=r.user,this.user=n,this.$apply();case 8:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(VipSuccessPage,"pages/vip_success")); 
 			}); 	require("pages/vip_success.js");
 		__wxRoute = 'pages/rating_template';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/rating_template.js';	define("pages/rating_template.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_interfaces=require("./../interfaces/index.js"),_interfaces2=_interopRequireDefault(_interfaces),_config=require("./../config.js"),_request=require("./../utils/request.js"),_request2=_interopRequireDefault(_request),_delay=require("./../utils/delay.js"),_delay2=_interopRequireDefault(_delay),_clientUtil=require("./../utils/clientUtil.js"),_base_modal=require("./../components/base_modal.js"),_base_modal2=_interopRequireDefault(_base_modal),_actions=require("./../store/actions/index.js"),_wepyRedux=require("./../npm/wepy-redux/lib/index.js"),RatingTemplate=(_dec=(0,_wepyRedux.connect)({templates:function(e){return e.template.list||[]}},{createTemplate:_actions.createTemplate,updateTemplate:_actions.updateTemplate,deleteTemplate:_actions.deleteTemplate,fetchTemplateList:_actions.fetchTemplateList}))(_class=function(e){function t(){var e,r,n,a;_classCallCheck(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.config={navigationBarBackgroundColor:"#fff",enablePullDownRefresh:!1,navigationBarTitleText:"评语"},n.$repeat={},n.$props={editmodal:{showClose:"true",showLogo:"{{ false }}",className:"edit-modal__container","xmlns:v-on":""}},n.$events={editmodal:{"v-on:onHide":"hideEditModal"}},n.components={editmodal:_base_modal2.default},n.data={remark:"",content:"",isEditing:!1,showEditModal:!1,remarkFocus:!0,remarkCursor:0},n.methods={bindRemarkFocus:function(e){this.remarkFocus=!0,this.remarkCursor=this.remark.length},bindRemarkBlur:function(e){console.log(e),this.remarkCursor=e.detail.cursor,this.remarkFocus=!1},bindRemarkChange:function(e){console.log(e.detail.cursor,e.detail.value.length),this.remark=e.detail.value&&e.detail.value.trim(),this.remarkCursor=null==e.detail.cursor?e.detail.value.length:e.detail.cursor},bindContentChange:function(e){this.content=e.detail.value&&e.detail.value.trim()},copyToRemark:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_delay2.default)(300);case 2:if(!this.isEditing){e.next=4;break}return e.abrupt("return");case 4:r=this.remark||"",n=this.remarkCursor||r.length,n>=r.length?r=""+this.remark+t:(a=r.split(""),a.splice(n,0,t),r=a.join("")),this.remark=r.slice(0,1e3),this.remarkCursor+=t.length,this.remarkFocus=!0,this.$apply();case 11:case"end":return e.stop()}},e,this)}));return e}(),changeIsEditing:function(){this.isEditing=!this.isEditing},deleteRatingTemplate:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _wepy2.default.showLoading({title:"删除中...",mask:!0}),e.next=3,this.methods.deleteTemplate(t);case 3:(0,_clientUtil.hideLoading)();case 4:case"end":return e.stop()}},e,this)}));return e}(),toggleEditModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.showEditModal=e,this.$invoke("editmodal",e?"show":"hide")},hideEditModal:function(){this.showEditModal&&(this.showEditModal=!1)},saveTemplate:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.methods.toggleEditModal.call(this,!1),e.next=3,(0,_delay2.default)(300);case 3:if((r=this.content)&&!(r.length>20)){e.next=6;break}return e.abrupt("return",_wepy2.default.showModal({title:"提示",content:"模板内容需1-20个字符",showCancel:!1}));case 6:return _wepy2.default.showLoading({title:"提交中...",mask:!0}),e.next=9,this.methods.createTemplate(r);case 9:(0,_clientUtil.hideLoading)(),this.content="",this.$apply();case 12:case"end":return e.stop()}},e,this)}));return e}(),save:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_delay2.default)(300);case 2:return e.next=4,(0,_clientUtil.setStorageSync)("RATING_TEMPLATE_CONTENT",this.remark);case 4:_wepy2.default.navigateBack();case 5:case"end":return e.stop()}},e,this)}));return e}()},a=r,_possibleConstructorReturn(n,a)}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.remark=t.remark,this.$apply(),_wepy2.default.showLoading({title:"加载中...",mask:!0}),e.next=5,this.methods.fetchTemplateList();case 5:(0,_clientUtil.hideLoading)();case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.page))||_class;Page(require("./../npm/wepy/lib/wepy.js").default.$createPage(RatingTemplate,"pages/rating_template")); 
 			}); 	require("pages/rating_template.js");
 	